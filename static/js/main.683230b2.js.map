{"version":3,"file":"static/js/main.683230b2.js","mappings":"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,IAAK,iBACL,IAAK,YACL,IAAK,cACL,IAAK,eACL,IAAK,aACL,IAAK,aACL,IAAK,gBACL,IAAK,eACL,IAAK,kBACL,IAAK,gBACL,IAAK,qBACL,IAAK,WACL,IAAK,OACL,IAAK,gBACL,IAAK,kBACL,IAAK,aACL,IAAK,aACL,IAAK,eACL,IAAK,iBACL,IAAK,cACL,IAAK,iBACL,IAAK,qBACL,IAAK,YACL,IAAK,oBACL,IAAK,WACL,IAAK,cACL,IAAK,iBACL,IAAK,WACL,IAAK,eACL,IAAK,gBACL,IAAK,gBACL,IAAK,mBACL,IAAK,iBACL,IAAK,eACL,IAAK,cACL,IAAK,YACL,IAAK,kBACL,IAAK,oBACL,IAAK,iBACL,IAAK,YACL,IAAK,aACL,IAAK,oBACL,IAAK,aACL,IAAK,eACL,IAAK,iBACL,IAAK,kBACL,IAAK,eACL,IAAK,gBACL,IAAK,gBACL,IAAK,qBACL,IAAK,mBACL,IAAK,qBACL,IAAK,yBACL,IAAK,cACL,IAAK,aACL,IAAK,mBACL,IAAK,sBACL,IAAK,eACL,IAAK,eACL,IAAK,gBACL,IAAK,cACL,IAAK,kBACL,IAAK,cACL,IAAK,gBACL,IAAK,kBACL,IAAK,2BACL,IAAK,eACL,IAAK,iBACL,IAAK,aACL,IAAK,iBACL,IAAK,YACL,IAAK,mBACL,IAAK,cACL,IAAK,wBACL,IAAK,kBACL,IAAK,qBACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACL,IAAK,qBACL,IAAK,aACL,IAAK,iBACL,IAAK,eACL,IAAK,mBACL,IAAK,aACL,IAAK,eACL,IAAK,kBACL,IAAK,gBACL,IAAK,gBACL,IAAK,kBACL,IAAK,kBACL,IAAK,gBACL,IAAK,iBACL,IAAK,uBACL,IAAK,0BACL,IAAK,iBACL,IAAK,eACL,IAAK,YACL,IAAK,cACL,IAAK,aACL,IAAK,iBACL,IAAK,kBACL,IAAK,kBACL,IAAK,gBACL,IAAK,kBACL,IAAK,gBACL,IAAK,gBACL,IAAK,qBACL,IAAK,cACL,IAAK,mBACL,IAAK,uBACL,IAAK,mBACL,IAAK,kBACL,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L,IAAK,OACL,IAAK,UACL,IAAK,WACL,IAAK,cACL,IAAK,iBACL,IAAK,gBACL,IAAK,iBACL,IAAK,WACL,IAAK,cACL,IAAK,iBACL,IAAK,iBACL,IAAK,aACL,IAAK,QACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,aACL,IAAK,MACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,WACL,IAAK,UACL,IAAK,OACL,IAAK,UACL,IAAK,YACL,IAAK,UACL,IAAK,OACL,IAAK,UACL,IAAK,UACL,IAAK,OACL,IAAK,WACL,IAAK,gBACL,IAAK,aACL,IAAK,eACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,YACL,IAAK,UACL,IAAK,aACL,IAAK,aACL,IAAK,WACL,IAAK,QACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,OACL,IAAK,UACL,IAAK,YACL,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,MACL,IAAK,OACL,IAAK,UACL,IAAK,SACL,IAAK,WACL,IAAK,SACL,IAAK,aACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,gBACL,IAAK,WACL,IAAK,aACL,IAAK,cACL,IAAK,gBACL,IAAK,kBACL,IAAK,gBACL,IAAK,WACL,IAAK,OACL,IAAK,QACL,IAAK,aACL,IAAK,KACL,IAAK,QACL,IAAK,SACL,IAAK,YACL,IAAK,cACL,IAAK,iBACL,IAAK,OACL,IAAK,gBACL,IAAK,WACL,IAAK,cACL,IAAK,WACL,IAAK,iBACL,IAAK,aACL,IAAK,YACL,IAAK,eACL,IAAK,eACL,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,eACL,IAAK,SACL,IAAK,WACL,IAAK,UACL,IAAK,UACL,IAAK,YACL,IAAK,UACL,IAAK,SACL,IAAK,SACL,IAAK,aACL,IAAK,YACL,IAAK,OACL,IAAK,YACL,IAAK,QACL,IAAK,OACL,IAAK,SACL,IAAK,YACL,IAAK,QACL,IAAK,YACL,IAAK,WACL,IAAK,UACL,IAAK,cACL,IAAK,cACL,IAAK,SACL,IAAK,eACL,IAAK,WACL,IAAK,YACL,IAAK,UACL,IAAK,WACL,IAAK,cACL,IAAK,MACL,IAAK,SACL,IAAK,UACL,IAAK,QACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,SACL,IAAK,QACL,IAAK,WACL,IAAK,QACL,IAAK,YACL,IAAK,UACL,IAAK,MACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,WACL,IAAK,aACL,IAAK,cACL,IAAK,OACL,IAAK,WACL,IAAK,OACL,IAAK,gBACL,IAAK,YACL,IAAK,cACL,IAAK,QACL,IAAK,iBACL,IAAK,kBACL,IAAK,kBACL,IAAK,iBACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,UACL,IAAK,aACL,IAAK,eACL,IAAK,oBACL,IAAK,QACL,IAAK,UACL,IAAK,aACL,IAAK,eACL,IAAK,QACL,IAAK,cACL,IAAK,cACL,IAAK,WACL,IAAK,eACL,IAAK,YACL,IAAK,WACL,IAAK,WACL,IAAK,OACL,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,WACL,IAAK,gBACL,IAAK,YACL,IAAK,kBACL,IAAK,eACL,IAAK,gBACL,IAAK,mBACL,IAAK,cACL,IAAK,gBACL,IAAK,cACL,IAAK,WACL,IAAK,MACL,IAAK,YACL,IAAK,aACL,IAAK,qBACL,IAAK,mBACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,UACL,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,SACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,aACL,IAAK,cACL,IAAK,YACL,IAAK,SACL,IAAK,UACL,IAAK,QACL,IAAK,YACL,IAAK,YACL,IAAK,aACL,IAAK,SACL,IAAK,WACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,MACL,IAAK,OACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,OACL,IAAK,OACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,WACL,IAAK,OACL,IAAK,YACL,IAAK,YACL,IAAK,UACL,IAAK,aACL,IAAK,aACL,IAAK,QACL,IAAK,QACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,SACL,IAAK,WACL,IAAK,UACL,IAAK,QACL,IAAK,UACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,aACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,YACL,IAAK,YACL,IAAK,YACL,IAAK,YACL,IAAK,YACL,IAAK,cACL,IAAK,UACL,IAAK,YACL,IAAK,WACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,UACL,IAAK,cACL,IAAK,MACL,IAAK,cACL,IAAK,MACL,IAAK,aACL,IAAK,gBACL,IAAK,UACL,IAAK,eACL,IAAK,UACL,IAAK,WACL,IAAK,SACL,IAAK,YACL,IAAK,cAEHD,GAAW,CACb,EAAG,EACH,EAAG,EACH,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,MAAO,GAkCT,IAKI6E,GAAiC,qBAARtkO,IAE7B,SAASukO,GAAW/N,EAAaj/J,EAAgBizI,GAChD,IAAI9nM,EAAI,EAAGnD,EAAMi3N,EAAIn4N,OACrB,GAAGmsM,GACF,GAAG85B,GAAkB95B,EAAI9rM,IAA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","sources":["../node_modules/clsx/dist/clsx.js","../node_modules/dequal/dist/index.js","../node_modules/file-saver/src/FileSaver.js","../node_modules/react-dom/cjs/react-dom-client.production.js","../node_modules/react-dom/cjs/react-dom.production.js","../node_modules/react-dom/client.js","../node_modules/react-dom/index.js","../node_modules/react-pdftotext/dist/index.js","../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/react/cjs/react.production.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/scheduler/cjs/scheduler.production.js","../node_modules/scheduler/index.js","../node_modules/tiny-invariant/dist/tiny-invariant.cjs.js","../node_modules/warning/warning.js","../node_modules/make-cancellable-promise/dist/cjs/index.js","../node_modules/make-event-props/dist/cjs/index.js","../node_modules/merge-refs/dist/cjs/index.js","../node_modules/react-pdf/dist/cjs/Document.js","../node_modules/react-pdf/dist/cjs/DocumentContext.js","../node_modules/react-pdf/dist/cjs/LinkService.js","../node_modules/react-pdf/dist/cjs/Message.js","../node_modules/react-pdf/dist/cjs/Outline.js","../node_modules/react-pdf/dist/cjs/OutlineContext.js","../node_modules/react-pdf/dist/cjs/OutlineItem.js","../node_modules/react-pdf/dist/cjs/Page.js","../node_modules/react-pdf/dist/cjs/PageContext.js","../node_modules/react-pdf/dist/cjs/Page/AnnotationLayer.js","../node_modules/react-pdf/dist/cjs/Page/Canvas.js","../node_modules/react-pdf/dist/cjs/Page/TextLayer.js","../node_modules/react-pdf/dist/cjs/PasswordResponses.js","../node_modules/react-pdf/dist/cjs/Ref.js","../node_modules/react-pdf/dist/cjs/StructTree.js","../node_modules/react-pdf/dist/cjs/StructTreeItem.js","../node_modules/react-pdf/dist/cjs/Thumbnail.js","../node_modules/react-pdf/dist/cjs/index.js","../node_modules/react-pdf/dist/cjs/shared/constants.js","../node_modules/react-pdf/dist/cjs/shared/hooks/useCachedValue.js","../node_modules/react-pdf/dist/cjs/shared/hooks/useDocumentContext.js","../node_modules/react-pdf/dist/cjs/shared/hooks/useOutlineContext.js","../node_modules/react-pdf/dist/cjs/shared/hooks/usePageContext.js","../node_modules/react-pdf/dist/cjs/shared/hooks/useResolver.js","../node_modules/react-pdf/dist/cjs/shared/structTreeUtils.js","../node_modules/react-pdf/dist/cjs/shared/utils.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/toSetter.js","../node_modules/@babel/runtime/helpers/esm/checkPrivateRedeclaration.js","../node_modules/@babel/runtime/helpers/esm/classPrivateMethodInitSpec.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js","../node_modules/@babel/runtime/helpers/esm/assertClassBrand.js","../node_modules/@babel/runtime/helpers/esm/classPrivateGetter.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js","../pdf.js/webpack/bootstrap","../pdf.js/webpack/runtime/define property getters","../pdf.js/webpack/runtime/hasOwnProperty shorthand","../pdf.js/src/shared/util.js","../pdf.js/src/display/display_utils.js","../pdf.js/src/display/editor/toolbar.js","../pdf.js/src/display/editor/tools.js","../pdf.js/src/display/editor/alt_text.js","../pdf.js/src/display/editor/editor.js","../pdf.js/src/shared/murmurhash3.js","../pdf.js/src/display/annotation_storage.js","../pdf.js/src/display/font_loader.js","../pdf.js/src/display/canvas_factory.js","../pdf.js/src/display/cmap_reader_factory.js","../pdf.js/src/display/filter_factory.js","../pdf.js/src/display/standard_fontdata_factory.js","../pdf.js/src/display/node_utils.js","../pdf.js/src/display/pattern_helper.js","../pdf.js/src/shared/image_utils.js","../pdf.js/src/display/canvas.js","../pdf.js/src/display/worker_options.js","../pdf.js/src/shared/message_handler.js","../pdf.js/src/display/metadata.js","../pdf.js/src/display/optional_content_config.js","../pdf.js/src/display/transport_stream.js","../pdf.js/src/display/network_utils.js","../pdf.js/src/display/content_disposition.js","../pdf.js/src/display/fetch_stream.js","../pdf.js/src/display/network.js","../pdf.js/src/display/node_stream.js","../pdf.js/src/display/text_layer.js","../pdf.js/src/display/xfa_text.js","../pdf.js/src/display/api.js","../pdf.js/src/shared/scripting_utils.js","../pdf.js/src/display/svg_factory.js","../pdf.js/src/display/xfa_layer.js","../pdf.js/src/display/annotation_layer.js","../pdf.js/src/display/editor/freetext.js","../pdf.js/src/display/editor/drawers/outline.js","../pdf.js/src/display/editor/drawers/freedraw.js","../pdf.js/src/display/editor/drawers/highlight.js","../pdf.js/src/display/editor/color_picker.js","../pdf.js/src/display/editor/highlight.js","../pdf.js/src/display/editor/ink.js","../pdf.js/src/display/editor/stamp.js","../pdf.js/src/display/editor/annotation_editor_layer.js","../pdf.js/src/display/draw_layer.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../node_modules/xlsx/xlsx.mjs","PDFtoXLS/PDFtoXLSComponent.js","PDFtoXLS/PDFtoXLSController.js","SiteList/SiteListComponent.js","App.js","index.js"],"sourcesContent":["function r(e){var o,t,f=\"\";if(\"string\"==typeof e||\"number\"==typeof e)f+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var n=e.length;for(o=0;o<n;o++)e[o]&&(t=r(e[o]))&&(f&&(f+=\" \"),f+=t)}else for(t in e)e[t]&&(f&&(f+=\" \"),f+=t);return f}function e(){for(var e,o,t=0,f=\"\",n=arguments.length;t<n;t++)(e=arguments[t])&&(o=r(e))&&(f&&(f+=\" \"),f+=o);return f}module.exports=e,module.exports.clsx=e;","var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nfunction dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n\nexports.dequal = dequal;","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nvar REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nSymbol.for(\"react.debug_trace_mode\");\nvar REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PORTAL_TYPE:\n      return \"Portal\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  assign = Object.assign,\n  prefix,\n  suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$0) {\n                control = x$0;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$1) {\n              control = x$1;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return (fiber = describeNativeComponentFrame(fiber.type, !1)), fiber;\n    case 11:\n      return (\n        (fiber = describeNativeComponentFrame(fiber.type.render, !1)), fiber\n      );\n    case 1:\n      return (fiber = describeNativeComponentFrame(fiber.type, !0)), fiber;\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$2 = parentA.child; child$2; ) {\n        if (child$2 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$2 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$2 = child$2.sibling;\n      }\n      if (!didFindChild) {\n        for (child$2 = parentB.child; child$2; ) {\n          if (child$2 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$2 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$2 = child$2.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  fiber = nextRootInstance.nodeType;\n  switch (fiber) {\n    case 9:\n    case 11:\n      nextRootInstance = (nextRootInstance = nextRootInstance.documentElement)\n        ? (nextRootInstance = nextRootInstance.namespaceURI)\n          ? getOwnHostContext(nextRootInstance)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = 8 === fiber ? nextRootInstance.parentNode : nextRootInstance),\n        (nextRootInstance = fiber.tagName),\n        (fiber = fiber.namespaceURI))\n      )\n        (fiber = getOwnHostContext(fiber)),\n          (nextRootInstance = getChildHostContextProd(fiber, nextRootInstance));\n      else\n        switch (nextRootInstance) {\n          case \"svg\":\n            nextRootInstance = 1;\n            break;\n          case \"math\":\n            nextRootInstance = 2;\n            break;\n          default:\n            nextRootInstance = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, nextRootInstance);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction onCommitRoot(root) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n    try {\n      injectedHook.onCommitFiberRoot(\n        rendererID,\n        root,\n        void 0,\n        128 === (root.current.flags & 128)\n      );\n    } catch (err) {}\n}\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 128,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194176;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes,\n    warmLanes = root.warmLanes;\n  root = 0 !== root.finishedLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : root ||\n              ((warmLanes = nonIdlePendingLanes & ~warmLanes),\n              0 !== warmLanes &&\n                (nextLanes = getHighestPriorityLanes(warmLanes)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : root ||\n            ((warmLanes = pendingLanes & ~warmLanes),\n            0 !== warmLanes &&\n              (nextLanes = getHighestPriorityLanes(warmLanes))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (warmLanes = wipLanes & -wipLanes),\n        suspendedLanes >= warmLanes ||\n          (32 === suspendedLanes && 0 !== (warmLanes & 4194176)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 64:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$7 = 31 - clz32(remainingLanes),\n      lane = 1 << index$7;\n    entanglements[index$7] = 0;\n    expirationTimes[index$7] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$7];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$7] = null, index$7 = 0;\n        index$7 < hiddenUpdatesForLane.length;\n        index$7++\n      ) {\n        var update = hiddenUpdatesForLane[index$7];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194218);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$8 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$8;\n    (lane & entangledLanes) | (root[index$8] & entangledLanes) &&\n      (root[index$8] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$10 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$10 && \"aria-\" !== prefix$10) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$283;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_418 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_418) {\n      var element$jscomp$inline_419 = document.createElement(\"div\");\n      element$jscomp$inline_419.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_418 =\n        \"function\" === typeof element$jscomp$inline_419.oninput;\n    }\n    JSCompiler_inline_result$jscomp$283 = isSupported$jscomp$inline_418;\n  } else JSCompiler_inline_result$jscomp$283 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$283 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nfunction restoreSelection(priorSelectionInformation, containerInfo) {\n  var curFocusedElem = getActiveElementDeep(containerInfo);\n  containerInfo = priorSelectionInformation.focusedElem;\n  var priorSelectionRange = priorSelectionInformation.selectionRange;\n  if (\n    curFocusedElem !== containerInfo &&\n    containerInfo &&\n    containerInfo.ownerDocument &&\n    containsNode(containerInfo.ownerDocument.documentElement, containerInfo)\n  ) {\n    if (null !== priorSelectionRange && hasSelectionCapabilities(containerInfo))\n      if (\n        ((priorSelectionInformation = priorSelectionRange.start),\n        (curFocusedElem = priorSelectionRange.end),\n        void 0 === curFocusedElem &&\n          (curFocusedElem = priorSelectionInformation),\n        \"selectionStart\" in containerInfo)\n      )\n        (containerInfo.selectionStart = priorSelectionInformation),\n          (containerInfo.selectionEnd = Math.min(\n            curFocusedElem,\n            containerInfo.value.length\n          ));\n      else if (\n        ((curFocusedElem =\n          ((priorSelectionInformation =\n            containerInfo.ownerDocument || document) &&\n            priorSelectionInformation.defaultView) ||\n          window),\n        curFocusedElem.getSelection)\n      ) {\n        curFocusedElem = curFocusedElem.getSelection();\n        var length = containerInfo.textContent.length,\n          start = Math.min(priorSelectionRange.start, length);\n        priorSelectionRange =\n          void 0 === priorSelectionRange.end\n            ? start\n            : Math.min(priorSelectionRange.end, length);\n        !curFocusedElem.extend &&\n          start > priorSelectionRange &&\n          ((length = priorSelectionRange),\n          (priorSelectionRange = start),\n          (start = length));\n        length = getNodeForCharacterOffset(containerInfo, start);\n        var endMarker = getNodeForCharacterOffset(\n          containerInfo,\n          priorSelectionRange\n        );\n        length &&\n          endMarker &&\n          (1 !== curFocusedElem.rangeCount ||\n            curFocusedElem.anchorNode !== length.node ||\n            curFocusedElem.anchorOffset !== length.offset ||\n            curFocusedElem.focusNode !== endMarker.node ||\n            curFocusedElem.focusOffset !== endMarker.offset) &&\n          ((priorSelectionInformation =\n            priorSelectionInformation.createRange()),\n          priorSelectionInformation.setStart(length.node, length.offset),\n          curFocusedElem.removeAllRanges(),\n          start > priorSelectionRange\n            ? (curFocusedElem.addRange(priorSelectionInformation),\n              curFocusedElem.extend(endMarker.node, endMarker.offset))\n            : (priorSelectionInformation.setEnd(\n                endMarker.node,\n                endMarker.offset\n              ),\n              curFocusedElem.addRange(priorSelectionInformation)));\n      }\n    priorSelectionInformation = [];\n    for (\n      curFocusedElem = containerInfo;\n      (curFocusedElem = curFocusedElem.parentNode);\n\n    )\n      1 === curFocusedElem.nodeType &&\n        priorSelectionInformation.push({\n          element: curFocusedElem,\n          left: curFocusedElem.scrollLeft,\n          top: curFocusedElem.scrollTop\n        });\n    \"function\" === typeof containerInfo.focus && containerInfo.focus();\n    for (\n      containerInfo = 0;\n      containerInfo < priorSelectionInformation.length;\n      containerInfo++\n    )\n      (curFocusedElem = priorSelectionInformation[containerInfo]),\n        (curFocusedElem.element.scrollLeft = curFocusedElem.left),\n        (curFocusedElem.element.scrollTop = curFocusedElem.top);\n  }\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  isHidden &&\n    null !== update &&\n    3 === sourceFiber.tag &&\n    ((parent = sourceFiber.stateNode),\n    (isHidden = 31 - clz32(lane)),\n    (parent = parent.hiddenUpdates),\n    (sourceFiber = parent[isHidden]),\n    null === sourceFiber\n      ? (parent[isHidden] = [update])\n      : sourceFiber.push(update),\n    (update.lane = lane | 536870912));\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {},\n  CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 3:\n      case 27:\n        rootOrSingletonContext = !0;\n        return;\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var shouldClear = !1,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {\n    if ((JSCompiler_temp = 5 === fiber.tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && (shouldClear = !0);\n  shouldClear && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === fiber.tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (shouldClear = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === shouldClear) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            shouldClear--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              shouldClear++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    nextHydratableInstance = hydrationParentFiber\n      ? getNextHydratable(fiber.stateNode.nextSibling)\n      : null;\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      thenableState = thenable.reason;\n      if (thenableState === SuspenseException)\n        throw Error(formatProdErrorMessage(483));\n      throw thenableState;\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          thenableState = thenable.reason;\n          if (thenableState === SuspenseException)\n            throw Error(formatProdErrorMessage(483));\n          throw thenableState;\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nvar thenableState$1 = null,\n  thenableIndexCounter$1 = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  return trackUsedThenable(thenableState$1, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 33554434), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 33554434;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 33554434);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter$1 = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState$1 = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state || \"$?\" === state.data || \"$!\" === state.data)\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber$1 = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter = 0,\n  thenableState = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber$1 = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter = 0;\n  thenableState = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber$1 = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState = null);\n    thenableIndexCounter = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber$1.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter = localIdCounter = 0;\n  thenableState = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber$1.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber$1.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber$1.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nvar createFunctionComponentUpdateQueue;\ncreateFunctionComponentUpdateQueue = function () {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n};\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  thenable = trackUsedThenable(thenableState, thenable, index);\n  index = currentlyRenderingFiber$1;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber$1.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber$1.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$54 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$54 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$54 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber$1.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber$1.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$54 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber$1,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [\n    subscribe\n  ]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 60) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber$1.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber$1.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$60) {\n      onActionError(actionQueue, node, error$60);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber$1;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  currentStateHook =\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n      ? useThenable(currentStateHook)\n      : currentStateHook;\n  var actionQueueHook = updateWorkInProgressHook(),\n    actionQueue = actionQueueHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== actionQueueHook.memoizedState &&\n    ((currentlyRenderingFiber$1.flags |= 2048),\n    pushEffect(\n      9,\n      actionStateActionEffect.bind(null, actionQueue, action),\n      { destroy: void 0 },\n      null\n    ));\n  return [currentStateHook, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushEffect(tag, create, inst, deps) {\n  tag = { tag: tag, create: create, inst: inst, deps: deps, next: null };\n  create = currentlyRenderingFiber$1.updateQueue;\n  null === create &&\n    ((create = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = create));\n  inst = create.lastEffect;\n  null === inst\n    ? (create.lastEffect = tag.next = tag)\n    : ((deps = inst.next),\n      (inst.next = tag),\n      (tag.next = deps),\n      (create.lastEffect = tag));\n  return tag;\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = mountWorkInProgressHook();\n  currentlyRenderingFiber$1.flags |= fiberFlags;\n  hook.memoizedState = pushEffect(\n    1 | hookFlags,\n    create,\n    { destroy: void 0 },\n    void 0 === deps ? null : deps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushEffect(hookFlags, create, inst, deps))\n    : ((currentlyRenderingFiber$1.flags |= fiberFlags),\n      (hook.memoizedState = pushEffect(1 | hookFlags, create, inst, deps)));\n}\nfunction mountEffect(create, deps) {\n  mountEffectImpl(8390656, 8, create, deps);\n}\nfunction updateEffect(create, deps) {\n  updateEffectImpl(2048, 8, create, deps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$63 = enqueueUpdate(provider, fiber, lane);\n        null !== root$63 &&\n          (scheduleUpdateOnFiber(root$63, provider, lane),\n          entangleTransitions(root$63, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber$1 ||\n    (null !== alternate && alternate === currentlyRenderingFiber$1)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194176)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n  readContext: readContext,\n  use: use,\n  useCallback: throwInvalidHookError,\n  useContext: throwInvalidHookError,\n  useEffect: throwInvalidHookError,\n  useImperativeHandle: throwInvalidHookError,\n  useLayoutEffect: throwInvalidHookError,\n  useInsertionEffect: throwInvalidHookError,\n  useMemo: throwInvalidHookError,\n  useReducer: throwInvalidHookError,\n  useRef: throwInvalidHookError,\n  useState: throwInvalidHookError,\n  useDebugValue: throwInvalidHookError,\n  useDeferredValue: throwInvalidHookError,\n  useTransition: throwInvalidHookError,\n  useSyncExternalStore: throwInvalidHookError,\n  useId: throwInvalidHookError\n};\nContextOnlyDispatcher.useCacheRefresh = throwInvalidHookError;\nContextOnlyDispatcher.useMemoCache = throwInvalidHookError;\nContextOnlyDispatcher.useHostTransitionStatus = throwInvalidHookError;\nContextOnlyDispatcher.useFormState = throwInvalidHookError;\nContextOnlyDispatcher.useActionState = throwInvalidHookError;\nContextOnlyDispatcher.useOptimistic = throwInvalidHookError;\nvar HooksDispatcherOnMount = {\n  readContext: readContext,\n  use: use,\n  useCallback: function (callback, deps) {\n    mountWorkInProgressHook().memoizedState = [\n      callback,\n      void 0 === deps ? null : deps\n    ];\n    return callback;\n  },\n  useContext: readContext,\n  useEffect: mountEffect,\n  useImperativeHandle: function (ref, create, deps) {\n    deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n    mountEffectImpl(\n      4194308,\n      4,\n      imperativeHandleEffect.bind(null, create, ref),\n      deps\n    );\n  },\n  useLayoutEffect: function (create, deps) {\n    return mountEffectImpl(4194308, 4, create, deps);\n  },\n  useInsertionEffect: function (create, deps) {\n    mountEffectImpl(4, 2, create, deps);\n  },\n  useMemo: function (nextCreate, deps) {\n    var hook = mountWorkInProgressHook();\n    deps = void 0 === deps ? null : deps;\n    var nextValue = nextCreate();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        nextCreate();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n    hook.memoizedState = [nextValue, deps];\n    return nextValue;\n  },\n  useReducer: function (reducer, initialArg, init) {\n    var hook = mountWorkInProgressHook();\n    if (void 0 !== init) {\n      var initialState = init(initialArg);\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          init(initialArg);\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n    } else initialState = initialArg;\n    hook.memoizedState = hook.baseState = initialState;\n    reducer = {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: reducer,\n      lastRenderedState: initialState\n    };\n    hook.queue = reducer;\n    reducer = reducer.dispatch = dispatchReducerAction.bind(\n      null,\n      currentlyRenderingFiber$1,\n      reducer\n    );\n    return [hook.memoizedState, reducer];\n  },\n  useRef: function (initialValue) {\n    var hook = mountWorkInProgressHook();\n    initialValue = { current: initialValue };\n    return (hook.memoizedState = initialValue);\n  },\n  useState: function (initialState) {\n    initialState = mountStateImpl(initialState);\n    var queue = initialState.queue,\n      dispatch = dispatchSetState.bind(null, currentlyRenderingFiber$1, queue);\n    queue.dispatch = dispatch;\n    return [initialState.memoizedState, dispatch];\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = mountWorkInProgressHook();\n    return mountDeferredValueImpl(hook, value, initialValue);\n  },\n  useTransition: function () {\n    var stateHook = mountStateImpl(!1);\n    stateHook = startTransition.bind(\n      null,\n      currentlyRenderingFiber$1,\n      stateHook.queue,\n      !0,\n      !1\n    );\n    mountWorkInProgressHook().memoizedState = stateHook;\n    return [!1, stateHook];\n  },\n  useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n    var fiber = currentlyRenderingFiber$1,\n      hook = mountWorkInProgressHook();\n    if (isHydrating) {\n      if (void 0 === getServerSnapshot)\n        throw Error(formatProdErrorMessage(407));\n      getServerSnapshot = getServerSnapshot();\n    } else {\n      getServerSnapshot = getSnapshot();\n      if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n      0 !== (workInProgressRootRenderLanes & 60) ||\n        pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n    }\n    hook.memoizedState = getServerSnapshot;\n    var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n    hook.queue = inst;\n    mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n      subscribe\n    ]);\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        inst,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    return getServerSnapshot;\n  },\n  useId: function () {\n    var hook = mountWorkInProgressHook(),\n      identifierPrefix = workInProgressRoot.identifierPrefix;\n    if (isHydrating) {\n      var JSCompiler_inline_result = treeContextOverflow;\n      var idWithLeadingBit = treeContextId;\n      JSCompiler_inline_result =\n        (\n          idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n        ).toString(32) + JSCompiler_inline_result;\n      identifierPrefix =\n        \":\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n      JSCompiler_inline_result = localIdCounter++;\n      0 < JSCompiler_inline_result &&\n        (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n      identifierPrefix += \":\";\n    } else\n      (JSCompiler_inline_result = globalClientIdCounter++),\n        (identifierPrefix =\n          \":\" +\n          identifierPrefix +\n          \"r\" +\n          JSCompiler_inline_result.toString(32) +\n          \":\");\n    return (hook.memoizedState = identifierPrefix);\n  },\n  useCacheRefresh: function () {\n    return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n      null,\n      currentlyRenderingFiber$1\n    ));\n  }\n};\nHooksDispatcherOnMount.useMemoCache = useMemoCache;\nHooksDispatcherOnMount.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnMount.useFormState = mountActionState;\nHooksDispatcherOnMount.useActionState = mountActionState;\nHooksDispatcherOnMount.useOptimistic = function (passthrough) {\n  var hook = mountWorkInProgressHook();\n  hook.memoizedState = hook.baseState = passthrough;\n  var queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: null,\n    lastRenderedState: null\n  };\n  hook.queue = queue;\n  hook = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !0,\n    queue\n  );\n  queue.dispatch = hook;\n  return [passthrough, hook];\n};\nvar HooksDispatcherOnUpdate = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: updateReducer,\n  useRef: updateRef,\n  useState: function () {\n    return updateReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return updateDeferredValueImpl(\n      hook,\n      currentHook.memoizedState,\n      value,\n      initialValue\n    );\n  },\n  useTransition: function () {\n    var booleanOrThenable = updateReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnUpdate.useCacheRefresh = updateRefresh;\nHooksDispatcherOnUpdate.useMemoCache = useMemoCache;\nHooksDispatcherOnUpdate.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnUpdate.useFormState = updateActionState;\nHooksDispatcherOnUpdate.useActionState = updateActionState;\nHooksDispatcherOnUpdate.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n};\nvar HooksDispatcherOnRerender = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: rerenderReducer,\n  useRef: updateRef,\n  useState: function () {\n    return rerenderReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return null === currentHook\n      ? mountDeferredValueImpl(hook, value, initialValue)\n      : updateDeferredValueImpl(\n          hook,\n          currentHook.memoizedState,\n          value,\n          initialValue\n        );\n  },\n  useTransition: function () {\n    var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnRerender.useCacheRefresh = updateRefresh;\nHooksDispatcherOnRerender.useMemoCache = useMemoCache;\nHooksDispatcherOnRerender.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnRerender.useFormState = rerenderActionState;\nHooksDispatcherOnRerender.useActionState = rerenderActionState;\nHooksDispatcherOnRerender.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  if (null !== currentHook)\n    return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n  hook.baseState = passthrough;\n  return [passthrough, hook.queue.dispatch];\n};\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  isMounted: function (component) {\n    return (component = component._reactInternals)\n      ? getNearestMountedFiber(component) === component\n      : !1;\n  },\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$67 in Component)\n      void 0 === newProps[propName$67] &&\n        (newProps[propName$67] = Component[propName$67]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$68) {\n    setTimeout(function () {\n      throw e$68;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$69) {\n    setTimeout(function () {\n      throw e$69;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    nextIsDetached = 0 !== (workInProgress.stateNode._pendingVisibility & 2),\n    prevState = null !== current ? current.memoizedState : null;\n  markRef(current, workInProgress);\n  if (\"hidden\" === nextProps.mode || nextIsDetached) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (nextIsDetached = 0; null !== nextChildren; )\n          (nextIsDetached =\n            nextIsDetached | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = nextIsDetached & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 2097664);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 2097664;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = { dehydrated: null, treeContext: null, retryLane: 0 };\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          \"$!\" === nextInstance.data\n            ? (workInProgress.lanes = 16)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      \"$!\" === nextInstance.data)\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (null !== JSCompiler_temp) {\n        nextProps = renderLanes & -renderLanes;\n        if (0 !== (nextProps & 42)) nextProps = 1;\n        else\n          switch (nextProps) {\n            case 2:\n              nextProps = 1;\n              break;\n            case 8:\n              nextProps = 4;\n              break;\n            case 32:\n              nextProps = 16;\n              break;\n            case 128:\n            case 256:\n            case 512:\n            case 1024:\n            case 2048:\n            case 4096:\n            case 8192:\n            case 16384:\n            case 32768:\n            case 65536:\n            case 131072:\n            case 262144:\n            case 524288:\n            case 1048576:\n            case 2097152:\n            case 4194304:\n            case 8388608:\n            case 16777216:\n            case 33554432:\n              nextProps = 64;\n              break;\n            case 268435456:\n              nextProps = 134217728;\n              break;\n            default:\n              nextProps = 0;\n          }\n        nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps;\n        if (0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n          throw (\n            ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n            enqueueConcurrentRenderForLane(current, nextProps),\n            scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n            SelectiveHydrationException)\n          );\n      }\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 128),\n          (workInProgress.child = current.child),\n          (workInProgress = retryDehydratedSuspenseBoundary.bind(\n            null,\n            current\n          )),\n          (nextInstance._reactRetry = workInProgress),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 31457280),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  return createFiberFromOffscreen(offscreenProps, mode, 0, null);\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        var nextProps = workInProgress.pendingProps;\n        init = workInProgress.memoizedState;\n        lazyComponent = init.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, nextProps, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        nextProps = nextState.cache;\n        pushProvider(workInProgress, CacheContext, nextProps);\n        nextProps !== init.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        nextProps = nextState.element;\n        if (init.isDehydrated)\n          if (\n            ((init = {\n              element: nextProps,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = init),\n            (workInProgress.memoizedState = init),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else if (nextProps !== lazyComponent) {\n            lazyComponent = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(lazyComponent);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else\n            for (\n              nextHydratableInstance = getNextHydratable(\n                workInProgress.stateNode.containerInfo.firstChild\n              ),\n                hydrationParentFiber = workInProgress,\n                isHydrating = !0,\n                hydrationErrors = null,\n                rootOrSingletonContext = !0,\n                renderLanes = mountChildFibers(\n                  workInProgress,\n                  null,\n                  nextProps,\n                  renderLanes\n                ),\n                workInProgress.child = renderLanes;\n              renderLanes;\n\n            )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n        else {\n          resetHydrationState();\n          if (nextProps === lazyComponent) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(current, workInProgress, nextProps, renderLanes);\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (nextHydratableInstance = getNextHydratable(\n            lazyComponent.firstChild\n          ))),\n        (lazyComponent = workInProgress.pendingProps.children),\n        null !== current || isHydrating\n          ? reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            )\n          : (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            )),\n        markRef(current, workInProgress),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      nextProps = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = nextProps.children;\n      shouldSetTextContent(init, nextProps)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (nextProps = createCache()),\n              (init.pooledCache = nextProps),\n              nextProps.refCount++,\n              null !== nextProps && (init.pooledCacheLanes |= renderLanes),\n              (init = nextProps)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (nextProps = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = nextProps.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0;\n            try {\n              destroy();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      var instance = current.stateNode;\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = instance;\n          break;\n        default:\n          instanceToUse = instance;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$112) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$112);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    27 === fiber.tag ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag &&\n      6 !== fiber.tag &&\n      27 !== fiber.tag &&\n      18 !== fiber.tag;\n\n    ) {\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? 8 === parent.nodeType\n          ? parent.parentNode.insertBefore(node, before)\n          : parent.insertBefore(node, before)\n        : (8 === parent.nodeType\n            ? ((before = parent.parentNode), before.insertBefore(node, parent))\n            : ((before = parent), before.appendChild(node)),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null,\n  shouldFireAfterActiveInstanceBlur = !1;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1028) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n  resolvedPrevProps = shouldFireAfterActiveInstanceBlur;\n  shouldFireAfterActiveInstanceBlur = !1;\n  return resolvedPrevProps;\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$111) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$111\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 64 && ((flags = finishedWork.updateQueue), null !== flags)) {\n        finishedRoot = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              finishedRoot = finishedWork.child.stateNode;\n              break;\n            case 1:\n              finishedRoot = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(flags, finishedRoot);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 26:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 27:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      break;\n    case 22:\n      prevProps =\n        null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!prevProps) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        var prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n          prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = prevProps;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      flags & 512 &&\n        (\"manual\" === finishedWork.memoizedProps.mode\n          ? safelyAttachRef(finishedWork, finishedWork.return)\n          : safelyDetachRef(finishedWork, finishedWork.return));\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber = deletedFiber.stateNode;\n      for (\n        nearestMountedAncestor = deletedFiber.attributes;\n        nearestMountedAncestor.length;\n\n      )\n        deletedFiber.removeAttributeNode(nearestMountedAncestor[0]);\n      detachDeletedInstance(deletedFiber);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParentIsContainer = hostParent;\n      var prevHostParentIsContainer$119 = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParentIsContainer;\n      hostParentIsContainer = prevHostParentIsContainer$119;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (finishedRoot = hostParent),\n              (prevHostParent = deletedFiber.stateNode),\n              8 === finishedRoot.nodeType\n                ? finishedRoot.parentNode.removeChild(prevHostParent)\n                : finishedRoot.removeChild(prevHostParent);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((nearestMountedAncestor = hostParent),\n            (deletedFiber = deletedFiber.stateNode),\n            8 === nearestMountedAncestor.nodeType\n              ? clearSuspenseBoundary(\n                  nearestMountedAncestor.parentNode,\n                  deletedFiber\n                )\n              : 1 === nearestMountedAncestor.nodeType &&\n                clearSuspenseBoundary(nearestMountedAncestor, deletedFiber),\n            retryIfBlockedOn(nearestMountedAncestor))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href ? null : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      if (flags & 4 && null === finishedWork.alternate) {\n        hoistableRoot = finishedWork.stateNode;\n        currentResource = finishedWork.memoizedProps;\n        try {\n          for (var node = hoistableRoot.firstChild; node; ) {\n            var nextNode = node.nextSibling,\n              nodeName = node.nodeName;\n            node[internalHoistableMarker] ||\n              \"HEAD\" === nodeName ||\n              \"BODY\" === nodeName ||\n              \"SCRIPT\" === nodeName ||\n              \"STYLE\" === nodeName ||\n              (\"LINK\" === nodeName &&\n                \"stylesheet\" === node.rel.toLowerCase()) ||\n              hoistableRoot.removeChild(node);\n            node = nextNode;\n          }\n          for (\n            var type = finishedWork.type, attributes = hoistableRoot.attributes;\n            attributes.length;\n\n          )\n            hoistableRoot.removeAttributeNode(attributes[0]);\n          setInitialProperties(hoistableRoot, type, currentResource);\n          hoistableRoot[internalInstanceKey] = finishedWork;\n          hoistableRoot[internalPropsKey] = currentResource;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      node = null !== finishedWork.memoizedState;\n      nextNode = null !== current && null !== current.memoizedState;\n      nodeName = offscreenSubtreeIsHidden;\n      type = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = nodeName || node;\n      offscreenSubtreeWasHidden = type || nextNode;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = type;\n      offscreenSubtreeIsHidden = nodeName;\n      commitReconciliationEffects(finishedWork);\n      root = finishedWork.stateNode;\n      root._current = finishedWork;\n      root._visibility &= -3;\n      root._visibility |= root._pendingVisibility & 2;\n      if (\n        flags & 8192 &&\n        ((root._visibility = node\n          ? root._visibility & -2\n          : root._visibility | 1),\n        node &&\n          ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),\n          null === current ||\n            nextNode ||\n            root ||\n            recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n        null === finishedWork.memoizedProps ||\n          \"manual\" !== finishedWork.memoizedProps.mode)\n      )\n        a: for (current = null, root = finishedWork; ; ) {\n          if (5 === root.tag || 26 === root.tag || 27 === root.tag) {\n            if (null === current) {\n              nextNode = current = root;\n              try {\n                if (((hoistableRoot = nextNode.stateNode), node))\n                  (currentResource = hoistableRoot.style),\n                    \"function\" === typeof currentResource.setProperty\n                      ? currentResource.setProperty(\n                          \"display\",\n                          \"none\",\n                          \"important\"\n                        )\n                      : (currentResource.display = \"none\");\n                else {\n                  maybeNodes = nextNode.stateNode;\n                  i = nextNode.memoizedProps.style;\n                  var display =\n                    void 0 !== i && null !== i && i.hasOwnProperty(\"display\")\n                      ? i.display\n                      : null;\n                  maybeNodes.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              nextNode = root;\n              try {\n                nextNode.stateNode.nodeValue = node\n                  ? \"\"\n                  : nextNode.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      if (27 !== finishedWork.tag) {\n        a: {\n          for (var parent = finishedWork.return; null !== parent; ) {\n            if (isHostParent(parent)) {\n              var JSCompiler_inline_result = parent;\n              break a;\n            }\n            parent = parent.return;\n          }\n          throw Error(formatProdErrorMessage(160));\n        }\n        switch (JSCompiler_inline_result.tag) {\n          case 27:\n            var parent$jscomp$0 = JSCompiler_inline_result.stateNode,\n              before = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);\n            break;\n          case 5:\n            var parent$113 = JSCompiler_inline_result.stateNode;\n            JSCompiler_inline_result.flags & 32 &&\n              (setTextContent(parent$113, \"\"),\n              (JSCompiler_inline_result.flags &= -33));\n            var before$114 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before$114, parent$113);\n            break;\n          case 3:\n          case 4:\n            var parent$115 = JSCompiler_inline_result.stateNode.containerInfo,\n              before$116 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNodeIntoContainer(\n              finishedWork,\n              before$116,\n              parent$115\n            );\n            break;\n          default:\n            throw Error(formatProdErrorMessage(161));\n        }\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 &&\n        commitOffscreenPassiveMountEffects(\n          finishedWork.alternate,\n          finishedWork\n        );\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 4\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 4 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 4 &&\n          ((i._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 31457280;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 31457282;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_OFFSCREEN_TYPE:\n        return createFiberFromOffscreen(pendingProps, mode, lanes, key);\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromOffscreen(pendingProps, mode, lanes, key) {\n  pendingProps = createFiberImplClass(22, pendingProps, key, mode);\n  pendingProps.elementType = REACT_OFFSCREEN_TYPE;\n  pendingProps.lanes = lanes;\n  var primaryChildInstance = {\n    _visibility: 1,\n    _pendingVisibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null,\n    _current: null,\n    detach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 === (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility |= 2),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    },\n    attach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 !== (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility &= -3),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    }\n  };\n  pendingProps.stateNode = primaryChildInstance;\n  return pendingProps;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194176) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$131 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$131 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$131\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$131.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags & 31457280),\n        (subtreeFlags |= child$132.flags & 31457280),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  else\n    for (child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags),\n        (subtreeFlags |= child$132.flags),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            null !== hydrationErrors &&\n              (queueRecoverableErrors(hydrationErrors),\n              (hydrationErrors = null)));\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          null !== hydrationErrors &&\n            (queueRecoverableErrors(hydrationErrors), (hydrationErrors = null)),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$144 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$144 = newProps.memoizedState.cachePool.pool);\n        cache$144 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$144 = type.rendering;\n      if (null === cache$144)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$144 = findFirstSuspended(current);\n              if (null !== cache$144) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$144.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$144)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$144.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$144.sibling = workInProgress.child),\n            (workInProgress.child = cache$144))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$144)\n              : (workInProgress.child = cache$144),\n            (type.last = cache$144));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  rootDoesHavePassiveEffects = !1,\n  rootWithPendingPassiveEffects = null,\n  pendingPassiveEffectsLanes = 0,\n  pendingPassiveEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 60) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else if (6 === exitStatus)\n      markRootSuspended(\n        root$jscomp$0,\n        lanes,\n        0,\n        !workInProgressRootDidSkipSuspendedSiblings\n      );\n    else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                queueRecoverableErrors(renderWasConcurrent);\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        switch (exitStatus) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194176) === lanes) {\n              markRootSuspended(\n                shouldTimeSlice,\n                lanes,\n                workInProgressDeferredLane,\n                !workInProgressRootDidSkipSuspendedSiblings\n              );\n              break a;\n            }\n            break;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        shouldTimeSlice.finishedWork = forceSync;\n        shouldTimeSlice.finishedLanes = lanes;\n        if (\n          (lanes & 62914560) === lanes &&\n          ((renderWasConcurrent = globalMostRecentFallbackTime + 300 - now()),\n          10 < renderWasConcurrent)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              2,\n              -0,\n              0\n            ),\n            renderWasConcurrent\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction queueRecoverableErrors(errors) {\n  null === workInProgressRootRecoverableErrors\n    ? (workInProgressRootRecoverableErrors = errors)\n    : workInProgressRootRecoverableErrors.push.apply(\n        workInProgressRootRecoverableErrors,\n        errors\n      );\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var subtreeFlags = finishedWork.subtreeFlags;\n  if (subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408))\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (finishedWork = waitForCommitToBeReady()),\n      null !== finishedWork)\n    ) {\n      root.cancelPendingCommit = finishedWork(\n        commitRoot.bind(\n          null,\n          root,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes,\n    suspendedCommitReason,\n    completedRenderStartTime,\n    completedRenderEndTime\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$6 = 31 - clz32(lanes),\n      lane = 1 << index$6;\n    didAttemptEntireTree[index$6] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState$1 = null),\n        (thenableIndexCounter$1 = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$4 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$4;\n      lanes |= root[index$4];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194176) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$164) {\n      handleThrow(root, thrownValue$164);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              2 === workInProgressSuspendedReason &&\n                workInProgressRoot === root &&\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrent();\n      break;\n    } catch (thrownValue$166) {\n      handleThrow(root, thrownValue$166);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrent() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState$1 = null;\n  thenableIndexCounter$1 = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason || 3 === suspendedReason || 6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var prevTransition = ReactSharedInternals.T,\n    previousUpdateLanePriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      (ReactSharedInternals.T = null),\n      commitRootImpl(\n        root,\n        recoverableErrors,\n        transitions,\n        didIncludeRenderPhaseUpdate,\n        previousUpdateLanePriority,\n        spawnedLane,\n        updatedLanes,\n        suspendedRetryLanes,\n        suspendedCommitReason,\n        completedRenderStartTime,\n        completedRenderEndTime\n      );\n  } finally {\n    (ReactSharedInternals.T = prevTransition),\n      (ReactDOMSharedInternals.p = previousUpdateLanePriority);\n  }\n}\nfunction commitRootImpl(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  renderPriorityLevel,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  do flushPassiveEffects();\n  while (null !== rootWithPendingPassiveEffects);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var finishedWork = root.finishedWork;\n  didIncludeRenderPhaseUpdate = root.finishedLanes;\n  if (null === finishedWork) return null;\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n  root.callbackNode = null;\n  root.callbackPriority = 0;\n  root.cancelPendingCommit = null;\n  var remainingLanes = finishedWork.lanes | finishedWork.childLanes;\n  remainingLanes |= concurrentlyUpdatedLanes;\n  markRootFinished(\n    root,\n    didIncludeRenderPhaseUpdate,\n    remainingLanes,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n  root === workInProgressRoot &&\n    ((workInProgress = workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0));\n  (0 === (finishedWork.subtreeFlags & 10256) &&\n    0 === (finishedWork.flags & 10256)) ||\n    rootDoesHavePassiveEffects ||\n    ((rootDoesHavePassiveEffects = !0),\n    (pendingPassiveEffectsRemainingLanes = remainingLanes),\n    (pendingPassiveTransitions = transitions),\n    scheduleCallback$1(NormalPriority$1, function () {\n      flushPassiveEffects(!0);\n      return null;\n    }));\n  transitions = 0 !== (finishedWork.flags & 15990);\n  0 !== (finishedWork.subtreeFlags & 15990) || transitions\n    ? ((transitions = ReactSharedInternals.T),\n      (ReactSharedInternals.T = null),\n      (spawnedLane = ReactDOMSharedInternals.p),\n      (ReactDOMSharedInternals.p = 2),\n      (updatedLanes = executionContext),\n      (executionContext |= 4),\n      commitBeforeMutationEffects(root, finishedWork),\n      commitMutationEffectsOnFiber(finishedWork, root),\n      restoreSelection(selectionInformation, root.containerInfo),\n      (_enabled = !!eventsEnabled),\n      (selectionInformation = eventsEnabled = null),\n      (root.current = finishedWork),\n      commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork),\n      requestPaint(),\n      (executionContext = updatedLanes),\n      (ReactDOMSharedInternals.p = spawnedLane),\n      (ReactSharedInternals.T = transitions))\n    : (root.current = finishedWork);\n  rootDoesHavePassiveEffects\n    ? ((rootDoesHavePassiveEffects = !1),\n      (rootWithPendingPassiveEffects = root),\n      (pendingPassiveEffectsLanes = didIncludeRenderPhaseUpdate))\n    : releaseRootPooledCache(root, remainingLanes);\n  remainingLanes = root.pendingLanes;\n  0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n  onCommitRoot(finishedWork.stateNode, renderPriorityLevel);\n  ensureRootIsScheduled(root);\n  if (null !== recoverableErrors)\n    for (\n      renderPriorityLevel = root.onRecoverableError, finishedWork = 0;\n      finishedWork < recoverableErrors.length;\n      finishedWork++\n    )\n      (remainingLanes = recoverableErrors[finishedWork]),\n        renderPriorityLevel(remainingLanes.value, {\n          componentStack: remainingLanes.stack\n        });\n  0 !== (pendingPassiveEffectsLanes & 3) && flushPassiveEffects();\n  remainingLanes = root.pendingLanes;\n  0 !== (didIncludeRenderPhaseUpdate & 4194218) && 0 !== (remainingLanes & 42)\n    ? root === rootWithNestedUpdates\n      ? nestedUpdateCount++\n      : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n    : (nestedUpdateCount = 0);\n  flushSyncWorkAcrossRoots_impl(0, !1);\n  return null;\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPassiveEffects() {\n  if (null !== rootWithPendingPassiveEffects) {\n    var root$170 = rootWithPendingPassiveEffects,\n      remainingLanes = pendingPassiveEffectsRemainingLanes;\n    pendingPassiveEffectsRemainingLanes = 0;\n    var renderPriority = lanesToEventPriority(pendingPassiveEffectsLanes),\n      prevTransition = ReactSharedInternals.T,\n      previousPriority = ReactDOMSharedInternals.p;\n    try {\n      ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n      ReactSharedInternals.T = null;\n      if (null === rootWithPendingPassiveEffects)\n        var JSCompiler_inline_result = !1;\n      else {\n        renderPriority = pendingPassiveTransitions;\n        pendingPassiveTransitions = null;\n        var root = rootWithPendingPassiveEffects,\n          lanes = pendingPassiveEffectsLanes;\n        rootWithPendingPassiveEffects = null;\n        pendingPassiveEffectsLanes = 0;\n        if (0 !== (executionContext & 6))\n          throw Error(formatProdErrorMessage(331));\n        var prevExecutionContext = executionContext;\n        executionContext |= 4;\n        commitPassiveUnmountOnFiber(root.current);\n        commitPassiveMountOnFiber(root, root.current, lanes, renderPriority);\n        executionContext = prevExecutionContext;\n        flushSyncWorkAcrossRoots_impl(0, !1);\n        if (\n          injectedHook &&\n          \"function\" === typeof injectedHook.onPostCommitFiberRoot\n        )\n          try {\n            injectedHook.onPostCommitFiberRoot(rendererID, root);\n          } catch (err) {}\n        JSCompiler_inline_result = !0;\n      }\n      return JSCompiler_inline_result;\n    } finally {\n      (ReactDOMSharedInternals.p = previousPriority),\n        (ReactSharedInternals.T = prevTransition),\n        releaseRootPooledCache(root$170, remainingLanes);\n    }\n  }\n  return !1;\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0),\n    scheduleImmediateTask(processRootScheduleInMicrotask));\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$172 = firstScheduledRoot; null !== root$172; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$172.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$172.suspendedLanes,\n                pingedLanes = root$172.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326677\n                  ? (JSCompiler_inline_result & 201326677) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$172,\n                root$172 === workInProgressRoot ? JSCompiler_inline_result : 0\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$172, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n        root$172 = root$172.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$5 = 31 - clz32(lanes),\n      lane = 1 << index$5,\n      expirationTime = expirationTimes[index$5];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$5] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  var originalCallbackNode = root.callbackNode;\n  if (flushPassiveEffects() && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPassiveEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateTask(cb) {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(ImmediatePriority, cb)\n      : cb();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1439 = 0;\n  i$jscomp$inline_1439 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1439++\n) {\n  var eventName$jscomp$inline_1440 =\n      simpleEventPluginEvents[i$jscomp$inline_1439],\n    domEventName$jscomp$inline_1441 =\n      eventName$jscomp$inline_1440.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1442 =\n      eventName$jscomp$inline_1440[0].toUpperCase() +\n      eventName$jscomp$inline_1440.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1441,\n    \"on\" + capitalizedEvent$jscomp$inline_1442\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (\n          container === targetContainer ||\n          (8 === container.nodeType && container.parentNode === targetContainer)\n        )\n          break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (3 === grandTag || 4 === grandTag)\n              if (\n                ((grandTag = nodeTag.stateNode.containerInfo),\n                grandTag === targetContainer ||\n                  (8 === grandTag.nodeType &&\n                    grandTag.parentNode === targetContainer))\n              )\n                return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    targetFiber = targetFiber.return;\n  }\n  return listeners;\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$186 = props[hasSrc];\n          if (null != propValue$186)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$186;\n                break;\n              case \"type\":\n                propValue = propValue$186;\n                break;\n              case \"checked\":\n                checked = propValue$186;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$186;\n                break;\n              case \"value\":\n                propKey = propValue$186;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$186;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$186)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$186, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$186 in props)\n          props.hasOwnProperty(propValue$186) &&\n            ((hasSrc = props[propValue$186]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$186,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$203 in nextProps) {\n        var propKey = nextProps[propKey$203];\n        lastProp = lastProps[propKey$203];\n        if (\n          nextProps.hasOwnProperty(propKey$203) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$203) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$203,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$203 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$203 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$203\n        ? updateOptions(domElement, !!lastProps, propKey$203, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$203 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$203 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$203, propKey);\n      return;\n    case \"option\":\n      for (var propKey$219 in lastProps)\n        if (\n          ((propKey$203 = lastProps[propKey$219]),\n          lastProps.hasOwnProperty(propKey$219) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$219))\n        )\n          switch (propKey$219) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$219,\n                null,\n                nextProps,\n                propKey$203\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$203 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$203 &&\n                \"function\" !== typeof propKey$203 &&\n                \"symbol\" !== typeof propKey$203;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$224 in lastProps)\n        (propKey$203 = lastProps[propKey$224]),\n          lastProps.hasOwnProperty(propKey$224) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$224) &&\n            setProp(domElement, tag, propKey$224, null, nextProps, propKey$203);\n      for (checked in nextProps)\n        if (\n          ((propKey$203 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$203)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$229 in lastProps)\n          (propKey$203 = lastProps[propKey$229]),\n            lastProps.hasOwnProperty(propKey$229) &&\n              void 0 !== propKey$203 &&\n              !nextProps.hasOwnProperty(propKey$229) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$229,\n                void 0,\n                nextProps,\n                propKey$203\n              );\n        for (defaultChecked in nextProps)\n          (propKey$203 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$203 === propKey ||\n              (void 0 === propKey$203 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$234 in lastProps)\n    (propKey$203 = lastProps[propKey$234]),\n      lastProps.hasOwnProperty(propKey$234) &&\n        null != propKey$203 &&\n        !nextProps.hasOwnProperty(propKey$234) &&\n        setProp(domElement, tag, propKey$234, null, nextProps, propKey$203);\n  for (lastProp in nextProps)\n    (propKey$203 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$203 === propKey ||\n        (null == propKey$203 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$203, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else (\"$\" !== node && \"$?\" !== node && \"$!\" !== node) || depth++;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href ? null : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$242 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$243 = styles$242.get(type);\n        resource$243 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$243 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$242.set(type, resource$243),\n          (styles$242 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$242._p &&\n            ((resource$243.instance = styles$242),\n            (resource$243.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$242 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$243.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$243;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$248 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$248)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$248),\n            markNodeAsHoistable(instance$248),\n            instance$248\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$248 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$248);\n        var linkInstance = instance$248;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$248, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$248, props.precedence, hoistableRoot);\n        return (resource.instance = instance$248);\n      case \"script\":\n        instance$248 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$248)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$248)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.finishedWork =\n    this.pingCache =\n    this.current =\n    this.pendingChildren =\n      null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.finishedLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane(),\n                root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      0 === root.tag && flushPassiveEffects();\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1686 = React.version;\nif (\n  \"19.0.0\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1686\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1686,\n      \"19.0.0\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2165 = {\n  bundleType: 0,\n  version: \"19.0.0\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  findFiberByHostInstance: getClosestInstanceFromNode,\n  reconcilerVersion: \"19.0.0\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2166 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2166.isDisabled &&\n    hook$jscomp$inline_2166.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2166.inject(\n        internals$jscomp$inline_2165\n      )),\n        (injectedHook = hook$jscomp$inline_2166);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(\n    8 === container.nodeType ? container.parentNode : container\n  );\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  initialChildren.current.lanes = isStrictMode;\n  markRootUpdated$1(initialChildren, isStrictMode);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.0.0\";\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_pdf_1 = require(\"react-pdf\");\n// Path to the pdf.worker.js file\nreact_pdf_1.pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${react_pdf_1.pdfjs.version}/pdf.worker.mjs`;\n/**\n * Extracts text content from a PDF file.\n * @param {File | Blob | MediaSource} file - The PDF file to extract text from.\n * @returns {Promise<string>} A promise that resolves with the extracted text content.\n */\nconst pdfToText = (file) => __awaiter(void 0, void 0, void 0, function* () {\n    // Create a blob URL for the PDF file\n    const blobUrl = URL.createObjectURL(file);\n    // Load the PDF file\n    const loadingTask = react_pdf_1.pdfjs.getDocument(blobUrl);\n    let extractedText = \"\";\n    try {\n        const pdf = yield loadingTask.promise;\n        const numPages = pdf.numPages;\n        // Iterate through each page and extract text\n        for (let pageNumber = 1; pageNumber <= numPages; pageNumber++) {\n            const page = yield pdf.getPage(pageNumber);\n            const textContent = yield page.getTextContent();\n            const pageText = textContent.items\n                .map((item) => (\"str\" in item ? item.str : \"\"))\n                .join(\" \");\n            extractedText += pageText;\n        }\n    }\n    catch (error) {\n        throw new Error(`Failed to extract text from PDF: ${error}`);\n    }\n    finally {\n        // Clean up the blob URL\n        URL.revokeObjectURL(blobUrl);\n        // Free memory from loading task\n        loadingTask.destroy();\n    }\n    return extractedText;\n});\nexports.default = pdfToText;\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.act = function () {\n  throw Error(\"act(...) is not supported in production builds of React.\");\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0), requestHostCallback();\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return exports.unstable_now() - startTime < frameInterval ? !1 : !0;\n}\nfunction performWorkUntilDeadline() {\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostCallback() {\n  isMessageLoopRunning ||\n    ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n}\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_continueExecution = function () {\n  isHostCallbackScheduled ||\n    isPerformingWork ||\n    ((isHostCallbackScheduled = !0), requestHostCallback());\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_getFirstCallbackNode = function () {\n  return peek(taskQueue);\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_pauseExecution = function () {};\nexports.unstable_requestPaint = function () {};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0), requestHostCallback()));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","'use strict';\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nmodule.exports = invariant;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction makeCancellablePromise(promise) {\n    var isCancelled = false;\n    var wrappedPromise = new Promise(function (resolve, reject) {\n        promise\n            .then(function (value) { return !isCancelled && resolve(value); })\n            .catch(function (error) { return !isCancelled && reject(error); });\n    });\n    return {\n        promise: wrappedPromise,\n        cancel: function () {\n            isCancelled = true;\n        },\n    };\n}\nexports.default = makeCancellablePromise;\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.allEvents = exports.changeEvents = exports.otherEvents = exports.transitionEvents = exports.animationEvents = exports.wheelEvents = exports.uiEvents = exports.pointerEvents = exports.touchEvents = exports.selectionEvents = exports.dragEvents = exports.mouseEvents = exports.mediaEvents = exports.keyboardEvents = exports.imageEvents = exports.formEvents = exports.focusEvents = exports.compositionEvents = exports.clipboardEvents = void 0;\n// As defined on the list of supported events: https://reactjs.org/docs/events.html\nexports.clipboardEvents = ['onCopy', 'onCut', 'onPaste'];\nexports.compositionEvents = [\n    'onCompositionEnd',\n    'onCompositionStart',\n    'onCompositionUpdate',\n];\nexports.focusEvents = ['onFocus', 'onBlur'];\nexports.formEvents = ['onInput', 'onInvalid', 'onReset', 'onSubmit'];\nexports.imageEvents = ['onLoad', 'onError'];\nexports.keyboardEvents = ['onKeyDown', 'onKeyPress', 'onKeyUp'];\nexports.mediaEvents = [\n    'onAbort',\n    'onCanPlay',\n    'onCanPlayThrough',\n    'onDurationChange',\n    'onEmptied',\n    'onEncrypted',\n    'onEnded',\n    'onError',\n    'onLoadedData',\n    'onLoadedMetadata',\n    'onLoadStart',\n    'onPause',\n    'onPlay',\n    'onPlaying',\n    'onProgress',\n    'onRateChange',\n    'onSeeked',\n    'onSeeking',\n    'onStalled',\n    'onSuspend',\n    'onTimeUpdate',\n    'onVolumeChange',\n    'onWaiting',\n];\nexports.mouseEvents = [\n    'onClick',\n    'onContextMenu',\n    'onDoubleClick',\n    'onMouseDown',\n    'onMouseEnter',\n    'onMouseLeave',\n    'onMouseMove',\n    'onMouseOut',\n    'onMouseOver',\n    'onMouseUp',\n];\nexports.dragEvents = [\n    'onDrag',\n    'onDragEnd',\n    'onDragEnter',\n    'onDragExit',\n    'onDragLeave',\n    'onDragOver',\n    'onDragStart',\n    'onDrop',\n];\nexports.selectionEvents = ['onSelect'];\nexports.touchEvents = ['onTouchCancel', 'onTouchEnd', 'onTouchMove', 'onTouchStart'];\nexports.pointerEvents = [\n    'onPointerDown',\n    'onPointerMove',\n    'onPointerUp',\n    'onPointerCancel',\n    'onGotPointerCapture',\n    'onLostPointerCapture',\n    'onPointerEnter',\n    'onPointerLeave',\n    'onPointerOver',\n    'onPointerOut',\n];\nexports.uiEvents = ['onScroll'];\nexports.wheelEvents = ['onWheel'];\nexports.animationEvents = [\n    'onAnimationStart',\n    'onAnimationEnd',\n    'onAnimationIteration',\n];\nexports.transitionEvents = ['onTransitionEnd'];\nexports.otherEvents = ['onToggle'];\nexports.changeEvents = ['onChange'];\nexports.allEvents = __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], exports.clipboardEvents, true), exports.compositionEvents, true), exports.focusEvents, true), exports.formEvents, true), exports.imageEvents, true), exports.keyboardEvents, true), exports.mediaEvents, true), exports.mouseEvents, true), exports.dragEvents, true), exports.selectionEvents, true), exports.touchEvents, true), exports.pointerEvents, true), exports.uiEvents, true), exports.wheelEvents, true), exports.animationEvents, true), exports.transitionEvents, true), exports.changeEvents, true), exports.otherEvents, true);\n/**\n * Returns an object with on-event callback props curried with provided args.\n * @param {Object} props Props passed to a component.\n * @param {Function=} getArgs A function that returns argument(s) on-event callbacks\n *   shall be curried with.\n */\nfunction makeEventProps(props, getArgs) {\n    var eventProps = {};\n    exports.allEvents.forEach(function (eventName) {\n        var eventHandler = props[eventName];\n        if (!eventHandler) {\n            return;\n        }\n        if (getArgs) {\n            eventProps[eventName] = (function (event) {\n                return eventHandler(event, getArgs(eventName));\n            });\n        }\n        else {\n            eventProps[eventName] = eventHandler;\n        }\n    });\n    return eventProps;\n}\nexports.default = makeEventProps;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A function that merges React refs into one.\n * Supports both functions and ref objects created using createRef() and useRef().\n *\n * Usage:\n * ```tsx\n * <div ref={mergeRefs(ref1, ref2, ref3)} />\n * ```\n *\n * @param {(React.Ref<T> | undefined)[]} inputRefs Array of refs\n * @returns {React.Ref<T> | React.RefCallback<T>} Merged refs\n */\nfunction mergeRefs() {\n    var inputRefs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        inputRefs[_i] = arguments[_i];\n    }\n    var filteredInputRefs = inputRefs.filter(Boolean);\n    if (filteredInputRefs.length <= 1) {\n        var firstRef = filteredInputRefs[0];\n        return firstRef || null;\n    }\n    return function mergedRefs(ref) {\n        filteredInputRefs.forEach(function (inputRef) {\n            if (typeof inputRef === 'function') {\n                inputRef(ref);\n            }\n            else if (inputRef) {\n                inputRef.current = ref;\n            }\n        });\n    };\n}\nexports.default = mergeRefs;\n","\"use strict\";\n'use client';\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst make_event_props_1 = __importDefault(require(\"make-event-props\"));\nconst make_cancellable_promise_1 = __importDefault(require(\"make-cancellable-promise\"));\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst dequal_1 = require(\"dequal\");\nconst pdfjs = __importStar(require(\"pdfjs-dist\"));\nconst DocumentContext_js_1 = __importDefault(require(\"./DocumentContext.js\"));\nconst Message_js_1 = __importDefault(require(\"./Message.js\"));\nconst LinkService_js_1 = __importDefault(require(\"./LinkService.js\"));\nconst PasswordResponses_js_1 = __importDefault(require(\"./PasswordResponses.js\"));\nconst utils_js_1 = require(\"./shared/utils.js\");\nconst useResolver_js_1 = __importDefault(require(\"./shared/hooks/useResolver.js\"));\nconst { PDFDataRangeTransport } = pdfjs;\nconst defaultOnPassword = (callback, reason) => {\n    switch (reason) {\n        case PasswordResponses_js_1.default.NEED_PASSWORD: {\n            const password = prompt('Enter the password to open this PDF file.');\n            callback(password);\n            break;\n        }\n        case PasswordResponses_js_1.default.INCORRECT_PASSWORD: {\n            const password = prompt('Invalid password. Please try again.');\n            callback(password);\n            break;\n        }\n        default:\n    }\n};\nfunction isParameterObject(file) {\n    return (typeof file === 'object' &&\n        file !== null &&\n        ('data' in file || 'range' in file || 'url' in file));\n}\n/**\n * Loads a document passed using `file` prop.\n */\nconst Document = (0, react_1.forwardRef)(function Document(_a, ref) {\n    var { children, className, error = 'Failed to load PDF file.', externalLinkRel, externalLinkTarget, file, inputRef, imageResourcesPath, loading = 'Loading PDF…', noData = 'No PDF file specified.', onItemClick, onLoadError: onLoadErrorProps, onLoadProgress, onLoadSuccess: onLoadSuccessProps, onPassword = defaultOnPassword, onSourceError: onSourceErrorProps, onSourceSuccess: onSourceSuccessProps, options, renderMode, rotate } = _a, otherProps = __rest(_a, [\"children\", \"className\", \"error\", \"externalLinkRel\", \"externalLinkTarget\", \"file\", \"inputRef\", \"imageResourcesPath\", \"loading\", \"noData\", \"onItemClick\", \"onLoadError\", \"onLoadProgress\", \"onLoadSuccess\", \"onPassword\", \"onSourceError\", \"onSourceSuccess\", \"options\", \"renderMode\", \"rotate\"]);\n    const [sourceState, sourceDispatch] = (0, useResolver_js_1.default)();\n    const { value: source, error: sourceError } = sourceState;\n    const [pdfState, pdfDispatch] = (0, useResolver_js_1.default)();\n    const { value: pdf, error: pdfError } = pdfState;\n    const linkService = (0, react_1.useRef)(new LinkService_js_1.default());\n    const pages = (0, react_1.useRef)([]);\n    const prevFile = (0, react_1.useRef)(undefined);\n    const prevOptions = (0, react_1.useRef)(undefined);\n    if (file && file !== prevFile.current && isParameterObject(file)) {\n        (0, warning_1.default)(!(0, dequal_1.dequal)(file, prevFile.current), `File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to \"file\" prop.`);\n        prevFile.current = file;\n    }\n    // Detect non-memoized changes in options prop\n    if (options && options !== prevOptions.current) {\n        (0, warning_1.default)(!(0, dequal_1.dequal)(options, prevOptions.current), `Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to \"options\" prop.`);\n        prevOptions.current = options;\n    }\n    const viewer = (0, react_1.useRef)({\n        // Handling jumping to internal links target\n        scrollPageIntoView: (args) => {\n            const { dest, pageNumber, pageIndex = pageNumber - 1 } = args;\n            // First, check if custom handling of onItemClick was provided\n            if (onItemClick) {\n                onItemClick({ dest, pageIndex, pageNumber });\n                return;\n            }\n            // If not, try to look for target page within the <Document>.\n            const page = pages.current[pageIndex];\n            if (page) {\n                // Scroll to the page automatically\n                page.scrollIntoView();\n                return;\n            }\n            (0, warning_1.default)(false, `An internal link leading to page ${pageNumber} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`);\n        },\n    });\n    (0, react_1.useImperativeHandle)(ref, () => ({\n        linkService,\n        pages,\n        viewer,\n    }), []);\n    /**\n     * Called when a document source is resolved correctly\n     */\n    function onSourceSuccess() {\n        if (onSourceSuccessProps) {\n            onSourceSuccessProps();\n        }\n    }\n    /**\n     * Called when a document source failed to be resolved correctly\n     */\n    function onSourceError() {\n        if (!sourceError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        (0, warning_1.default)(false, sourceError.toString());\n        if (onSourceErrorProps) {\n            onSourceErrorProps(sourceError);\n        }\n    }\n    function resetSource() {\n        sourceDispatch({ type: 'RESET' });\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: See https://github.com/biomejs/biome/issues/3080\n    (0, react_1.useEffect)(resetSource, [file, sourceDispatch]);\n    const findDocumentSource = (0, react_1.useCallback)(() => __awaiter(this, void 0, void 0, function* () {\n        if (!file) {\n            return null;\n        }\n        // File is a string\n        if (typeof file === 'string') {\n            if ((0, utils_js_1.isDataURI)(file)) {\n                const fileByteString = (0, utils_js_1.dataURItoByteString)(file);\n                return { data: fileByteString };\n            }\n            (0, utils_js_1.displayCORSWarning)();\n            return { url: file };\n        }\n        // File is PDFDataRangeTransport\n        if (file instanceof PDFDataRangeTransport) {\n            return { range: file };\n        }\n        // File is an ArrayBuffer\n        if ((0, utils_js_1.isArrayBuffer)(file)) {\n            return { data: file };\n        }\n        /**\n         * The cases below are browser-only.\n         * If you're running on a non-browser environment, these cases will be of no use.\n         */\n        if (utils_js_1.isBrowser) {\n            // File is a Blob\n            if ((0, utils_js_1.isBlob)(file)) {\n                const data = yield (0, utils_js_1.loadFromFile)(file);\n                return { data };\n            }\n        }\n        // At this point, file must be an object\n        (0, tiny_invariant_1.default)(typeof file === 'object', 'Invalid parameter in file, need either Uint8Array, string or a parameter object');\n        (0, tiny_invariant_1.default)(isParameterObject(file), 'Invalid parameter object: need either .data, .range or .url');\n        // File .url is a string\n        if ('url' in file && typeof file.url === 'string') {\n            if ((0, utils_js_1.isDataURI)(file.url)) {\n                const { url } = file, otherParams = __rest(file, [\"url\"]);\n                const fileByteString = (0, utils_js_1.dataURItoByteString)(url);\n                return Object.assign({ data: fileByteString }, otherParams);\n            }\n            (0, utils_js_1.displayCORSWarning)();\n        }\n        return file;\n    }), [file]);\n    (0, react_1.useEffect)(() => {\n        const cancellable = (0, make_cancellable_promise_1.default)(findDocumentSource());\n        cancellable.promise\n            .then((nextSource) => {\n            sourceDispatch({ type: 'RESOLVE', value: nextSource });\n        })\n            .catch((error) => {\n            sourceDispatch({ type: 'REJECT', error });\n        });\n        return () => {\n            (0, utils_js_1.cancelRunningTask)(cancellable);\n        };\n    }, [findDocumentSource, sourceDispatch]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(() => {\n        if (typeof source === 'undefined') {\n            return;\n        }\n        if (source === false) {\n            onSourceError();\n            return;\n        }\n        onSourceSuccess();\n    }, [source]);\n    /**\n     * Called when a document is read successfully\n     */\n    function onLoadSuccess() {\n        if (!pdf) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onLoadSuccessProps) {\n            onLoadSuccessProps(pdf);\n        }\n        pages.current = new Array(pdf.numPages);\n        linkService.current.setDocument(pdf);\n    }\n    /**\n     * Called when a document failed to read successfully\n     */\n    function onLoadError() {\n        if (!pdfError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        (0, warning_1.default)(false, pdfError.toString());\n        if (onLoadErrorProps) {\n            onLoadErrorProps(pdfError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on source change\n    (0, react_1.useEffect)(function resetDocument() {\n        pdfDispatch({ type: 'RESET' });\n    }, [pdfDispatch, source]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(function loadDocument() {\n        if (!source) {\n            return;\n        }\n        const documentInitParams = options\n            ? Object.assign(Object.assign({}, source), options) : source;\n        const destroyable = pdfjs.getDocument(documentInitParams);\n        if (onLoadProgress) {\n            destroyable.onProgress = onLoadProgress;\n        }\n        if (onPassword) {\n            destroyable.onPassword = onPassword;\n        }\n        const loadingTask = destroyable;\n        const loadingPromise = loadingTask.promise\n            .then((nextPdf) => {\n            pdfDispatch({ type: 'RESOLVE', value: nextPdf });\n        })\n            .catch((error) => {\n            if (loadingTask.destroyed) {\n                return;\n            }\n            pdfDispatch({ type: 'REJECT', error });\n        });\n        return () => {\n            loadingPromise.finally(() => loadingTask.destroy());\n        };\n    }, [options, pdfDispatch, source]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(() => {\n        if (typeof pdf === 'undefined') {\n            return;\n        }\n        if (pdf === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [pdf]);\n    (0, react_1.useEffect)(function setupLinkService() {\n        linkService.current.setViewer(viewer.current);\n        linkService.current.setExternalLinkRel(externalLinkRel);\n        linkService.current.setExternalLinkTarget(externalLinkTarget);\n    }, [externalLinkRel, externalLinkTarget]);\n    const registerPage = (0, react_1.useCallback)((pageIndex, ref) => {\n        pages.current[pageIndex] = ref;\n    }, []);\n    const unregisterPage = (0, react_1.useCallback)((pageIndex) => {\n        delete pages.current[pageIndex];\n    }, []);\n    const childContext = (0, react_1.useMemo)(() => ({\n        imageResourcesPath,\n        linkService: linkService.current,\n        onItemClick,\n        pdf,\n        registerPage,\n        renderMode,\n        rotate,\n        unregisterPage,\n    }), [imageResourcesPath, onItemClick, pdf, registerPage, renderMode, rotate, unregisterPage]);\n    const eventProps = (0, react_1.useMemo)(() => (0, make_event_props_1.default)(otherProps, () => pdf), \n    // biome-ignore lint/correctness/useExhaustiveDependencies: FIXME\n    [otherProps, pdf]);\n    function renderChildren() {\n        return (0, jsx_runtime_1.jsx)(DocumentContext_js_1.default.Provider, { value: childContext, children: children });\n    }\n    function renderContent() {\n        if (!file) {\n            return (0, jsx_runtime_1.jsx)(Message_js_1.default, { type: \"no-data\", children: typeof noData === 'function' ? noData() : noData });\n        }\n        if (pdf === undefined || pdf === null) {\n            return ((0, jsx_runtime_1.jsx)(Message_js_1.default, { type: \"loading\", children: typeof loading === 'function' ? loading() : loading }));\n        }\n        if (pdf === false) {\n            return (0, jsx_runtime_1.jsx)(Message_js_1.default, { type: \"error\", children: typeof error === 'function' ? error() : error });\n        }\n        return renderChildren();\n    }\n    return ((0, jsx_runtime_1.jsx)(\"div\", Object.assign({ className: (0, clsx_1.default)('react-pdf__Document', className), \n        // Assertion is needed for React 18 compatibility\n        ref: inputRef, style: {\n            ['--scale-factor']: '1',\n        } }, eventProps, { children: renderContent() })));\n});\nexports.default = Document;\n","\"use strict\";\n'use client';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nconst documentContext = (0, react_1.createContext)(null);\nexports.default = documentContext;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst DEFAULT_LINK_REL = 'noopener noreferrer nofollow';\nclass LinkService {\n    constructor() {\n        this.externalLinkEnabled = true;\n        this.externalLinkRel = undefined;\n        this.externalLinkTarget = undefined;\n        this.isInPresentationMode = false;\n        this.pdfDocument = undefined;\n        this.pdfViewer = undefined;\n    }\n    setDocument(pdfDocument) {\n        this.pdfDocument = pdfDocument;\n    }\n    setViewer(pdfViewer) {\n        this.pdfViewer = pdfViewer;\n    }\n    setExternalLinkRel(externalLinkRel) {\n        this.externalLinkRel = externalLinkRel;\n    }\n    setExternalLinkTarget(externalLinkTarget) {\n        this.externalLinkTarget = externalLinkTarget;\n    }\n    setHistory() {\n        // Intentionally empty\n    }\n    get pagesCount() {\n        return this.pdfDocument ? this.pdfDocument.numPages : 0;\n    }\n    get page() {\n        (0, tiny_invariant_1.default)(this.pdfViewer, 'PDF viewer is not initialized.');\n        return this.pdfViewer.currentPageNumber || 0;\n    }\n    set page(value) {\n        (0, tiny_invariant_1.default)(this.pdfViewer, 'PDF viewer is not initialized.');\n        this.pdfViewer.currentPageNumber = value;\n    }\n    get rotation() {\n        return 0;\n    }\n    set rotation(_value) {\n        // Intentionally empty\n    }\n    goToDestination(dest) {\n        return new Promise((resolve) => {\n            (0, tiny_invariant_1.default)(this.pdfDocument, 'PDF document not loaded.');\n            (0, tiny_invariant_1.default)(dest, 'Destination is not specified.');\n            if (typeof dest === 'string') {\n                this.pdfDocument.getDestination(dest).then(resolve);\n            }\n            else if (Array.isArray(dest)) {\n                resolve(dest);\n            }\n            else {\n                dest.then(resolve);\n            }\n        }).then((explicitDest) => {\n            (0, tiny_invariant_1.default)(Array.isArray(explicitDest), `\"${explicitDest}\" is not a valid destination array.`);\n            const destRef = explicitDest[0];\n            new Promise((resolve) => {\n                (0, tiny_invariant_1.default)(this.pdfDocument, 'PDF document not loaded.');\n                if (destRef instanceof Object) {\n                    this.pdfDocument\n                        .getPageIndex(destRef)\n                        .then((pageIndex) => {\n                        resolve(pageIndex);\n                    })\n                        .catch(() => {\n                        (0, tiny_invariant_1.default)(false, `\"${destRef}\" is not a valid page reference.`);\n                    });\n                }\n                else if (typeof destRef === 'number') {\n                    resolve(destRef);\n                }\n                else {\n                    (0, tiny_invariant_1.default)(false, `\"${destRef}\" is not a valid destination reference.`);\n                }\n            }).then((pageIndex) => {\n                const pageNumber = pageIndex + 1;\n                (0, tiny_invariant_1.default)(this.pdfViewer, 'PDF viewer is not initialized.');\n                (0, tiny_invariant_1.default)(pageNumber >= 1 && pageNumber <= this.pagesCount, `\"${pageNumber}\" is not a valid page number.`);\n                this.pdfViewer.scrollPageIntoView({\n                    dest: explicitDest,\n                    pageIndex,\n                    pageNumber,\n                });\n            });\n        });\n    }\n    navigateTo(dest) {\n        this.goToDestination(dest);\n    }\n    goToPage(pageNumber) {\n        const pageIndex = pageNumber - 1;\n        (0, tiny_invariant_1.default)(this.pdfViewer, 'PDF viewer is not initialized.');\n        (0, tiny_invariant_1.default)(pageNumber >= 1 && pageNumber <= this.pagesCount, `\"${pageNumber}\" is not a valid page number.`);\n        this.pdfViewer.scrollPageIntoView({\n            pageIndex,\n            pageNumber,\n        });\n    }\n    addLinkAttributes(link, url, newWindow) {\n        link.href = url;\n        link.rel = this.externalLinkRel || DEFAULT_LINK_REL;\n        link.target = newWindow ? '_blank' : this.externalLinkTarget || '';\n    }\n    getDestinationHash() {\n        return '#';\n    }\n    getAnchorUrl() {\n        return '#';\n    }\n    setHash() {\n        // Intentionally empty\n    }\n    executeNamedAction() {\n        // Intentionally empty\n    }\n    cachePageRef() {\n        // Intentionally empty\n    }\n    isPageVisible() {\n        return true;\n    }\n    isPageCached() {\n        return true;\n    }\n    executeSetOCGState() {\n        // Intentionally empty\n    }\n}\nexports.default = LinkService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Message;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nfunction Message({ children, type }) {\n    return (0, jsx_runtime_1.jsx)(\"div\", { className: `react-pdf__message react-pdf__message--${type}`, children: children });\n}\n","\"use strict\";\n'use client';\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Outline;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst make_cancellable_promise_1 = __importDefault(require(\"make-cancellable-promise\"));\nconst make_event_props_1 = __importDefault(require(\"make-event-props\"));\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst OutlineContext_js_1 = __importDefault(require(\"./OutlineContext.js\"));\nconst OutlineItem_js_1 = __importDefault(require(\"./OutlineItem.js\"));\nconst utils_js_1 = require(\"./shared/utils.js\");\nconst useDocumentContext_js_1 = __importDefault(require(\"./shared/hooks/useDocumentContext.js\"));\nconst useResolver_js_1 = __importDefault(require(\"./shared/hooks/useResolver.js\"));\n/**\n * Displays an outline (table of contents).\n *\n * Should be placed inside `<Document />`. Alternatively, it can have `pdf` prop passed, which can be obtained from `<Document />`'s `onLoadSuccess` callback function.\n */\nfunction Outline(props) {\n    const documentContext = (0, useDocumentContext_js_1.default)();\n    const mergedProps = Object.assign(Object.assign({}, documentContext), props);\n    const { className, inputRef, onItemClick, onLoadError: onLoadErrorProps, onLoadSuccess: onLoadSuccessProps, pdf } = mergedProps, otherProps = __rest(mergedProps, [\"className\", \"inputRef\", \"onItemClick\", \"onLoadError\", \"onLoadSuccess\", \"pdf\"]);\n    (0, tiny_invariant_1.default)(pdf, 'Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.');\n    const [outlineState, outlineDispatch] = (0, useResolver_js_1.default)();\n    const { value: outline, error: outlineError } = outlineState;\n    /**\n     * Called when an outline is read successfully\n     */\n    function onLoadSuccess() {\n        if (typeof outline === 'undefined' || outline === false) {\n            return;\n        }\n        if (onLoadSuccessProps) {\n            onLoadSuccessProps(outline);\n        }\n    }\n    /**\n     * Called when an outline failed to read successfully\n     */\n    function onLoadError() {\n        if (!outlineError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        (0, warning_1.default)(false, outlineError.toString());\n        if (onLoadErrorProps) {\n            onLoadErrorProps(outlineError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on pdf change\n    (0, react_1.useEffect)(function resetOutline() {\n        outlineDispatch({ type: 'RESET' });\n    }, [outlineDispatch, pdf]);\n    (0, react_1.useEffect)(function loadOutline() {\n        if (!pdf) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        const cancellable = (0, make_cancellable_promise_1.default)(pdf.getOutline());\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextOutline) => {\n            outlineDispatch({ type: 'RESOLVE', value: nextOutline });\n        })\n            .catch((error) => {\n            outlineDispatch({ type: 'REJECT', error });\n        });\n        return () => (0, utils_js_1.cancelRunningTask)(runningTask);\n    }, [outlineDispatch, pdf]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(() => {\n        if (outline === undefined) {\n            return;\n        }\n        if (outline === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [outline]);\n    const childContext = (0, react_1.useMemo)(() => ({\n        onItemClick,\n    }), [onItemClick]);\n    const eventProps = (0, react_1.useMemo)(() => (0, make_event_props_1.default)(otherProps, () => outline), \n    // biome-ignore lint/correctness/useExhaustiveDependencies: FIXME\n    [otherProps, outline]);\n    if (!outline) {\n        return null;\n    }\n    function renderOutline() {\n        if (!outline) {\n            return null;\n        }\n        return ((0, jsx_runtime_1.jsx)(\"ul\", { children: outline.map((item, itemIndex) => ((0, jsx_runtime_1.jsx)(OutlineItem_js_1.default, { item: item, pdf: pdf }, typeof item.dest === 'string' ? item.dest : itemIndex))) }));\n    }\n    return ((0, jsx_runtime_1.jsx)(\"div\", Object.assign({ className: (0, clsx_1.default)('react-pdf__Outline', className), ref: inputRef }, eventProps, { children: (0, jsx_runtime_1.jsx)(OutlineContext_js_1.default.Provider, { value: childContext, children: renderOutline() }) })));\n}\n","\"use strict\";\n'use client';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nconst outlineContext = (0, react_1.createContext)(null);\nexports.default = outlineContext;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = OutlineItem;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst Ref_js_1 = __importDefault(require(\"./Ref.js\"));\nconst useCachedValue_js_1 = __importDefault(require(\"./shared/hooks/useCachedValue.js\"));\nconst useDocumentContext_js_1 = __importDefault(require(\"./shared/hooks/useDocumentContext.js\"));\nconst useOutlineContext_js_1 = __importDefault(require(\"./shared/hooks/useOutlineContext.js\"));\nfunction OutlineItem(props) {\n    const documentContext = (0, useDocumentContext_js_1.default)();\n    const outlineContext = (0, useOutlineContext_js_1.default)();\n    (0, tiny_invariant_1.default)(outlineContext, 'Unable to find Outline context.');\n    const mergedProps = Object.assign(Object.assign(Object.assign({}, documentContext), outlineContext), props);\n    const { item, linkService, onItemClick, pdf } = mergedProps, otherProps = __rest(mergedProps, [\"item\", \"linkService\", \"onItemClick\", \"pdf\"]);\n    (0, tiny_invariant_1.default)(pdf, 'Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.');\n    const getDestination = (0, useCachedValue_js_1.default)(() => {\n        if (typeof item.dest === 'string') {\n            return pdf.getDestination(item.dest);\n        }\n        return item.dest;\n    });\n    const getPageIndex = (0, useCachedValue_js_1.default)(() => __awaiter(this, void 0, void 0, function* () {\n        const destination = yield getDestination();\n        if (!destination) {\n            throw new Error('Destination not found.');\n        }\n        const [ref] = destination;\n        return pdf.getPageIndex(new Ref_js_1.default(ref));\n    }));\n    const getPageNumber = (0, useCachedValue_js_1.default)(() => __awaiter(this, void 0, void 0, function* () {\n        const pageIndex = yield getPageIndex();\n        return pageIndex + 1;\n    }));\n    function onClick(event) {\n        event.preventDefault();\n        (0, tiny_invariant_1.default)(onItemClick || linkService, 'Either onItemClick callback or linkService must be defined in order to navigate to an outline item.');\n        if (onItemClick) {\n            Promise.all([getDestination(), getPageIndex(), getPageNumber()]).then(([dest, pageIndex, pageNumber]) => {\n                onItemClick({\n                    dest,\n                    pageIndex,\n                    pageNumber,\n                });\n            });\n        }\n        else if (linkService) {\n            linkService.goToDestination(item.dest);\n        }\n    }\n    function renderSubitems() {\n        if (!item.items || !item.items.length) {\n            return null;\n        }\n        const { items: subitems } = item;\n        return ((0, jsx_runtime_1.jsx)(\"ul\", { children: subitems.map((subitem, subitemIndex) => ((0, jsx_runtime_1.jsx)(OutlineItem, Object.assign({ item: subitem, pdf: pdf }, otherProps), typeof subitem.dest === 'string' ? subitem.dest : subitemIndex))) }));\n    }\n    return ((0, jsx_runtime_1.jsxs)(\"li\", { children: [(0, jsx_runtime_1.jsx)(\"a\", { href: \"#\", onClick: onClick, children: item.title }), renderSubitems()] }));\n}\n","\"use strict\";\n'use client';\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Page;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst make_cancellable_promise_1 = __importDefault(require(\"make-cancellable-promise\"));\nconst make_event_props_1 = __importDefault(require(\"make-event-props\"));\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst merge_refs_1 = __importDefault(require(\"merge-refs\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst PageContext_js_1 = __importDefault(require(\"./PageContext.js\"));\nconst Message_js_1 = __importDefault(require(\"./Message.js\"));\nconst Canvas_js_1 = __importDefault(require(\"./Page/Canvas.js\"));\nconst TextLayer_js_1 = __importDefault(require(\"./Page/TextLayer.js\"));\nconst AnnotationLayer_js_1 = __importDefault(require(\"./Page/AnnotationLayer.js\"));\nconst utils_js_1 = require(\"./shared/utils.js\");\nconst useDocumentContext_js_1 = __importDefault(require(\"./shared/hooks/useDocumentContext.js\"));\nconst useResolver_js_1 = __importDefault(require(\"./shared/hooks/useResolver.js\"));\nconst defaultScale = 1;\n/**\n * Displays a page.\n *\n * Should be placed inside `<Document />`. Alternatively, it can have `pdf` prop passed, which can be obtained from `<Document />`'s `onLoadSuccess` callback function, however some advanced functions like linking between pages inside a document may not be working correctly.\n */\nfunction Page(props) {\n    const documentContext = (0, useDocumentContext_js_1.default)();\n    const mergedProps = Object.assign(Object.assign({}, documentContext), props);\n    const { _className = 'react-pdf__Page', _enableRegisterUnregisterPage = true, canvasBackground, canvasRef, children, className, customRenderer: CustomRenderer, customTextRenderer, devicePixelRatio, error = 'Failed to load the page.', height, inputRef, loading = 'Loading page…', noData = 'No page specified.', onGetAnnotationsError: onGetAnnotationsErrorProps, onGetAnnotationsSuccess: onGetAnnotationsSuccessProps, onGetStructTreeError: onGetStructTreeErrorProps, onGetStructTreeSuccess: onGetStructTreeSuccessProps, onGetTextError: onGetTextErrorProps, onGetTextSuccess: onGetTextSuccessProps, onLoadError: onLoadErrorProps, onLoadSuccess: onLoadSuccessProps, onRenderAnnotationLayerError: onRenderAnnotationLayerErrorProps, onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccessProps, onRenderError: onRenderErrorProps, onRenderSuccess: onRenderSuccessProps, onRenderTextLayerError: onRenderTextLayerErrorProps, onRenderTextLayerSuccess: onRenderTextLayerSuccessProps, pageIndex: pageIndexProps, pageNumber: pageNumberProps, pdf, registerPage, renderAnnotationLayer: renderAnnotationLayerProps = true, renderForms = false, renderMode = 'canvas', renderTextLayer: renderTextLayerProps = true, rotate: rotateProps, scale: scaleProps = defaultScale, unregisterPage, width } = mergedProps, otherProps = __rest(mergedProps, [\"_className\", \"_enableRegisterUnregisterPage\", \"canvasBackground\", \"canvasRef\", \"children\", \"className\", \"customRenderer\", \"customTextRenderer\", \"devicePixelRatio\", \"error\", \"height\", \"inputRef\", \"loading\", \"noData\", \"onGetAnnotationsError\", \"onGetAnnotationsSuccess\", \"onGetStructTreeError\", \"onGetStructTreeSuccess\", \"onGetTextError\", \"onGetTextSuccess\", \"onLoadError\", \"onLoadSuccess\", \"onRenderAnnotationLayerError\", \"onRenderAnnotationLayerSuccess\", \"onRenderError\", \"onRenderSuccess\", \"onRenderTextLayerError\", \"onRenderTextLayerSuccess\", \"pageIndex\", \"pageNumber\", \"pdf\", \"registerPage\", \"renderAnnotationLayer\", \"renderForms\", \"renderMode\", \"renderTextLayer\", \"rotate\", \"scale\", \"unregisterPage\", \"width\"]);\n    const [pageState, pageDispatch] = (0, useResolver_js_1.default)();\n    const { value: page, error: pageError } = pageState;\n    const pageElement = (0, react_1.useRef)(null);\n    (0, tiny_invariant_1.default)(pdf, 'Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.');\n    const pageIndex = (0, utils_js_1.isProvided)(pageNumberProps) ? pageNumberProps - 1 : (pageIndexProps !== null && pageIndexProps !== void 0 ? pageIndexProps : null);\n    const pageNumber = pageNumberProps !== null && pageNumberProps !== void 0 ? pageNumberProps : ((0, utils_js_1.isProvided)(pageIndexProps) ? pageIndexProps + 1 : null);\n    const rotate = rotateProps !== null && rotateProps !== void 0 ? rotateProps : (page ? page.rotate : null);\n    const scale = (0, react_1.useMemo)(() => {\n        if (!page) {\n            return null;\n        }\n        // Be default, we'll render page at 100% * scale width.\n        let pageScale = 1;\n        // Passing scale explicitly null would cause the page not to render\n        const scaleWithDefault = scaleProps !== null && scaleProps !== void 0 ? scaleProps : defaultScale;\n        // If width/height is defined, calculate the scale of the page so it could be of desired width.\n        if (width || height) {\n            const viewport = page.getViewport({ scale: 1, rotation: rotate });\n            if (width) {\n                pageScale = width / viewport.width;\n            }\n            else if (height) {\n                pageScale = height / viewport.height;\n            }\n        }\n        return scaleWithDefault * pageScale;\n    }, [height, page, rotate, scaleProps, width]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on pdf change\n    (0, react_1.useEffect)(function hook() {\n        return () => {\n            if (!(0, utils_js_1.isProvided)(pageIndex)) {\n                // Impossible, but TypeScript doesn't know that\n                return;\n            }\n            if (_enableRegisterUnregisterPage && unregisterPage) {\n                unregisterPage(pageIndex);\n            }\n        };\n    }, [_enableRegisterUnregisterPage, pdf, pageIndex, unregisterPage]);\n    /**\n     * Called when a page is loaded successfully\n     */\n    function onLoadSuccess() {\n        if (onLoadSuccessProps) {\n            if (!page || !scale) {\n                // Impossible, but TypeScript doesn't know that\n                return;\n            }\n            onLoadSuccessProps((0, utils_js_1.makePageCallback)(page, scale));\n        }\n        if (_enableRegisterUnregisterPage && registerPage) {\n            if (!(0, utils_js_1.isProvided)(pageIndex) || !pageElement.current) {\n                // Impossible, but TypeScript doesn't know that\n                return;\n            }\n            registerPage(pageIndex, pageElement.current);\n        }\n    }\n    /**\n     * Called when a page failed to load\n     */\n    function onLoadError() {\n        if (!pageError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        (0, warning_1.default)(false, pageError.toString());\n        if (onLoadErrorProps) {\n            onLoadErrorProps(pageError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on pdf and pageIndex change\n    (0, react_1.useEffect)(function resetPage() {\n        pageDispatch({ type: 'RESET' });\n    }, [pageDispatch, pdf, pageIndex]);\n    (0, react_1.useEffect)(function loadPage() {\n        if (!pdf || !pageNumber) {\n            return;\n        }\n        const cancellable = (0, make_cancellable_promise_1.default)(pdf.getPage(pageNumber));\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextPage) => {\n            pageDispatch({ type: 'RESOLVE', value: nextPage });\n        })\n            .catch((error) => {\n            pageDispatch({ type: 'REJECT', error });\n        });\n        return () => (0, utils_js_1.cancelRunningTask)(runningTask);\n    }, [pageDispatch, pdf, pageNumber]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(() => {\n        if (page === undefined) {\n            return;\n        }\n        if (page === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [page, scale]);\n    const childContext = (0, react_1.useMemo)(() => \n    // Technically there cannot be page without pageIndex, pageNumber, rotate and scale, but TypeScript doesn't know that\n    page && (0, utils_js_1.isProvided)(pageIndex) && pageNumber && (0, utils_js_1.isProvided)(rotate) && (0, utils_js_1.isProvided)(scale)\n        ? {\n            _className,\n            canvasBackground,\n            customTextRenderer,\n            devicePixelRatio,\n            onGetAnnotationsError: onGetAnnotationsErrorProps,\n            onGetAnnotationsSuccess: onGetAnnotationsSuccessProps,\n            onGetStructTreeError: onGetStructTreeErrorProps,\n            onGetStructTreeSuccess: onGetStructTreeSuccessProps,\n            onGetTextError: onGetTextErrorProps,\n            onGetTextSuccess: onGetTextSuccessProps,\n            onRenderAnnotationLayerError: onRenderAnnotationLayerErrorProps,\n            onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccessProps,\n            onRenderError: onRenderErrorProps,\n            onRenderSuccess: onRenderSuccessProps,\n            onRenderTextLayerError: onRenderTextLayerErrorProps,\n            onRenderTextLayerSuccess: onRenderTextLayerSuccessProps,\n            page,\n            pageIndex,\n            pageNumber,\n            renderForms,\n            renderTextLayer: renderTextLayerProps,\n            rotate,\n            scale,\n        }\n        : null, [\n        _className,\n        canvasBackground,\n        customTextRenderer,\n        devicePixelRatio,\n        onGetAnnotationsErrorProps,\n        onGetAnnotationsSuccessProps,\n        onGetStructTreeErrorProps,\n        onGetStructTreeSuccessProps,\n        onGetTextErrorProps,\n        onGetTextSuccessProps,\n        onRenderAnnotationLayerErrorProps,\n        onRenderAnnotationLayerSuccessProps,\n        onRenderErrorProps,\n        onRenderSuccessProps,\n        onRenderTextLayerErrorProps,\n        onRenderTextLayerSuccessProps,\n        page,\n        pageIndex,\n        pageNumber,\n        renderForms,\n        renderTextLayerProps,\n        rotate,\n        scale,\n    ]);\n    const eventProps = (0, react_1.useMemo)(() => (0, make_event_props_1.default)(otherProps, () => page ? (scale ? (0, utils_js_1.makePageCallback)(page, scale) : undefined) : page), \n    // biome-ignore lint/correctness/useExhaustiveDependencies: FIXME\n    [otherProps, page, scale]);\n    const pageKey = `${pageIndex}@${scale}/${rotate}`;\n    function renderMainLayer() {\n        switch (renderMode) {\n            case 'custom': {\n                (0, tiny_invariant_1.default)(CustomRenderer, `renderMode was set to \"custom\", but no customRenderer was passed.`);\n                return (0, jsx_runtime_1.jsx)(CustomRenderer, {}, `${pageKey}_custom`);\n            }\n            case 'none':\n                return null;\n            case 'canvas':\n            default:\n                return (0, jsx_runtime_1.jsx)(Canvas_js_1.default, { canvasRef: canvasRef }, `${pageKey}_canvas`);\n        }\n    }\n    function renderTextLayer() {\n        if (!renderTextLayerProps) {\n            return null;\n        }\n        return (0, jsx_runtime_1.jsx)(TextLayer_js_1.default, {}, `${pageKey}_text`);\n    }\n    function renderAnnotationLayer() {\n        if (!renderAnnotationLayerProps) {\n            return null;\n        }\n        return (0, jsx_runtime_1.jsx)(AnnotationLayer_js_1.default, {}, `${pageKey}_annotations`);\n    }\n    function renderChildren() {\n        return ((0, jsx_runtime_1.jsxs)(PageContext_js_1.default.Provider, { value: childContext, children: [renderMainLayer(), renderTextLayer(), renderAnnotationLayer(), children] }));\n    }\n    function renderContent() {\n        if (!pageNumber) {\n            return (0, jsx_runtime_1.jsx)(Message_js_1.default, { type: \"no-data\", children: typeof noData === 'function' ? noData() : noData });\n        }\n        if (pdf === null || page === undefined || page === null) {\n            return ((0, jsx_runtime_1.jsx)(Message_js_1.default, { type: \"loading\", children: typeof loading === 'function' ? loading() : loading }));\n        }\n        if (pdf === false || page === false) {\n            return (0, jsx_runtime_1.jsx)(Message_js_1.default, { type: \"error\", children: typeof error === 'function' ? error() : error });\n        }\n        return renderChildren();\n    }\n    return ((0, jsx_runtime_1.jsx)(\"div\", Object.assign({ className: (0, clsx_1.default)(_className, className), \"data-page-number\": pageNumber, \n        // Assertion is needed for React 18 compatibility\n        ref: (0, merge_refs_1.default)(inputRef, pageElement), style: {\n            ['--scale-factor']: `${scale}`,\n            backgroundColor: canvasBackground || 'white',\n            position: 'relative',\n            minWidth: 'min-content',\n            minHeight: 'min-content',\n        } }, eventProps, { children: renderContent() })));\n}\n","\"use strict\";\n'use client';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nconst pageContext = (0, react_1.createContext)(null);\nexports.default = pageContext;\n","\"use strict\";\n'use client';\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = AnnotationLayer;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst make_cancellable_promise_1 = __importDefault(require(\"make-cancellable-promise\"));\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst pdfjs = __importStar(require(\"pdfjs-dist\"));\nconst useDocumentContext_js_1 = __importDefault(require(\"../shared/hooks/useDocumentContext.js\"));\nconst usePageContext_js_1 = __importDefault(require(\"../shared/hooks/usePageContext.js\"));\nconst useResolver_js_1 = __importDefault(require(\"../shared/hooks/useResolver.js\"));\nconst utils_js_1 = require(\"../shared/utils.js\");\nfunction AnnotationLayer() {\n    const documentContext = (0, useDocumentContext_js_1.default)();\n    const pageContext = (0, usePageContext_js_1.default)();\n    (0, tiny_invariant_1.default)(pageContext, 'Unable to find Page context.');\n    const mergedProps = Object.assign(Object.assign({}, documentContext), pageContext);\n    const { imageResourcesPath, linkService, onGetAnnotationsError: onGetAnnotationsErrorProps, onGetAnnotationsSuccess: onGetAnnotationsSuccessProps, onRenderAnnotationLayerError: onRenderAnnotationLayerErrorProps, onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccessProps, page, pdf, renderForms, rotate, scale = 1, } = mergedProps;\n    (0, tiny_invariant_1.default)(pdf, 'Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.');\n    (0, tiny_invariant_1.default)(page, 'Attempted to load page annotations, but no page was specified.');\n    (0, tiny_invariant_1.default)(linkService, 'Attempted to load page annotations, but no linkService was specified.');\n    const [annotationsState, annotationsDispatch] = (0, useResolver_js_1.default)();\n    const { value: annotations, error: annotationsError } = annotationsState;\n    const layerElement = (0, react_1.useRef)(null);\n    (0, warning_1.default)(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue('--react-pdf-annotation-layer'), 10) === 1, 'AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations');\n    function onLoadSuccess() {\n        if (!annotations) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onGetAnnotationsSuccessProps) {\n            onGetAnnotationsSuccessProps(annotations);\n        }\n    }\n    function onLoadError() {\n        if (!annotationsError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        (0, warning_1.default)(false, annotationsError.toString());\n        if (onGetAnnotationsErrorProps) {\n            onGetAnnotationsErrorProps(annotationsError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on page change\n    (0, react_1.useEffect)(function resetAnnotations() {\n        annotationsDispatch({ type: 'RESET' });\n    }, [annotationsDispatch, page]);\n    (0, react_1.useEffect)(function loadAnnotations() {\n        if (!page) {\n            return;\n        }\n        const cancellable = (0, make_cancellable_promise_1.default)(page.getAnnotations());\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextAnnotations) => {\n            annotationsDispatch({ type: 'RESOLVE', value: nextAnnotations });\n        })\n            .catch((error) => {\n            annotationsDispatch({ type: 'REJECT', error });\n        });\n        return () => {\n            (0, utils_js_1.cancelRunningTask)(runningTask);\n        };\n    }, [annotationsDispatch, page]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(() => {\n        if (annotations === undefined) {\n            return;\n        }\n        if (annotations === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [annotations]);\n    function onRenderSuccess() {\n        if (onRenderAnnotationLayerSuccessProps) {\n            onRenderAnnotationLayerSuccessProps();\n        }\n    }\n    function onRenderError(error) {\n        (0, warning_1.default)(false, `${error}`);\n        if (onRenderAnnotationLayerErrorProps) {\n            onRenderAnnotationLayerErrorProps(error);\n        }\n    }\n    const viewport = (0, react_1.useMemo)(() => page.getViewport({ scale, rotation: rotate }), [page, rotate, scale]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(function renderAnnotationLayer() {\n        if (!pdf || !page || !linkService || !annotations) {\n            return;\n        }\n        const { current: layer } = layerElement;\n        if (!layer) {\n            return;\n        }\n        const clonedViewport = viewport.clone({ dontFlip: true });\n        const annotationLayerParameters = {\n            accessibilityManager: null, // TODO: Implement this\n            annotationCanvasMap: null, // TODO: Implement this\n            annotationEditorUIManager: null, // TODO: Implement this\n            div: layer,\n            l10n: null, // TODO: Implement this\n            page,\n            structTreeLayer: null, // TODO: Implement this\n            viewport: clonedViewport,\n        };\n        const renderParameters = {\n            annotations,\n            annotationStorage: pdf.annotationStorage,\n            div: layer,\n            imageResourcesPath,\n            linkService,\n            page,\n            renderForms,\n            viewport: clonedViewport,\n        };\n        layer.innerHTML = '';\n        try {\n            new pdfjs.AnnotationLayer(annotationLayerParameters).render(renderParameters);\n            // Intentional immediate callback\n            onRenderSuccess();\n        }\n        catch (error) {\n            onRenderError(error);\n        }\n        return () => {\n            // TODO: Cancel running task?\n        };\n    }, [annotations, imageResourcesPath, linkService, page, pdf, renderForms, viewport]);\n    return ((0, jsx_runtime_1.jsx)(\"div\", { className: (0, clsx_1.default)('react-pdf__Page__annotations', 'annotationLayer'), ref: layerElement }));\n}\n","\"use strict\";\n'use client';\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Canvas;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst merge_refs_1 = __importDefault(require(\"merge-refs\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst pdfjs = __importStar(require(\"pdfjs-dist\"));\nconst StructTree_js_1 = __importDefault(require(\"../StructTree.js\"));\nconst usePageContext_js_1 = __importDefault(require(\"../shared/hooks/usePageContext.js\"));\nconst utils_js_1 = require(\"../shared/utils.js\");\nconst ANNOTATION_MODE = pdfjs.AnnotationMode;\nfunction Canvas(props) {\n    const pageContext = (0, usePageContext_js_1.default)();\n    (0, tiny_invariant_1.default)(pageContext, 'Unable to find Page context.');\n    const mergedProps = Object.assign(Object.assign({}, pageContext), props);\n    const { _className, canvasBackground, devicePixelRatio = (0, utils_js_1.getDevicePixelRatio)(), onRenderError: onRenderErrorProps, onRenderSuccess: onRenderSuccessProps, page, renderForms, renderTextLayer, rotate, scale, } = mergedProps;\n    const { canvasRef } = props;\n    (0, tiny_invariant_1.default)(page, 'Attempted to render page canvas, but no page was specified.');\n    const canvasElement = (0, react_1.useRef)(null);\n    /**\n     * Called when a page is rendered successfully.\n     */\n    function onRenderSuccess() {\n        if (!page) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onRenderSuccessProps) {\n            onRenderSuccessProps((0, utils_js_1.makePageCallback)(page, scale));\n        }\n    }\n    /**\n     * Called when a page fails to render.\n     */\n    function onRenderError(error) {\n        if ((0, utils_js_1.isCancelException)(error)) {\n            return;\n        }\n        (0, warning_1.default)(false, error.toString());\n        if (onRenderErrorProps) {\n            onRenderErrorProps(error);\n        }\n    }\n    const renderViewport = (0, react_1.useMemo)(() => page.getViewport({ scale: scale * devicePixelRatio, rotation: rotate }), [devicePixelRatio, page, rotate, scale]);\n    const viewport = (0, react_1.useMemo)(() => page.getViewport({ scale, rotation: rotate }), [page, rotate, scale]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(function drawPageOnCanvas() {\n        if (!page) {\n            return;\n        }\n        // Ensures the canvas will be re-rendered from scratch. Otherwise all form data will stay.\n        page.cleanup();\n        const { current: canvas } = canvasElement;\n        if (!canvas) {\n            return;\n        }\n        canvas.width = renderViewport.width;\n        canvas.height = renderViewport.height;\n        canvas.style.width = `${Math.floor(viewport.width)}px`;\n        canvas.style.height = `${Math.floor(viewport.height)}px`;\n        canvas.style.visibility = 'hidden';\n        const renderContext = {\n            annotationMode: renderForms ? ANNOTATION_MODE.ENABLE_FORMS : ANNOTATION_MODE.ENABLE,\n            canvasContext: canvas.getContext('2d', { alpha: false }),\n            viewport: renderViewport,\n        };\n        if (canvasBackground) {\n            renderContext.background = canvasBackground;\n        }\n        const cancellable = page.render(renderContext);\n        const runningTask = cancellable;\n        cancellable.promise\n            .then(() => {\n            canvas.style.visibility = '';\n            onRenderSuccess();\n        })\n            .catch(onRenderError);\n        return () => (0, utils_js_1.cancelRunningTask)(runningTask);\n    }, [canvasBackground, page, renderForms, renderViewport, viewport]);\n    const cleanup = (0, react_1.useCallback)(() => {\n        const { current: canvas } = canvasElement;\n        /**\n         * Zeroing the width and height cause most browsers to release graphics\n         * resources immediately, which can greatly reduce memory consumption.\n         */\n        if (canvas) {\n            canvas.width = 0;\n            canvas.height = 0;\n        }\n    }, []);\n    (0, react_1.useEffect)(() => cleanup, [cleanup]);\n    return ((0, jsx_runtime_1.jsx)(\"canvas\", { className: `${_className}__canvas`, dir: \"ltr\", ref: (0, merge_refs_1.default)(canvasRef, canvasElement), style: {\n            display: 'block',\n            userSelect: 'none',\n        }, children: renderTextLayer ? (0, jsx_runtime_1.jsx)(StructTree_js_1.default, {}) : null }));\n}\n","\"use strict\";\n'use client';\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = TextLayer;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst make_cancellable_promise_1 = __importDefault(require(\"make-cancellable-promise\"));\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst pdfjs = __importStar(require(\"pdfjs-dist\"));\nconst usePageContext_js_1 = __importDefault(require(\"../shared/hooks/usePageContext.js\"));\nconst useResolver_js_1 = __importDefault(require(\"../shared/hooks/useResolver.js\"));\nconst utils_js_1 = require(\"../shared/utils.js\");\nfunction isTextItem(item) {\n    return 'str' in item;\n}\nfunction TextLayer() {\n    const pageContext = (0, usePageContext_js_1.default)();\n    (0, tiny_invariant_1.default)(pageContext, 'Unable to find Page context.');\n    const { customTextRenderer, onGetTextError, onGetTextSuccess, onRenderTextLayerError, onRenderTextLayerSuccess, page, pageIndex, pageNumber, rotate, scale, } = pageContext;\n    (0, tiny_invariant_1.default)(page, 'Attempted to load page text content, but no page was specified.');\n    const [textContentState, textContentDispatch] = (0, useResolver_js_1.default)();\n    const { value: textContent, error: textContentError } = textContentState;\n    const layerElement = (0, react_1.useRef)(null);\n    (0, warning_1.default)(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue('--react-pdf-text-layer'), 10) === 1, 'TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer');\n    /**\n     * Called when a page text content is read successfully\n     */\n    function onLoadSuccess() {\n        if (!textContent) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onGetTextSuccess) {\n            onGetTextSuccess(textContent);\n        }\n    }\n    /**\n     * Called when a page text content failed to read successfully\n     */\n    function onLoadError() {\n        if (!textContentError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        (0, warning_1.default)(false, textContentError.toString());\n        if (onGetTextError) {\n            onGetTextError(textContentError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on page change\n    (0, react_1.useEffect)(function resetTextContent() {\n        textContentDispatch({ type: 'RESET' });\n    }, [page, textContentDispatch]);\n    (0, react_1.useEffect)(function loadTextContent() {\n        if (!page) {\n            return;\n        }\n        const cancellable = (0, make_cancellable_promise_1.default)(page.getTextContent());\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextTextContent) => {\n            textContentDispatch({ type: 'RESOLVE', value: nextTextContent });\n        })\n            .catch((error) => {\n            textContentDispatch({ type: 'REJECT', error });\n        });\n        return () => (0, utils_js_1.cancelRunningTask)(runningTask);\n    }, [page, textContentDispatch]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(() => {\n        if (textContent === undefined) {\n            return;\n        }\n        if (textContent === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [textContent]);\n    /**\n     * Called when a text layer is rendered successfully\n     */\n    const onRenderSuccess = (0, react_1.useCallback)(() => {\n        if (onRenderTextLayerSuccess) {\n            onRenderTextLayerSuccess();\n        }\n    }, [onRenderTextLayerSuccess]);\n    /**\n     * Called when a text layer failed to render successfully\n     */\n    const onRenderError = (0, react_1.useCallback)((error) => {\n        (0, warning_1.default)(false, error.toString());\n        if (onRenderTextLayerError) {\n            onRenderTextLayerError(error);\n        }\n    }, [onRenderTextLayerError]);\n    function onMouseDown() {\n        const layer = layerElement.current;\n        if (!layer) {\n            return;\n        }\n        layer.classList.add('selecting');\n    }\n    function onMouseUp() {\n        const layer = layerElement.current;\n        if (!layer) {\n            return;\n        }\n        layer.classList.remove('selecting');\n    }\n    const viewport = (0, react_1.useMemo)(() => page.getViewport({ scale, rotation: rotate }), [page, rotate, scale]);\n    (0, react_1.useLayoutEffect)(function renderTextLayer() {\n        if (!page || !textContent) {\n            return;\n        }\n        const { current: layer } = layerElement;\n        if (!layer) {\n            return;\n        }\n        layer.innerHTML = '';\n        const textContentSource = page.streamTextContent({ includeMarkedContent: true });\n        const parameters = {\n            container: layer,\n            textContentSource,\n            viewport,\n        };\n        const cancellable = new pdfjs.TextLayer(parameters);\n        const runningTask = cancellable;\n        cancellable\n            .render()\n            .then(() => {\n            const end = document.createElement('div');\n            end.className = 'endOfContent';\n            layer.append(end);\n            const layerChildren = layer.querySelectorAll('[role=\"presentation\"]');\n            if (customTextRenderer) {\n                let index = 0;\n                textContent.items.forEach((item, itemIndex) => {\n                    if (!isTextItem(item)) {\n                        return;\n                    }\n                    const child = layerChildren[index];\n                    if (!child) {\n                        return;\n                    }\n                    const content = customTextRenderer(Object.assign({ pageIndex,\n                        pageNumber,\n                        itemIndex }, item));\n                    child.innerHTML = content;\n                    index += item.str && item.hasEOL ? 2 : 1;\n                });\n            }\n            // Intentional immediate callback\n            onRenderSuccess();\n        })\n            .catch(onRenderError);\n        return () => (0, utils_js_1.cancelRunningTask)(runningTask);\n    }, [\n        customTextRenderer,\n        onRenderError,\n        onRenderSuccess,\n        page,\n        pageIndex,\n        pageNumber,\n        textContent,\n        viewport,\n    ]);\n    return ((0, jsx_runtime_1.jsx)(\"div\", { className: (0, clsx_1.default)('react-pdf__Page__textContent', 'textLayer'), onMouseUp: onMouseUp, onMouseDown: onMouseDown, ref: layerElement }));\n}\n","\"use strict\";\n// As defined in https://github.com/mozilla/pdf.js/blob/d9fac3459609a807be6506fb3441b5da4b154d14/src/shared/util.js#L371-L374\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst PasswordResponses = {\n    NEED_PASSWORD: 1,\n    INCORRECT_PASSWORD: 2,\n};\nexports.default = PasswordResponses;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Ref {\n    constructor({ num, gen }) {\n        this.num = num;\n        this.gen = gen;\n    }\n    toString() {\n        let str = `${this.num}R`;\n        if (this.gen !== 0) {\n            str += this.gen;\n        }\n        return str;\n    }\n}\nexports.default = Ref;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = StructTree;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst make_cancellable_promise_1 = __importDefault(require(\"make-cancellable-promise\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst StructTreeItem_js_1 = __importDefault(require(\"./StructTreeItem.js\"));\nconst usePageContext_js_1 = __importDefault(require(\"./shared/hooks/usePageContext.js\"));\nconst useResolver_js_1 = __importDefault(require(\"./shared/hooks/useResolver.js\"));\nconst utils_js_1 = require(\"./shared/utils.js\");\nfunction StructTree() {\n    const pageContext = (0, usePageContext_js_1.default)();\n    (0, tiny_invariant_1.default)(pageContext, 'Unable to find Page context.');\n    const { onGetStructTreeError: onGetStructTreeErrorProps, onGetStructTreeSuccess: onGetStructTreeSuccessProps, } = pageContext;\n    const [structTreeState, structTreeDispatch] = (0, useResolver_js_1.default)();\n    const { value: structTree, error: structTreeError } = structTreeState;\n    const { customTextRenderer, page } = pageContext;\n    function onLoadSuccess() {\n        if (!structTree) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onGetStructTreeSuccessProps) {\n            onGetStructTreeSuccessProps(structTree);\n        }\n    }\n    function onLoadError() {\n        if (!structTreeError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        (0, warning_1.default)(false, structTreeError.toString());\n        if (onGetStructTreeErrorProps) {\n            onGetStructTreeErrorProps(structTreeError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on page change\n    (0, react_1.useEffect)(function resetStructTree() {\n        structTreeDispatch({ type: 'RESET' });\n    }, [structTreeDispatch, page]);\n    (0, react_1.useEffect)(function loadStructTree() {\n        if (customTextRenderer) {\n            // TODO: Document why this is necessary\n            return;\n        }\n        if (!page) {\n            return;\n        }\n        const cancellable = (0, make_cancellable_promise_1.default)(page.getStructTree());\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextStructTree) => {\n            structTreeDispatch({ type: 'RESOLVE', value: nextStructTree });\n        })\n            .catch((error) => {\n            structTreeDispatch({ type: 'REJECT', error });\n        });\n        return () => (0, utils_js_1.cancelRunningTask)(runningTask);\n    }, [customTextRenderer, page, structTreeDispatch]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(() => {\n        if (structTree === undefined) {\n            return;\n        }\n        if (structTree === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [structTree]);\n    if (!structTree) {\n        return null;\n    }\n    return (0, jsx_runtime_1.jsx)(StructTreeItem_js_1.default, { className: \"react-pdf__Page__structTree structTree\", node: structTree });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = StructTreeItem;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst structTreeUtils_js_1 = require(\"./shared/structTreeUtils.js\");\nfunction StructTreeItem({ className, node, }) {\n    const attributes = (0, react_1.useMemo)(() => (0, structTreeUtils_js_1.getAttributes)(node), [node]);\n    const children = (0, react_1.useMemo)(() => {\n        if (!(0, structTreeUtils_js_1.isStructTreeNode)(node)) {\n            return null;\n        }\n        if ((0, structTreeUtils_js_1.isStructTreeNodeWithOnlyContentChild)(node)) {\n            return null;\n        }\n        return node.children.map((child, index) => {\n            return (\n            // biome-ignore lint/suspicious/noArrayIndexKey: index is stable here\n            (0, jsx_runtime_1.jsx)(StructTreeItem, { node: child }, index));\n        });\n    }, [node]);\n    return ((0, jsx_runtime_1.jsx)(\"span\", Object.assign({ className: className }, attributes, { children: children })));\n}\n","\"use strict\";\n'use client';\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Thumbnail;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst Page_js_1 = __importDefault(require(\"./Page.js\"));\nconst utils_js_1 = require(\"./shared/utils.js\");\nconst useDocumentContext_js_1 = __importDefault(require(\"./shared/hooks/useDocumentContext.js\"));\n/**\n * Displays a thumbnail of a page. Does not render the annotation layer or the text layer. Does not register itself as a link target, so the user will not be scrolled to a Thumbnail component when clicked on an internal link (e.g. in Table of Contents). When clicked, attempts to navigate to the page clicked (similarly to a link in Outline).\n *\n * Should be placed inside `<Document />`. Alternatively, it can have `pdf` prop passed, which can be obtained from `<Document />`'s `onLoadSuccess` callback function.\n */\nfunction Thumbnail(props) {\n    const documentContext = (0, useDocumentContext_js_1.default)();\n    const mergedProps = Object.assign(Object.assign({}, documentContext), props);\n    const { className, linkService, onItemClick, pageIndex: pageIndexProps, pageNumber: pageNumberProps, pdf, } = mergedProps;\n    (0, tiny_invariant_1.default)(pdf, 'Attempted to load a thumbnail, but no document was specified. Wrap <Thumbnail /> in a <Document /> or pass explicit `pdf` prop.');\n    const pageIndex = (0, utils_js_1.isProvided)(pageNumberProps) ? pageNumberProps - 1 : (pageIndexProps !== null && pageIndexProps !== void 0 ? pageIndexProps : null);\n    const pageNumber = pageNumberProps !== null && pageNumberProps !== void 0 ? pageNumberProps : ((0, utils_js_1.isProvided)(pageIndexProps) ? pageIndexProps + 1 : null);\n    function onClick(event) {\n        event.preventDefault();\n        if (!(0, utils_js_1.isProvided)(pageIndex) || !pageNumber) {\n            return;\n        }\n        (0, tiny_invariant_1.default)(onItemClick || linkService, 'Either onItemClick callback or linkService must be defined in order to navigate to an outline item.');\n        if (onItemClick) {\n            onItemClick({\n                pageIndex,\n                pageNumber,\n            });\n        }\n        else if (linkService) {\n            linkService.goToPage(pageNumber);\n        }\n    }\n    const { className: classNameProps, onItemClick: onItemClickProps } = props, pageProps = __rest(props, [\"className\", \"onItemClick\"]);\n    return ((0, jsx_runtime_1.jsx)(\"a\", { className: (0, clsx_1.default)('react-pdf__Thumbnail', className), href: pageNumber ? '#' : undefined, onClick: onClick, children: (0, jsx_runtime_1.jsx)(Page_js_1.default, Object.assign({}, pageProps, { _className: \"react-pdf__Thumbnail__page\", _enableRegisterUnregisterPage: false, renderAnnotationLayer: false, renderTextLayer: false })) }));\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PasswordResponses = exports.usePageContext = exports.useOutlineContext = exports.useDocumentContext = exports.Thumbnail = exports.Page = exports.Outline = exports.Document = exports.pdfjs = void 0;\nconst pdfjs = __importStar(require(\"pdfjs-dist\"));\nexports.pdfjs = pdfjs;\nconst Document_js_1 = __importDefault(require(\"./Document.js\"));\nexports.Document = Document_js_1.default;\nconst Outline_js_1 = __importDefault(require(\"./Outline.js\"));\nexports.Outline = Outline_js_1.default;\nconst Page_js_1 = __importDefault(require(\"./Page.js\"));\nexports.Page = Page_js_1.default;\nconst Thumbnail_js_1 = __importDefault(require(\"./Thumbnail.js\"));\nexports.Thumbnail = Thumbnail_js_1.default;\nconst useDocumentContext_js_1 = __importDefault(require(\"./shared/hooks/useDocumentContext.js\"));\nexports.useDocumentContext = useDocumentContext_js_1.default;\nconst useOutlineContext_js_1 = __importDefault(require(\"./shared/hooks/useOutlineContext.js\"));\nexports.useOutlineContext = useOutlineContext_js_1.default;\nconst usePageContext_js_1 = __importDefault(require(\"./shared/hooks/usePageContext.js\"));\nexports.usePageContext = usePageContext_js_1.default;\nconst PasswordResponses_js_1 = __importDefault(require(\"./PasswordResponses.js\"));\nexports.PasswordResponses = PasswordResponses_js_1.default;\nconst utils_js_1 = require(\"./shared/utils.js\");\n(0, utils_js_1.displayWorkerWarning)();\npdfjs.GlobalWorkerOptions.workerSrc = 'pdf.worker.mjs';\n","\"use strict\";\n// From pdfjs-dist/lib/web/struct_tree_layer_builder.js\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HEADING_PATTERN = exports.PDF_ROLE_TO_HTML_ROLE = void 0;\nexports.PDF_ROLE_TO_HTML_ROLE = {\n    // Document level structure types\n    Document: null, // There's a \"document\" role, but it doesn't make sense here.\n    DocumentFragment: null,\n    // Grouping level structure types\n    Part: 'group',\n    Sect: 'group', // XXX: There's a \"section\" role, but it's abstract.\n    Div: 'group',\n    Aside: 'note',\n    NonStruct: 'none',\n    // Block level structure types\n    P: null,\n    // H<n>,\n    H: 'heading',\n    Title: null,\n    FENote: 'note',\n    // Sub-block level structure type\n    Sub: 'group',\n    // General inline level structure types\n    Lbl: null,\n    Span: null,\n    Em: null,\n    Strong: null,\n    Link: 'link',\n    Annot: 'note',\n    Form: 'form',\n    // Ruby and Warichu structure types\n    Ruby: null,\n    RB: null,\n    RT: null,\n    RP: null,\n    Warichu: null,\n    WT: null,\n    WP: null,\n    // List standard structure types\n    L: 'list',\n    LI: 'listitem',\n    LBody: null,\n    // Table standard structure types\n    Table: 'table',\n    TR: 'row',\n    TH: 'columnheader',\n    TD: 'cell',\n    THead: 'columnheader',\n    TBody: null,\n    TFoot: null,\n    // Standard structure type Caption\n    Caption: null,\n    // Standard structure type Figure\n    Figure: 'figure',\n    // Standard structure type Formula\n    Formula: null,\n    // standard structure type Artifact\n    Artifact: null,\n};\nexports.HEADING_PATTERN = /^H(\\d+)$/;\n","\"use strict\";\n'use client';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = useCachedValue;\nconst react_1 = require(\"react\");\nconst utils_js_1 = require(\"../utils.js\");\nfunction useCachedValue(getter) {\n    const ref = (0, react_1.useRef)(undefined);\n    const currentValue = ref.current;\n    if ((0, utils_js_1.isDefined)(currentValue)) {\n        return () => currentValue;\n    }\n    return () => {\n        const value = getter();\n        ref.current = value;\n        return value;\n    };\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = useDocumentContext;\nconst react_1 = require(\"react\");\nconst DocumentContext_js_1 = __importDefault(require(\"../../DocumentContext.js\"));\nfunction useDocumentContext() {\n    return (0, react_1.useContext)(DocumentContext_js_1.default);\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = useOutlineContext;\nconst react_1 = require(\"react\");\nconst OutlineContext_js_1 = __importDefault(require(\"../../OutlineContext.js\"));\nfunction useOutlineContext() {\n    return (0, react_1.useContext)(OutlineContext_js_1.default);\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = usePageContext;\nconst react_1 = require(\"react\");\nconst PageContext_js_1 = __importDefault(require(\"../../PageContext.js\"));\nfunction usePageContext() {\n    return (0, react_1.useContext)(PageContext_js_1.default);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = useResolver;\nconst react_1 = require(\"react\");\nfunction reducer(state, action) {\n    switch (action.type) {\n        case 'RESOLVE':\n            return { value: action.value, error: undefined };\n        case 'REJECT':\n            return { value: false, error: action.error };\n        case 'RESET':\n            return { value: undefined, error: undefined };\n        default:\n            return state;\n    }\n}\nfunction useResolver() {\n    return (0, react_1.useReducer)((reducer), { value: undefined, error: undefined });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isPdfRole = isPdfRole;\nexports.isStructTreeNode = isStructTreeNode;\nexports.isStructTreeNodeWithOnlyContentChild = isStructTreeNodeWithOnlyContentChild;\nexports.getRoleAttributes = getRoleAttributes;\nexports.getBaseAttributes = getBaseAttributes;\nexports.getAttributes = getAttributes;\nconst constants_js_1 = require(\"./constants.js\");\nfunction isPdfRole(role) {\n    return role in constants_js_1.PDF_ROLE_TO_HTML_ROLE;\n}\nfunction isStructTreeNode(node) {\n    return 'children' in node;\n}\nfunction isStructTreeNodeWithOnlyContentChild(node) {\n    if (!isStructTreeNode(node)) {\n        return false;\n    }\n    return node.children.length === 1 && 0 in node.children && 'id' in node.children[0];\n}\nfunction getRoleAttributes(node) {\n    const attributes = {};\n    if (isStructTreeNode(node)) {\n        const { role } = node;\n        const matches = role.match(constants_js_1.HEADING_PATTERN);\n        if (matches) {\n            attributes.role = 'heading';\n            attributes['aria-level'] = Number(matches[1]);\n        }\n        else if (isPdfRole(role)) {\n            const htmlRole = constants_js_1.PDF_ROLE_TO_HTML_ROLE[role];\n            if (htmlRole) {\n                attributes.role = htmlRole;\n            }\n        }\n    }\n    return attributes;\n}\nfunction getBaseAttributes(node) {\n    const attributes = {};\n    if (isStructTreeNode(node)) {\n        if (node.alt !== undefined) {\n            attributes['aria-label'] = node.alt;\n        }\n        if (node.lang !== undefined) {\n            attributes.lang = node.lang;\n        }\n        if (isStructTreeNodeWithOnlyContentChild(node)) {\n            const [child] = node.children;\n            if (child) {\n                const childAttributes = getBaseAttributes(child);\n                return Object.assign(Object.assign({}, attributes), childAttributes);\n            }\n        }\n    }\n    else {\n        if ('id' in node) {\n            attributes['aria-owns'] = node.id;\n        }\n    }\n    return attributes;\n}\nfunction getAttributes(node) {\n    if (!node) {\n        return null;\n    }\n    return Object.assign(Object.assign({}, getRoleAttributes(node)), getBaseAttributes(node));\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isLocalFileSystem = exports.isBrowser = void 0;\nexports.isDefined = isDefined;\nexports.isProvided = isProvided;\nexports.isString = isString;\nexports.isArrayBuffer = isArrayBuffer;\nexports.isBlob = isBlob;\nexports.isDataURI = isDataURI;\nexports.dataURItoByteString = dataURItoByteString;\nexports.getDevicePixelRatio = getDevicePixelRatio;\nexports.displayCORSWarning = displayCORSWarning;\nexports.displayWorkerWarning = displayWorkerWarning;\nexports.cancelRunningTask = cancelRunningTask;\nexports.makePageCallback = makePageCallback;\nexports.isCancelException = isCancelException;\nexports.loadFromFile = loadFromFile;\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\n/**\n * Checks if we're running in a browser environment.\n */\nexports.isBrowser = typeof window !== 'undefined';\n/**\n * Checks whether we're running from a local file system.\n */\nexports.isLocalFileSystem = exports.isBrowser && window.location.protocol === 'file:';\n/**\n * Checks whether a variable is defined.\n *\n * @param {*} variable Variable to check\n */\nfunction isDefined(variable) {\n    return typeof variable !== 'undefined';\n}\n/**\n * Checks whether a variable is defined and not null.\n *\n * @param {*} variable Variable to check\n */\nfunction isProvided(variable) {\n    return isDefined(variable) && variable !== null;\n}\n/**\n * Checks whether a variable provided is a string.\n *\n * @param {*} variable Variable to check\n */\nfunction isString(variable) {\n    return typeof variable === 'string';\n}\n/**\n * Checks whether a variable provided is an ArrayBuffer.\n *\n * @param {*} variable Variable to check\n */\nfunction isArrayBuffer(variable) {\n    return variable instanceof ArrayBuffer;\n}\n/**\n * Checks whether a variable provided is a Blob.\n *\n * @param {*} variable Variable to check\n */\nfunction isBlob(variable) {\n    (0, tiny_invariant_1.default)(exports.isBrowser, 'isBlob can only be used in a browser environment');\n    return variable instanceof Blob;\n}\n/**\n * Checks whether a variable provided is a data URI.\n *\n * @param {*} variable String to check\n */\nfunction isDataURI(variable) {\n    return isString(variable) && /^data:/.test(variable);\n}\nfunction dataURItoByteString(dataURI) {\n    (0, tiny_invariant_1.default)(isDataURI(dataURI), 'Invalid data URI.');\n    const [headersString = '', dataString = ''] = dataURI.split(',');\n    const headers = headersString.split(';');\n    if (headers.indexOf('base64') !== -1) {\n        return atob(dataString);\n    }\n    return unescape(dataString);\n}\nfunction getDevicePixelRatio() {\n    return (exports.isBrowser && window.devicePixelRatio) || 1;\n}\nconst allowFileAccessFromFilesTip = 'On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.';\nfunction displayCORSWarning() {\n    (0, warning_1.default)(!exports.isLocalFileSystem, `Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`);\n}\nfunction displayWorkerWarning() {\n    (0, warning_1.default)(!exports.isLocalFileSystem, `Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`);\n}\nfunction cancelRunningTask(runningTask) {\n    if (runningTask === null || runningTask === void 0 ? void 0 : runningTask.cancel)\n        runningTask.cancel();\n}\nfunction makePageCallback(page, scale) {\n    Object.defineProperty(page, 'width', {\n        get() {\n            return this.view[2] * scale;\n        },\n        configurable: true,\n    });\n    Object.defineProperty(page, 'height', {\n        get() {\n            return this.view[3] * scale;\n        },\n        configurable: true,\n    });\n    Object.defineProperty(page, 'originalWidth', {\n        get() {\n            return this.view[2];\n        },\n        configurable: true,\n    });\n    Object.defineProperty(page, 'originalHeight', {\n        get() {\n            return this.view[3];\n        },\n        configurable: true,\n    });\n    return page;\n}\nfunction isCancelException(error) {\n    return error.name === 'RenderingCancelledException';\n}\nfunction loadFromFile(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n            if (!reader.result) {\n                return reject(new Error('Error while reading a file.'));\n            }\n            resolve(reader.result);\n        };\n        reader.onerror = (event) => {\n            if (!event.target) {\n                return reject(new Error('Error while reading a file.'));\n            }\n            const { error } = event.target;\n            if (!error) {\n                return reject(new Error('Error while reading a file.'));\n            }\n            switch (error.code) {\n                case error.NOT_FOUND_ERR:\n                    return reject(new Error('Error while reading a file: File not found.'));\n                case error.SECURITY_ERR:\n                    return reject(new Error('Error while reading a file: Security error.'));\n                case error.ABORT_ERR:\n                    return reject(new Error('Error while reading a file: Aborted.'));\n                default:\n                    return reject(new Error('Error while reading a file.'));\n            }\n        };\n        reader.readAsArrayBuffer(file);\n    });\n}\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","function _toSetter(t, e, n) {\n  e || (e = []);\n  var r = e.length++;\n  return Object.defineProperty({}, \"_\", {\n    set: function set(o) {\n      e[r] = o, t.apply(n, e);\n    }\n  });\n}\nexport { _toSetter as default };","function _checkPrivateRedeclaration(e, t) {\n  if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n}\nexport { _checkPrivateRedeclaration as default };","import checkPrivateRedeclaration from \"./checkPrivateRedeclaration.js\";\nfunction _classPrivateMethodInitSpec(e, a) {\n  checkPrivateRedeclaration(e, a), a.add(e);\n}\nexport { _classPrivateMethodInitSpec as default };","import checkPrivateRedeclaration from \"./checkPrivateRedeclaration.js\";\nfunction _classPrivateFieldInitSpec(e, t, a) {\n  checkPrivateRedeclaration(e, t), t.set(e, a);\n}\nexport { _classPrivateFieldInitSpec as default };","function _assertClassBrand(e, t, n) {\n  if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n  throw new TypeError(\"Private element is not present on this object\");\n}\nexport { _assertClassBrand as default };","import assertClassBrand from \"./assertClassBrand.js\";\nfunction _classPrivateGetter(s, r, a) {\n  return a(assertClassBrand(s, r));\n}\nexport { _classPrivateGetter as default };","import assertClassBrand from \"./assertClassBrand.js\";\nfunction _classPrivateFieldGet2(s, a) {\n  return s.get(assertClassBrand(s, a));\n}\nexport { _classPrivateFieldGet2 as default };","import assertClassBrand from \"./assertClassBrand.js\";\nfunction _classPrivateFieldSet2(s, a, r) {\n  return s.set(assertClassBrand(s, a), r), r;\n}\nexport { _classPrivateFieldSet2 as default };","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://www.electronjs.org/docs/api/process#processversionselectron-readonly\n// https://www.electronjs.org/docs/api/process#processtype-readonly\nconst isNodeJS =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !(process.versions.electron && process.type && process.type !== \"browser\");\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\nconst MAX_IMAGE_SIZE_TO_CACHE = 10e6; // Ten megabytes.\n\n// Represent the percentage of the height of a single-line field over\n// the font size. Acrobat seems to use this value.\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\n\n/**\n * Refer to the `WorkerTransport.getRenderingIntent`-method in the API, to see\n * how these flags are being used:\n *  - ANY, DISPLAY, and PRINT are the normal rendering intents, note the\n *    `PDFPageProxy.{render, getOperatorList, getAnnotations}`-methods.\n *  - SAVE is used, on the worker-thread, when saving modified annotations.\n *  - ANNOTATIONS_FORMS, ANNOTATIONS_STORAGE, ANNOTATIONS_DISABLE control which\n *    annotations are rendered onto the canvas (i.e. by being included in the\n *    operatorList), note the `PDFPageProxy.{render, getOperatorList}`-methods\n *    and their `annotationMode`-option.\n *  - IS_EDITING is used when editing is active in the viewer.\n *  - OPLIST is used with the `PDFPageProxy.getOperatorList`-method, note the\n *    `OperatorList`-constructor (on the worker-thread).\n */\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  IS_EDITING: 0x80,\n  OPLIST: 0x100,\n};\n\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3,\n};\n\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\n\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15,\n};\n\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_DEFAULT_COLOR: 32,\n  HIGHLIGHT_THICKNESS: 33,\n  HIGHLIGHT_FREE: 34,\n  HIGHLIGHT_SHOW_ALL: 35,\n};\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\",\n};\n\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\",\n};\n\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  // PLEASE NOTE: We purposely keep any removed operators commented out, since\n  //              re-numbering the list would risk breaking third-party users.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  // beginAnnotations: 78,\n  // endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  // paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n  setStrokeTransparent: 92,\n  setFillTransparent: 93,\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs use one of the allowed protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} [baseUrl] - An absolute URL.\n * @param {Object} [options]\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      // Let URLs beginning with \"www.\" default to using the \"http://\" protocol.\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        // Avoid accidentally matching a *relative* URL pointing to a file named\n        // e.g. \"www.pdf\" or similar.\n        if (dots?.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n\n      // According to ISO 32000-1:2008, section 12.6.4.7, URIs should be encoded\n      // in 7-bit ASCII. Some bad PDFs use UTF-8 encoding; see bug 1122280.\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch {}\n      }\n    }\n\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch {\n    /* `new URL()` will throw on incorrect data. */\n  }\n  return null;\n}\n\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      prop in obj,\n      `shadow: Property \"${prop && prop.toString()}\" not found in object.`\n    );\n  }\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\n/**\n * @type {any}\n */\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message, name) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseException\n    ) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\n\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\n\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\nfunction string32(value) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      typeof value === \"number\" && Math.abs(value) < 2 ** 32,\n      `string32: Unexpected input \"${value}\".`\n    );\n  }\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\n\n// Ensure that the returned Object has a `null` prototype; hence why\n// `Object.fromEntries(...)` is not used.\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nclass FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n\n  static get isOffscreenCanvasSupported() {\n    return shadow(\n      this,\n      \"isOffscreenCanvasSupported\",\n      typeof OffscreenCanvas !== \"undefined\"\n    );\n  }\n\n  static get platform() {\n    if (\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      (typeof navigator !== \"undefined\" &&\n        typeof navigator?.platform === \"string\")\n    ) {\n      return shadow(this, \"platform\", {\n        isMac: navigator.platform.includes(\"Mac\"),\n        isWindows: navigator.platform.includes(\"Win\"),\n        isFirefox:\n          (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n          (typeof navigator?.userAgent === \"string\" &&\n            navigator.userAgent.includes(\"Firefox\")),\n      });\n    }\n    return shadow(this, \"platform\", {\n      isMac: false,\n      isWindows: false,\n      isFirefox: false,\n    });\n  }\n\n  static get isCSSRoundSupported() {\n    return shadow(\n      this,\n      \"isCSSRoundSupported\",\n      globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\")\n    );\n  }\n}\n\nconst hexNumbers = Array.from(Array(256).keys(), n =>\n  n.toString(16).padStart(2, \"0\")\n);\n\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n\n  // Apply a scaling matrix to some min/max values.\n  // If a scaling factor is negative then min and max must be\n  // swapped.\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = this.applyTransform(r, m);\n    const p2 = this.applyTransform(r.slice(2, 4), m);\n    const p3 = this.applyTransform([r[0], r[3]], m);\n    const p4 = this.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1]),\n    ];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'null'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(\n      Math.min(rect1[0], rect1[2]),\n      Math.min(rect2[0], rect2[2])\n    );\n    const xHigh = Math.min(\n      Math.max(rect1[0], rect1[2]),\n      Math.max(rect2[0], rect2[2])\n    );\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(\n      Math.min(rect1[1], rect1[3]),\n      Math.min(rect2[1], rect2[3])\n    );\n    const yHigh = Math.min(\n      Math.max(rect1[1], rect1[3]),\n      Math.max(rect2[1], rect2[3])\n    );\n    if (yLow > yHigh) {\n      return null;\n    }\n\n    return [xLow, yLow, xHigh, yHigh];\n  }\n\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(\n          x0,\n          x1,\n          x2,\n          x3,\n          y0,\n          y1,\n          y2,\n          y3,\n          -c / b,\n          minMax\n        );\n      }\n      return;\n    }\n\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      (-b + sqrtDelta) / a2,\n      minMax\n    );\n    this.#getExtremumOnCurve(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      (-b - sqrtDelta) / a2,\n      minMax\n    );\n  }\n\n  // From https://github.com/adobe-webplatform/Snap.svg/blob/b365287722a72526000ac4bfcf0ce4cac2faa015/src/path.js#L852\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    if (minMax) {\n      minMax[0] = Math.min(minMax[0], x0, x3);\n      minMax[1] = Math.min(minMax[1], y0, y3);\n      minMax[2] = Math.max(minMax[2], x0, x3);\n      minMax[3] = Math.max(minMax[3], y0, y3);\n    } else {\n      minMax = [\n        Math.min(x0, x3),\n        Math.min(y0, y3),\n        Math.max(x0, x3),\n        Math.max(y0, y3),\n      ];\n    }\n    this.#getExtremum(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      3 * (-x0 + 3 * (x1 - x2) + x3),\n      6 * (x0 - 2 * x1 + x2),\n      3 * (x1 - x0),\n      minMax\n    );\n    this.#getExtremum(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      3 * (-y0 + 3 * (y1 - y2) + y3),\n      6 * (y0 - 2 * y1 + y2),\n      3 * (y1 - y0),\n      minMax\n    );\n    return minMax;\n  }\n}\n\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8,\n  0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192,\n  0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018,\n  0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d,\n  0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac,\n];\n\nfunction stringToPDFString(str) {\n  // See section 7.9.2.2 Text String Type.\n  // The string can contain some language codes bracketed with 0x0b,\n  // so we must remove them.\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (!decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  // ISO Latin 1\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (charCode === 0x1b) {\n      // eslint-disable-next-line no-empty\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction getModificationDate(date = new Date()) {\n  const buffer = [\n    date.getUTCFullYear().toString(),\n    (date.getUTCMonth() + 1).toString().padStart(2, \"0\"),\n    date.getUTCDate().toString().padStart(2, \"0\"),\n    date.getUTCHours().toString().padStart(2, \"0\"),\n    date.getUTCMinutes().toString().padStart(2, \"0\"),\n    date.getUTCSeconds().toString().padStart(2, \"0\"),\n  ];\n\n  return buffer.join(\"\");\n}\n\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    // In order to generate the following regex:\n    //  - create a PDF containing all the chars in the range 0000-FFFF with\n    //    a NFKC which is different of the char.\n    //  - copy and paste all those chars and get the ones where NFKC is\n    //    required.\n    // It appears that most the chars here contain some ligatures.\n    NormalizeRegex =\n      /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"ﬅ\", \"ſt\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) =>\n    p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2)\n  );\n}\n\nfunction getUuid() {\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    (typeof crypto !== \"undefined\" && typeof crypto?.randomUUID === \"function\")\n  ) {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  if (\n    typeof crypto !== \"undefined\" &&\n    typeof crypto?.getRandomValues === \"function\"\n  ) {\n    crypto.getRandomValues(buf);\n  } else {\n    for (let i = 0; i < 32; i++) {\n      buf[i] = Math.floor(Math.random() * 255);\n    }\n  }\n  return bytesToString(buf);\n}\n\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\n\nconst FontRenderOps = {\n  BEZIER_CURVE_TO: 0,\n  MOVE_TO: 1,\n  LINE_TO: 2,\n  QUADRATIC_CURVE_TO: 3,\n  RESTORE: 4,\n  SAVE: 5,\n  SCALE: 6,\n  TRANSFORM: 7,\n  TRANSLATE: 8,\n};\n\n// TODO: Remove this once `Uint8Array.prototype.toHex` is generally available.\nfunction toHexUtil(arr) {\n  if (Uint8Array.prototype.toHex) {\n    return arr.toHex();\n  }\n  return Array.from(arr, num => hexNumbers[num]).join(\"\");\n}\n\n// TODO: Remove this once `Uint8Array.prototype.toBase64` is generally\n//       available.\nfunction toBase64Util(arr) {\n  if (Uint8Array.prototype.toBase64) {\n    return arr.toBase64();\n  }\n  return btoa(bytesToString(arr));\n}\n\n// TODO: Remove this once `Uint8Array.fromBase64` is generally available.\nfunction fromBase64Util(str) {\n  if (Uint8Array.fromBase64) {\n    return Uint8Array.fromBase64(str);\n  }\n  return stringToBytes(atob(str));\n}\n\nexport {\n  AbortException,\n  AnnotationActionEventType,\n  AnnotationBorderStyleType,\n  AnnotationEditorParamsType,\n  AnnotationEditorPrefix,\n  AnnotationEditorType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMode,\n  AnnotationPrefix,\n  AnnotationReplyType,\n  AnnotationType,\n  assert,\n  BaseException,\n  BASELINE_FACTOR,\n  bytesToString,\n  createValidAbsoluteUrl,\n  DocumentActionEventType,\n  FeatureTest,\n  FONT_IDENTITY_MATRIX,\n  FontRenderOps,\n  FormatError,\n  fromBase64Util,\n  getModificationDate,\n  getUuid,\n  getVerbosityLevel,\n  hexNumbers,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  InvalidPDFException,\n  isArrayEqual,\n  isNodeJS,\n  LINE_DESCENT_FACTOR,\n  LINE_FACTOR,\n  MAX_IMAGE_SIZE_TO_CACHE,\n  MissingPDFException,\n  normalizeUnicode,\n  objectFromMap,\n  objectSize,\n  OPS,\n  PageActionEventType,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  RenderingIntentFlag,\n  setVerbosityLevel,\n  shadow,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF8String,\n  TextRenderingMode,\n  toBase64Util,\n  toHexUtil,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  utf8StringToString,\n  Util,\n  VerbosityLevel,\n  warn,\n};\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  BaseException,\n  FeatureTest,\n  shadow,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nclass PixelsPerInch {\n  static CSS = 96.0;\n\n  static PDF = 72.0;\n\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\n\nasync function fetchData(url, type = \"text\") {\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    isValidFetchUrl(url, document.baseURI)\n  ) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    switch (type) {\n      case \"arraybuffer\":\n        return response.arrayBuffer();\n      case \"blob\":\n        return response.blob();\n      case \"json\":\n        return response.json();\n    }\n    return response.text();\n  }\n\n  // The Fetch API is not supported.\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, /* async = */ true);\n    request.responseType = type;\n\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        switch (type) {\n          case \"arraybuffer\":\n          case \"blob\":\n          case \"json\":\n            resolve(request.response);\n            return;\n        }\n        resolve(request.responseText);\n        return;\n      }\n      reject(new Error(request.statusText));\n    };\n\n    request.send(null);\n  });\n}\n\n/**\n * @typedef {Object} PageViewportParameters\n * @property {Array<number>} viewBox - The xMin, yMin, xMax and\n *   yMax coordinates.\n * @property {number} scale - The scale of the viewport.\n * @property {number} rotation - The rotation, in degrees, of the viewport.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset. The\n *   default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset. The\n *   default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * @typedef {Object} PageViewportCloneParameters\n * @property {number} [scale] - The scale, overriding the one in the cloned\n *   viewport. The default value is `this.scale`.\n * @property {number} [rotation] - The rotation, in degrees, overriding the one\n *   in the cloned viewport. The default value is `this.rotation`.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `this.offsetX`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `this.offsetY`.\n * @property {boolean} [dontFlip] - If true, the x-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n */\nclass PageViewport {\n  /**\n   * @param {PageViewportParameters}\n   */\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    // Normalize the rotation, by clamping it to the [0, 360) range.\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\n          \"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\"\n        );\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY,\n    ];\n\n    this.width = width;\n    this.height = height;\n  }\n\n  /**\n   * The original, un-scaled, viewport dimensions.\n   * @type {Object}\n   */\n  get rawDims() {\n    const { viewBox } = this;\n    return shadow(this, \"rawDims\", {\n      pageWidth: viewBox[2] - viewBox[0],\n      pageHeight: viewBox[3] - viewBox[1],\n      pageX: viewBox[0],\n      pageY: viewBox[1],\n    });\n  }\n\n  /**\n   * Clones viewport, with optional additional properties.\n   * @param {PageViewportCloneParameters} [params]\n   * @returns {PageViewport} Cloned viewport.\n   */\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * Converts PDF point to the viewport coordinates. For examples, useful for\n   * converting PDF location into canvas pixel coordinates.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Array} Array containing `x`- and `y`-coordinates of the\n   *   point in the viewport coordinate space.\n   * @see {@link convertToPdfPoint}\n   * @see {@link convertToViewportRectangle}\n   */\n  convertToViewportPoint(x, y) {\n    return Util.applyTransform([x, y], this.transform);\n  }\n\n  /**\n   * Converts PDF rectangle to the viewport coordinates.\n   * @param {Array} rect - The xMin, yMin, xMax and yMax coordinates.\n   * @returns {Array} Array containing corresponding coordinates of the\n   *   rectangle in the viewport coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToViewportRectangle(rect) {\n    const topLeft = Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  /**\n   * Converts viewport coordinates to the PDF location. For examples, useful\n   * for converting canvas pixel location into PDF one.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Array} Array containing `x`- and `y`-coordinates of the\n   *   point in the PDF coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToPdfPoint(x, y) {\n    return Util.applyInverseTransform([x, y], this.transform);\n  }\n}\n\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\n\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\n\n/**\n * Gets the filename from a given URL.\n * @param {string} url\n * @returns {string}\n */\nfunction getFilenameFromUrl(url) {\n  [url] = url.split(/[#?]/, 1);\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\n\n/**\n * Returns the filename or guessed filename from the url (see issue 3455).\n * @param {string} url - The original PDF location.\n * @param {string} defaultFilename - The value returned if the filename is\n *   unknown, or the protocol is unsupported.\n * @returns {string} Guessed PDF filename.\n */\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    warn('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  //              SCHEME        HOST        1.PATH  2.QUERY   3.REF\n  // Pattern to get last matching NAME.pdf\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename =\n    reFilename.exec(splitURI[1]) ||\n    reFilename.exec(splitURI[2]) ||\n    reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      // URL-encoded %2Fpath%2Fto%2Ffile.pdf should be file.pdf\n      try {\n        suggestedFilename = reFilename.exec(\n          decodeURIComponent(suggestedFilename)\n        )[0];\n      } catch {\n        // Possible (extremely rare) errors:\n        // URIError \"Malformed URI\", e.g. for \"%AA.pdf\"\n        // TypeError \"null has no properties\", e.g. for \"%2F.pdf\"\n      }\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\n\nclass StatTimer {\n  started = Object.create(null);\n\n  times = [];\n\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now(),\n    });\n    // Remove timer from started so it can be called again.\n    delete this.started[name];\n  }\n\n  toString() {\n    // Find the longest name for padding purposes.\n    const outBuf = [];\n    let longest = 0;\n    for (const { name } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const { name, start, end } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\n\nfunction isValidFetchUrl(url, baseUrl) {\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n    throw new Error(\"Not implemented: isValidFetchUrl\");\n  }\n  try {\n    const { protocol } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    // The Fetch API only supports the http/https protocols, and not file/ftp.\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch {\n    return false; // `new URL()` will throw on incorrect data.\n  }\n}\n\n/**\n * Event handler to suppress context menu.\n */\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\n\n// Deprecated API function -- display regardless of the `verbosity` setting.\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nclass PDFDateString {\n  static #regex;\n\n  /**\n   * Convert a PDF date string to a JavaScript `Date` object.\n   *\n   * The PDF date string format is described in section 7.9.4 of the official\n   * PDF 32000-1:2008 specification. However, in the PDF 1.7 reference (sixth\n   * edition) Adobe describes the same format including a trailing apostrophe.\n   * This syntax in incorrect, but Adobe Acrobat creates PDF files that contain\n   * them. We ignore all apostrophes as they are not necessary for date parsing.\n   *\n   * Moreover, Adobe Acrobat doesn't handle changing the date to universal time\n   * and doesn't use the user's time zone (effectively ignoring the HH' and mm'\n   * parts of the date string).\n   *\n   * @param {string} input\n   * @returns {Date|null}\n   */\n  static toDateObject(input) {\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n\n    // Lazily initialize the regular expression.\n    this.#regex ||= new RegExp(\n      \"^D:\" + // Prefix (required)\n        \"(\\\\d{4})\" + // Year (required)\n        \"(\\\\d{2})?\" + // Month (optional)\n        \"(\\\\d{2})?\" + // Day (optional)\n        \"(\\\\d{2})?\" + // Hour (optional)\n        \"(\\\\d{2})?\" + // Minute (optional)\n        \"(\\\\d{2})?\" + // Second (optional)\n        \"([Z|+|-])?\" + // Universal time relation (optional)\n        \"(\\\\d{2})?\" + // Offset hour (optional)\n        \"'?\" + // Splitting apostrophe (optional)\n        \"(\\\\d{2})?\" + // Offset minute (optional)\n        \"'?\" // Trailing apostrophe (optional)\n    );\n\n    // Optional fields that don't satisfy the requirements from the regular\n    // expression (such as incorrect digit counts or numbers that are out of\n    // range) will fall back the defaults from the specification.\n    const matches = this.#regex.exec(input);\n    if (!matches) {\n      return null;\n    }\n\n    // JavaScript's `Date` object expects the month to be between 0 and 11\n    // instead of 1 and 12, so we have to correct for that.\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    // Universal time relation 'Z' means that the local time is equal to the\n    // universal time, whereas the relations '+'/'-' indicate that the local\n    // time is later respectively earlier than the universal time. Every date\n    // is normalized to universal time.\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\n\n/**\n * NOTE: This is (mostly) intended to support printing of XFA forms.\n */\nfunction getXfaPageViewport(xfaPage, { scale = 1, rotation = 0 }) {\n  const { width, height } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation,\n  });\n}\n\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [\n      (colorRGB & 0xff0000) >> 16,\n      (colorRGB & 0x00ff00) >> 8,\n      colorRGB & 0x0000ff,\n    ];\n  }\n\n  if (color.startsWith(\"rgb(\")) {\n    // getComputedStyle(...).color returns a `rgb(R, G, B)` color.\n    return color\n      .slice(/* \"rgb(\".length */ 4, -1) // Strip out \"rgb(\" and \")\".\n      .split(\",\")\n      .map(x => parseInt(x));\n  }\n\n  if (color.startsWith(\"rgba(\")) {\n    return color\n      .slice(/* \"rgba(\".length */ 5, -1) // Strip out \"rgba(\" and \")\".\n      .split(\",\")\n      .map(x => parseInt(x))\n      .slice(0, 3);\n  }\n\n  warn(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\n\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\n\nfunction getCurrentTransform(ctx) {\n  const { a, b, c, d, e, f } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\n\nfunction getCurrentTransformInverse(ctx) {\n  const { a, b, c, d, e, f } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\n\n/**\n * @param {HTMLDivElement} div\n * @param {PageViewport} viewport\n * @param {boolean} mustFlip\n * @param {boolean} mustRotate\n */\nfunction setLayerDimensions(\n  div,\n  viewport,\n  mustFlip = false,\n  mustRotate = true\n) {\n  if (viewport instanceof PageViewport) {\n    const { pageWidth, pageHeight } = viewport.rawDims;\n    const { style } = div;\n    const useRound = FeatureTest.isCSSRoundSupported;\n\n    const w = `var(--scale-factor) * ${pageWidth}px`,\n      h = `var(--scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound\n        ? `round(down, ${w}, var(--scale-round-x, 1px))`\n        : `calc(${w})`,\n      heightStr = useRound\n        ? `round(down, ${h}, var(--scale-round-y, 1px))`\n        : `calc(${h})`;\n\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\n\n/**\n * Scale factors for the canvas, necessary with HiDPI displays.\n */\nclass OutputScale {\n  constructor() {\n    const pixelRatio = window.devicePixelRatio || 1;\n\n    /**\n     * @type {number} Horizontal scale.\n     */\n    this.sx = pixelRatio;\n\n    /**\n     * @type {number} Vertical scale.\n     */\n    this.sy = pixelRatio;\n  }\n\n  /**\n   * @type {boolean} Returns `true` when scaling is required, `false` otherwise.\n   */\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n\n  get symmetric() {\n    return this.sx === this.sy;\n  }\n}\n\nexport {\n  deprecated,\n  fetchData,\n  getColorValues,\n  getCurrentTransform,\n  getCurrentTransformInverse,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getRGB,\n  getXfaPageViewport,\n  isDataScheme,\n  isPdfFile,\n  isValidFetchUrl,\n  noContextMenu,\n  OutputScale,\n  PageViewport,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n  setLayerDimensions,\n  StatTimer,\n  SVG_NS,\n};\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { noContextMenu } from \"../display_utils.js\";\n\nclass EditorToolbar {\n  #toolbar = null;\n\n  #colorPicker = null;\n\n  #editor;\n\n  #buttons = null;\n\n  #altText = null;\n\n  static #l10nRemove = null;\n\n  constructor(editor) {\n    this.#editor = editor;\n\n    EditorToolbar.#l10nRemove ||= Object.freeze({\n      freetext: \"pdfjs-editor-remove-freetext-button\",\n      highlight: \"pdfjs-editor-remove-highlight-button\",\n      ink: \"pdfjs-editor-remove-ink-button\",\n      stamp: \"pdfjs-editor-remove-stamp-button\",\n    });\n  }\n\n  render() {\n    const editToolbar = (this.#toolbar = document.createElement(\"div\"));\n    editToolbar.classList.add(\"editToolbar\", \"hidden\");\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    const signal = this.#editor._uiManager._signal;\n    editToolbar.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    editToolbar.addEventListener(\"pointerdown\", EditorToolbar.#pointerDown, {\n      signal,\n    });\n\n    const buttons = (this.#buttons = document.createElement(\"div\"));\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n\n    const position = this.#editor.toolbarPosition;\n    if (position) {\n      const { style } = editToolbar;\n      const x =\n        this.#editor._uiManager.direction === \"ltr\"\n          ? 1 - position[0]\n          : position[0];\n      style.insetInlineEnd = `${100 * x}%`;\n      style.top = `calc(${\n        100 * position[1]\n      }% + var(--editor-toolbar-vert-offset))`;\n    }\n\n    this.#addDeleteButton();\n\n    return editToolbar;\n  }\n\n  get div() {\n    return this.#toolbar;\n  }\n\n  static #pointerDown(e) {\n    e.stopPropagation();\n  }\n\n  #focusIn(e) {\n    this.#editor._focusEventsAllowed = false;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  #focusOut(e) {\n    this.#editor._focusEventsAllowed = true;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  #addListenersToElement(element) {\n    // If we're clicking on a button with the keyboard or with\n    // the mouse, we don't want to trigger any focus events on\n    // the editor.\n    const signal = this.#editor._uiManager._signal;\n    element.addEventListener(\"focusin\", this.#focusIn.bind(this), {\n      capture: true,\n      signal,\n    });\n    element.addEventListener(\"focusout\", this.#focusOut.bind(this), {\n      capture: true,\n      signal,\n    });\n    element.addEventListener(\"contextmenu\", noContextMenu, { signal });\n  }\n\n  hide() {\n    this.#toolbar.classList.add(\"hidden\");\n    this.#colorPicker?.hideDropdown();\n  }\n\n  show() {\n    this.#toolbar.classList.remove(\"hidden\");\n    this.#altText?.shown();\n  }\n\n  #addDeleteButton() {\n    const { editorType, _uiManager } = this.#editor;\n\n    const button = document.createElement(\"button\");\n    button.className = \"delete\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", EditorToolbar.#l10nRemove[editorType]);\n    this.#addListenersToElement(button);\n    button.addEventListener(\n      \"click\",\n      e => {\n        _uiManager.delete();\n      },\n      { signal: _uiManager._signal }\n    );\n    this.#buttons.append(button);\n  }\n\n  get #divider() {\n    const divider = document.createElement(\"div\");\n    divider.className = \"divider\";\n    return divider;\n  }\n\n  async addAltText(altText) {\n    const button = await altText.render();\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n    this.#altText = altText;\n  }\n\n  addColorPicker(colorPicker) {\n    this.#colorPicker = colorPicker;\n    const button = colorPicker.renderButton();\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n  }\n\n  remove() {\n    this.#toolbar.remove();\n    this.#colorPicker?.destroy();\n    this.#colorPicker = null;\n  }\n}\n\nclass HighlightToolbar {\n  #buttons = null;\n\n  #toolbar = null;\n\n  #uiManager;\n\n  constructor(uiManager) {\n    this.#uiManager = uiManager;\n  }\n\n  #render() {\n    const editToolbar = (this.#toolbar = document.createElement(\"div\"));\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n      signal: this.#uiManager._signal,\n    });\n\n    const buttons = (this.#buttons = document.createElement(\"div\"));\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n\n    this.#addHighlightButton();\n\n    return editToolbar;\n  }\n\n  #getLastPoint(boxes, isLTR) {\n    let lastY = 0;\n    let lastX = 0;\n    for (const box of boxes) {\n      const y = box.y + box.height;\n      if (y < lastY) {\n        continue;\n      }\n      const x = box.x + (isLTR ? box.width : 0);\n      if (y > lastY) {\n        lastX = x;\n        lastY = y;\n        continue;\n      }\n      if (isLTR) {\n        if (x > lastX) {\n          lastX = x;\n        }\n      } else if (x < lastX) {\n        lastX = x;\n      }\n    }\n    return [isLTR ? 1 - lastX : lastX, lastY];\n  }\n\n  show(parent, boxes, isLTR) {\n    const [x, y] = this.#getLastPoint(boxes, isLTR);\n    const { style } = (this.#toolbar ||= this.#render());\n    parent.append(this.#toolbar);\n    style.insetInlineEnd = `${100 * x}%`;\n    style.top = `calc(${100 * y}% + var(--editor-toolbar-vert-offset))`;\n  }\n\n  hide() {\n    this.#toolbar.remove();\n  }\n\n  #addHighlightButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"highlightButton\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", `pdfjs-highlight-floating-button1`);\n    const span = document.createElement(\"span\");\n    button.append(span);\n    span.className = \"visuallyHidden\";\n    span.setAttribute(\"data-l10n-id\", \"pdfjs-highlight-floating-button-label\");\n    const signal = this.#uiManager._signal;\n    button.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    button.addEventListener(\n      \"click\",\n      () => {\n        this.#uiManager.highlightSelection(\"floating_button\");\n      },\n      { signal }\n    );\n    this.#buttons.append(button);\n  }\n}\n\nexport { EditorToolbar, HighlightToolbar };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./editor.js\").AnnotationEditor} AnnotationEditor */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_editor_layer.js\").AnnotationEditorLayer} AnnotationEditorLayer */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorPrefix,\n  AnnotationEditorType,\n  FeatureTest,\n  getUuid,\n  shadow,\n  Util,\n  warn,\n} from \"../../shared/util.js\";\nimport {\n  fetchData,\n  getColorValues,\n  getRGB,\n  PixelsPerInch,\n} from \"../display_utils.js\";\nimport { HighlightToolbar } from \"./toolbar.js\";\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\n\n/**\n * Convert a number between 0 and 100 into an hex number between 0 and 255.\n * @param {number} opacity\n * @return {string}\n */\nfunction opacityToHex(opacity) {\n  return Math.round(Math.min(255, Math.max(1, 255 * opacity)))\n    .toString(16)\n    .padStart(2, \"0\");\n}\n\n/**\n * Class to create some unique ids for the different editors.\n */\nclass IdManager {\n  #id = 0;\n\n  constructor() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      Object.defineProperty(this, \"reset\", {\n        value: () => (this.#id = 0),\n      });\n    }\n  }\n\n  /**\n   * Get a unique id.\n   * @returns {string}\n   */\n  get id() {\n    return `${AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\n\n/**\n * Class to manage the images used by the editors.\n * The main idea is to try to minimize the memory used by the images.\n * The images are cached and reused when possible\n * We use a refCounter to know when an image is not used anymore but we need to\n * be able to restore an image after a remove+undo, so we keep a file reference\n * or an url one.\n */\nclass ImageManager {\n  #baseId = getUuid();\n\n  #id = 0;\n\n  #cache = null;\n\n  static get _isSVGFittingCanvas() {\n    // By default, Firefox doesn't rescale without preserving the aspect ratio\n    // when drawing an SVG image on a canvas, see https://bugzilla.mozilla.org/1547776.\n    // The \"workaround\" is to append \"svgView(preserveAspectRatio(none))\" to the\n    // url, but according to comment #15, it seems that it leads to unexpected\n    // behavior in Safari.\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\", { willReadFrequently: true });\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n\n    return shadow(this, \"_isSVGFittingCanvas\", promise);\n  }\n\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      // We already tried to load the image but it failed.\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false,\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        image = await fetchData(rawData, \"blob\");\n      } else if (rawData instanceof File) {\n        image = data.file = rawData;\n      } else if (rawData instanceof Blob) {\n        image = rawData;\n      }\n\n      if (image.type === \"image/svg+xml\") {\n        // Unfortunately, createImageBitmap doesn't work with SVG images.\n        // (see https://bugzilla.mozilla.org/1841972).\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = (data.svgUrl = fileReader.result);\n            // We need to set the preserveAspectRatio to none in order to let\n            // the image fits the canvas when resizing.\n            imageElement.src = (await mustRemoveAspectRatioPromise)\n              ? `${url}#svgView(preserveAspectRatio(none))`\n              : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      console.error(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n\n  async getFromFile(file) {\n    const { lastModified, name, size, type } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n\n  async getFromBlob(id, blobPromise) {\n    const blob = await blobPromise;\n    return this.#get(id, blob);\n  }\n\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    if (data.blobPromise) {\n      const { blobPromise } = data;\n      delete data.blobPromise;\n      return this.getFromBlob(data.id, blobPromise);\n    }\n    return this.getFromUrl(data.url);\n  }\n\n  getFromCanvas(id, canvas) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(id);\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    const offscreen = new OffscreenCanvas(canvas.width, canvas.height);\n    const ctx = offscreen.getContext(\"2d\");\n    ctx.drawImage(canvas, 0, 0);\n    data = {\n      bitmap: offscreen.transferToImageBitmap(),\n      id: `image_${this.#baseId}_${this.#id++}`,\n      refCounter: 1,\n      isSvg: false,\n    };\n    this.#cache.set(id, data);\n    this.#cache.set(data.id, data);\n    return data;\n  }\n\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    const { bitmap } = data;\n    if (!data.url && !data.file) {\n      // The image has no way to be restored (ctrl+z) so we must fix that.\n      const canvas = new OffscreenCanvas(bitmap.width, bitmap.height);\n      const ctx = canvas.getContext(\"bitmaprenderer\");\n      ctx.transferFromImageBitmap(bitmap);\n      data.blobPromise = canvas.convertToBlob();\n    }\n\n    bitmap.close?.();\n    data.bitmap = null;\n  }\n\n  // We can use the id only if it belongs this manager.\n  // We must take care of having the right manager because we can copy/paste\n  // some images from other documents, hence it'd be a pity to use an id from an\n  // other manager.\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\n\n/**\n * Class to handle undo/redo.\n * Commands are just saved in a buffer.\n * If we hit some memory issues we could likely use a circular buffer.\n * It has to be used as a singleton.\n */\nclass CommandManager {\n  #commands = [];\n\n  #locked = false;\n\n  #maxSize;\n\n  #position = -1;\n\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n\n  /**\n   * @typedef {Object} addOptions\n   * @property {function} cmd\n   * @property {function} undo\n   * @property {function} [post]\n   * @property {boolean} mustExec\n   * @property {number} type\n   * @property {boolean} overwriteIfSameType\n   * @property {boolean} keepUndo\n   */\n\n  /**\n   * Add a new couple of commands to be used in case of redo/undo.\n   * @param {addOptions} options\n   */\n  add({\n    cmd,\n    undo,\n    post,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false,\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n\n    if (this.#locked) {\n      return;\n    }\n\n    const save = { cmd, undo, post, type };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        // All the commands have been undone and then a new one is added\n        // hence we clear the queue.\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      // For example when we change a color we don't want to\n      // be able to undo all the steps, hence we only want to\n      // keep the last undoable action in this sequence of actions.\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n\n    this.#commands.push(save);\n  }\n\n  /**\n   * Undo the last command.\n   */\n  undo() {\n    if (this.#position === -1) {\n      // Nothing to undo.\n      return;\n    }\n\n    // Avoid to insert something during the undo execution.\n    this.#locked = true;\n    const { undo, post } = this.#commands[this.#position];\n    undo();\n    post?.();\n    this.#locked = false;\n\n    this.#position -= 1;\n  }\n\n  /**\n   * Redo the last command.\n   */\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n\n      // Avoid to insert something during the redo execution.\n      this.#locked = true;\n      const { cmd, post } = this.#commands[this.#position];\n      cmd();\n      post?.();\n      this.#locked = false;\n    }\n  }\n\n  /**\n   * Check if there is something to undo.\n   * @returns {boolean}\n   */\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n\n  /**\n   * Check if there is something to redo.\n   * @returns {boolean}\n   */\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n\n  destroy() {\n    this.#commands = null;\n  }\n}\n\n/**\n * Class to handle the different keyboards shortcuts we can have on mac or\n * non-mac OSes.\n */\nclass KeyboardManager {\n  /**\n   * Create a new keyboard manager class.\n   * @param {Array<Array>} callbacks - an array containing an array of shortcuts\n   * and a callback to call.\n   * A shortcut is a string like `ctrl+c` or `mac+ctrl+c` for mac OS.\n   */\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n\n    const { isMac } = FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), { callback, options });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, { callback, options });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n\n  /**\n   * Serialize an event into a string in order to match a\n   * potential key for a callback.\n   * @param {KeyboardEvent} event\n   * @returns {string}\n   */\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n\n    return str;\n  }\n\n  /**\n   * Execute a callback, if any, for a given keyboard event.\n   * The self is used as `this` in the callback.\n   * @param {Object} self\n   * @param {KeyboardEvent} event\n   * @returns\n   */\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: { bubbles = false, args = [], checker = null },\n    } = info;\n\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args, event)();\n\n    // For example, ctrl+s in a FreeText must be handled by the viewer, hence\n    // the event must bubble.\n    if (!bubbles) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n}\n\nclass ColorManager {\n  static _colorsMapping = new Map([\n    [\"CanvasText\", [0, 0, 0]],\n    [\"Canvas\", [255, 255, 255]],\n  ]);\n\n  get _colors() {\n    if (\n      typeof PDFJSDev !== \"undefined\" &&\n      PDFJSDev.test(\"LIB\") &&\n      typeof document === \"undefined\"\n    ) {\n      return shadow(this, \"_colors\", ColorManager._colorsMapping);\n    }\n\n    const colors = new Map([\n      [\"CanvasText\", null],\n      [\"Canvas\", null],\n    ]);\n    getColorValues(colors);\n    return shadow(this, \"_colors\", colors);\n  }\n\n  /**\n   * In High Contrast Mode, the color on the screen is not always the\n   * real color used in the pdf.\n   * For example in some cases white can appear to be black but when saving\n   * we want to have white.\n   * @param {string} color\n   * @returns {Array<number>}\n   */\n  convert(color) {\n    const rgb = getRGB(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n\n  /**\n   * An input element must have its color value as a hex string\n   * and not as color name.\n   * So this function converts a name into an hex string.\n   * @param {string} name\n   * @returns {string}\n   */\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return Util.makeHexColor(...rgb);\n  }\n}\n\n/**\n * A pdf has several pages and each of them when it will rendered\n * will have an AnnotationEditorLayer which will contain the some\n * new Annotations associated to an editor in order to modify them.\n *\n * This class is used to manage all the different layers, editors and\n * some action like copy/paste, undo/redo, ...\n */\nclass AnnotationEditorUIManager {\n  #abortController = new AbortController();\n\n  #activeEditor = null;\n\n  #allEditors = new Map();\n\n  #allLayers = new Map();\n\n  #altTextManager = null;\n\n  #annotationStorage = null;\n\n  #changedExistingAnnotations = null;\n\n  #commandManager = new CommandManager();\n\n  #copyPasteAC = null;\n\n  #currentPageIndex = 0;\n\n  #deletedAnnotationsElementIds = new Set();\n\n  #draggingEditors = null;\n\n  #editorTypes = null;\n\n  #editorsToRescale = new Set();\n\n  #enableHighlightFloatingButton = false;\n\n  #enableUpdatedAddImage = false;\n\n  #enableNewAltTextWhenAddingImage = false;\n\n  #filterFactory = null;\n\n  #focusMainContainerTimeoutId = null;\n\n  #focusManagerAC = null;\n\n  #highlightColors = null;\n\n  #highlightWhenShiftUp = false;\n\n  #highlightToolbar = null;\n\n  #idManager = new IdManager();\n\n  #isEnabled = false;\n\n  #isWaiting = false;\n\n  #keyboardManagerAC = null;\n\n  #lastActiveElement = null;\n\n  #mainHighlightColorPicker = null;\n\n  #mlManager = null;\n\n  #mode = AnnotationEditorType.NONE;\n\n  #selectedEditors = new Set();\n\n  #selectedTextNode = null;\n\n  #pageColors = null;\n\n  #showAllStates = null;\n\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n    hasSelectedText: false,\n  };\n\n  #translation = [0, 0];\n\n  #translationTimeoutId = null;\n\n  #container = null;\n\n  #viewer = null;\n\n  #updateModeCapability = null;\n\n  static TRANSLATE_SMALL = 1; // page units.\n\n  static TRANSLATE_BIG = 10; // page units.\n\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n\n    /**\n     * If the focused element is an input, we don't want to handle the arrow.\n     * For example, sliders can be controlled with the arrow keys.\n     */\n    const arrowChecker = self =>\n      self.#container.contains(document.activeElement) &&\n      document.activeElement.tagName !== \"BUTTON\" &&\n      self.hasSomethingToControl();\n\n    const textInputChecker = (_self, { target: el }) => {\n      if (el instanceof HTMLInputElement) {\n        const { type } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n\n    return shadow(\n      this,\n      \"_keyboardManager\",\n      new KeyboardManager([\n        [\n          [\"ctrl+a\", \"mac+meta+a\"],\n          proto.selectAll,\n          { checker: textInputChecker },\n        ],\n        [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, { checker: textInputChecker }],\n        [\n          // On mac, depending of the OS version, the event.key is either \"z\" or\n          // \"Z\" when the user presses \"meta+shift+z\".\n          [\n            \"ctrl+y\",\n            \"ctrl+shift+z\",\n            \"mac+meta+shift+z\",\n            \"ctrl+shift+Z\",\n            \"mac+meta+shift+Z\",\n          ],\n          proto.redo,\n          { checker: textInputChecker },\n        ],\n        [\n          [\n            \"Backspace\",\n            \"alt+Backspace\",\n            \"ctrl+Backspace\",\n            \"shift+Backspace\",\n            \"mac+Backspace\",\n            \"mac+alt+Backspace\",\n            \"mac+ctrl+Backspace\",\n            \"Delete\",\n            \"ctrl+Delete\",\n            \"shift+Delete\",\n            \"mac+Delete\",\n          ],\n          proto.delete,\n          { checker: textInputChecker },\n        ],\n        [\n          [\"Enter\", \"mac+Enter\"],\n          proto.addNewEditorFromKeyboard,\n          {\n            // Those shortcuts can be used in the toolbar for some other actions\n            // like zooming, hence we need to check if the container has the\n            // focus.\n            checker: (self, { target: el }) =>\n              !(el instanceof HTMLButtonElement) &&\n              self.#container.contains(el) &&\n              !self.isEnterHandled,\n          },\n        ],\n        [\n          [\" \", \"mac+ \"],\n          proto.addNewEditorFromKeyboard,\n          {\n            // Those shortcuts can be used in the toolbar for some other actions\n            // like zooming, hence we need to check if the container has the\n            // focus.\n            checker: (self, { target: el }) =>\n              !(el instanceof HTMLButtonElement) &&\n              self.#container.contains(document.activeElement),\n          },\n        ],\n        [[\"Escape\", \"mac+Escape\"], proto.unselectAll],\n        [\n          [\"ArrowLeft\", \"mac+ArrowLeft\"],\n          proto.translateSelectedEditors,\n          { args: [-small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"],\n          proto.translateSelectedEditors,\n          { args: [-big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowRight\", \"mac+ArrowRight\"],\n          proto.translateSelectedEditors,\n          { args: [small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"],\n          proto.translateSelectedEditors,\n          { args: [big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowUp\", \"mac+ArrowUp\"],\n          proto.translateSelectedEditors,\n          { args: [0, -small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"],\n          proto.translateSelectedEditors,\n          { args: [0, -big], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowDown\", \"mac+ArrowDown\"],\n          proto.translateSelectedEditors,\n          { args: [0, small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"],\n          proto.translateSelectedEditors,\n          { args: [0, big], checker: arrowChecker },\n        ],\n      ])\n    );\n  }\n\n  constructor(\n    container,\n    viewer,\n    altTextManager,\n    eventBus,\n    pdfDocument,\n    pageColors,\n    highlightColors,\n    enableHighlightFloatingButton,\n    enableUpdatedAddImage,\n    enableNewAltTextWhenAddingImage,\n    mlManager\n  ) {\n    const signal = (this._signal = this.#abortController.signal);\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#altTextManager = altTextManager;\n    this._eventBus = eventBus;\n    eventBus._on(\"editingaction\", this.onEditingAction.bind(this), { signal });\n    eventBus._on(\"pagechanging\", this.onPageChanging.bind(this), { signal });\n    eventBus._on(\"scalechanging\", this.onScaleChanging.bind(this), { signal });\n    eventBus._on(\"rotationchanging\", this.onRotationChanging.bind(this), {\n      signal,\n    });\n    eventBus._on(\"setpreference\", this.onSetPreference.bind(this), { signal });\n    eventBus._on(\n      \"switchannotationeditorparams\",\n      evt => this.updateParams(evt.type, evt.value),\n      { signal }\n    );\n    this.#addSelectionListener();\n    this.#addDragAndDropListeners();\n    this.#addKeyboardManager();\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.#highlightColors = highlightColors || null;\n    this.#enableHighlightFloatingButton = enableHighlightFloatingButton;\n    this.#enableUpdatedAddImage = enableUpdatedAddImage;\n    this.#enableNewAltTextWhenAddingImage = enableNewAltTextWhenAddingImage;\n    this.#mlManager = mlManager || null;\n    this.viewParameters = {\n      realScale: PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0,\n    };\n    this.isShiftKeyDown = false;\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      Object.defineProperty(this, \"reset\", {\n        value: () => {\n          this.selectAll();\n          this.delete();\n          this.#idManager.reset();\n        },\n      });\n    }\n  }\n\n  destroy() {\n    this.#updateModeCapability?.resolve();\n    this.#updateModeCapability = null;\n\n    this.#abortController?.abort();\n    this.#abortController = null;\n    this._signal = null;\n\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager?.destroy();\n    this.#highlightToolbar?.hide();\n    this.#highlightToolbar = null;\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n  }\n\n  combinedSignal(ac) {\n    return AbortSignal.any([this._signal, ac.signal]);\n  }\n\n  get mlManager() {\n    return this.#mlManager;\n  }\n\n  get useNewAltTextFlow() {\n    return this.#enableUpdatedAddImage;\n  }\n\n  get useNewAltTextWhenAddingImage() {\n    return this.#enableNewAltTextWhenAddingImage;\n  }\n\n  get hcmFilter() {\n    return shadow(\n      this,\n      \"hcmFilter\",\n      this.#pageColors\n        ? this.#filterFactory.addHCMFilter(\n            this.#pageColors.foreground,\n            this.#pageColors.background\n          )\n        : \"none\"\n    );\n  }\n\n  get direction() {\n    return shadow(\n      this,\n      \"direction\",\n      getComputedStyle(this.#container).direction\n    );\n  }\n\n  get highlightColors() {\n    return shadow(\n      this,\n      \"highlightColors\",\n      this.#highlightColors\n        ? new Map(\n            this.#highlightColors\n              .split(\",\")\n              .map(pair => pair.split(\"=\").map(x => x.trim()))\n          )\n        : null\n    );\n  }\n\n  get highlightColorNames() {\n    return shadow(\n      this,\n      \"highlightColorNames\",\n      this.highlightColors\n        ? new Map(Array.from(this.highlightColors, e => e.reverse()))\n        : null\n    );\n  }\n\n  setMainHighlightColorPicker(colorPicker) {\n    this.#mainHighlightColorPicker = colorPicker;\n  }\n\n  editAltText(editor, firstTime = false) {\n    this.#altTextManager?.editAltText(this, editor, firstTime);\n  }\n\n  switchToMode(mode, callback) {\n    // Switching to a mode can be asynchronous.\n    this._eventBus.on(\"annotationeditormodechanged\", callback, {\n      once: true,\n      signal: this._signal,\n    });\n    this._eventBus.dispatch(\"showannotationeditorui\", {\n      source: this,\n      mode,\n    });\n  }\n\n  setPreference(name, value) {\n    this._eventBus.dispatch(\"setpreference\", {\n      source: this,\n      name,\n      value,\n    });\n  }\n\n  onSetPreference({ name, value }) {\n    switch (name) {\n      case \"enableNewAltTextWhenAddingImage\":\n        this.#enableNewAltTextWhenAddingImage = value;\n        break;\n    }\n  }\n\n  onPageChanging({ pageNumber }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n\n  focusMainContainer() {\n    this.#container.focus();\n  }\n\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height,\n      } = layer.div.getBoundingClientRect();\n      if (\n        x >= layerX &&\n        x <= layerX + width &&\n        y >= layerY &&\n        y <= layerY + height\n      ) {\n        return layer;\n      }\n    }\n    return null;\n  }\n\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n\n  onScaleChanging({ scale }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n  }\n\n  onRotationChanging({ pagesRotation }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n\n  #getAnchorElementForSelection({ anchorNode }) {\n    return anchorNode.nodeType === Node.TEXT_NODE\n      ? anchorNode.parentElement\n      : anchorNode;\n  }\n\n  #getLayerForTextLayer(textLayer) {\n    const { currentLayer } = this;\n    if (currentLayer.hasTextLayer(textLayer)) {\n      return currentLayer;\n    }\n    for (const layer of this.#allLayers.values()) {\n      if (layer.hasTextLayer(textLayer)) {\n        return layer;\n      }\n    }\n    return null;\n  }\n\n  highlightSelection(methodOfCreation = \"\") {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const { anchorNode, anchorOffset, focusNode, focusOffset } = selection;\n    const text = selection.toString();\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    selection.empty();\n\n    const layer = this.#getLayerForTextLayer(textLayer);\n    const isNoneMode = this.#mode === AnnotationEditorType.NONE;\n    const callback = () => {\n      layer?.createAndAddNewEditor({ x: 0, y: 0 }, false, {\n        methodOfCreation,\n        boxes,\n        anchorNode,\n        anchorOffset,\n        focusNode,\n        focusOffset,\n        text,\n      });\n      if (isNoneMode) {\n        this.showAllEditors(\"highlight\", true, /* updateButton = */ true);\n      }\n    };\n    if (isNoneMode) {\n      this.switchToMode(AnnotationEditorType.HIGHLIGHT, callback);\n      return;\n    }\n    callback();\n  }\n\n  #displayHighlightToolbar() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    this.#highlightToolbar ||= new HighlightToolbar(this);\n    this.#highlightToolbar.show(textLayer, boxes, this.direction === \"ltr\");\n  }\n\n  /**\n   * Add an editor in the annotation storage.\n   * @param {AnnotationEditor} editor\n   */\n  addToAnnotationStorage(editor) {\n    if (\n      !editor.isEmpty() &&\n      this.#annotationStorage &&\n      !this.#annotationStorage.has(editor.id)\n    ) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n\n  #selectionChange() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false,\n        });\n      }\n      return;\n    }\n    const { anchorNode } = selection;\n    if (anchorNode === this.#selectedTextNode) {\n      return;\n    }\n\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    if (!textLayer) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false,\n        });\n      }\n      return;\n    }\n\n    this.#highlightToolbar?.hide();\n    this.#selectedTextNode = anchorNode;\n    this.#dispatchUpdateStates({\n      hasSelectedText: true,\n    });\n\n    if (\n      this.#mode !== AnnotationEditorType.HIGHLIGHT &&\n      this.#mode !== AnnotationEditorType.NONE\n    ) {\n      return;\n    }\n\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.showAllEditors(\"highlight\", true, /* updateButton = */ true);\n    }\n\n    this.#highlightWhenShiftUp = this.isShiftKeyDown;\n    if (!this.isShiftKeyDown) {\n      const activeLayer =\n        this.#mode === AnnotationEditorType.HIGHLIGHT\n          ? this.#getLayerForTextLayer(textLayer)\n          : null;\n      activeLayer?.toggleDrawing();\n\n      const ac = new AbortController();\n      const signal = this.combinedSignal(ac);\n\n      const pointerup = e => {\n        if (e.type === \"pointerup\" && e.button !== 0) {\n          // Do nothing on right click.\n          return;\n        }\n        ac.abort();\n        activeLayer?.toggleDrawing(true);\n        if (e.type === \"pointerup\") {\n          this.#onSelectEnd(\"main_toolbar\");\n        }\n      };\n      window.addEventListener(\"pointerup\", pointerup, { signal });\n      window.addEventListener(\"blur\", pointerup, { signal });\n    }\n  }\n\n  #onSelectEnd(methodOfCreation = \"\") {\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.highlightSelection(methodOfCreation);\n    } else if (this.#enableHighlightFloatingButton) {\n      this.#displayHighlightToolbar();\n    }\n  }\n\n  #addSelectionListener() {\n    document.addEventListener(\n      \"selectionchange\",\n      this.#selectionChange.bind(this),\n      { signal: this._signal }\n    );\n  }\n\n  #addFocusManager() {\n    if (this.#focusManagerAC) {\n      return;\n    }\n    this.#focusManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#focusManagerAC);\n\n    window.addEventListener(\"focus\", this.focus.bind(this), { signal });\n    window.addEventListener(\"blur\", this.blur.bind(this), { signal });\n  }\n\n  #removeFocusManager() {\n    this.#focusManagerAC?.abort();\n    this.#focusManagerAC = null;\n  }\n\n  blur() {\n    this.isShiftKeyDown = false;\n    if (this.#highlightWhenShiftUp) {\n      this.#highlightWhenShiftUp = false;\n      this.#onSelectEnd(\"main_toolbar\");\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    // When several editors are selected and the window loses focus, we want to\n    // keep the last active element in order to be able to focus it again when\n    // the window gets the focus back but we don't want to trigger any focus\n    // callbacks else only one editor will be selected.\n    const { activeElement } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\n      \"focusin\",\n      () => {\n        lastEditor._focusEventsAllowed = true;\n      },\n      { once: true, signal: this._signal }\n    );\n    lastActiveElement.focus();\n  }\n\n  #addKeyboardManager() {\n    if (this.#keyboardManagerAC) {\n      return;\n    }\n    this.#keyboardManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#keyboardManagerAC);\n\n    // The keyboard events are caught at the container level in order to be able\n    // to execute some callbacks even if the current page doesn't have focus.\n    window.addEventListener(\"keydown\", this.keydown.bind(this), { signal });\n    window.addEventListener(\"keyup\", this.keyup.bind(this), { signal });\n  }\n\n  #removeKeyboardManager() {\n    this.#keyboardManagerAC?.abort();\n    this.#keyboardManagerAC = null;\n  }\n\n  #addCopyPasteListeners() {\n    if (this.#copyPasteAC) {\n      return;\n    }\n    this.#copyPasteAC = new AbortController();\n    const signal = this.combinedSignal(this.#copyPasteAC);\n\n    document.addEventListener(\"copy\", this.copy.bind(this), { signal });\n    document.addEventListener(\"cut\", this.cut.bind(this), { signal });\n    document.addEventListener(\"paste\", this.paste.bind(this), { signal });\n  }\n\n  #removeCopyPasteListeners() {\n    this.#copyPasteAC?.abort();\n    this.#copyPasteAC = null;\n  }\n\n  #addDragAndDropListeners() {\n    const signal = this._signal;\n    document.addEventListener(\"dragover\", this.dragOver.bind(this), { signal });\n    document.addEventListener(\"drop\", this.drop.bind(this), { signal });\n  }\n\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.#addCopyPasteListeners();\n  }\n\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.#removeCopyPasteListeners();\n  }\n\n  dragOver(event) {\n    for (const { type } of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(type)) {\n          event.dataTransfer.dropEffect = \"copy\";\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n\n  /**\n   * Drop callback.\n   * @param {DragEvent} event\n   */\n  drop(event) {\n    for (const item of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n\n  /**\n   * Copy callback.\n   * @param {ClipboardEvent} event\n   */\n  copy(event) {\n    event.preventDefault();\n\n    // An editor is being edited so just commit it.\n    this.#activeEditor?.commitOrRemove();\n\n    if (!this.hasSelection) {\n      return;\n    }\n\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(/* isForCopying = */ true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n\n  /**\n   * Cut callback.\n   * @param {ClipboardEvent} event\n   */\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n\n  /**\n   * Paste callback.\n   * @param {ClipboardEvent} event\n   */\n  async paste(event) {\n    event.preventDefault();\n    const { clipboardData } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n      return;\n    }\n\n    if (!Array.isArray(data)) {\n      return;\n    }\n\n    this.unselectAll();\n    const layer = this.currentLayer;\n\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = await layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({ cmd, undo, mustExec: true });\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n    }\n  }\n\n  /**\n   * Keydown callback.\n   * @param {KeyboardEvent} event\n   */\n  keydown(event) {\n    if (!this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = true;\n    }\n    if (\n      this.#mode !== AnnotationEditorType.NONE &&\n      !this.isEditorHandlingKeyboard\n    ) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n\n  /**\n   * Keyup callback.\n   * @param {KeyboardEvent} event\n   */\n  keyup(event) {\n    if (this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = false;\n      if (this.#highlightWhenShiftUp) {\n        this.#highlightWhenShiftUp = false;\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n\n  /**\n   * Execute an action for a given name.\n   * For example, the user can click on the \"Undo\" entry in the context menu\n   * and it'll trigger the undo action.\n   */\n  onEditingAction({ name }) {\n    switch (name) {\n      case \"undo\":\n      case \"redo\":\n      case \"delete\":\n      case \"selectAll\":\n        this[name]();\n        break;\n      case \"highlightSelection\":\n        this.highlightSelection(\"context_menu\");\n        break;\n    }\n  }\n\n  /**\n   * Update the different possible states of this manager, e.g. is there\n   * something to undo, redo, ...\n   * @param {Object} details\n   */\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(\n      ([key, value]) => this.#previousStates[key] !== value\n    );\n\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details),\n      });\n      // We could listen on our own event but it sounds like a bit weird and\n      // it's a way to simpler to handle that stuff here instead of having to\n      // add something in every place where an editor can be unselected.\n      if (\n        this.#mode === AnnotationEditorType.HIGHLIGHT &&\n        details.hasSelectedEditor === false\n      ) {\n        this.#dispatchUpdateUI([\n          [AnnotationEditorParamsType.HIGHLIGHT_FREE, true],\n        ]);\n      }\n    }\n  }\n\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details,\n    });\n  }\n\n  /**\n   * Set the editing state.\n   * It can be useful to temporarily disable it when the user is editing a\n   * FreeText annotation.\n   * @param {boolean} isEditing\n   */\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false,\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false,\n      });\n      this.disableUserSelect(false);\n    }\n  }\n\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n\n  /**\n   * Get an id.\n   * @returns {string}\n   */\n  getId() {\n    return this.#idManager.id;\n  }\n\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n\n  /**\n   * Add a new layer for a page which will contains the editors.\n   * @param {AnnotationEditorLayer} layer\n   */\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n\n  /**\n   * Remove a layer.\n   * @param {AnnotationEditorLayer} layer\n   */\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n\n  /**\n   * Change the editor mode (None, FreeText, Ink, ...)\n   * @param {number} mode\n   * @param {string|null} editId\n   * @param {boolean} [isFromKeyboard] - true if the mode change is due to a\n   *   keyboard action.\n   */\n  async updateMode(mode, editId = null, isFromKeyboard = false) {\n    if (this.#mode === mode) {\n      return;\n    }\n\n    if (this.#updateModeCapability) {\n      await this.#updateModeCapability.promise;\n      if (!this.#updateModeCapability) {\n        // This ui manager has been destroyed.\n        return;\n      }\n    }\n\n    this.#updateModeCapability = Promise.withResolvers();\n\n    this.#mode = mode;\n    if (mode === AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n\n      this.#updateModeCapability.resolve();\n      return;\n    }\n    this.setEditingState(true);\n    await this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (!editId) {\n      if (isFromKeyboard) {\n        this.addNewEditorFromKeyboard();\n      }\n\n      this.#updateModeCapability.resolve();\n      return;\n    }\n\n    for (const editor of this.#allEditors.values()) {\n      if (editor.annotationElementId === editId) {\n        this.setSelected(editor);\n        editor.enterInEditMode();\n      } else {\n        editor.unselect();\n      }\n    }\n\n    this.#updateModeCapability.resolve();\n  }\n\n  addNewEditorFromKeyboard() {\n    if (this.currentLayer.canCreateNewEmptyEditor()) {\n      this.currentLayer.addNewEditor();\n    }\n  }\n\n  /**\n   * Update the toolbar if it's required to reflect the tool currently used.\n   * @param {number} mode\n   * @returns {undefined}\n   */\n  updateToolbar(mode) {\n    if (mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      mode,\n    });\n  }\n\n  /**\n   * Update a parameter in the current editor or globally.\n   * @param {number} type\n   * @param {*} value\n   */\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n\n    switch (type) {\n      case AnnotationEditorParamsType.CREATE:\n        this.currentLayer.addNewEditor();\n        return;\n      case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        this.#mainHighlightColorPicker?.updateColor(value);\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:\n        this._eventBus.dispatch(\"reporttelemetry\", {\n          source: this,\n          details: {\n            type: \"editing\",\n            data: {\n              type: \"highlight\",\n              action: \"toggle_visibility\",\n            },\n          },\n        });\n        (this.#showAllStates ||= new Map()).set(type, value);\n        this.showAllEditors(\"highlight\", value);\n        break;\n    }\n\n    for (const editor of this.#selectedEditors) {\n      editor.updateParams(type, value);\n    }\n\n    for (const editorType of this.#editorTypes) {\n      editorType.updateDefaultParams(type, value);\n    }\n  }\n\n  showAllEditors(type, visible, updateButton = false) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.editorType === type) {\n        editor.show(visible);\n      }\n    }\n    const state =\n      this.#showAllStates?.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL) ??\n      true;\n    if (state !== visible) {\n      this.#dispatchUpdateUI([\n        [AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL, visible],\n      ]);\n    }\n  }\n\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n\n  /**\n   * Enable all the layers.\n   */\n  async #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      const promises = [];\n      for (const layer of this.#allLayers.values()) {\n        promises.push(layer.enable());\n      }\n      await Promise.all(promises);\n      for (const editor of this.#allEditors.values()) {\n        editor.enable();\n      }\n    }\n  }\n\n  /**\n   * Disable all the layers.\n   */\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.disable();\n      }\n    }\n  }\n\n  /**\n   * Get all the editors belonging to a given page.\n   * @param {number} pageIndex\n   * @returns {Array<AnnotationEditor>}\n   */\n  getEditors(pageIndex) {\n    const editors = [];\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        editors.push(editor);\n      }\n    }\n    return editors;\n  }\n\n  /**\n   * Get an editor with the given id.\n   * @param {string} id\n   * @returns {AnnotationEditor}\n   */\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n\n  /**\n   * Add a new editor.\n   * @param {AnnotationEditor} editor\n   */\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n\n  /**\n   * Remove an editor.\n   * @param {AnnotationEditor} editor\n   */\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        // When the div is removed from DOM the focus can move on the\n        // document.body, so we need to move it back to the main container.\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    this.unselect(editor);\n    if (\n      !editor.annotationElementId ||\n      !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)\n    ) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n\n  /**\n   * The annotation element with the given id has been deleted.\n   * @param {AnnotationEditor} editor\n   */\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    this.addChangedExistingAnnotation(editor);\n    editor.deleted = true;\n  }\n\n  /**\n   * Check if the annotation element with the given id has been deleted.\n   * @param {string} annotationElementId\n   * @returns {boolean}\n   */\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n\n  /**\n   * The annotation element with the given id have been restored.\n   * @param {AnnotationEditor} editor\n   */\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    this.removeChangedExistingAnnotation(editor);\n    editor.deleted = false;\n  }\n\n  /**\n   * Add an editor to the layer it belongs to or add it to the global map.\n   * @param {AnnotationEditor} editor\n   */\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n      this.addToAnnotationStorage(editor);\n    }\n  }\n\n  /**\n   * Set the given editor as the active one.\n   * @param {AnnotationEditor} editor\n   */\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n\n  get #lastSelectedEditor() {\n    let ed = null;\n    for (ed of this.#selectedEditors) {\n      // Iterate to get the last element.\n    }\n    return ed;\n  }\n\n  /**\n   * Update the UI of the active editor.\n   * @param {AnnotationEditor} editor\n   */\n  updateUI(editor) {\n    if (this.#lastSelectedEditor === editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n\n  /**\n   * Add or remove an editor the current selection.\n   * @param {AnnotationEditor} editor\n   */\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection,\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true,\n    });\n  }\n\n  /**\n   * Set the last selected editor.\n   * @param {AnnotationEditor} editor\n   */\n  setSelected(editor) {\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true,\n    });\n  }\n\n  /**\n   * Check if the editor is selected.\n   * @param {AnnotationEditor} editor\n   */\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n\n  /**\n   * Unselect an editor.\n   * @param {AnnotationEditor} editor\n   */\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection,\n    });\n  }\n\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n\n  get isEnterHandled() {\n    return (\n      this.#selectedEditors.size === 1 &&\n      this.firstSelectedEditor.isEnterHandled\n    );\n  }\n\n  /**\n   * Undo the last command.\n   */\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty(),\n    });\n  }\n\n  /**\n   * Redo the last undoed command.\n   */\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty(),\n    });\n  }\n\n  /**\n   * Add a command to execute (cmd) and another one to undo it.\n   * @param {Object} params\n   */\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty(),\n    });\n  }\n\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Delete the current editor or all.\n   */\n  delete() {\n    this.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n\n    const editors = [...this.#selectedEditors];\n    const cmd = () => {\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n\n    this.addCommands({ cmd, undo, mustExec: true });\n  }\n\n  commitOrRemove() {\n    // An editor is being edited so just commit it.\n    this.#activeEditor?.commitOrRemove();\n  }\n\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n\n  /**\n   * Select the editors.\n   * @param {Array<AnnotationEditor>} editors\n   */\n  #selectEditors(editors) {\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({ hasSelectedEditor: this.hasSelection });\n  }\n\n  /**\n   * Select all the editors.\n   */\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n\n  /**\n   * Unselect all the selected editors.\n   */\n  unselectAll() {\n    if (this.#activeEditor) {\n      // An editor is being edited so just commit it.\n      this.#activeEditor.commitOrRemove();\n      if (this.#mode !== AnnotationEditorType.NONE) {\n        // If the mode is NONE, we want to really unselect the editor, hence we\n        // mustn't return here.\n        return;\n      }\n    }\n\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false,\n    });\n  }\n\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n\n    // We don't want to have an undo/redo for each translation so we wait a bit\n    // before adding the command to the command manager.\n    const TIME_TO_WAIT = 1000;\n\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n            }\n          }\n        },\n        mustExec: false,\n      });\n    }, TIME_TO_WAIT);\n\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n    }\n  }\n\n  /**\n   * Set up the drag session for moving the selected editors.\n   */\n  setUpDragSession() {\n    // Note: don't use any references to the editor's parent which can be null\n    // if the editor belongs to a destroyed page.\n    if (!this.hasSelection) {\n      return;\n    }\n    // Avoid to have spurious text selection in the text layer when dragging.\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1,\n      });\n    }\n  }\n\n  /**\n   * Ends the drag session.\n   * @returns {boolean} true if at least one editor has been moved.\n   */\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n\n    for (const [{ x, y, pageIndex }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||=\n        x !== value.savedX ||\n        y !== value.savedY ||\n        pageIndex !== value.savedPageIndex;\n    }\n\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        // The editor can be undone/redone on a page which is not visible (and\n        // which potentially has no annotation editor layer), hence we need to\n        // use the pageIndex instead of the parent.\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, { newX, newY, newPageIndex }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, { savedX, savedY, savedPageIndex }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true,\n    });\n\n    return true;\n  }\n\n  /**\n   * Drag the set of selected editors.\n   * @param {number} tx\n   * @param {number} ty\n   */\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n\n  /**\n   * Rebuild the editor (usually on undo/redo actions) on a potentially\n   * non-rendered page.\n   * @param {AnnotationEditor} editor\n   */\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n\n  get isEditorHandlingKeyboard() {\n    return (\n      this.getActive()?.shouldGetKeyboardEvents() ||\n      (this.#selectedEditors.size === 1 &&\n        this.firstSelectedEditor.shouldGetKeyboardEvents())\n    );\n  }\n\n  /**\n   * Is the current editor the one passed as argument?\n   * @param {AnnotationEditor} editor\n   * @returns\n   */\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n\n  /**\n   * Get the current active editor.\n   * @returns {AnnotationEditor|null}\n   */\n  getActive() {\n    return this.#activeEditor;\n  }\n\n  /**\n   * Get the current editor mode.\n   * @returns {number}\n   */\n  getMode() {\n    return this.#mode;\n  }\n\n  get imageManager() {\n    return shadow(this, \"imageManager\", new ImageManager());\n  }\n\n  getSelectionBoxes(textLayer) {\n    if (!textLayer) {\n      return null;\n    }\n    const selection = document.getSelection();\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      if (\n        !textLayer.contains(selection.getRangeAt(i).commonAncestorContainer)\n      ) {\n        return null;\n      }\n    }\n\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight,\n    } = textLayer.getBoundingClientRect();\n\n    // We must rotate the boxes because we want to have them in the non-rotated\n    // page coordinates.\n    let rotator;\n    switch (textLayer.getAttribute(\"data-main-rotation\")) {\n      case \"90\":\n        rotator = (x, y, w, h) => ({\n          x: (y - layerY) / parentHeight,\n          y: 1 - (x + w - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth,\n        });\n        break;\n      case \"180\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (x + w - layerX) / parentWidth,\n          y: 1 - (y + h - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight,\n        });\n        break;\n      case \"270\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (y + h - layerY) / parentHeight,\n          y: (x - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth,\n        });\n        break;\n      default:\n        rotator = (x, y, w, h) => ({\n          x: (x - layerX) / parentWidth,\n          y: (y - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight,\n        });\n        break;\n    }\n\n    const boxes = [];\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      const range = selection.getRangeAt(i);\n      if (range.collapsed) {\n        continue;\n      }\n      for (const { x, y, width, height } of range.getClientRects()) {\n        if (width === 0 || height === 0) {\n          continue;\n        }\n        boxes.push(rotator(x, y, width, height));\n      }\n    }\n    return boxes.length === 0 ? null : boxes;\n  }\n\n  addChangedExistingAnnotation({ annotationElementId, id }) {\n    (this.#changedExistingAnnotations ||= new Map()).set(\n      annotationElementId,\n      id\n    );\n  }\n\n  removeChangedExistingAnnotation({ annotationElementId }) {\n    this.#changedExistingAnnotations?.delete(annotationElementId);\n  }\n\n  renderAnnotationElement(annotation) {\n    const editorId = this.#changedExistingAnnotations?.get(annotation.data.id);\n    if (!editorId) {\n      return;\n    }\n    const editor = this.#annotationStorage.getRawValue(editorId);\n    if (!editor) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.NONE && !editor.hasBeenModified) {\n      return;\n    }\n    editor.renderAnnotationElement(annotation);\n  }\n}\n\nexport {\n  AnnotationEditorUIManager,\n  bindEvents,\n  ColorManager,\n  CommandManager,\n  KeyboardManager,\n  opacityToHex,\n};\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { noContextMenu } from \"../display_utils.js\";\n\nclass AltText {\n  #altText = null;\n\n  #altTextDecorative = false;\n\n  #altTextButton = null;\n\n  #altTextButtonLabel = null;\n\n  #altTextTooltip = null;\n\n  #altTextTooltipTimeout = null;\n\n  #altTextWasFromKeyBoard = false;\n\n  #badge = null;\n\n  #editor = null;\n\n  #guessedText = null;\n\n  #textWithDisclaimer = null;\n\n  #useNewAltTextFlow = false;\n\n  static #l10nNewButton = null;\n\n  static _l10n = null;\n\n  constructor(editor) {\n    this.#editor = editor;\n    this.#useNewAltTextFlow = editor._uiManager.useNewAltTextFlow;\n\n    AltText.#l10nNewButton ||= Object.freeze({\n      added: \"pdfjs-editor-new-alt-text-added-button\",\n      \"added-label\": \"pdfjs-editor-new-alt-text-added-button-label\",\n      missing: \"pdfjs-editor-new-alt-text-missing-button\",\n      \"missing-label\": \"pdfjs-editor-new-alt-text-missing-button-label\",\n      review: \"pdfjs-editor-new-alt-text-to-review-button\",\n      \"review-label\": \"pdfjs-editor-new-alt-text-to-review-button-label\",\n    });\n  }\n\n  static initialize(l10n) {\n    AltText._l10n ??= l10n;\n  }\n\n  async render() {\n    const altText = (this.#altTextButton = document.createElement(\"button\"));\n    altText.className = \"altText\";\n    altText.tabIndex = \"0\";\n\n    const label = (this.#altTextButtonLabel = document.createElement(\"span\"));\n    altText.append(label);\n\n    if (this.#useNewAltTextFlow) {\n      altText.classList.add(\"new\");\n      altText.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton.missing);\n      label.setAttribute(\n        \"data-l10n-id\",\n        AltText.#l10nNewButton[\"missing-label\"]\n      );\n    } else {\n      altText.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button\");\n      label.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button-label\");\n    }\n\n    const signal = this.#editor._uiManager._signal;\n    altText.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal,\n    });\n\n    const onClick = event => {\n      event.preventDefault();\n      this.#editor._uiManager.editAltText(this.#editor);\n      if (this.#useNewAltTextFlow) {\n        this.#editor._reportTelemetry({\n          action: \"pdfjs.image.alt_text.image_status_label_clicked\",\n          data: { label: this.#label },\n        });\n      }\n    };\n    altText.addEventListener(\"click\", onClick, { capture: true, signal });\n    altText.addEventListener(\n      \"keydown\",\n      event => {\n        if (event.target === altText && event.key === \"Enter\") {\n          this.#altTextWasFromKeyBoard = true;\n          onClick(event);\n        }\n      },\n      { signal }\n    );\n    await this.#setState();\n\n    return altText;\n  }\n\n  get #label() {\n    return (\n      (this.#altText && \"added\") ||\n      (this.#altText === null && this.guessedText && \"review\") ||\n      \"missing\"\n    );\n  }\n\n  finish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.focus({ focusVisible: this.#altTextWasFromKeyBoard });\n    this.#altTextWasFromKeyBoard = false;\n  }\n\n  isEmpty() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText === null;\n    }\n    return !this.#altText && !this.#altTextDecorative;\n  }\n\n  hasData() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText !== null || !!this.#guessedText;\n    }\n    return this.isEmpty();\n  }\n\n  get guessedText() {\n    return this.#guessedText;\n  }\n\n  async setGuessedText(guessedText) {\n    if (this.#altText !== null) {\n      // The user provided their own alt text, so we don't want to overwrite it.\n      return;\n    }\n    this.#guessedText = guessedText;\n    this.#textWithDisclaimer = await AltText._l10n.get(\n      \"pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer\",\n      { generatedAltText: guessedText }\n    );\n    this.#setState();\n  }\n\n  toggleAltTextBadge(visibility = false) {\n    if (!this.#useNewAltTextFlow || this.#altText) {\n      this.#badge?.remove();\n      this.#badge = null;\n      return;\n    }\n    if (!this.#badge) {\n      const badge = (this.#badge = document.createElement(\"div\"));\n      badge.className = \"noAltTextBadge\";\n      this.#editor.div.append(badge);\n    }\n    this.#badge.classList.toggle(\"hidden\", !visibility);\n  }\n\n  serialize(isForCopying) {\n    let altText = this.#altText;\n    if (!isForCopying && this.#guessedText === altText) {\n      altText = this.#textWithDisclaimer;\n    }\n    return {\n      altText,\n      decorative: this.#altTextDecorative,\n      guessedText: this.#guessedText,\n      textWithDisclaimer: this.#textWithDisclaimer,\n    };\n  }\n\n  get data() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative,\n    };\n  }\n\n  /**\n   * Set the alt text data.\n   */\n  set data({\n    altText,\n    decorative,\n    guessedText,\n    textWithDisclaimer,\n    cancel = false,\n  }) {\n    if (guessedText) {\n      this.#guessedText = guessedText;\n      this.#textWithDisclaimer = textWithDisclaimer;\n    }\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    if (!cancel) {\n      this.#altText = altText;\n      this.#altTextDecorative = decorative;\n    }\n    this.#setState();\n  }\n\n  toggle(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n\n  shown() {\n    this.#editor._reportTelemetry({\n      action: \"pdfjs.image.alt_text.image_status_label_displayed\",\n      data: { label: this.#label },\n    });\n  }\n\n  destroy() {\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextButtonLabel = null;\n    this.#altTextTooltip = null;\n    this.#badge?.remove();\n    this.#badge = null;\n  }\n\n  async #setState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n\n    if (this.#useNewAltTextFlow) {\n      button.classList.toggle(\"done\", !!this.#altText);\n      button.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[this.#label]);\n\n      this.#altTextButtonLabel?.setAttribute(\n        \"data-l10n-id\",\n        AltText.#l10nNewButton[`${this.#label}-label`]\n      );\n      if (!this.#altText) {\n        this.#altTextTooltip?.remove();\n        return;\n      }\n    } else {\n      if (!this.#altText && !this.#altTextDecorative) {\n        button.classList.remove(\"done\");\n        this.#altTextTooltip?.remove();\n        return;\n      }\n      button.classList.add(\"done\");\n      button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-edit-button\");\n    }\n\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      tooltip.id = `alt-text-tooltip-${this.#editor.id}`;\n\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      const signal = this.#editor._uiManager._signal;\n      signal.addEventListener(\n        \"abort\",\n        () => {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        },\n        { once: true }\n      );\n      button.addEventListener(\n        \"mouseenter\",\n        () => {\n          this.#altTextTooltipTimeout = setTimeout(() => {\n            this.#altTextTooltipTimeout = null;\n            this.#altTextTooltip.classList.add(\"show\");\n            this.#editor._reportTelemetry({\n              action: \"alt_text_tooltip\",\n            });\n          }, DELAY_TO_SHOW_TOOLTIP);\n        },\n        { signal }\n      );\n      button.addEventListener(\n        \"mouseleave\",\n        () => {\n          if (this.#altTextTooltipTimeout) {\n            clearTimeout(this.#altTextTooltipTimeout);\n            this.#altTextTooltipTimeout = null;\n          }\n          this.#altTextTooltip?.classList.remove(\"show\");\n        },\n        { signal }\n      );\n    }\n    if (this.#altTextDecorative) {\n      tooltip.setAttribute(\n        \"data-l10n-id\",\n        \"pdfjs-editor-alt-text-decorative-tooltip\"\n      );\n    } else {\n      tooltip.removeAttribute(\"data-l10n-id\");\n      tooltip.textContent = this.#altText;\n    }\n\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n\n    const element = this.#editor.getImageForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n}\n\nexport { AltText };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_editor_layer.js\").AnnotationEditorLayer} AnnotationEditorLayer */\n\nimport {\n  AnnotationEditorUIManager,\n  bindEvents,\n  ColorManager,\n  KeyboardManager,\n} from \"./tools.js\";\nimport { FeatureTest, shadow, unreachable } from \"../../shared/util.js\";\nimport { AltText } from \"./alt_text.js\";\nimport { EditorToolbar } from \"./toolbar.js\";\nimport { noContextMenu } from \"../display_utils.js\";\n\n/**\n * @typedef {Object} AnnotationEditorParameters\n * @property {AnnotationEditorUIManager} uiManager - the global manager\n * @property {AnnotationEditorLayer} parent - the layer containing this editor\n * @property {string} id - editor id\n * @property {number} x - x-coordinate\n * @property {number} y - y-coordinate\n */\n\n/**\n * Base class for editors.\n */\nclass AnnotationEditor {\n  #accessibilityData = null;\n\n  #allResizerDivs = null;\n\n  #altText = null;\n\n  #disabled = false;\n\n  #keepAspectRatio = false;\n\n  #resizersDiv = null;\n\n  #savedDimensions = null;\n\n  #focusAC = null;\n\n  #focusedResizerName = \"\";\n\n  #hasBeenClicked = false;\n\n  #initialPosition = null;\n\n  #isEditing = false;\n\n  #isInEditMode = false;\n\n  #isResizerEnabledForKeyboard = false;\n\n  #moveInDOMTimeout = null;\n\n  #prevDragX = 0;\n\n  #prevDragY = 0;\n\n  #telemetryTimeouts = null;\n\n  _editToolbar = null;\n\n  _initialOptions = Object.create(null);\n\n  _initialData = null;\n\n  _isVisible = true;\n\n  _uiManager = null;\n\n  _focusEventsAllowed = true;\n\n  static _l10n = null;\n\n  static _l10nResizer = null;\n\n  #isDraggable = false;\n\n  #zIndex = AnnotationEditor._zIndex++;\n\n  static _borderLineWidth = -1;\n\n  static _colorManager = new ColorManager();\n\n  static _zIndex = 1;\n\n  // Time to wait (in ms) before sending the telemetry data.\n  // We wait a bit to avoid sending too many requests when changing something\n  // like the thickness of a line.\n  static _telemetryTimeout = 1000;\n\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n\n    return shadow(\n      this,\n      \"_resizerKeyboardManager\",\n      new KeyboardManager([\n        [[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, { args: [-small, 0] }],\n        [\n          [\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"],\n          resize,\n          { args: [-big, 0] },\n        ],\n        [[\"ArrowRight\", \"mac+ArrowRight\"], resize, { args: [small, 0] }],\n        [\n          [\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"],\n          resize,\n          { args: [big, 0] },\n        ],\n        [[\"ArrowUp\", \"mac+ArrowUp\"], resize, { args: [0, -small] }],\n        [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, { args: [0, -big] }],\n        [[\"ArrowDown\", \"mac+ArrowDown\"], resize, { args: [0, small] }],\n        [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, { args: [0, big] }],\n        [\n          [\"Escape\", \"mac+Escape\"],\n          AnnotationEditor.prototype._stopResizingWithKeyboard,\n        ],\n      ])\n    );\n  }\n\n  /**\n   * @param {AnnotationEditorParameters} parameters\n   */\n  constructor(parameters) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === AnnotationEditor\n    ) {\n      unreachable(\"Cannot initialize AnnotationEditor.\");\n    }\n\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n\n    const {\n      rotation,\n      rawDims: { pageWidth, pageHeight, pageX, pageY },\n    } = this.parent.viewport;\n\n    this.rotation = rotation;\n    this.pageRotation =\n      (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n\n  static get _defaultLineColor() {\n    return shadow(\n      this,\n      \"_defaultLineColor\",\n      this._colorManager.getHexCode(\"CanvasText\")\n    );\n  }\n\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager,\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n\n  /**\n   * Initialize the l10n stuff for this type of editor.\n   * @param {Object} l10n\n   */\n  static initialize(l10n, _uiManager) {\n    AnnotationEditor._l10n ??= l10n;\n\n    AnnotationEditor._l10nResizer ||= Object.freeze({\n      topLeft: \"pdfjs-editor-resizer-top-left\",\n      topMiddle: \"pdfjs-editor-resizer-top-middle\",\n      topRight: \"pdfjs-editor-resizer-top-right\",\n      middleRight: \"pdfjs-editor-resizer-middle-right\",\n      bottomRight: \"pdfjs-editor-resizer-bottom-right\",\n      bottomMiddle: \"pdfjs-editor-resizer-bottom-middle\",\n      bottomLeft: \"pdfjs-editor-resizer-bottom-left\",\n      middleLeft: \"pdfjs-editor-resizer-middle-left\",\n    });\n\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth =\n      parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n\n  /**\n   * Update the default parameters for this type of editor.\n   * @param {number} _type\n   * @param {*} _value\n   */\n  static updateDefaultParams(_type, _value) {}\n\n  /**\n   * Get the default properties to set in the UI for this type of editor.\n   * @returns {Array}\n   */\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n\n  /**\n   * Check if this kind of editor is able to handle the given mime type for\n   * pasting.\n   * @param {string} mime\n   * @returns {boolean}\n   */\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n\n  /**\n   * Extract the data from the clipboard item and delegate the creation of the\n   * editor to the parent.\n   * @param {DataTransferItem} item\n   * @param {AnnotationEditorLayer} parent\n   */\n  static paste(item, parent) {\n    unreachable(\"Not implemented\");\n  }\n\n  /**\n   * Get the properties to update in the UI for this editor.\n   * @returns {Array}\n   */\n  get propertiesToUpdate() {\n    return [];\n  }\n\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n\n  /**\n   * @returns {boolean} true if the editor handles the Enter key itself.\n   */\n  get isEnterHandled() {\n    return true;\n  }\n\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= (this.height * pageHeight) / (pageWidth * 2);\n        this.y += (this.width * pageWidth) / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += (this.height * pageHeight) / (pageWidth * 2);\n        this.y -= (this.width * pageWidth) / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Add some commands into the CommandManager (undo/redo stuff).\n   * @param {Object} params\n   */\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n\n  /**\n   * This editor will be behind the others.\n   */\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n\n  /**\n   * This editor will be in the foreground.\n   */\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      // The editor is being removed from the DOM, so we need to stop resizing.\n      this.#stopResizing();\n    }\n    this.parent = parent;\n  }\n\n  /**\n   * onfocus callback.\n   */\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n\n  /**\n   * onblur callback.\n   * @param {FocusEvent} event\n   */\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n\n    // In case of focusout, the relatedTarget is the element which\n    // is grabbing the focus.\n    // So if the related target is an element under the div for this\n    // editor, then the editor isn't unactive.\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n\n  /**\n   * Commit the data contained in this editor.\n   */\n  commit() {\n    this.addToAnnotationStorage();\n  }\n\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n\n  /**\n   * Set the editor position within its parent.\n   * @param {number} x\n   * @param {number} y\n   * @param {number} tx - x-translation in screen coordinates.\n   * @param {number} ty - y-translation in screen coordinates.\n   */\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n\n    this.fixAndSetPosition();\n  }\n\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n\n    this.x += x / width;\n    this.y += y / height;\n\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Translate the editor position within its parent.\n   * @param {number} x - x-translation in screen coordinates.\n   * @param {number} y - y-translation in screen coordinates.\n   */\n  translate(x, y) {\n    // We don't change the initial position because the move here hasn't been\n    // done by the user.\n    this.#translate(this.parentDimensions, x, y);\n  }\n\n  /**\n   * Translate the editor position within its page and adjust the scroll\n   * in order to have the editor in the view.\n   * @param {number} x - x-translation in page coordinates.\n   * @param {number} y - y-translation in page coordinates.\n   */\n  translateInPage(x, y) {\n    this.#initialPosition ||= [this.x, this.y];\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({ block: \"nearest\" });\n  }\n\n  drag(tx, ty) {\n    this.#initialPosition ||= [this.x, this.y];\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      // It's possible to not have a parent: for example, when the user is\n      // dragging all the selected editors but this one on a page which has been\n      // destroyed.\n      // It's why we need to check for it. In such a situation, it isn't really\n      // a problem to not find a new parent: it's something which is related to\n      // what the user is seeing, hence it depends on how pages are layed out.\n\n      // The element will be outside of its parent so change the parent.\n      const { x, y } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n\n    // The editor can be moved wherever the user wants, so we don't need to fix\n    // the position: it'll be done when the user will release the mouse button.\n\n    let { x, y } = this;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n\n    this.div.style.left = `${(100 * x).toFixed(2)}%`;\n    this.div.style.top = `${(100 * y).toFixed(2)}%`;\n    this.div.scrollIntoView({ block: \"nearest\" });\n  }\n\n  get _hasBeenMoved() {\n    return (\n      !!this.#initialPosition &&\n      (this.#initialPosition[0] !== this.x ||\n        this.#initialPosition[1] !== this.y)\n    );\n  }\n\n  /**\n   * Get the translation to take into account the editor border.\n   * The CSS engine positions the element by taking the border into account so\n   * we must apply the opposite translation to have the editor in the right\n   * position.\n   * @returns {Array<number>}\n   */\n  getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const { _borderLineWidth } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n\n  /**\n   * @returns {boolean} true if position must be fixed (i.e. make the x and y\n   * living in the page).\n   */\n  get _mustFixPosition() {\n    return true;\n  }\n\n  /**\n   * Fix the position of the editor in order to keep it inside its parent page.\n   * @param {number} [rotation] - the rotation of the page.\n   */\n  fixAndSetPosition(rotation = this.rotation) {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    let { x, y, width, height } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n\n    if (this._mustFixPosition) {\n      switch (rotation) {\n        case 0:\n          x = Math.max(0, Math.min(pageWidth - width, x));\n          y = Math.max(0, Math.min(pageHeight - height, y));\n          break;\n        case 90:\n          x = Math.max(0, Math.min(pageWidth - height, x));\n          y = Math.min(pageHeight, Math.max(width, y));\n          break;\n        case 180:\n          x = Math.min(pageWidth, Math.max(width, x));\n          y = Math.min(pageHeight, Math.max(height, y));\n          break;\n        case 270:\n          x = Math.min(pageWidth, Math.max(height, x));\n          y = Math.max(0, Math.min(pageHeight - width, y));\n          break;\n      }\n    }\n\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n\n    const { style } = this.div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n\n    this.moveInDOM();\n  }\n\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n\n  /**\n   * Convert a screen translation into a page one.\n   * @param {number} x\n   * @param {number} y\n   */\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n\n  /**\n   * Convert a page translation into a screen one.\n   * @param {number} x\n   * @param {number} y\n   */\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90: {\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n      }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270: {\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n      }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight],\n    } = this;\n    return [pageWidth * parentScale, pageHeight * parentScale];\n  }\n\n  /**\n   * Set the dimensions of this editor.\n   * @param {number} width\n   * @param {number} height\n   */\n  setDims(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.div.style.width = `${((100 * width) / parentWidth).toFixed(2)}%`;\n    if (!this.#keepAspectRatio) {\n      this.div.style.height = `${((100 * height) / parentHeight).toFixed(2)}%`;\n    }\n  }\n\n  fixDims() {\n    const { style } = this.div;\n    const { height, width } = style;\n    const widthPercent = width.endsWith(\"%\");\n    const heightPercent = !this.#keepAspectRatio && height.endsWith(\"%\");\n    if (widthPercent && heightPercent) {\n      return;\n    }\n\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (!widthPercent) {\n      style.width = `${((100 * parseFloat(width)) / parentWidth).toFixed(2)}%`;\n    }\n    if (!this.#keepAspectRatio && !heightPercent) {\n      style.height = `${((100 * parseFloat(height)) / parentHeight).toFixed(\n        2\n      )}%`;\n    }\n  }\n\n  /**\n   * Get the translation used to position this editor when it's created.\n   * @returns {Array<number>}\n   */\n  getInitialTranslation() {\n    return [0, 0];\n  }\n\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    // When the resizers are used with the keyboard, they're focusable, hence\n    // we want to have them in this order (top left, top middle, top right, ...)\n    // in the DOM to have the focus order correct.\n    const classes = this._willKeepAspectRatio\n      ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"]\n      : [\n          \"topLeft\",\n          \"topMiddle\",\n          \"topRight\",\n          \"middleRight\",\n          \"bottomRight\",\n          \"bottomMiddle\",\n          \"bottomLeft\",\n          \"middleLeft\",\n        ];\n    const signal = this._uiManager._signal;\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\n        \"pointerdown\",\n        this.#resizerPointerdown.bind(this, name),\n        { signal }\n      );\n      div.addEventListener(\"contextmenu\", noContextMenu, { signal });\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      return;\n    }\n\n    this.#altText?.toggle(false);\n\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\n      \"pointermove\",\n      this.#resizerPointermove.bind(this, name),\n      { passive: true, capture: true, signal }\n    );\n    window.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor =\n      window.getComputedStyle(event.target).cursor;\n\n    const pointerUpCallback = () => {\n      ac.abort();\n      this.parent.togglePointerEvents(true);\n      this.#altText?.toggle(true);\n      this._isDraggable = savedDraggable;\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, { signal });\n    // If the user switches to another window (with alt+tab), then we end the\n    // resize session.\n    window.addEventListener(\"blur\", pointerUpCallback, { signal });\n  }\n\n  #addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight) {\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (\n      newX === savedX &&\n      newY === savedY &&\n      newWidth === savedWidth &&\n      newHeight === savedHeight\n    ) {\n      return;\n    }\n\n    this.addCommands({\n      cmd: () => {\n        this.width = newWidth;\n        this.height = newHeight;\n        this.x = newX;\n        this.y = newY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n        this.fixAndSetPosition();\n      },\n      undo: () => {\n        this.width = savedWidth;\n        this.height = savedHeight;\n        this.x = savedX;\n        this.y = savedY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * savedWidth, parentHeight * savedHeight);\n        this.fixAndSetPosition();\n      },\n      mustExec: true,\n    });\n  }\n\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n\n    // 10000 because we multiply by 100 and use toFixed(2) in fixAndSetPosition.\n    // Without rounding, the positions of the corners other than the top left\n    // one can be slightly wrong.\n    const round = x => Math.round(x * 10000) / 10000;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [\n      rotationMatrix[0] * x + rotationMatrix[2] * y,\n      rotationMatrix[1] * x + rotationMatrix[3] * y,\n    ];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [\n      invRotationMatrix[0] * x + invRotationMatrix[2] * y,\n      invRotationMatrix[1] * x + invRotationMatrix[3] * y,\n    ];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = round(savedX + transfOppositePoint[0]);\n    const oppositeY = round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n\n    let [deltaX, deltaY] = this.screenToPageTranslation(\n      event.movementX,\n      event.movementY\n    );\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(\n        Math.min(\n          Math.hypot(\n            oppositePoint[0] - point[0] - deltaX,\n            oppositePoint[1] - point[1] - deltaY\n          ) / oldDiag,\n          // Avoid the editor to be larger than the page.\n          1 / savedWidth,\n          1 / savedHeight\n        ),\n        // Avoid the editor to be smaller than the minimum size.\n        minWidth / savedWidth,\n        minHeight / savedHeight\n      );\n    } else if (isHorizontal) {\n      ratioX =\n        Math.max(\n          minWidth,\n          Math.min(1, Math.abs(oppositePoint[0] - point[0] - deltaX))\n        ) / savedWidth;\n    } else {\n      ratioY =\n        Math.max(\n          minHeight,\n          Math.min(1, Math.abs(oppositePoint[1] - point[1] - deltaY))\n        ) / savedHeight;\n    }\n\n    const newWidth = round(savedWidth * ratioX);\n    const newHeight = round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n\n    this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Called when the alt text dialog is closed.\n   */\n  altTextFinish() {\n    this.#altText?.finish();\n  }\n\n  /**\n   * Add a toolbar for this editor.\n   * @returns {Promise<EditorToolbar|null>}\n   */\n  async addEditToolbar() {\n    if (this._editToolbar || this.#isInEditMode) {\n      return this._editToolbar;\n    }\n    this._editToolbar = new EditorToolbar(this);\n    this.div.append(this._editToolbar.render());\n    if (this.#altText) {\n      await this._editToolbar.addAltText(this.#altText);\n    }\n\n    return this._editToolbar;\n  }\n\n  removeEditToolbar() {\n    if (!this._editToolbar) {\n      return;\n    }\n    this._editToolbar.remove();\n    this._editToolbar = null;\n\n    // We destroy the alt text but we don't null it because we want to be able\n    // to restore it in case the user undoes the deletion.\n    this.#altText?.destroy();\n  }\n\n  addContainer(container) {\n    const editToolbarDiv = this._editToolbar?.div;\n    if (editToolbarDiv) {\n      editToolbarDiv.before(container);\n    } else {\n      this.div.append(container);\n    }\n  }\n\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n\n  async addAltTextButton() {\n    if (this.#altText) {\n      return;\n    }\n    AltText.initialize(AnnotationEditor._l10n);\n    this.#altText = new AltText(this);\n    if (this.#accessibilityData) {\n      this.#altText.data = this.#accessibilityData;\n      this.#accessibilityData = null;\n    }\n    await this.addEditToolbar();\n  }\n\n  get altTextData() {\n    return this.#altText?.data;\n  }\n\n  /**\n   * Set the alt text data.\n   */\n  set altTextData(data) {\n    if (!this.#altText) {\n      return;\n    }\n    this.#altText.data = data;\n  }\n\n  get guessedAltText() {\n    return this.#altText?.guessedText;\n  }\n\n  async setGuessedAltText(text) {\n    await this.#altText?.setGuessedText(text);\n  }\n\n  serializeAltText(isForCopying) {\n    return this.#altText?.serialize(isForCopying);\n  }\n\n  hasAltText() {\n    return !!this.#altText && !this.#altText.isEmpty();\n  }\n\n  hasAltTextData() {\n    return this.#altText?.hasData() ?? false;\n  }\n\n  /**\n   * Render this editor in a div.\n   * @returns {HTMLDivElement | null}\n   */\n  render() {\n    this.div = document.createElement(\"div\");\n    this.div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    this.div.className = this.name;\n    this.div.setAttribute(\"id\", this.id);\n    this.div.tabIndex = this.#disabled ? -1 : 0;\n    if (!this._isVisible) {\n      this.div.classList.add(\"hidden\");\n    }\n\n    this.setInForeground();\n    this.#addFocusListeners();\n\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      this.div.style.maxWidth = `${((100 * parentHeight) / parentWidth).toFixed(\n        2\n      )}%`;\n      this.div.style.maxHeight = `${(\n        (100 * parentWidth) /\n        parentHeight\n      ).toFixed(2)}%`;\n    }\n\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n\n    bindEvents(this, this.div, [\"pointerdown\"]);\n\n    return this.div;\n  }\n\n  /**\n   * Onpointerdown callback.\n   * @param {PointerEvent} event\n   */\n  pointerdown(event) {\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      // Avoid to focus this editor because of a non-left click.\n      event.preventDefault();\n      return;\n    }\n\n    this.#hasBeenClicked = true;\n\n    if (this._isDraggable) {\n      this.#setUpDragSession(event);\n      return;\n    }\n\n    this.#selectOnPointerEvent(event);\n  }\n\n  get isSelected() {\n    return this._uiManager.isSelected(this);\n  }\n\n  #selectOnPointerEvent(event) {\n    const { isMac } = FeatureTest.platform;\n    if (\n      (event.ctrlKey && !isMac) ||\n      event.shiftKey ||\n      (event.metaKey && isMac)\n    ) {\n      this.parent.toggleSelected(this);\n    } else {\n      this.parent.setSelected(this);\n    }\n  }\n\n  #setUpDragSession(event) {\n    const { isSelected } = this;\n    this._uiManager.setUpDragSession();\n\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n\n    if (isSelected) {\n      this.div.classList.add(\"moving\");\n      this.#prevDragX = event.clientX;\n      this.#prevDragY = event.clientY;\n      const pointerMoveCallback = e => {\n        const { clientX: x, clientY: y } = e;\n        const [tx, ty] = this.screenToPageTranslation(\n          x - this.#prevDragX,\n          y - this.#prevDragY\n        );\n        this.#prevDragX = x;\n        this.#prevDragY = y;\n        this._uiManager.dragSelectedEditors(tx, ty);\n      };\n      window.addEventListener(\"pointermove\", pointerMoveCallback, {\n        passive: true,\n        capture: true,\n        signal,\n      });\n    }\n\n    const pointerUpCallback = () => {\n      ac.abort();\n      if (isSelected) {\n        this.div.classList.remove(\"moving\");\n      }\n\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        this.#selectOnPointerEvent(event);\n      }\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, { signal });\n    // If the user is using alt+tab during the dragging session, the pointerup\n    // event could be not fired, but a blur event is fired so we can use it in\n    // order to interrupt the dragging session.\n    window.addEventListener(\"blur\", pointerUpCallback, { signal });\n  }\n\n  moveInDOM() {\n    // Moving the editor in the DOM can be expensive, so we wait a bit before.\n    // It's important to not block the UI (for example when changing the font\n    // size in a FreeText).\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n    }, 0);\n  }\n\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Convert the current rect into a page one.\n   * @param {number} tx - x-translation in screen coordinates.\n   * @param {number} ty - y-translation in screen coordinates.\n   * @param {number} [rotation] - the rotation of the page.\n   */\n  getRect(tx, ty, rotation = this.rotation) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n\n    switch (rotation) {\n      case 0:\n        return [\n          x + shiftX + pageX,\n          pageHeight - y - shiftY - height + pageY,\n          x + shiftX + width + pageX,\n          pageHeight - y - shiftY + pageY,\n        ];\n      case 90:\n        return [\n          x + shiftY + pageX,\n          pageHeight - y + shiftX + pageY,\n          x + shiftY + height + pageX,\n          pageHeight - y + shiftX + width + pageY,\n        ];\n      case 180:\n        return [\n          x - shiftX - width + pageX,\n          pageHeight - y + shiftY + pageY,\n          x - shiftX + pageX,\n          pageHeight - y + shiftY + height + pageY,\n        ];\n      case 270:\n        return [\n          x - shiftY - height + pageX,\n          pageHeight - y - shiftX - width + pageY,\n          x - shiftY + pageX,\n          pageHeight - y - shiftX + pageY,\n        ];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n\n    const width = x2 - x1;\n    const height = y2 - y1;\n\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n\n  /**\n   * Executed once this editor has been rendered.\n   */\n  onceAdded() {}\n\n  /**\n   * Check if the editor contains something.\n   * @returns {boolean}\n   */\n  isEmpty() {\n    return false;\n  }\n\n  /**\n   * Enable edit mode.\n   */\n  enableEditMode() {\n    this.#isInEditMode = true;\n  }\n\n  /**\n   * Disable edit mode.\n   */\n  disableEditMode() {\n    this.#isInEditMode = false;\n  }\n\n  /**\n   * Check if the editor is edited.\n   * @returns {boolean}\n   */\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n\n  /**\n   * If it returns true, then this editor handles the keyboard\n   * events itself.\n   * @returns {boolean}\n   */\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n\n  /**\n   * Check if this editor needs to be rebuilt or not.\n   * @returns {boolean}\n   */\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n\n  #addFocusListeners() {\n    if (this.#focusAC || !this.div) {\n      return;\n    }\n    this.#focusAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#focusAC);\n\n    this.div.addEventListener(\"focusin\", this.focusin.bind(this), { signal });\n    this.div.addEventListener(\"focusout\", this.focusout.bind(this), { signal });\n  }\n\n  /**\n   * Rebuild the editor in case it has been removed on undo.\n   *\n   * To implement in subclasses.\n   */\n  rebuild() {\n    this.#addFocusListeners();\n  }\n\n  /**\n   * Rotate the editor.\n   * @param {number} angle\n   */\n  rotate(_angle) {}\n\n  /**\n   * Serialize the editor when it has been deleted.\n   * @returns {Object}\n   */\n  serializeDeleted() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex,\n      popupRef: this._initialData?.popupRef || \"\",\n    };\n  }\n\n  /**\n   * Serialize the editor.\n   * The result of the serialization will be used to construct a\n   * new annotation to add to the pdf document.\n   *\n   * To implement in subclasses.\n   * @param {boolean} [isForCopying]\n   * @param {Object | null} [context]\n   * @returns {Object | null}\n   */\n  serialize(isForCopying = false, context = null) {\n    unreachable(\"An editor must be serializable\");\n  }\n\n  /**\n   * Deserialize the editor.\n   * The result of the deserialization is a new editor.\n   *\n   * @param {Object} data\n   * @param {AnnotationEditorLayer} parent\n   * @param {AnnotationEditorUIManager} uiManager\n   * @returns {Promise<AnnotationEditor | null>}\n   */\n  static async deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager,\n    });\n    editor.rotation = data.rotation;\n    editor.#accessibilityData = data.accessibilityData;\n\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(\n      data.rect,\n      pageHeight\n    );\n\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n\n    return editor;\n  }\n\n  /**\n   * Check if an existing annotation associated with this editor has been\n   * modified.\n   * @returns {boolean}\n   */\n  get hasBeenModified() {\n    return (\n      !!this.annotationElementId && (this.deleted || this.serialize() !== null)\n    );\n  }\n\n  /**\n   * Remove this editor.\n   * It's used on ctrl+backspace action.\n   */\n  remove() {\n    this.#focusAC?.abort();\n    this.#focusAC = null;\n\n    if (!this.isEmpty()) {\n      // The editor is removed but it can be back at some point thanks to\n      // undo/redo so we must commit it before.\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n    this.removeEditToolbar();\n    if (this.#telemetryTimeouts) {\n      for (const timeout of this.#telemetryTimeouts.values()) {\n        clearTimeout(timeout);\n      }\n      this.#telemetryTimeouts = null;\n    }\n    this.parent = null;\n  }\n\n  /**\n   * @returns {boolean} true if this editor can be resized.\n   */\n  get isResizable() {\n    return false;\n  }\n\n  /**\n   * Add the resizers to this editor.\n   */\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n      bindEvents(this, this.div, [\"keydown\"]);\n    }\n  }\n\n  get toolbarPosition() {\n    return null;\n  }\n\n  /**\n   * onkeydown callback.\n   * @param {KeyboardEvent} event\n   */\n  keydown(event) {\n    if (\n      !this.isResizable ||\n      event.target !== this.div ||\n      event.key !== \"Enter\"\n    ) {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height,\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      const signal = this._uiManager._signal;\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown, { signal });\n        div.addEventListener(\"blur\", boundResizerBlur, { signal });\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name), {\n          signal,\n        });\n        div.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n\n    // We want to have the resizers in the visual order, so we move the first\n    // (top-left) to the right place.\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition =\n      (((360 - this.rotation + this.parentRotation) % 360) / 90) *\n      (this.#allResizerDivs.length / 4);\n\n    if (nextFirstPosition !== firstPosition) {\n      // We need to reorder the resizers in the DOM in order to have the focus\n      // on the top-left one.\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);\n        }\n      }\n\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        child.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstChild.focus({ focusVisible: true });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n\n  #resizerBlur(event) {\n    if (\n      this.#isResizerEnabledForKeyboard &&\n      event.relatedTarget?.parentNode !== this.#resizersDiv\n    ) {\n      this.#stopResizing();\n    }\n  }\n\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      movementX: x,\n      movementY: y,\n    });\n  }\n\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    if (this.#savedDimensions) {\n      const { savedX, savedY, savedWidth, savedHeight } = this.#savedDimensions;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n      this.#savedDimensions = null;\n    }\n  }\n\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n\n  /**\n   * Select this editor.\n   */\n  select() {\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n    if (!this._editToolbar) {\n      this.addEditToolbar().then(() => {\n        if (this.div?.classList.contains(\"selectedEditor\")) {\n          // The editor can have been unselected while we were waiting for the\n          // edit toolbar to be created, hence we want to be sure that this\n          // editor is still selected.\n          this._editToolbar?.show();\n        }\n      });\n      return;\n    }\n    this._editToolbar?.show();\n    this.#altText?.toggleAltTextBadge(false);\n  }\n\n  /**\n   * Unselect this editor.\n   */\n  unselect() {\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      // Don't use this.div.blur() because we don't know where the focus will\n      // go.\n      this._uiManager.currentLayer.div.focus({\n        preventScroll: true,\n      });\n    }\n    this._editToolbar?.hide();\n    this.#altText?.toggleAltTextBadge(true);\n  }\n\n  /**\n   * Update some parameters which have been changed through the UI.\n   * @param {number} type\n   * @param {*} value\n   */\n  updateParams(type, value) {}\n\n  /**\n   * When the user disables the editing mode some editors can change some of\n   * their properties.\n   */\n  disableEditing() {}\n\n  /**\n   * When the user enables the editing mode some editors can change some of\n   * their properties.\n   */\n  enableEditing() {}\n\n  /**\n   * The editor is about to be edited.\n   */\n  enterInEditMode() {}\n\n  /**\n   * @returns {HTMLElement | null} the element requiring an alt text.\n   */\n  getImageForAltText() {\n    return null;\n  }\n\n  /**\n   * Get the div which really contains the displayed content.\n   * @returns {HTMLDivElement | undefined}\n   */\n  get contentDiv() {\n    return this.div;\n  }\n\n  /**\n   * If true then the editor is currently edited.\n   * @type {boolean}\n   */\n  get isEditing() {\n    return this.#isEditing;\n  }\n\n  /**\n   * When set to true, it means that this editor is currently edited.\n   * @param {boolean} value\n   */\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n\n  /**\n   * Set the aspect ratio to use when resizing.\n   * @param {number} width\n   * @param {number} height\n   */\n  setAspectRatio(width, height) {\n    this.#keepAspectRatio = true;\n    const aspectRatio = width / height;\n    const { style } = this.div;\n    style.aspectRatio = aspectRatio;\n    style.height = \"auto\";\n  }\n\n  static get MIN_SIZE() {\n    return 16;\n  }\n\n  static canCreateNewEmptyEditor() {\n    return true;\n  }\n\n  /**\n   * Get the data to report to the telemetry when the editor is added.\n   * @returns {Object}\n   */\n  get telemetryInitialData() {\n    return { action: \"added\" };\n  }\n\n  /**\n   * The telemetry data to use when saving/printing.\n   * @returns {Object|null}\n   */\n  get telemetryFinalData() {\n    return null;\n  }\n\n  _reportTelemetry(data, mustWait = false) {\n    if (mustWait) {\n      this.#telemetryTimeouts ||= new Map();\n      const { action } = data;\n      let timeout = this.#telemetryTimeouts.get(action);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => {\n        this._reportTelemetry(data);\n        this.#telemetryTimeouts.delete(action);\n        if (this.#telemetryTimeouts.size === 0) {\n          this.#telemetryTimeouts = null;\n        }\n      }, AnnotationEditor._telemetryTimeout);\n      this.#telemetryTimeouts.set(action, timeout);\n      return;\n    }\n    data.type ||= this.editorType;\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        data,\n      },\n    });\n  }\n\n  /**\n   * Show or hide this editor.\n   * @param {boolean|undefined} visible\n   */\n  show(visible = this._isVisible) {\n    this.div.classList.toggle(\"hidden\", !visible);\n    this._isVisible = visible;\n  }\n\n  enable() {\n    if (this.div) {\n      this.div.tabIndex = 0;\n    }\n    this.#disabled = false;\n  }\n\n  disable() {\n    if (this.div) {\n      this.div.tabIndex = -1;\n    }\n    this.#disabled = true;\n  }\n\n  /**\n   * Render an annotation in the annotation layer.\n   * @param {Object} annotation\n   * @returns {HTMLElement|null}\n   */\n  renderAnnotationElement(annotation) {\n    let content = annotation.container.querySelector(\".annotationContent\");\n    if (!content) {\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      annotation.container.prepend(content);\n    } else if (content.nodeName === \"CANVAS\") {\n      const canvas = content;\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      canvas.before(content);\n    }\n\n    return content;\n  }\n\n  resetAnnotationElement(annotation) {\n    const { firstChild } = annotation.container;\n    if (\n      firstChild?.nodeName === \"DIV\" &&\n      firstChild.classList.contains(\"annotationContent\")\n    ) {\n      firstChild.remove();\n    }\n  }\n}\n\n// This class is used to fake an editor which has been deleted.\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n\n  serialize() {\n    return this.serializeDeleted();\n  }\n}\n\nexport { AnnotationEditor };\n","/* Copyright 2014 Opera Software ASA\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n *\n * Based on https://code.google.com/p/smhasher/wiki/MurmurHash3.\n * Hashes roughly 100 KB per millisecond on i7 3.4 GHz.\n */\n\nconst SEED = 0xc3d2e1f0;\n// Workaround for missing math precision in JS.\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\n\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (ArrayBuffer.isView(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Invalid data format, must be a string or TypedArray.\");\n    }\n\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    // We don't care about endianness here.\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = ((k1 * C1) & MASK_HIGH) | ((k1 * C1_LOW) & MASK_LOW);\n        k1 = (k1 << 15) | (k1 >>> 17);\n        k1 = ((k1 * C2) & MASK_HIGH) | ((k1 * C2_LOW) & MASK_LOW);\n        h1 ^= k1;\n        h1 = (h1 << 13) | (h1 >>> 19);\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = ((k2 * C1) & MASK_HIGH) | ((k2 * C1_LOW) & MASK_LOW);\n        k2 = (k2 << 15) | (k2 >>> 17);\n        k2 = ((k2 * C2) & MASK_HIGH) | ((k2 * C2_LOW) & MASK_LOW);\n        h2 ^= k2;\n        h2 = (h2 << 13) | (h2 >>> 19);\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n\n    k1 = 0;\n\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      /* falls through */\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      /* falls through */\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        /* falls through */\n\n        k1 = ((k1 * C1) & MASK_HIGH) | ((k1 * C1_LOW) & MASK_LOW);\n        k1 = (k1 << 15) | (k1 >>> 17);\n        k1 = ((k1 * C2) & MASK_HIGH) | ((k1 * C2_LOW) & MASK_LOW);\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n\n    h1 ^= h2 >>> 1;\n    h1 = ((h1 * 0xed558ccd) & MASK_HIGH) | ((h1 * 0x8ccd) & MASK_LOW);\n    h2 =\n      ((h2 * 0xff51afd7) & MASK_HIGH) |\n      (((((h2 << 16) | (h1 >>> 16)) * 0xafd7ed55) & MASK_HIGH) >>> 16);\n    h1 ^= h2 >>> 1;\n    h1 = ((h1 * 0x1a85ec53) & MASK_HIGH) | ((h1 * 0xec53) & MASK_LOW);\n    h2 =\n      ((h2 * 0xc4ceb9fe) & MASK_HIGH) |\n      (((((h2 << 16) | (h1 >>> 16)) * 0xb9fe1a85) & MASK_HIGH) >>> 16);\n    h1 ^= h2 >>> 1;\n\n    return (\n      (h1 >>> 0).toString(16).padStart(8, \"0\") +\n      (h2 >>> 0).toString(16).padStart(8, \"0\")\n    );\n  }\n}\n\nexport { MurmurHash3_64 };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { objectFromMap, shadow, unreachable } from \"../shared/util.js\";\nimport { AnnotationEditor } from \"./editor/editor.js\";\nimport { MurmurHash3_64 } from \"../shared/murmurhash3.js\";\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined,\n});\n\n/**\n * Key/value storage for annotation data in forms.\n */\nclass AnnotationStorage {\n  #modified = false;\n\n  #modifiedIds = null;\n\n  #storage = new Map();\n\n  constructor() {\n    // Callbacks to signal when the modification state is set or reset.\n    // This is used by the viewer to only bind on `beforeunload` if forms\n    // are actually edited to prevent doing so unconditionally since that\n    // can have undesirable effects.\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n\n  /**\n   * Get the value for a given key if it exists, or return the default value.\n   * @param {string} key\n   * @param {Object} defaultValue\n   * @returns {Object}\n   */\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n\n    return Object.assign(defaultValue, value);\n  }\n\n  /**\n   * Get the value for a given key.\n   * @param {string} key\n   * @returns {Object}\n   */\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n\n  /**\n   * Remove a value from the storage.\n   * @param {string} key\n   */\n  remove(key) {\n    this.#storage.delete(key);\n\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n\n  /**\n   * Set the value for a given key\n   * @param {string} key\n   * @param {Object} value\n   */\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n\n    if (\n      value instanceof AnnotationEditor &&\n      typeof this.onAnnotationEditor === \"function\"\n    ) {\n      this.onAnnotationEditor(value.constructor._type);\n    }\n  }\n\n  /**\n   * Check if the storage contains the given key.\n   * @param {string} key\n   * @returns {boolean}\n   */\n  has(key) {\n    return this.#storage.has(key);\n  }\n\n  /**\n   * @returns {Object | null}\n   */\n  getAll() {\n    return this.#storage.size > 0 ? objectFromMap(this.#storage) : null;\n  }\n\n  /**\n   * @param {Object} obj\n   */\n  setAll(obj) {\n    for (const [key, val] of Object.entries(obj)) {\n      this.setValue(key, val);\n    }\n  }\n\n  get size() {\n    return this.#storage.size;\n  }\n\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n\n  /**\n   * @returns {PrintAnnotationStorage}\n   */\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n\n  /**\n   * PLEASE NOTE: Only intended for usage within the API itself.\n   * @ignore\n   */\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n\n    for (const [key, val] of this.#storage) {\n      const serialized =\n        val instanceof AnnotationEditor\n          ? val.serialize(/* isForCopying = */ false, context)\n          : val;\n      if (serialized) {\n        map.set(key, serialized);\n\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n\n    if (hasBitmap) {\n      // We must transfer the bitmap data separately, since it can be changed\n      // during serialization with SVG images.\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n\n    return map.size > 0\n      ? { map, hash: hash.hexdigest(), transfer }\n      : SerializableEmpty;\n  }\n\n  get editorStats() {\n    let stats = null;\n    const typeToEditor = new Map();\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof AnnotationEditor)) {\n        continue;\n      }\n      const editorStats = value.telemetryFinalData;\n      if (!editorStats) {\n        continue;\n      }\n      const { type } = editorStats;\n      if (!typeToEditor.has(type)) {\n        typeToEditor.set(type, Object.getPrototypeOf(value).constructor);\n      }\n      stats ||= Object.create(null);\n      const map = (stats[type] ||= new Map());\n      for (const [key, val] of Object.entries(editorStats)) {\n        if (key === \"type\") {\n          continue;\n        }\n        let counters = map.get(key);\n        if (!counters) {\n          counters = new Map();\n          map.set(key, counters);\n        }\n        const count = counters.get(val) ?? 0;\n        counters.set(val, count + 1);\n      }\n    }\n    for (const [type, editor] of typeToEditor) {\n      stats[type] = editor.computeTelemetryFinalData(stats[type]);\n    }\n    return stats;\n  }\n\n  resetModifiedIds() {\n    this.#modifiedIds = null;\n  }\n\n  /**\n   * @returns {{ids: Set<string>, hash: string}}\n   */\n  get modifiedIds() {\n    if (this.#modifiedIds) {\n      return this.#modifiedIds;\n    }\n    const ids = [];\n    for (const value of this.#storage.values()) {\n      if (\n        !(value instanceof AnnotationEditor) ||\n        !value.annotationElementId ||\n        !value.serialize()\n      ) {\n        continue;\n      }\n      ids.push(value.annotationElementId);\n    }\n    return (this.#modifiedIds = {\n      ids: new Set(ids),\n      hash: ids.join(\",\"),\n    });\n  }\n}\n\n/**\n * A special `AnnotationStorage` for use during printing, where the serializable\n * data is *frozen* upon initialization, to prevent scripting from modifying its\n * contents. (Necessary since printing is triggered synchronously in browsers.)\n */\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n\n  constructor(parent) {\n    super();\n    const { map, hash, transfer } = parent.serializable;\n    // Create a *copy* of the data, since Objects are passed by reference in JS.\n    const clone = structuredClone(map, transfer ? { transfer } : null);\n\n    this.#serializable = { map: clone, hash, transfer };\n  }\n\n  /**\n   * @returns {PrintAnnotationStorage}\n   */\n  // eslint-disable-next-line getter-return\n  get print() {\n    unreachable(\"Should not call PrintAnnotationStorage.print\");\n  }\n\n  /**\n   * PLEASE NOTE: Only intended for usage within the API itself.\n   * @ignore\n   */\n  get serializable() {\n    return this.#serializable;\n  }\n\n  get modifiedIds() {\n    return shadow(this, \"modifiedIds\", {\n      ids: new Set(),\n      hash: \"\",\n    });\n  }\n}\n\nexport { AnnotationStorage, PrintAnnotationStorage, SerializableEmpty };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  FontRenderOps,\n  isNodeJS,\n  shadow,\n  string32,\n  toBase64Util,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\n\nclass FontLoader {\n  #systemFonts = new Set();\n\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null, // For testing only.\n  }) {\n    this._document = ownerDocument;\n\n    this.nativeFontFaces = new Set();\n    this.styleElement =\n      typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")\n        ? styleElement\n        : null;\n\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"MOZCENTRAL\")) {\n      this.loadingRequests = [];\n      this.loadTestFontId = 0;\n    }\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement\n        .getElementsByTagName(\"head\")[0]\n        .append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async loadSystemFont({ systemFontInfo: info, _inspectFont }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    assert(\n      !this.disableFontFace,\n      \"loadSystemFont shouldn't be called when `disableFontFace` is set.\"\n    );\n\n    if (this.isFontLoadingAPISupported) {\n      const { loadedName, src, style } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        warn(\n          `Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`\n        );\n\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n\n    unreachable(\n      \"Not implemented: loadSystemFont without the Font Loading API.\"\n    );\n  }\n\n  async bind(font) {\n    // Add the font to the DOM only once; skip if the font is already loaded.\n    if (font.attached || (font.missingFile && !font.systemFontInfo)) {\n      return;\n    }\n    font.attached = true;\n\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n\n          // When font loading failed, fall back to the built-in font renderer.\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return; // The font was, asynchronously, loaded.\n    }\n\n    // !this.isFontLoadingAPISupported\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return; // The font was, synchronously, loaded.\n      }\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n        throw new Error(\"Not implemented: async font loading\");\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n      // The font was, asynchronously, loaded.\n    }\n  }\n\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      return shadow(\n        this,\n        \"isFontLoadingAPISupported\",\n        hasFonts && !this.styleElement\n      );\n    }\n    return shadow(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n\n  get isSyncFontLoadingSupported() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      return shadow(this, \"isSyncFontLoadingSupported\", true);\n    }\n\n    let supported = false;\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"CHROME\")) {\n      if (isNodeJS) {\n        // Node.js - we can pretend that sync font loading is supported.\n        supported = true;\n      } else if (\n        typeof navigator !== \"undefined\" &&\n        typeof navigator?.userAgent === \"string\" &&\n        // User agent string sniffing is bad, but there is no reliable way to\n        // tell if the font is fully loaded and ready to be used with canvas.\n        /Mozilla\\/5.0.*?rv:\\d+.*? Gecko/.test(navigator.userAgent)\n      ) {\n        // Firefox, from version 14, supports synchronous font loading.\n        supported = true;\n      }\n    }\n    return shadow(this, \"isSyncFontLoadingSupported\", supported);\n  }\n\n  _queueLoadingCallback(callback) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _queueLoadingCallback\");\n    }\n\n    function completeRequest() {\n      assert(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n\n      // Sending all completed requests in order of how they were queued.\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n\n    const { loadingRequests } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback,\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n\n  get _loadTestFont() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _loadTestFont\");\n    }\n\n    // This is a CFF font with 1 glyph for '.' that fills its entire width\n    // and height.\n    const testFont = atob(\n      \"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" +\n        \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" +\n        \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" +\n        \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" +\n        \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" +\n        \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" +\n        \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" +\n        \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" +\n        \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" +\n        \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" +\n        \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" +\n        \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" +\n        \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" +\n        \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" +\n        \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" +\n        \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" +\n        \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\"\n    );\n    return shadow(this, \"_loadTestFont\", testFont);\n  }\n\n  _prepareFontLoadEvent(font, request) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _prepareFontLoadEvent\");\n    }\n\n    /** Hack begin */\n    // There's currently no event when a font has finished downloading so the\n    // following code is a dirty hack to 'guess' when a font is ready.\n    // It's assumed fonts are loaded in order, so add a known test font after\n    // the desired fonts and then test for the loading of that test font.\n\n    function int32(data, offset) {\n      return (\n        (data.charCodeAt(offset) << 24) |\n        (data.charCodeAt(offset + 1) << 16) |\n        (data.charCodeAt(offset + 2) << 8) |\n        (data.charCodeAt(offset + 3) & 0xff)\n      );\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n\n    // The temporary canvas is used to determine if fonts are loaded.\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n\n    let called = 0;\n    function isFontReady(name, callback) {\n      // With setTimeout clamping this gives the font ~100ms to load.\n      if (++called > 30) {\n        warn(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    // Chromium seems to cache fonts based on a hash of the actual font data,\n    // so the font must be modified for each load test else it will appear to\n    // be loaded already.\n    // TODO: This could maybe be made faster by avoiding the btoa of the full\n    // font by splitting it in chunks before hand and padding the font id.\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n    data = spliceString(\n      data,\n      COMMENT_OFFSET,\n      loadTestFontId.length,\n      loadTestFontId\n    );\n    // CFF checksum is important for IE, adjusting it\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      // align to 4 bytes boundary\n      checksum = (checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i)) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n    /** Hack end */\n  }\n}\n\nclass FontFaceObject {\n  constructor(translatedData, { disableFontFace = false, inspectFont = null }) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.disableFontFace = disableFontFace === true;\n    this._inspectFont = inspectFont;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight,\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(\n        this.cssFontInfo.fontFamily,\n        this.data,\n        css\n      );\n    }\n\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    // Add the @font-face rule to the document.\n    const url = `url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    let cmds;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n    }\n\n    if (!Array.isArray(cmds) || cmds.length === 0) {\n      return (this.compiledGlyphs[character] = function (c, size) {\n        // No-op function, to allow rendering to continue.\n      });\n    }\n\n    const commands = [];\n    for (let i = 0, ii = cmds.length; i < ii; ) {\n      switch (cmds[i++]) {\n        case FontRenderOps.BEZIER_CURVE_TO:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.bezierCurveTo(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case FontRenderOps.MOVE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.moveTo(a, b));\n            i += 2;\n          }\n          break;\n        case FontRenderOps.LINE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.lineTo(a, b));\n            i += 2;\n          }\n          break;\n        case FontRenderOps.QUADRATIC_CURVE_TO:\n          {\n            const [a, b, c, d] = cmds.slice(i, i + 4);\n            commands.push(ctx => ctx.quadraticCurveTo(a, b, c, d));\n            i += 4;\n          }\n          break;\n        case FontRenderOps.RESTORE:\n          commands.push(ctx => ctx.restore());\n          break;\n        case FontRenderOps.SAVE:\n          commands.push(ctx => ctx.save());\n          break;\n        case FontRenderOps.SCALE:\n          // The scale command must be at the third position, after save and\n          // transform (for the font matrix) commands (see also\n          // font_renderer.js).\n          // The goal is to just scale the canvas and then run the commands loop\n          // without the need to pass the size parameter to each command.\n          assert(\n            commands.length === 2,\n            \"Scale command is only valid at the third position.\"\n          );\n          break;\n        case FontRenderOps.TRANSFORM:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.transform(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case FontRenderOps.TRANSLATE:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.translate(a, b));\n            i += 2;\n          }\n          break;\n      }\n    }\n\n    return (this.compiledGlyphs[character] = function glyphDrawer(ctx, size) {\n      commands[0](ctx);\n      commands[1](ctx);\n      ctx.scale(size, -size);\n      for (let i = 2, ii = commands.length; i < ii; i++) {\n        commands[i](ctx);\n      }\n    });\n  }\n}\n\nexport { FontFaceObject, FontLoader };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { unreachable } from \"../shared/util.js\";\n\nclass BaseCanvasFactory {\n  #enableHWA = false;\n\n  constructor({ enableHWA = false }) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseCanvasFactory\n    ) {\n      unreachable(\"Cannot initialize BaseCanvasFactory.\");\n    }\n    this.#enableHWA = enableHWA;\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\", {\n        willReadFrequently: !this.#enableHWA,\n      }),\n    };\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n\n  /**\n   * @ignore\n   */\n  _createCanvas(width, height) {\n    unreachable(\"Abstract method `_createCanvas` called.\");\n  }\n}\n\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({ ownerDocument = globalThis.document, enableHWA = false }) {\n    super({ enableHWA });\n    this._document = ownerDocument;\n  }\n\n  /**\n   * @ignore\n   */\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\n\nexport { BaseCanvasFactory, DOMCanvasFactory };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { stringToBytes, unreachable } from \"../shared/util.js\";\nimport { fetchData } from \"./display_utils.js\";\n\nclass BaseCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = true }) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseCMapReaderFactory\n    ) {\n      unreachable(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({ name }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        \"Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.\"\n      );\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n\n    return this._fetch(url)\n      .then(cMapData => ({ cMapData, isCompressed: this.isCompressed }))\n      .catch(reason => {\n        throw new Error(\n          `Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`\n        );\n      });\n  }\n\n  /**\n   * @ignore\n   * @returns {Promise<Uint8Array>}\n   */\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\n\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  /**\n   * @ignore\n   */\n  async _fetch(url) {\n    const data = await fetchData(\n      url,\n      /* type = */ this.isCompressed ? \"arraybuffer\" : \"text\"\n    );\n    return data instanceof ArrayBuffer\n      ? new Uint8Array(data)\n      : stringToBytes(data);\n  }\n}\n\nexport { BaseCMapReaderFactory, DOMCMapReaderFactory };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getRGB, isDataScheme, SVG_NS } from \"./display_utils.js\";\nimport { unreachable, Util, warn } from \"../shared/util.js\";\n\nclass BaseFilterFactory {\n  constructor() {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseFilterFactory\n    ) {\n      unreachable(\"Cannot initialize BaseFilterFactory.\");\n    }\n  }\n\n  addFilter(maps) {\n    return \"none\";\n  }\n\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n\n  addAlphaFilter(map) {\n    return \"none\";\n  }\n\n  addLuminosityFilter(map) {\n    return \"none\";\n  }\n\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n\n  destroy(keepHCM = false) {}\n}\n\n/**\n * FilterFactory aims to create some SVG filters we can use when drawing an\n * image (or whatever) on a canvas.\n * Filters aren't applied with ctx.putImageData because it just overwrites the\n * underlying pixels.\n * With these filters, it's possible for example to apply some transfer maps on\n * an image without the need to apply them on the pixel arrays: the renderer\n * does the magic for us.\n */\nclass DOMFilterFactory extends BaseFilterFactory {\n  #baseUrl;\n\n  #_cache;\n\n  #_defs;\n\n  #docId;\n\n  #document;\n\n  #_hcmCache;\n\n  #id = 0;\n\n  constructor({ docId, ownerDocument = globalThis.document }) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n\n  get #cache() {\n    return (this.#_cache ||= new Map());\n  }\n\n  get #hcmCache() {\n    return (this.#_hcmCache ||= new Map());\n  }\n\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const { style } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n\n  #createTables(maps) {\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n\n      const table = buffer.join(\",\");\n      return [table, table, table];\n    }\n\n    const [mapR, mapG, mapB] = maps;\n    const bufferR = new Array(256);\n    const bufferG = new Array(256);\n    const bufferB = new Array(256);\n    for (let i = 0; i < 256; i++) {\n      bufferR[i] = mapR[i] / 255;\n      bufferG[i] = mapG[i] / 255;\n      bufferB[i] = mapB[i] / 255;\n    }\n    return [bufferR.join(\",\"), bufferG.join(\",\"), bufferB.join(\",\")];\n  }\n\n  #createUrl(id) {\n    if (this.#baseUrl === undefined) {\n      // Unless a `<base>`-element is present a relative URL should work.\n      this.#baseUrl = \"\";\n\n      const url = this.#document.URL;\n      if (url !== this.#document.baseURI) {\n        if (isDataScheme(url)) {\n          warn('#createUrl: ignore \"data:\"-URL for performance reasons.');\n        } else {\n          this.#baseUrl = url.split(\"#\", 1)[0];\n        }\n      }\n    }\n    return `url(${this.#baseUrl}#${id})`;\n  }\n\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n\n    // When a page is zoomed the page is re-drawn but the maps are likely\n    // the same.\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n\n    const [tableR, tableG, tableB] = this.#createTables(maps);\n    const key = maps.length === 1 ? tableR : `${tableR}${tableG}${tableB}`;\n\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n\n    // We create a SVG filter: feComponentTransferElement\n    //  https://www.w3.org/TR/SVG11/filters.html#feComponentTransferElement\n\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n\n    return url;\n  }\n\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    const filterName = \"base\";\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null,\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n\n    if (\n      (fgColor === \"#000000\" && bgColor === \"#ffffff\") ||\n      fgColor === bgColor\n    ) {\n      return info.url;\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/Accessibility/Understanding_Colors_and_Luminance\n    //\n    // Relative luminance:\n    // https://www.w3.org/TR/WCAG20/#relativeluminancedef\n    //\n    // We compute the rounded luminance of the default background color.\n    // Then for every color in the pdf, if its rounded luminance is the\n    // same as the background one then it's replaced by the new\n    // background color else by the foreground one.\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = (info.filter = this.#createFilter(id));\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + (i / n) * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(\n      getSteps(0, 5),\n      getSteps(1, 5),\n      getSteps(2, 5),\n      filter\n    );\n\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n\n  addAlphaFilter(map) {\n    // When a page is zoomed the page is re-drawn but the maps are likely\n    // the same.\n    let value = this.#cache.get(map);\n    if (value) {\n      return value;\n    }\n\n    const [tableA] = this.#createTables([map]);\n    const key = `alpha_${tableA}`;\n\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n\n    const id = `g_${this.#docId}_alpha_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n\n    const filter = this.#createFilter(id);\n    this.#addTransferMapAlphaConversion(tableA, filter);\n\n    return url;\n  }\n\n  addLuminosityFilter(map) {\n    // When a page is zoomed the page is re-drawn but the maps are likely\n    // the same.\n    let value = this.#cache.get(map || \"luminosity\");\n    if (value) {\n      return value;\n    }\n\n    let tableA, key;\n    if (map) {\n      [tableA] = this.#createTables([map]);\n      key = `luminosity_${tableA}`;\n    } else {\n      key = \"luminosity\";\n    }\n\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n\n    const id = `g_${this.#docId}_luminosity_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n\n    const filter = this.#createFilter(id);\n    this.#addLuminosityConversion(filter);\n    if (map) {\n      this.#addTransferMapAlphaConversion(tableA, filter);\n    }\n\n    return url;\n  }\n\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null,\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(\n      0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]\n    );\n    let bgGray = Math.round(\n      0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]\n    );\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(\n      this.#getRGB.bind(this)\n    );\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [\n        bgGray,\n        fgGray,\n        newBgRGB,\n        newFgRGB,\n      ];\n    }\n    this.#defs.style.color = \"\";\n\n    // Now we can create the filters to highlight some canvas parts.\n    // The colors in the pdf will almost be Canvas and CanvasText, hence we\n    // want to filter them to finally get Highlight and HighlightText.\n    // Since we're in HCM the background color and the foreground color should\n    // be really different when converted to grayscale (if they're not then it\n    // means that we've a poor contrast). Once the canvas colors are converted\n    // to grayscale we can easily map them on their new colors.\n    // The grayscale step is important because if we've something like:\n    //   fgColor = #FF....\n    //   bgColor = #FF....\n    //   then we are enable to map the red component on the new red components\n    //   which can be different.\n\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n\n    const id = `g_${this.#docId}_hcm_${filterName}_filter`;\n    const filter = (info.filter = this.#createFilter(id));\n\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(\n      getSteps(newFgRGB[0], newBgRGB[0], 5),\n      getSteps(newFgRGB[1], newBgRGB[1], 5),\n      getSteps(newFgRGB[2], newBgRGB[2], 5),\n      filter\n    );\n\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n\n  destroy(keepHCM = false) {\n    if (keepHCM && this.#hcmCache.size !== 0) {\n      return;\n    }\n    if (this.#_defs) {\n      this.#_defs.parentNode.parentNode.remove();\n      this.#_defs = null;\n    }\n    if (this.#_cache) {\n      this.#_cache.clear();\n      this.#_cache = null;\n    }\n    this.#id = 0;\n  }\n\n  #addLuminosityConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(\n      SVG_NS,\n      \"feColorMatrix\"\n    );\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\n      \"values\",\n      \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0\"\n    );\n    filter.append(feColorMatrix);\n  }\n\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(\n      SVG_NS,\n      \"feColorMatrix\"\n    );\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\n      \"values\",\n      \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\"\n    );\n    filter.append(feColorMatrix);\n  }\n\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n\n    return filter;\n  }\n\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(\n      SVG_NS,\n      \"feComponentTransfer\"\n    );\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n\n  #addTransferMapAlphaConversion(aTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(\n      SVG_NS,\n      \"feComponentTransfer\"\n    );\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncA\", aTable);\n  }\n\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\n\nexport { BaseFilterFactory, DOMFilterFactory };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { fetchData } from \"./display_utils.js\";\nimport { unreachable } from \"../shared/util.js\";\n\nclass BaseStandardFontDataFactory {\n  constructor({ baseUrl = null }) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseStandardFontDataFactory\n    ) {\n      unreachable(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n\n  async fetch({ filename }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        \"Ensure that the `standardFontDataUrl` API parameter is provided.\"\n      );\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n\n    return this._fetch(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n\n  /**\n   * @ignore\n   * @returns {Promise<Uint8Array>}\n   */\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\n\nclass DOMStandardFontDataFactory extends BaseStandardFontDataFactory {\n  /**\n   * @ignore\n   */\n  async _fetch(url) {\n    const data = await fetchData(url, /* type = */ \"arraybuffer\");\n    return new Uint8Array(data);\n  }\n}\n\nexport { BaseStandardFontDataFactory, DOMStandardFontDataFactory };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNodeJS, warn } from \"../shared/util.js\";\nimport { BaseCanvasFactory } from \"./canvas_factory.js\";\nimport { BaseCMapReaderFactory } from \"./cmap_reader_factory.js\";\nimport { BaseFilterFactory } from \"./filter_factory.js\";\nimport { BaseStandardFontDataFactory } from \"./standard_fontdata_factory.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_utils.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nif (isNodeJS) {\n  // eslint-disable-next-line no-var\n  var packageCapability = Promise.withResolvers();\n  // eslint-disable-next-line no-var\n  var packageMap = null;\n\n  const loadPackages = async () => {\n    // Native packages.\n    const fs = await __non_webpack_import__(\"fs\"),\n      http = await __non_webpack_import__(\"http\"),\n      https = await __non_webpack_import__(\"https\"),\n      url = await __non_webpack_import__(\"url\");\n\n    // Optional, third-party, packages.\n    let canvas, path2d;\n    if (typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"SKIP_BABEL\")) {\n      try {\n        canvas = await __non_webpack_import__(\"canvas\");\n      } catch {}\n      try {\n        path2d = await __non_webpack_import__(\"path2d\");\n      } catch {}\n    }\n\n    return new Map(Object.entries({ fs, http, https, url, canvas, path2d }));\n  };\n\n  loadPackages().then(\n    map => {\n      packageMap = map;\n      packageCapability.resolve();\n\n      if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"SKIP_BABEL\")) {\n        return;\n      }\n      if (!globalThis.DOMMatrix) {\n        const DOMMatrix = map.get(\"canvas\")?.DOMMatrix;\n\n        if (DOMMatrix) {\n          globalThis.DOMMatrix = DOMMatrix;\n        } else {\n          warn(\"Cannot polyfill `DOMMatrix`, rendering may be broken.\");\n        }\n      }\n      if (!globalThis.Path2D) {\n        const CanvasRenderingContext2D =\n          map.get(\"canvas\")?.CanvasRenderingContext2D;\n        const applyPath2DToCanvasRenderingContext =\n          map.get(\"path2d\")?.applyPath2DToCanvasRenderingContext;\n        const Path2D = map.get(\"path2d\")?.Path2D;\n\n        if (\n          CanvasRenderingContext2D &&\n          applyPath2DToCanvasRenderingContext &&\n          Path2D\n        ) {\n          try {\n            applyPath2DToCanvasRenderingContext(CanvasRenderingContext2D);\n          } catch (ex) {\n            warn(`applyPath2DToCanvasRenderingContext: \"${ex}\".`);\n          }\n          globalThis.Path2D = Path2D;\n        } else {\n          warn(\"Cannot polyfill `Path2D`, rendering may be broken.\");\n        }\n      }\n    },\n    reason => {\n      warn(`loadPackages: ${reason}`);\n\n      packageMap = new Map();\n      packageCapability.resolve();\n    }\n  );\n}\n\nclass NodePackages {\n  static get promise() {\n    return packageCapability.promise;\n  }\n\n  static get(name) {\n    return packageMap?.get(name);\n  }\n}\n\nasync function fetchData(url) {\n  const fs = NodePackages.get(\"fs\");\n  const data = await fs.promises.readFile(url);\n  return new Uint8Array(data);\n}\n\nclass NodeFilterFactory extends BaseFilterFactory {}\n\nclass NodeCanvasFactory extends BaseCanvasFactory {\n  /**\n   * @ignore\n   */\n  _createCanvas(width, height) {\n    const canvas = NodePackages.get(\"canvas\");\n    return canvas.createCanvas(width, height);\n  }\n}\n\nclass NodeCMapReaderFactory extends BaseCMapReaderFactory {\n  /**\n   * @ignore\n   */\n  async _fetch(url) {\n    return fetchData(url);\n  }\n}\n\nclass NodeStandardFontDataFactory extends BaseStandardFontDataFactory {\n  /**\n   * @ignore\n   */\n  async _fetch(url) {\n    return fetchData(url);\n  }\n}\n\nexport {\n  fetchData,\n  NodeCanvasFactory,\n  NodeCMapReaderFactory,\n  NodeFilterFactory,\n  NodePackages,\n  NodeStandardFontDataFactory,\n};\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormatError, info, unreachable, Util } from \"../shared/util.js\";\nimport { getCurrentTransform } from \"./display_utils.js\";\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\",\n};\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nclass BaseShadingPattern {\n  constructor() {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseShadingPattern\n    ) {\n      unreachable(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n\n  getPattern() {\n    unreachable(\"Abstract method `getPattern` called.\");\n  }\n}\n\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(\n        this._p0[0],\n        this._p0[1],\n        this._p1[0],\n        this._p1[1]\n      );\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(\n        this._p0[0],\n        this._p0[1],\n        this._r0,\n        this._p1[0],\n        this._p1[1],\n        this._r1\n      );\n    }\n\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(\n        pathType,\n        getCurrentTransform(ctx)\n      ) || [0, 0, 0, 0];\n      // Create a canvas that is only as big as the current path. This doesn't\n      // allow us to cache the pattern, but it generally creates much smaller\n      // canvases and saves memory use. See bug 1722807 for an example.\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\n        \"pattern\",\n        width,\n        height\n      );\n\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      // Non shading fill patterns are positioned relative to the base transform\n      // (usually the page's initial transform), but we may have created a\n      // smaller canvas based on the path, so we must account for the shift.\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = Util.transform(inverse, [\n        1,\n        0,\n        0,\n        1,\n        ownerBBox[0],\n        ownerBBox[1],\n      ]);\n\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      // Shading fills are applied relative to the current matrix which is also\n      // how canvas gradients work, so there's no need to do anything special\n      // here.\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\n\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  // Very basic Gouraud-shaded triangle rasterization algorithm.\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = (car - (car - cbr) * k) | 0;\n      bytes[j++] = (cag - (cag - cbg) * k) | 0;\n      bytes[j++] = (cab - (cab - cbb) * k) | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\n\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(\n            data,\n            context,\n            ps[q],\n            ps[q + 1],\n            ps[q + verticesPerRow],\n            cs[q],\n            cs[q + 1],\n            cs[q + verticesPerRow]\n          );\n          drawTriangle(\n            data,\n            context,\n            ps[q + verticesPerRow + 1],\n            ps[q + 1],\n            ps[q + verticesPerRow],\n            cs[q + verticesPerRow + 1],\n            cs[q + 1],\n            cs[q + verticesPerRow]\n          );\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(\n          data,\n          context,\n          ps[i],\n          ps[i + 1],\n          ps[i + 2],\n          cs[i],\n          cs[i + 1],\n          cs[i + 2]\n        );\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\n\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    const EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    const MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    const BORDER_SIZE = 2;\n\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n\n    const width = Math.min(\n      Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const height = Math.min(\n      Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n\n    const tmpCanvas = cachedCanvases.getCanvas(\n      \"mesh\",\n      paddedWidth,\n      paddedHeight\n    );\n    const tmpCtx = tmpCanvas.context;\n\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n    if (pathType === PathType.SHADING) {\n      scale = Util.singularValueDecompose2dScale(getCurrentTransform(ctx));\n    } else {\n      // Obtain scale from matrix and current transformation matrix.\n      scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n      if (this.matrix) {\n        const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n\n    // Rasterizing on the main thread since sending/queue large canvases\n    // might cause OOM.\n    const temporaryPatternCanvas = this._createMeshCanvas(\n      scale,\n      pathType === PathType.SHADING ? null : this._background,\n      owner.cachedCanvases\n    );\n\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n\n    ctx.translate(\n      temporaryPatternCanvas.offsetX,\n      temporaryPatternCanvas.offsetY\n    );\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\n\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\n\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\n\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2,\n};\n\nclass TilingPattern {\n  // 10in @ 300dpi shall be enough.\n  static MAX_PATTERN_SIZE = 3000;\n\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n\n  createPatternCanvas(owner) {\n    const {\n      bbox,\n      operatorList,\n      paintType,\n      tilingType,\n      color,\n      canvasGraphicsFactory,\n    } = this;\n    let { xstep, ystep } = this;\n    xstep = Math.abs(xstep);\n    ystep = Math.abs(ystep);\n\n    info(\"TilingType: \" + tilingType);\n\n    // A tiling pattern as defined by PDF spec 8.7.2 is a cell whose size is\n    // described by bbox, and may repeat regularly by shifting the cell by\n    // xstep and ystep.\n    // Because the HTML5 canvas API does not support pattern repetition with\n    // gaps in between, we use the xstep/ystep instead of the bbox's size.\n    //\n    // This has the following consequences (similarly for ystep):\n    //\n    // - If xstep is the same as bbox, then there is no observable difference.\n    //\n    // - If xstep is larger than bbox, then the pattern canvas is partially\n    //   empty: the area bounded by bbox is painted, the outside area is void.\n    //\n    // - If xstep is smaller than bbox, then the pixels between xstep and the\n    //   bbox boundary will be missing. This is INCORRECT behavior.\n    //   \"Figures on adjacent tiles should not overlap\" (PDF spec 8.7.3.1),\n    //   but overlapping cells without common pixels are still valid.\n\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const width = x1 - x0;\n    const height = y1 - y0;\n\n    // Obtain scale from matrix and current transformation matrix.\n    const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n    const curMatrixScale = Util.singularValueDecompose2dScale(\n      this.baseTransform\n    );\n    const combinedScaleX = matrixScale[0] * curMatrixScale[0];\n    const combinedScaleY = matrixScale[1] * curMatrixScale[1];\n\n    let canvasWidth = width,\n      canvasHeight = height,\n      redrawHorizontally = false,\n      redrawVertically = false;\n\n    const xScaledStep = Math.ceil(xstep * combinedScaleX);\n    const yScaledStep = Math.ceil(ystep * combinedScaleY);\n    const xScaledWidth = Math.ceil(width * combinedScaleX);\n    const yScaledHeight = Math.ceil(height * combinedScaleY);\n\n    if (xScaledStep >= xScaledWidth) {\n      canvasWidth = xstep;\n    } else {\n      redrawHorizontally = true;\n    }\n    if (yScaledStep >= yScaledHeight) {\n      canvasHeight = ystep;\n    } else {\n      redrawVertically = true;\n    }\n\n    // Use width and height values that are as close as possible to the end\n    // result when the pattern is used. Too low value makes the pattern look\n    // blurry. Too large value makes it look too crispy.\n    const dimx = this.getSizeAndScale(\n      canvasWidth,\n      this.ctx.canvas.width,\n      combinedScaleX\n    );\n    const dimy = this.getSizeAndScale(\n      canvasHeight,\n      this.ctx.canvas.height,\n      combinedScaleY\n    );\n\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\n      \"pattern\",\n      dimx.size,\n      dimy.size\n    );\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n\n    tmpCtx.translate(-dimx.scale * x0, -dimy.scale * y0);\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n\n    // To match CanvasGraphics beginDrawing we must save the context here or\n    // else we end up with unbalanced save/restores.\n    tmpCtx.save();\n\n    this.clipBbox(graphics, x0, y0, x1, y1);\n\n    graphics.baseTransform = getCurrentTransform(graphics.ctx);\n\n    graphics.executeOperatorList(operatorList);\n\n    graphics.endDrawing();\n\n    tmpCtx.restore();\n\n    if (redrawHorizontally || redrawVertically) {\n      // The tile is overlapping itself, so we create a new tile with\n      // dimensions xstep * ystep.\n      // Then we draw the overlapping parts of the original tile on the new\n      // tile.\n      // Just as a side note, the code here works correctly even if we don't\n      // have to redraw the tile horizontally or vertically. In that case, the\n      // original tile is drawn on the new tile only once, but it's useless.\n      const image = tmpCanvas.canvas;\n      if (redrawHorizontally) {\n        canvasWidth = xstep;\n      }\n      if (redrawVertically) {\n        canvasHeight = ystep;\n      }\n\n      const dimx2 = this.getSizeAndScale(\n        canvasWidth,\n        this.ctx.canvas.width,\n        combinedScaleX\n      );\n      const dimy2 = this.getSizeAndScale(\n        canvasHeight,\n        this.ctx.canvas.height,\n        combinedScaleY\n      );\n\n      const xSize = dimx2.size;\n      const ySize = dimy2.size;\n      const tmpCanvas2 = owner.cachedCanvases.getCanvas(\n        \"pattern-workaround\",\n        xSize,\n        ySize\n      );\n      const tmpCtx2 = tmpCanvas2.context;\n      const ii = redrawHorizontally ? Math.floor(width / xstep) : 0;\n      const jj = redrawVertically ? Math.floor(height / ystep) : 0;\n\n      // Draw the overlapping parts of the original tile on the new tile.\n      for (let i = 0; i <= ii; i++) {\n        for (let j = 0; j <= jj; j++) {\n          tmpCtx2.drawImage(\n            image,\n            xSize * i,\n            ySize * j,\n            xSize,\n            ySize,\n            0,\n            0,\n            xSize,\n            ySize\n          );\n        }\n      }\n      return {\n        canvas: tmpCanvas2.canvas,\n        scaleX: dimx2.scale,\n        scaleY: dimy2.scale,\n        offsetX: x0,\n        offsetY: y0,\n      };\n    }\n\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: x0,\n      offsetY: y0,\n    };\n  }\n\n  getSizeAndScale(step, realOutputSize, scale) {\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    // Use the destination canvas's size if it is bigger than the hard-coded\n    // limit of MAX_PATTERN_SIZE to avoid clipping patterns that cover the\n    // whole canvas.\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return { scale, size };\n  }\n\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.current.updateRectMinMax(getCurrentTransform(graphics.ctx), [\n      x0,\n      y0,\n      x1,\n      y1,\n    ]);\n    graphics.clip();\n    graphics.endPath();\n  }\n\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        const cssColor = Util.makeHexColor(color[0], color[1], color[2]);\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        // Set color needed by image masks (fixes issues 3226 and 8741).\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n      default:\n        throw new FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    // PDF spec 8.7.2 NOTE 1: pattern's matrix is relative to initial matrix.\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = Util.transform(matrix, this.matrix);\n      }\n    }\n\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n    let domMatrix = new DOMMatrix(matrix);\n    // Rescale and so that the ctx.createPattern call generates a pattern with\n    // the desired size.\n    domMatrix = domMatrix.translate(\n      temporaryPatternCanvas.offsetX,\n      temporaryPatternCanvas.offsetY\n    );\n    domMatrix = domMatrix.scale(\n      1 / temporaryPatternCanvas.scaleX,\n      1 / temporaryPatternCanvas.scaleY\n    );\n\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n\n    return pattern;\n  }\n}\n\nexport { getShadingPattern, PathType, TilingPattern };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FeatureTest, ImageKind } from \"./util.js\";\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n\n  return null;\n}\n\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false,\n}) {\n  const black = FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode\n    ? [nonBlackColor, black]\n    : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & (1 << (7 - j)) ? oneMapping : zeroMapping;\n    }\n  }\n  return { srcPos, destPos };\n}\n\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height,\n}) {\n  let i = 0;\n  const len32 = src.length >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n\n  if (FeatureTest.isLittleEndian) {\n    // It's a way faster to do the shuffle manually instead of working\n    // component by component with some Uint8 arrays.\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i]; // R2B1G1R1\n      const s2 = src32[i + 1]; // G3R3B2G2\n      const s3 = src32[i + 2]; // B4G4R4B3\n\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = (s1 >>> 24) | (s2 << 8) | 0xff000000;\n      dest[destPos + 2] = (s2 >>> 16) | (s3 << 16) | 0xff000000;\n      dest[destPos + 3] = (s3 >>> 8) | 0xff000000;\n    }\n\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] =\n        src[j] | (src[j + 1] << 8) | (src[j + 2] << 16) | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i]; // R1G1B1R2\n      const s2 = src32[i + 1]; // G2B2R3G3\n      const s3 = src32[i + 2]; // B3R4G4B4\n\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = (s1 << 24) | (s2 >>> 8) | 0xff;\n      dest[destPos + 2] = (s2 << 16) | (s3 >>> 16) | 0xff;\n      dest[destPos + 3] = (s3 << 8) | 0xff;\n    }\n\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] =\n        (src[j] << 24) | (src[j + 1] << 16) | (src[j + 2] << 8) | 0xff;\n    }\n  }\n\n  return { srcPos, destPos };\n}\n\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = (src[i] * 0x10101) | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = (src[i] * 0x1010100) | 0x000000ff;\n    }\n  }\n}\n\nexport { convertBlackAndWhiteToRGBA, convertToRGBA, grayToRGBA };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FeatureTest,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  isNodeJS,\n  OPS,\n  shadow,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  getCurrentTransform,\n  getCurrentTransformInverse,\n  PixelsPerInch,\n} from \"./display_utils.js\";\nimport {\n  getShadingPattern,\n  PathType,\n  TilingPattern,\n} from \"./pattern_helper.js\";\nimport { convertBlackAndWhiteToRGBA } from \"../shared/image_utils.js\";\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n// Minimal font size that would be used during canvas fillText operations.\nconst MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nconst MAX_FONT_SIZE = 100;\n\n// Defines the time the `executeOperatorList`-method is going to be executing\n// before it stops and schedules a continue of execution.\nconst EXECUTION_TIME = 15; // ms\n// Defines the number of steps before checking the execution time.\nconst EXECUTION_STEPS = 10;\n\n// To disable Type3 compilation, set the value to `-1`.\nconst MAX_SIZE_TO_COMPILE = 1000;\n\nconst FULL_CHUNK_HEIGHT = 16;\n\n/**\n * Overrides certain methods on a 2d ctx so that when they are called they\n * will also call the same method on the destCtx. The methods that are\n * overridden are all the transformation state modifiers, path creation, and\n * save/restore. We only forward these specific methods because they are the\n * only state modifiers that we cannot copy over when we switch contexts.\n *\n * To remove mirroring call `ctx._removeMirroring()`.\n *\n * @param {Object} ctx - The 2d canvas context that will duplicate its calls on\n *   the destCtx.\n * @param {Object} destCtx - The 2d canvas context that will receive the\n *   forwarded calls.\n */\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n\n  ctx.save = function ctxSave() {\n    destCtx.save();\n    this.__originalSave();\n  };\n\n  ctx.restore = function ctxRestore() {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n\n  ctx.translate = function ctxTranslate(x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n\n  ctx.scale = function ctxScale(x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n\n  ctx.resetTransform = function ctxResetTransform() {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n\n  ctx.rotate = function ctxRotate(angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n\n  ctx.clip = function ctxRotate(rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\n\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n\n  delete(id) {\n    delete this.cache[id];\n  }\n\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\n\nfunction drawImageAtIntegerCoords(\n  ctx,\n  srcImg,\n  srcX,\n  srcY,\n  srcW,\n  srcH,\n  destX,\n  destY,\n  destW,\n  destH\n) {\n  const [a, b, c, d, tx, ty] = getCurrentTransform(ctx);\n  if (b === 0 && c === 0) {\n    // top-left corner is at (X, Y) and\n    // bottom-right one is at (X + width, Y + height).\n\n    // If leftX is 4.321 then it's rounded to 4.\n    // If width is 10.432 then it's rounded to 11 because\n    // rightX = leftX + width = 14.753 which is rounded to 15\n    // so after rounding the total width is 11 (15 - 4).\n    // It's why we can't just floor/ceil uniformly, it just depends\n    // on the values we've.\n\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n\n    // Some pdf contains images with 1x1 images so in case of 0-width after\n    // scaling we must fallback on 1 to be sure there is something.\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n\n    // We must apply a transformation in order to apply it on the image itself.\n    // For example if a == 1 && d == -1, it means that the image itself is\n    // mirrored w.r.t. the x-axis.\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n\n    return [rWidth, rHeight];\n  }\n\n  if (a === 0 && d === 0) {\n    // This path is taken in issue9462.pdf (page 3).\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n\n    return [rHeight, rWidth];\n  }\n\n  // Not a scale matrix so let the render handle the case without rounding.\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\n\nfunction compileType3Glyph(imgData) {\n  const { width, height } = imgData;\n  if (width > MAX_SIZE_TO_COMPILE || height > MAX_SIZE_TO_COMPILE) {\n    return null;\n  }\n\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([\n    0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0,\n  ]);\n\n  const width1 = width + 1;\n  let points = new Uint8Array(width1 * (height + 1));\n  let i, j, j0;\n\n  // decodes bit-packed mask data\n  const lineSize = (width + 7) & ~7;\n  let data = new Uint8Array(lineSize * height),\n    pos = 0;\n  for (const elem of imgData.data) {\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding interesting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum =\n        (sum >> 2) +\n        (data[pos + 1] ? 4 : 0) +\n        (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const path = new Path2D();\n\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    path.moveTo(p % width1, i);\n\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else {\n        // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2) | (type << 2);\n      }\n      path.lineTo(p % width1, (p / width1) | 0);\n\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    --i;\n  }\n\n  // Immediately release the, potentially large, `Uint8Array`s after parsing.\n  data = null;\n  points = null;\n\n  const drawOutline = function (c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.fill(path);\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nclass CanvasExtraState {\n  constructor(width, height) {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.transferMaps = \"none\";\n\n    this.startNewPathAndClipBox([0, 0, width, height]);\n  }\n\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    return clone;\n  }\n\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  updatePathMinMax(transform, x, y) {\n    [x, y] = Util.applyTransform([x, y], transform);\n    this.minX = Math.min(this.minX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxX = Math.max(this.maxX, x);\n    this.maxY = Math.max(this.maxY, y);\n  }\n\n  updateRectMinMax(transform, rect) {\n    const p1 = Util.applyTransform(rect, transform);\n    const p2 = Util.applyTransform(rect.slice(2), transform);\n    const p3 = Util.applyTransform([rect[0], rect[3]], transform);\n    const p4 = Util.applyTransform([rect[2], rect[1]], transform);\n\n    this.minX = Math.min(this.minX, p1[0], p2[0], p3[0], p4[0]);\n    this.minY = Math.min(this.minY, p1[1], p2[1], p3[1], p4[1]);\n    this.maxX = Math.max(this.maxX, p1[0], p2[0], p3[0], p4[0]);\n    this.maxY = Math.max(this.maxY, p1[1], p2[1], p3[1], p4[1]);\n  }\n\n  updateScalingPathMinMax(transform, minMax) {\n    Util.scaleMinMax(transform, minMax);\n    this.minX = Math.min(this.minX, minMax[0]);\n    this.minY = Math.min(this.minY, minMax[1]);\n    this.maxX = Math.max(this.maxX, minMax[2]);\n    this.maxY = Math.max(this.maxY, minMax[3]);\n  }\n\n  updateCurvePathMinMax(transform, x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    const box = Util.bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax);\n    if (minMax) {\n      return;\n    }\n    this.updateRectMinMax(transform, box);\n  }\n\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = [this.minX, this.minY, this.maxX, this.maxY];\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        unreachable(\"Stroke bounding box must include transform.\");\n      }\n      // Stroked paths can be outside of the path bounding box by 1/2 the line\n      // width.\n      const scale = Util.singularValueDecompose2dScale(transform);\n      const xStrokePad = (scale[0] * this.lineWidth) / 2;\n      const yStrokePad = (scale[1] * this.lineWidth) / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n\n  updateClipFromPath() {\n    const intersect = Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n\n  isEmptyClip() {\n    return this.minX === Infinity;\n  }\n\n  startNewPathAndClipBox(box) {\n    this.clipBox = box;\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = 0;\n    this.maxY = 0;\n  }\n\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return Util.intersect(\n      this.clipBox,\n      this.getPathBoundingBox(pathType, transform)\n    );\n  }\n}\n\nfunction putBinaryImageData(ctx, imgData) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n\n  // Put the image data to the canvas in chunks, rather than putting the\n  // whole image at once.  This saves JS memory, because the ImageData object\n  // is smaller. It also possibly saves C++ memory within the implementation\n  // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n  // the data passed to putImageData()). |n| shouldn't be too small, however,\n  // because too many putImageData() calls will slow things down.\n  //\n  // Note: as written, if the last chunk is partial, the putImageData() call\n  // will (conceptually) put pixels past the bounds of the canvas.  But\n  // that's ok; any such pixels are ignored.\n\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n\n  // There are multiple forms in which the pixel data can be passed, and\n  // imgData.kind tells us which one this is.\n  if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n    // Grayscale, 1 bit per pixel (i.e. black-and-white).\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = (width + 7) >> 3;\n    const white = 0xffffffff;\n    const black = FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      // We ran out of input. Make all remaining pixels transparent.\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n    // RGBA, 32-bits per pixel.\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === ImageKind.RGB_24BPP) {\n    // RGB, 24-bits per pixel.\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n\n      destPos = 0;\n      for (j = elemsInThisChunk; j--; ) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\n\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    // The bitmap has been created in the worker.\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n\n  // Slow path: OffscreenCanvas isn't available in the worker.\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight =\n      i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n    // Expand the mask so it can be used by the canvas.  Any required\n    // inversion has already been handled.\n\n    ({ srcPos } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0,\n    }));\n\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\n\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\n    \"strokeStyle\",\n    \"fillStyle\",\n    \"fillRule\",\n    \"globalAlpha\",\n    \"lineWidth\",\n    \"lineCap\",\n    \"lineJoin\",\n    \"miterLimit\",\n    \"globalCompositeOperation\",\n    \"font\",\n    \"filter\",\n  ];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\n\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    !isNodeJS\n  ) {\n    const { filter } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n  }\n}\n\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  // In section 8.9.5.3 of the PDF spec, it's mentioned that the interpolate\n  // flag should be used when the image is upscaled.\n  // In Firefox, smoothing is always used when downscaling images (bug 1360415).\n\n  if (interpolate) {\n    return true;\n  }\n\n  const scale = Util.singularValueDecompose2dScale(transform);\n  // Round to a 32bit float so that `<=` check below will pass for numbers that\n  // are very close, but not exactly the same 64bit floats.\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround(\n    (globalThis.devicePixelRatio || 1) * PixelsPerInch.PDF_TO_CSS_UNITS\n  );\n  return scale[0] <= actualScale && scale[1] <= actualScale;\n}\n\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\n\nclass CanvasGraphics {\n  constructor(\n    canvasCtx,\n    commonObjs,\n    objs,\n    canvasFactory,\n    filterFactory,\n    { optionalContentConfig, markedContentStack = null },\n    annotationCanvasMap,\n    pageColors\n  ) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(\n      this.ctx.canvas.width,\n      this.ctx.canvas.height\n    );\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see\n    // PDF spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n  }\n\n  getObject(data, fallback = null) {\n    if (typeof data === \"string\") {\n      return data.startsWith(\"g_\")\n        ? this.commonObjs.get(data)\n        : this.objs.get(data);\n    }\n    return fallback;\n  }\n\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null,\n  }) {\n    // For pdfs that use blend modes we have to clear the canvas else certain\n    // blend modes can look wrong since we'd be blending with a white\n    // backdrop. The problem with a transparent backdrop though is we then\n    // don't get sub pixel anti aliasing on text, creating temporary\n    // transparent canvas when we have blend modes.\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\n        \"transparent\",\n        width,\n        height\n      );\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      // The transform can be applied before rendering, transferring it to\n      // the new canvas.\n      this.ctx.transform(...getCurrentTransform(this.compositeCtx));\n    }\n\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n\n    this.baseTransform = getCurrentTransform(this.ctx);\n  }\n\n  executeOperatorList(\n    operatorList,\n    executionStartIdx,\n    continueCallback,\n    stepper\n  ) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n\n    // Sometimes the OperatorList to execute is empty.\n    if (argsArrayLen === i) {\n      return i;\n    }\n\n    const chunkOperations =\n      argsArrayLen - i > EXECUTION_STEPS &&\n      typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n\n      fnId = fnArray[i];\n\n      if (fnId !== OPS.dependency) {\n        // eslint-disable-next-line prefer-spread\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n          // If the promise isn't resolved yet, add the continueCallback\n          // to the promise and bail out.\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n\n      i++;\n\n      // If the entire operatorList was executed, stop as were done.\n      if (i === argsArrayLen) {\n        return i;\n      }\n\n      // If the execution took longer then a certain amount of time and\n      // `continueCallback` is specified, interrupt the execution.\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n\n      // If the operatorList isn't executed completely yet OR the execution\n      // time was short enough, do another execution round.\n    }\n  }\n\n  #restoreInitialState() {\n    // Finishing all opened operations such as SMask group painting.\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n\n    this.current.activeSMask = null;\n    this.ctx.restore();\n\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n\n  endDrawing() {\n    this.#restoreInitialState();\n\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (\n          typeof HTMLCanvasElement !== \"undefined\" &&\n          canvas instanceof HTMLCanvasElement\n        ) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(\n        this.pageColors.foreground,\n        this.pageColors.background\n      );\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n\n  _scaleImage(img, inverseTransform) {\n    // Vertical or horizontal scaling shall not be more than 2 to not lose the\n    // pixels during drawImage operation, painting on the temporary canvas(es)\n    // that are twice smaller in size.\n\n    // displayWidth and displayHeight are used for VideoFrame.\n    const width = img.width ?? img.displayWidth;\n    const height = img.height ?? img.displayHeight;\n    let widthScale = Math.max(\n      Math.hypot(inverseTransform[0], inverseTransform[1]),\n      1\n    );\n    let heightScale = Math.max(\n      Math.hypot(inverseTransform[2], inverseTransform[3]),\n      1\n    );\n\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (\n      (widthScale > 2 && paintWidth > 1) ||\n      (heightScale > 2 && paintHeight > 1)\n    ) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        // See bug 1820511 (Windows specific bug).\n        // TODO: once the above bug is fixed we could revert to:\n        // newWidth = Math.ceil(paintWidth / 2);\n        newWidth =\n          paintWidth >= 16384\n            ? Math.floor(paintWidth / 2) - 1 || 1\n            : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        // TODO: see the comment above.\n        newHeight =\n          paintHeight >= 16384\n            ? Math.floor(paintHeight / 2) - 1 || 1\n            : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(\n        tmpCanvasId,\n        newWidth,\n        newHeight\n      );\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(\n        img,\n        0,\n        0,\n        paintWidth,\n        paintHeight,\n        0,\n        0,\n        newWidth,\n        newHeight\n      );\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight,\n    };\n  }\n\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const { width, height } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = getCurrentTransform(ctx);\n\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      // We're reusing the same image several times, so we can cache it.\n      // In case we've a pattern fill we just keep the scaled version of\n      // the image.\n      // Only the scaling part matters, the translation part is just used\n      // to compute offsets (but not when filling patterns see #15573).\n      // TODO: handle the case of a pattern fill if it's possible.\n      cacheKey = JSON.stringify(\n        isPatternFill\n          ? currentTransform\n          : [currentTransform.slice(0, 4), fillColor]\n      );\n\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(\n          Math.min(currentTransform[0], currentTransform[2]) +\n            currentTransform[4]\n        );\n        const offsetY = Math.round(\n          Math.min(currentTransform[1], currentTransform[3]) +\n            currentTransform[5]\n        );\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY,\n        };\n      }\n      scaled = cachedImage;\n    }\n\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n\n    // Create the mask canvas at the size it will be drawn at and also set\n    // its transform to match the current transform so if there are any\n    // patterns applied they will be applied relative to the correct\n    // transform.\n\n    let maskToCanvas = Util.transform(currentTransform, [\n      1 / width,\n      0,\n      0,\n      -1 / height,\n      0,\n      0,\n    ]);\n    maskToCanvas = Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const [minX, minY, maxX, maxY] = Util.getAxialAlignedBoundingBox(\n      [0, 0, width, height],\n      maskToCanvas\n    );\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\n      \"fillCanvas\",\n      drawnWidth,\n      drawnHeight\n    );\n    const fillCtx = fillCanvas.context;\n\n    // The offset will be the top-left cordinate mask.\n    // If objToCanvas is [a,b,c,d,e,f] then:\n    //   - offsetX = min(a, c) + e\n    //   - offsetY = min(b, d) + f\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n\n    if (!scaled) {\n      // Pre-scale if needed to improve image smoothing.\n      scaled = this._scaleImage(\n        maskCanvas.canvas,\n        getCurrentTransformInverse(fillCtx)\n      );\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(\n      getCurrentTransform(fillCtx),\n      img.interpolate\n    );\n\n    drawImageAtIntegerCoords(\n      fillCtx,\n      scaled,\n      0,\n      0,\n      scaled.width,\n      scaled.height,\n      0,\n      0,\n      width,\n      height\n    );\n    fillCtx.globalCompositeOperation = \"source-in\";\n\n    const inverse = Util.transform(getCurrentTransformInverse(fillCtx), [\n      1,\n      0,\n      0,\n      1,\n      -offsetX,\n      -offsetY,\n    ]);\n    fillCtx.fillStyle = isPatternFill\n      ? fillColor.getPattern(ctx, this, inverse, PathType.FILL)\n      : fillColor;\n\n    fillCtx.fillRect(0, 0, width, height);\n\n    if (cache && !isPatternFill) {\n      // The fill canvas is put in the cache associated to the mask image\n      // so we must remove from the cached canvas: it mustn't be used again.\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n\n    // Round the offsets to avoid drawing fractional pixels.\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY),\n    };\n  }\n\n  // Graphics state\n  setLineWidth(width) {\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n\n  setRenderingIntent(intent) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setFlatness(flatness) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setGState(states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n        case \"CA\":\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.current.fillAlpha = value;\n          this.ctx.globalAlpha = value;\n          break;\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.ctx.filter = this.current.transferMaps =\n            this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n    // Else, the state is okay and nothing needs to be done.\n  }\n\n  /**\n   * Soft mask mode takes the current main drawing canvas and replaces it with\n   * a temporary canvas. Any drawing operations that happen on the temporary\n   * canvas need to be composed with the main canvas that was suspended (see\n   * `compose()`). The temporary canvas also duplicates many of its operations\n   * on the suspended canvas to keep them in sync, so that when the soft mask\n   * mode ends any clipping paths or transformations will still be active and in\n   * the right order on the canvas' graphics state stack.\n   */\n  beginSMaskMode() {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(\n      cacheId,\n      drawnWidth,\n      drawnHeight\n    );\n    this.suspendedCtx = this.ctx;\n    this.ctx = scratchCanvas.context;\n    const ctx = this.ctx;\n    ctx.setTransform(...getCurrentTransform(this.suspendedCtx));\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n\n    this.setGState([\n      [\"BM\", \"source-over\"],\n      [\"ca\", 1],\n      [\"CA\", 1],\n    ]);\n  }\n\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    // The soft mask is done, now restore the suspended canvas as the main\n    // drawing canvas.\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n\n    this.suspendedCtx = null;\n  }\n\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n\n    this.composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    // Whatever was drawn has been moved to the suspended canvas, now clear it\n    // out of the current canvas.\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n\n  composeSMask(ctx, smask, layerCtx, layerBox) {\n    const layerOffsetX = layerBox[0];\n    const layerOffsetY = layerBox[1];\n    const layerWidth = layerBox[2] - layerOffsetX;\n    const layerHeight = layerBox[3] - layerOffsetY;\n    if (layerWidth === 0 || layerHeight === 0) {\n      return;\n    }\n    this.genericComposeSMask(\n      smask.context,\n      layerCtx,\n      layerWidth,\n      layerHeight,\n      smask.subtype,\n      smask.backdrop,\n      smask.transferMap,\n      layerOffsetX,\n      layerOffsetY,\n      smask.offsetX,\n      smask.offsetY\n    );\n    ctx.save();\n    ctx.globalAlpha = 1;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(layerCtx.canvas, 0, 0);\n    ctx.restore();\n  }\n\n  genericComposeSMask(\n    maskCtx,\n    layerCtx,\n    width,\n    height,\n    subtype,\n    backdrop,\n    transferMap,\n    layerOffsetX,\n    layerOffsetY,\n    maskOffsetX,\n    maskOffsetY\n  ) {\n    let maskCanvas = maskCtx.canvas;\n    let maskX = layerOffsetX - maskOffsetX;\n    let maskY = layerOffsetY - maskOffsetY;\n\n    if (backdrop) {\n      const backdropRGB = Util.makeHexColor(...backdrop);\n      if (\n        maskX < 0 ||\n        maskY < 0 ||\n        maskX + width > maskCanvas.width ||\n        maskY + height > maskCanvas.height\n      ) {\n        const canvas = this.cachedCanvases.getCanvas(\n          \"maskExtension\",\n          width,\n          height\n        );\n        const ctx = canvas.context;\n        ctx.drawImage(maskCanvas, -maskX, -maskY);\n        ctx.globalCompositeOperation = \"destination-atop\";\n        ctx.fillStyle = backdropRGB;\n        ctx.fillRect(0, 0, width, height);\n        ctx.globalCompositeOperation = \"source-over\";\n\n        maskCanvas = canvas.canvas;\n        maskX = maskY = 0;\n      } else {\n        maskCtx.save();\n        maskCtx.globalAlpha = 1;\n        maskCtx.setTransform(1, 0, 0, 1, 0, 0);\n        const clip = new Path2D();\n        clip.rect(maskX, maskY, width, height);\n        maskCtx.clip(clip);\n        maskCtx.globalCompositeOperation = \"destination-atop\";\n        maskCtx.fillStyle = backdropRGB;\n        maskCtx.fillRect(maskX, maskY, width, height);\n        maskCtx.restore();\n      }\n    }\n\n    layerCtx.save();\n    layerCtx.globalAlpha = 1;\n    layerCtx.setTransform(1, 0, 0, 1, 0, 0);\n\n    if (subtype === \"Alpha\" && transferMap) {\n      layerCtx.filter = this.filterFactory.addAlphaFilter(transferMap);\n    } else if (subtype === \"Luminosity\") {\n      layerCtx.filter = this.filterFactory.addLuminosityFilter(transferMap);\n    }\n\n    const clip = new Path2D();\n    clip.rect(layerOffsetX, layerOffsetY, width, height);\n    layerCtx.clip(clip);\n    layerCtx.globalCompositeOperation = \"destination-in\";\n    layerCtx.drawImage(\n      maskCanvas,\n      maskX,\n      maskY,\n      width,\n      height,\n      layerOffsetX,\n      layerOffsetY,\n      width,\n      height\n    );\n    layerCtx.restore();\n  }\n\n  save() {\n    if (this.inSMaskMode) {\n      // SMask mode may be turned on/off causing us to lose graphics state.\n      // Copy the temporary canvas state to the main(suspended) canvas to keep\n      // it in sync.\n      copyCtxState(this.ctx, this.suspendedCtx);\n      // Don't bother calling save on the temporary canvas since state is not\n      // saved there.\n      this.suspendedCtx.save();\n    } else {\n      this.ctx.save();\n    }\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n  }\n\n  restore() {\n    if (this.stateStack.length === 0 && this.inSMaskMode) {\n      this.endSMaskMode();\n    }\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n      if (this.inSMaskMode) {\n        // Graphics state is stored on the main(suspended) canvas. Restore its\n        // state then copy it over to the temporary canvas.\n        this.suspendedCtx.restore();\n        copyCtxState(this.suspendedCtx, this.ctx);\n      } else {\n        this.ctx.restore();\n      }\n      this.checkSMaskState();\n\n      // Ensure that the clipping path is reset (fixes issue6413.pdf).\n      this.pendingClip = null;\n\n      this._cachedScaleForStroking[0] = -1;\n      this._cachedGetSinglePixelWidth = null;\n    }\n  }\n\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  // Path\n  constructPath(ops, args, minMax) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    let startX, startY;\n    const currentTransform = getCurrentTransform(ctx);\n\n    // Most of the time the current transform is a scaling matrix\n    // so we don't need to transform points before computing min/max:\n    // we can compute min/max first and then smartly \"apply\" the\n    // transform (see Util.scaleMinMax).\n    // For rectangle, moveTo and lineTo, min/max are computed in the\n    // worker (see evaluator.js).\n    const isScalingMatrix =\n      (currentTransform[0] === 0 && currentTransform[3] === 0) ||\n      (currentTransform[1] === 0 && currentTransform[2] === 0);\n    const minMaxForBezier = isScalingMatrix ? minMax.slice(0) : null;\n\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n          if (!isScalingMatrix) {\n            current.updateRectMinMax(currentTransform, [x, y, xw, yh]);\n          }\n          ctx.closePath();\n          break;\n        case OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case OPS.curveTo:\n          startX = x;\n          startY = y;\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3],\n            x,\n            y\n          );\n          current.updateCurvePathMinMax(\n            currentTransform,\n            startX,\n            startY,\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3],\n            x,\n            y,\n            minMaxForBezier\n          );\n          j += 6;\n          break;\n        case OPS.curveTo2:\n          startX = x;\n          startY = y;\n          ctx.bezierCurveTo(\n            x,\n            y,\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3]\n          );\n          current.updateCurvePathMinMax(\n            currentTransform,\n            startX,\n            startY,\n            x,\n            y,\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3],\n            minMaxForBezier\n          );\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case OPS.curveTo3:\n          startX = x;\n          startY = y;\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          current.updateCurvePathMinMax(\n            currentTransform,\n            startX,\n            startY,\n            args[j],\n            args[j + 1],\n            x,\n            y,\n            x,\n            y,\n            minMaxForBezier\n          );\n          j += 4;\n          break;\n        case OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n\n    if (isScalingMatrix) {\n      current.updateScalingPathMinMax(currentTransform, minMaxForBezier);\n    }\n\n    current.setCurrentPoint(x, y);\n  }\n\n  closePath() {\n    this.ctx.closePath();\n  }\n\n  stroke(consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    // For stroke we want to temporarily change the global alpha to the\n    // stroking alpha.\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(\n          ctx,\n          this,\n          getCurrentTransformInverse(ctx),\n          PathType.STROKE\n        );\n        this.rescaleAndStroke(/* saveRestore */ false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(/* saveRestore */ true);\n      }\n    }\n    if (consumePath) {\n      this.consumePath(this.current.getClippedPathBoundingBox());\n    }\n    // Restore the global alpha to the fill alpha\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n\n  fill(consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(\n        ctx,\n        this,\n        getCurrentTransformInverse(ctx),\n        PathType.FILL\n      );\n      needRestore = true;\n    }\n\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n\n    if (needRestore) {\n      ctx.restore();\n    }\n    if (consumePath) {\n      this.consumePath(intersect);\n    }\n  }\n\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n\n    this.consumePath();\n  }\n\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n\n  endPath() {\n    this.consumePath();\n  }\n\n  // Clipping\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n\n  // Text\n  beginText() {\n    this.current.textMatrix = IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n\n    ctx.save();\n    ctx.beginPath();\n    for (const path of paths) {\n      ctx.setTransform(...path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n\n    // A valid matrix needs all main diagonal elements to be non-zero\n    // This also ensures we bypass FF bugzilla bug #719844.\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      warn(\"Invalid font matrix for font \" + fontRefName);\n    }\n\n    // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n    // and in some docs this can be negative (inverted x-y axes).\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n\n    if (fontObj.isType3Font) {\n      return; // we don't need ctx.font for Type3 fonts\n    }\n\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface =\n      fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n    // Some font backends cannot handle fonts below certain size.\n    // Keeping the font at minimal size and using the fontSizeScale to change\n    // the current transformation matrix before the fillText/strokeText.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n\n  paintChar(character, x, y, patternTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode =\n      textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(\n      textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG\n    );\n    const patternFill = current.patternFill && !font.missingFile;\n\n    let addToPath;\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n      if (patternTransform) {\n        ctx.setTransform(...patternTransform);\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.fill();\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.stroke();\n      }\n      ctx.restore();\n    } else {\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.fillText(character, x, y);\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.strokeText(character, x, y);\n      }\n    }\n\n    if (isAddToPathSet) {\n      const paths = (this.pendingTextPaths ||= []);\n      paths.push({\n        transform: getCurrentTransform(ctx),\n        x,\n        y,\n        fontSize,\n        addToPath,\n      });\n    }\n  }\n\n  get isFontSubpixelAAEnabled() {\n    // Checks if anti-aliasing is enabled when scaled text is painted.\n    // On Windows GDI scaled fonts looks bad.\n    const { context: ctx } = this.cachedCanvases.getCanvas(\n      \"isFontSubpixelAAEnabled\",\n      10,\n      10\n    );\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return undefined;\n    }\n\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n    const simpleFillText =\n      current.textRenderingMode === TextRenderingMode.FILL &&\n      !font.disableFontFace &&\n      !current.patternFill;\n\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n\n    let patternTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(\n        ctx,\n        this,\n        getCurrentTransformInverse(ctx),\n        PathType.FILL\n      );\n      patternTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n\n    ctx.lineWidth = lineWidth;\n\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      ctx.fillText(chars.join(\"\"), 0, 0);\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n\n      return undefined;\n    }\n\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += (spacingDir * glyph * fontSize) / 1000;\n        continue;\n      }\n\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx =\n          -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n\n      if (font.remeasure && width > 0) {\n        // Some standard fonts may not have the exact width: rescale per\n        // character if measured width is greater than expected glyph width\n        // and subpixel-aa is enabled, otherwise just center the glyph.\n        const measuredWidth =\n          ((ctx.measureText(character).width * 1000) / fontSize) *\n          fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX +=\n            (((width - measuredWidth) / 2000) * fontSize) / fontSizeScale;\n        }\n      }\n\n      // Only attempt to draw the glyph if it is actually in the embedded font\n      // file or if there isn't a font file so the fallback font is shown.\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          // common case\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY, patternTransform);\n          if (accent) {\n            const scaledAccentX =\n              scaledX + (fontSize * accent.offset.x) / fontSizeScale;\n            const scaledAccentY =\n              scaledY - (fontSize * accent.offset.y) / fontSizeScale;\n            this.paintChar(\n              accent.fontChar,\n              scaledAccentX,\n              scaledAccentY,\n              patternTransform\n            );\n          }\n        }\n      }\n\n      const charWidth = vertical\n        ? width * widthAdvanceScale - spacing * fontDirection\n        : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n\n    return undefined;\n  }\n\n  showType3Text(glyphs) {\n    // Type3 fonts - each glyph is a \"mini-PDF\"\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible =\n      current.textRenderingMode === TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y);\n\n    ctx.scale(textHScale, fontDirection);\n\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = (spacingDir * glyph * fontSize) / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n\n      const transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n      width = transformed[0] * fontSize + spacing;\n\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    this.processingType3 = null;\n  }\n\n  // Type3 fonts\n  setCharWidth(xWidth, yWidth) {\n    // We can safely ignore this since the width should be the same\n    // as the width in the Widths array.\n  }\n\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip();\n    this.endPath();\n  }\n\n  // Color\n  getColorN_Pattern(IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform = this.baseTransform || getCurrentTransform(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx =>\n          new CanvasGraphics(\n            ctx,\n            this.commonObjs,\n            this.objs,\n            this.canvasFactory,\n            this.filterFactory,\n            {\n              optionalContentConfig: this.optionalContentConfig,\n              markedContentStack: this.markedContentStack,\n            }\n          ),\n      };\n      pattern = new TilingPattern(\n        IR,\n        color,\n        this.ctx,\n        canvasGraphicsFactory,\n        baseTransform\n      );\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n    return pattern;\n  }\n\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n\n  setStrokeRGBColor(r, g, b) {\n    this.ctx.strokeStyle = this.current.strokeColor = Util.makeHexColor(\n      r,\n      g,\n      b\n    );\n  }\n\n  setStrokeTransparent() {\n    this.ctx.strokeStyle = this.current.strokeColor = \"transparent\";\n  }\n\n  setFillRGBColor(r, g, b) {\n    this.ctx.fillStyle = this.current.fillColor = Util.makeHexColor(r, g, b);\n    this.current.patternFill = false;\n  }\n\n  setFillTransparent() {\n    this.ctx.fillStyle = this.current.fillColor = \"transparent\";\n    this.current.patternFill = false;\n  }\n\n  _getPattern(objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n\n    this.save();\n    const pattern = this._getPattern(objId);\n    ctx.fillStyle = pattern.getPattern(\n      ctx,\n      this,\n      getCurrentTransformInverse(ctx),\n      PathType.SHADING\n    );\n\n    const inv = getCurrentTransformInverse(ctx);\n    if (inv) {\n      const { width, height } = ctx.canvas;\n      const [x0, y0, x1, y1] = Util.getAxialAlignedBoundingBox(\n        [0, 0, width, height],\n        inv\n      );\n\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      // HACK to draw the gradient onto an infinite rectangle.\n      // PDF gradients are drawn across the entire image while\n      // Canvas only allows gradients to be drawn in a rectangle\n      // The following bug should allow us to remove this.\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore();\n  }\n\n  // Images\n  beginInlineImage() {\n    unreachable(\"Should not call beginInlineImage\");\n  }\n\n  beginImageData() {\n    unreachable(\"Should not call beginImageData\");\n  }\n\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n\n    if (matrix) {\n      this.transform(...matrix);\n    }\n    this.baseTransform = getCurrentTransform(this.ctx);\n\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.current.updateRectMinMax(getCurrentTransform(this.ctx), bbox);\n      this.clip();\n      this.endPath();\n    }\n  }\n\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    this.save();\n    // If there's an active soft mask we don't want it enabled for the group, so\n    // clear it out. The mask and suspended canvas will be restored in endGroup.\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n\n    const currentCtx = this.ctx;\n    // TODO non-isolated groups - according to Rik at adobe non-isolated\n    // group results aren't usually that different and they even have tools\n    // that ignore this setting. Notes from Rik on implementing:\n    // - When you encounter an transparency group, create a new canvas with\n    // the dimensions of the bbox\n    // - copy the content from the previous canvas to the new canvas\n    // - draw as usual\n    // - remove the backdrop alpha:\n    // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n    // value of your transparency group and 'alphaBackdrop' the alpha of the\n    // backdrop\n    // - remove background color:\n    // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n    if (!group.isolated) {\n      info(\"TODO: Support non-isolated groups.\");\n    }\n\n    // TODO knockout - supposedly possible with the clever use of compositing\n    // modes.\n    if (group.knockout) {\n      warn(\"Knockout groups not supported.\");\n    }\n\n    const currentTransform = getCurrentTransform(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n\n    // Based on the current transform figure out how big the bounding box\n    // will actually be.\n    let bounds = Util.getAxialAlignedBoundingBox(\n      group.bbox,\n      getCurrentTransform(currentCtx)\n    );\n    // Clip the bounding box to the current canvas.\n    const canvasBounds = [\n      0,\n      0,\n      currentCtx.canvas.width,\n      currentCtx.canvas.height,\n    ];\n    bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    // Use ceil in case we're between sizes so we don't create canvas that is\n    // too small and make the canvas at least 1x1 pixels.\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    const drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    const drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      // Using two cache entries is case if masks are used one after another.\n      cacheId += \"_smask_\" + (this.smaskCounter++ % 2);\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(\n      cacheId,\n      drawnWidth,\n      drawnHeight\n    );\n    const groupCtx = scratchCanvas.context;\n\n    // Since we created a new canvas that is just the size of the bounding box\n    // we have to translate the group ctx.\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n\n    if (group.smask) {\n      // Saving state and cached mask to be used in setGState.\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null, // used during suspend operation\n      });\n    } else {\n      // Setup the current ctx so when the group is popped we draw it at the\n      // right location.\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.save();\n    }\n    // The transparency group inherits all off the current graphics state\n    // except the blend mode, soft mask, and alpha constants.\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([\n      [\"BM\", \"source-over\"],\n      [\"ca\", 1],\n      [\"CA\", 1],\n    ]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    // Turn off image smoothing to avoid sub pixel interpolation which can\n    // look kind of blurry for some pdfs.\n    this.ctx.imageSmoothingEnabled = false;\n\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore();\n    } else {\n      this.ctx.restore();\n      const currentMtx = getCurrentTransform(this.ctx);\n      this.restore();\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = Util.getAxialAlignedBoundingBox(\n        [0, 0, groupCtx.canvas.width, groupCtx.canvas.height],\n        currentMtx\n      );\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n\n  beginAnnotation(id, rect, transform, matrix, hasOwnCanvas) {\n    // The annotations are drawn just after the page content.\n    // The page content drawing can potentially have set a transform,\n    // a clipping path, whatever...\n    // So in order to have something clean, we restore the initial state.\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n\n    this.ctx.save();\n    this.save();\n\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n\n    if (rect) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n\n        const [scaleX, scaleY] = Util.singularValueDecompose2dScale(\n          getCurrentTransform(this.ctx)\n        );\n        const { viewportScale } = this;\n        const canvasWidth = Math.ceil(\n          width * this.outputScaleX * viewportScale\n        );\n        const canvasHeight = Math.ceil(\n          height * this.outputScaleY * viewportScale\n        );\n\n        this.annotationCanvas = this.canvasFactory.create(\n          canvasWidth,\n          canvasHeight\n        );\n        const { canvas, context } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(scaleX, 0, 0, -scaleY, 0, height * scaleY);\n\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n\n        // Consume a potential path before clipping.\n        this.endPath();\n\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.ctx.clip();\n        this.ctx.beginPath();\n      }\n    }\n\n    this.current = new CanvasExtraState(\n      this.ctx.canvas.width,\n      this.ctx.canvas.height\n    );\n\n    this.transform(...transform);\n    this.transform(...matrix);\n  }\n\n  endAnnotation() {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(img.data, img);\n    img.count = count;\n\n    const ctx = this.ctx;\n    const glyph = this.processingType3;\n\n    if (glyph) {\n      if (glyph.compiled === undefined) {\n        glyph.compiled = compileType3Glyph(img);\n      }\n\n      if (glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n    }\n    const mask = this._createMaskCanvas(img);\n    const maskCanvas = mask.canvas;\n\n    ctx.save();\n    // The mask is drawn with the transform applied. Reset the current\n    // transform to draw to the identity.\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n    this.compose();\n  }\n\n  paintImageMaskXObjectRepeat(\n    img,\n    scaleX,\n    skewX = 0,\n    skewY = 0,\n    scaleY,\n    positions\n  ) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    img = this.getObject(img.data, img);\n\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = getCurrentTransform(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(img);\n\n    ctx.setTransform(\n      1,\n      0,\n      0,\n      1,\n      mask.offsetX - currentTransform[4],\n      mask.offsetY - currentTransform[5]\n    );\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = Util.transform(currentTransform, [\n        scaleX,\n        skewX,\n        skewY,\n        scaleY,\n        positions[i],\n        positions[i + 1],\n      ]);\n\n      const [x, y] = Util.applyTransform([0, 0], trans);\n      ctx.drawImage(mask.canvas, x, y);\n    }\n    ctx.restore();\n    this.compose();\n  }\n\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n\n    for (const image of images) {\n      const { data, width, height, transform } = image;\n\n      const maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      const img = this.getObject(data, image);\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(\n            maskCtx,\n            this,\n            getCurrentTransformInverse(ctx),\n            PathType.FILL\n          )\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(\n        ctx,\n        maskCanvas.canvas,\n        0,\n        0,\n        width,\n        height,\n        0,\n        -1,\n        1,\n        1\n      );\n      ctx.restore();\n    }\n    this.compose();\n  }\n\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    this.paintInlineImageXObject(imgData);\n  }\n\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height,\n      });\n    }\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const { bitmap, width, height } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\n      \"inlineImage\",\n      width,\n      height\n    );\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n\n    return tmpCanvas.canvas;\n  }\n\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n\n    this.save();\n\n    if (\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      !isNodeJS\n    ) {\n      // The filter, if any, will be applied in applyTransferMapsToBitmap.\n      // It must be applied to the image before rescaling else some artifacts\n      // could appear.\n      // The final restore will reset it to its value.\n      const { filter } = ctx;\n      if (filter !== \"none\" && filter !== \"\") {\n        ctx.filter = \"none\";\n      }\n    }\n\n    // scale the image to the unit square\n    ctx.scale(1 / width, -1 / height);\n\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (\n      (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement) ||\n      !imgData.data\n    ) {\n      // typeof check is needed due to node.js support, see issue #8489\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\n        \"inlineImage\",\n        width,\n        height\n      );\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n\n    const scaled = this._scaleImage(\n      imgToPaint,\n      getCurrentTransformInverse(ctx)\n    );\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(\n      getCurrentTransform(ctx),\n      imgData.interpolate\n    );\n\n    drawImageAtIntegerCoords(\n      ctx,\n      scaled.img,\n      0,\n      0,\n      scaled.paintWidth,\n      scaled.paintHeight,\n      0,\n      -height,\n      width,\n      height\n    );\n    this.compose();\n    this.restore();\n  }\n\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(\n        ctx,\n        imgToPaint,\n        entry.x,\n        entry.y,\n        entry.w,\n        entry.h,\n        0,\n        -1,\n        1,\n        1\n      );\n      ctx.restore();\n    }\n    this.compose();\n  }\n\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n\n  // Marked content\n\n  markPoint(tag) {\n    // TODO Marked content.\n  }\n\n  markPointProps(tag, properties) {\n    // TODO Marked content.\n  }\n\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true,\n    });\n  }\n\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties),\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true,\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n\n  // Compatibility\n\n  beginCompat() {\n    // TODO ignore undefined operators (should we do that anyway?)\n  }\n\n  endCompat() {\n    // TODO stop ignoring undefined operators\n  }\n\n  // Helper functions\n\n  consumePath(clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n      }\n      this.pendingClip = null;\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n    ctx.beginPath();\n  }\n\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = getCurrentTransform(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        // Fast path\n        this._cachedGetSinglePixelWidth =\n          1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n\n  getScaleForStroking() {\n    // A pixel has thicknessX = thicknessY = 1;\n    // A transformed pixel is a parallelogram and the thicknesses\n    // corresponds to the heights.\n    // The goal of this function is to rescale before setting the\n    // lineWidth in order to have both thicknesses greater or equal\n    // to 1 after transform.\n    if (this._cachedScaleForStroking[0] === -1) {\n      const { lineWidth } = this.current;\n      const { a, b, c, d } = this.ctx.getTransform();\n      let scaleX, scaleY;\n\n      if (b === 0 && c === 0) {\n        // Fast path\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        // A pixel (base (x, y)) is transformed by M into a parallelogram:\n        //  - its area is |det(M)|;\n        //  - heightY (orthogonal to Mx) has a length: |det(M)| / norm(Mx);\n        //  - heightX (orthogonal to My) has a length: |det(M)| / norm(My).\n        // heightX and heightY are the thicknesses of the transformed pixel\n        // and they must be both greater or equal to 1.\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n\n  // Rescale before stroking in order to have a final lineWidth\n  // with both thicknesses greater or equal to 1.\n  rescaleAndStroke(saveRestore) {\n    const { ctx } = this;\n    const { lineWidth } = this.current;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n\n    ctx.lineWidth = lineWidth || 1;\n\n    if (scaleX === 1 && scaleY === 1) {\n      ctx.stroke();\n      return;\n    }\n\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n\n    ctx.scale(scaleX, scaleY);\n\n    // How the dashed line is rendered depends on the current transform...\n    // so we added a rescale to handle too thin lines and consequently\n    // the way the line is dashed will be modified.\n    // If scaleX === scaleY, the dashed lines will be rendered correctly\n    // else we'll have some bugs (but only with too thin lines).\n    // Here we take the max... why not taking the min... or something else.\n    // Anyway, as said it's buggy when scaleX !== scaleY.\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n\n    ctx.stroke();\n\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nfor (const op in OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\nexport { CanvasGraphics };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass GlobalWorkerOptions {\n  static #port = null;\n\n  static #src = \"\";\n\n  /**\n   * @type {Worker | null}\n   */\n  static get workerPort() {\n    return this.#port;\n  }\n\n  /**\n   * @param {Worker | null} workerPort - Defines global port for worker process.\n   *   Overrides the `workerSrc` option.\n   */\n  static set workerPort(val) {\n    if (\n      !(typeof Worker !== \"undefined\" && val instanceof Worker) &&\n      val !== null\n    ) {\n      throw new Error(\"Invalid `workerPort` type.\");\n    }\n    this.#port = val;\n  }\n\n  /**\n   * @type {string}\n   */\n  static get workerSrc() {\n    return this.#src;\n  }\n\n  /**\n   * @param {string} workerSrc - A string containing the path and filename of\n   *   the worker file.\n   *\n   *   NOTE: The `workerSrc` option should always be set, in order to prevent\n   *         any issues when using the PDF.js library.\n   */\n  static set workerSrc(val) {\n    if (typeof val !== \"string\") {\n      throw new Error(\"Invalid `workerSrc` type.\");\n    }\n    this.#src = val;\n  }\n}\n\nexport { GlobalWorkerOptions };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  assert,\n  MissingPDFException,\n  PasswordException,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n} from \"./util.js\";\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2,\n};\n\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8,\n};\n\nfunction wrapReason(reason) {\n  if (\n    !(\n      reason instanceof Error ||\n      (typeof reason === \"object\" && reason !== null)\n    )\n  ) {\n    unreachable(\n      'wrapReason: Expected \"reason\" to be a (possibly cloned) Error.'\n    );\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new MissingPDFException(reason.message);\n    case \"PasswordException\":\n      return new PasswordException(reason.message, reason.code);\n    case \"UnexpectedResponseException\":\n      return new UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(reason.message, reason.details);\n    default:\n      return new UnknownErrorException(reason.message, reason.toString());\n  }\n}\n\nclass MessageHandler {\n  #messageAC = new AbortController();\n\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    comObj.addEventListener(\"message\", this.#onMessage.bind(this), {\n      signal: this.#messageAC.signal,\n    });\n  }\n\n  #onMessage({ data }) {\n    if (data.targetName !== this.sourceName) {\n      return;\n    }\n    if (data.stream) {\n      this.#processStreamMessage(data);\n      return;\n    }\n    if (data.callback) {\n      const callbackId = data.callbackId;\n      const capability = this.callbackCapabilities[callbackId];\n      if (!capability) {\n        throw new Error(`Cannot resolve callback ${callbackId}`);\n      }\n      delete this.callbackCapabilities[callbackId];\n\n      if (data.callback === CallbackKind.DATA) {\n        capability.resolve(data.data);\n      } else if (data.callback === CallbackKind.ERROR) {\n        capability.reject(wrapReason(data.reason));\n      } else {\n        throw new Error(\"Unexpected callback case\");\n      }\n      return;\n    }\n    const action = this.actionHandler[data.action];\n    if (!action) {\n      throw new Error(`Unknown action from worker: ${data.action}`);\n    }\n    if (data.callbackId) {\n      const sourceName = this.sourceName,\n        targetName = data.sourceName,\n        comObj = this.comObj;\n\n      new Promise(function (resolve) {\n        resolve(action(data.data));\n      }).then(\n        function (result) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            callback: CallbackKind.DATA,\n            callbackId: data.callbackId,\n            data: result,\n          });\n        },\n        function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            callback: CallbackKind.ERROR,\n            callbackId: data.callbackId,\n            reason: wrapReason(reason),\n          });\n        }\n      );\n      return;\n    }\n    if (data.streamId) {\n      this.#createStreamSink(data);\n      return;\n    }\n    action(data.data);\n  }\n\n  on(actionName, handler) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        typeof handler === \"function\",\n        'MessageHandler.on: Expected \"handler\" to be a function.'\n      );\n    }\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   */\n  send(actionName, data, transfers) {\n    this.comObj.postMessage(\n      {\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        data,\n      },\n      transfers\n    );\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = Promise.withResolvers();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage(\n        {\n          sourceName: this.sourceName,\n          targetName: this.targetName,\n          action: actionName,\n          callbackId,\n          data,\n        },\n        transfers\n      );\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - Strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n\n    return new ReadableStream(\n      {\n        start: controller => {\n          const startCapability = Promise.withResolvers();\n          this.streamControllers[streamId] = {\n            controller,\n            startCall: startCapability,\n            pullCall: null,\n            cancelCall: null,\n            isClosed: false,\n          };\n          comObj.postMessage(\n            {\n              sourceName,\n              targetName,\n              action: actionName,\n              streamId,\n              data,\n              desiredSize: controller.desiredSize,\n            },\n            transfers\n          );\n          // Return Promise for Async process, to signal success/failure.\n          return startCapability.promise;\n        },\n\n        pull: controller => {\n          const pullCapability = Promise.withResolvers();\n          this.streamControllers[streamId].pullCall = pullCapability;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL,\n            streamId,\n            desiredSize: controller.desiredSize,\n          });\n          // Returning Promise will not call \"pull\"\n          // again until current pull is resolved.\n          return pullCapability.promise;\n        },\n\n        cancel: reason => {\n          assert(reason instanceof Error, \"cancel must have a valid reason\");\n          const cancelCapability = Promise.withResolvers();\n          this.streamControllers[streamId].cancelCall = cancelCapability;\n          this.streamControllers[streamId].isClosed = true;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL,\n            streamId,\n            reason: wrapReason(reason),\n          });\n          // Return Promise to signal success or failure.\n          return cancelCapability.promise;\n        },\n      },\n      queueingStrategy\n    );\n  }\n\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = Promise.withResolvers();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage(\n          {\n            sourceName,\n            targetName,\n            stream: StreamKind.ENQUEUE,\n            streamId,\n            chunk,\n          },\n          transfers\n        );\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId,\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      },\n\n      sinkCapability: Promise.withResolvers(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(\n      function () {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          success: true,\n        });\n      },\n      function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      }\n    );\n  }\n\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        // Ignore any pull after close is called.\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true,\n          });\n          break;\n        }\n        // Pull increases the desiredSize property of sink, so when it changes\n        // from negative to positive, set ready property as resolved promise.\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        streamSink.desiredSize = data.desiredSize;\n\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull?.());\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        break;\n      case StreamKind.ENQUEUE:\n        assert(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n\n        new Promise(function (resolve) {\n          resolve(streamSink.onCancel?.(wrapReason(data.reason)));\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  async #deleteStreamController(streamController, streamId) {\n    // Delete the `streamController` only when the start, pull, and cancel\n    // capabilities have settled, to prevent `TypeError`s.\n    await Promise.allSettled([\n      streamController.startCall?.promise,\n      streamController.pullCall?.promise,\n      streamController.cancelCall?.promise,\n    ]);\n    delete this.streamControllers[streamId];\n  }\n\n  destroy() {\n    this.#messageAC?.abort();\n    this.#messageAC = null;\n  }\n}\n\nexport { MessageHandler };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { objectFromMap } from \"../shared/util.js\";\n\nclass Metadata {\n  #metadataMap;\n\n  #data;\n\n  constructor({ parsedData, rawData }) {\n    this.#metadataMap = parsedData;\n    this.#data = rawData;\n  }\n\n  getRaw() {\n    return this.#data;\n  }\n\n  get(name) {\n    return this.#metadataMap.get(name) ?? null;\n  }\n\n  getAll() {\n    return objectFromMap(this.#metadataMap);\n  }\n\n  has(name) {\n    return this.#metadataMap.has(name);\n  }\n}\n\nexport { Metadata };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  info,\n  objectFromMap,\n  RenderingIntentFlag,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport { MurmurHash3_64 } from \"../shared/murmurhash3.js\";\n\nconst INTERNAL = Symbol(\"INTERNAL\");\n\nclass OptionalContentGroup {\n  #isDisplay = false;\n\n  #isPrint = false;\n\n  #userSet = false;\n\n  #visible = true;\n\n  constructor(renderingIntent, { name, intent, usage, rbGroups }) {\n    this.#isDisplay = !!(renderingIntent & RenderingIntentFlag.DISPLAY);\n    this.#isPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n\n    this.name = name;\n    this.intent = intent;\n    this.usage = usage;\n    this.rbGroups = rbGroups;\n  }\n\n  /**\n   * @type {boolean}\n   */\n  get visible() {\n    if (this.#userSet) {\n      return this.#visible;\n    }\n    if (!this.#visible) {\n      return false;\n    }\n    const { print, view } = this.usage;\n\n    if (this.#isDisplay) {\n      return view?.viewState !== \"OFF\";\n    } else if (this.#isPrint) {\n      return print?.printState !== \"OFF\";\n    }\n    return true;\n  }\n\n  /**\n   * @ignore\n   */\n  _setVisible(internal, visible, userSet = false) {\n    if (internal !== INTERNAL) {\n      unreachable(\"Internal method `_setVisible` called.\");\n    }\n    this.#userSet = userSet;\n    this.#visible = visible;\n  }\n}\n\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n\n  #groups = new Map();\n\n  #initialHash = null;\n\n  #order = null;\n\n  constructor(data, renderingIntent = RenderingIntentFlag.DISPLAY) {\n    this.renderingIntent = renderingIntent;\n\n    this.name = null;\n    this.creator = null;\n\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(\n        group.id,\n        new OptionalContentGroup(renderingIntent, group)\n      );\n    }\n\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n\n    // The following code must always run *last* in the constructor.\n    this.#initialHash = this.getHash();\n  }\n\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        warn(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      info(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      // Per the spec, the expression should be preferred if available.\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        // Default\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n\n  setVisibility(id, visible = true, preserveRB = true) {\n    const group = this.#groups.get(id);\n    if (!group) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n\n    // If the visibility is about to be set to `true` and the group belongs to\n    // any radiobutton groups, hide all other OCGs in these radiobutton groups,\n    // provided that radiobutton state relationships are to be preserved.\n    if (preserveRB && visible && group.rbGroups.length) {\n      for (const rbGroup of group.rbGroups) {\n        for (const otherId of rbGroup) {\n          if (otherId !== id) {\n            this.#groups.get(otherId)?._setVisible(INTERNAL, false, true);\n          }\n        }\n      }\n    }\n\n    group._setVisible(INTERNAL, !!visible, /* userSet = */ true);\n\n    this.#cachedGetHash = null;\n  }\n\n  setOCGState({ state, preserveRB }) {\n    let operator;\n\n    for (const elem of state) {\n      switch (elem) {\n        case \"ON\":\n        case \"OFF\":\n        case \"Toggle\":\n          operator = elem;\n          continue;\n      }\n\n      const group = this.#groups.get(elem);\n      if (!group) {\n        continue;\n      }\n      switch (operator) {\n        case \"ON\":\n          this.setVisibility(elem, true, preserveRB);\n          break;\n        case \"OFF\":\n          this.setVisibility(elem, false, preserveRB);\n          break;\n        case \"Toggle\":\n          this.setVisibility(elem, !group.visible, preserveRB);\n          break;\n      }\n    }\n\n    this.#cachedGetHash = null;\n  }\n\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n\n  getGroups() {\n    return this.#groups.size > 0 ? objectFromMap(this.#groups) : null;\n  }\n\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new MurmurHash3_64();\n\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return (this.#cachedGetHash = hash.hexdigest());\n  }\n}\n\nexport { OptionalContentConfig };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"../interfaces\").IPDFStream} IPDFStream */\n/** @typedef {import(\"../interfaces\").IPDFStreamReader} IPDFStreamReader */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../interfaces\").IPDFStreamRangeReader} IPDFStreamRangeReader */\n\nimport { assert } from \"../shared/util.js\";\nimport { isPdfFile } from \"./display_utils.js\";\n\n/** @implements {IPDFStream} */\nclass PDFDataTransportStream {\n  constructor(\n    pdfDataRangeTransport,\n    { disableRange = false, disableStream = false }\n  ) {\n    assert(\n      pdfDataRangeTransport,\n      'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.'\n    );\n    const { length, initialData, progressiveDone, contentDispositionFilename } =\n      pdfDataRangeTransport;\n\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n\n    if (initialData?.length > 0) {\n      // Prevent any possible issues by only transferring a Uint8Array that\n      // completely \"utilizes\" its underlying ArrayBuffer.\n      const buffer =\n        initialData instanceof Uint8Array &&\n        initialData.byteLength === initialData.buffer.byteLength\n          ? initialData.buffer\n          : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk });\n    });\n\n    pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({ loaded, total });\n    });\n\n    pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({ chunk });\n    });\n\n    pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData({ begin, chunk }) {\n    // Prevent any possible issues by only transferring a Uint8Array that\n    // completely \"utilizes\" its underlying ArrayBuffer.\n    const buffer =\n      chunk instanceof Uint8Array &&\n      chunk.byteLength === chunk.buffer.byteLength\n        ? chunk.buffer\n        : new Uint8Array(chunk).buffer;\n\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(\n        found,\n        \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\"\n      );\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      // Reporting to first range reader, if it exists.\n      this._rangeReaders[0]?.onProgress?.({ loaded: evt.loaded });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total,\n      });\n    }\n  }\n\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFDataTransportStream.getFullReader can only be called once.\"\n    );\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(\n      this,\n      queuedChunks,\n      this._progressiveDone,\n      this._contentDispositionFilename\n    );\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFDataTransportStreamReader {\n  constructor(\n    stream,\n    queuedChunks,\n    progressiveDone = false,\n    contentDispositionFilename = null\n  ) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = isPdfFile(contentDispositionFilename)\n      ? contentDispositionFilename\n      : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // Ignore new data.\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // ignore new data\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({ value: chunk, done: false });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({ value: undefined, done: true });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\nexport { PDFDataTransportStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  MissingPDFException,\n  UnexpectedResponseException,\n} from \"../shared/util.js\";\nimport { getFilenameFromContentDispositionHeader } from \"./content_disposition.js\";\nimport { isPdfFile } from \"./display_utils.js\";\n\nfunction createHeaders(isHttp, httpHeaders) {\n  const headers = new Headers();\n\n  if (!isHttp || !httpHeaders || typeof httpHeaders !== \"object\") {\n    return headers;\n  }\n  for (const key in httpHeaders) {\n    const val = httpHeaders[key];\n    if (val !== undefined) {\n      headers.append(key, val);\n    }\n  }\n  return headers;\n}\n\nfunction validateRangeRequestCapabilities({\n  responseHeaders,\n  isHttp,\n  rangeChunkSize,\n  disableRange,\n}) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      Number.isInteger(rangeChunkSize) && rangeChunkSize > 0,\n      \"rangeChunkSize must be an integer larger than zero.\"\n    );\n  }\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined,\n  };\n\n  const length = parseInt(responseHeaders.get(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    // The file size is smaller than the size of two chunks, so it does not\n    // make any sense to abort the request and retry with a range request.\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (responseHeaders.get(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = responseHeaders.get(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(responseHeaders) {\n  const contentDisposition = responseHeaders.get(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if (isPdfFile(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || (status === 0 && url.startsWith(\"file:\"))) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(\n    `Unexpected server response (${status}) while retrieving PDF \"${url}\".`,\n    status\n  );\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\nexport {\n  createHeaders,\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { stringToBytes } from \"../shared/util.js\";\n\n// This getFilenameFromContentDispositionHeader function is adapted from\n// https://github.com/Rob--W/open-in-browser/blob/7e2e35a38b8b4e981b11da7b2f01df0149049e92/extension/content-disposition.js\n// with the following changes:\n// - Modified to conform to PDF.js's coding style.\n// - Move return to the end of the function to prevent Babel from dropping the\n//   function declarations.\n\n/**\n * Extract file name from the Content-Disposition HTTP response header.\n *\n * @param {string} contentDisposition\n * @returns {string} Filename, if found in the Content-Disposition header.\n */\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n\n  // filename*=ext-value (\"ext-value\" from RFC 5987, referenced by RFC 6266).\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // Continuations (RFC 2231 section 3, referenced by RFC 5987 section 3.1).\n  // filename*n*=part\n  // filename*n=part\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    // RFC 2047, section\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  // filename=value (RFC 5987, section 4.1).\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // After this line there are only function declarations. We cannot put\n  // \"return\" here for readability because babel would then drop the function\n  // declarations...\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\n      \"(?:^|;)\\\\s*\" +\n        attributePattern +\n        \"\\\\s*=\\\\s*\" +\n        // Captures: value = token | quoted-string\n        // (RFC 2616, section 3.6 and referenced by RFC 6266 4.1)\n        \"(\" +\n        '[^\";\\\\s][^;\\\\s]*' +\n        \"|\" +\n        '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' +\n        \")\",\n      flags\n    );\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const buffer = stringToBytes(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {\n        // TextDecoder constructor threw - unrecognized encoding.\n      }\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      // Maybe multi-byte UTF-8.\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        // Try iso-8859-1 encoding.\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    // Iterate over all filename*n= and filename*n*= with n being an integer\n    // of at least zero. Any non-zero number must not start with '0'.\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match; // eslint-disable-line prefer-const\n      n = parseInt(n, 10);\n      if (n in matches) {\n        // Ignore anything after the invalid second filename*0.\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        // Numbers must be consecutive. Truncate when there is a hole.\n        break;\n      }\n      let [quot, part] = matches[n]; // eslint-disable-line prefer-const\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      // Find the first unescaped \" and terminate there.\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1; // Truncates and stop the iteration.\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    // Decodes \"ext-value\" from RFC 5987.\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      // Some servers send \"filename*=\" without encoding 'language' prefix,\n      // e.g. in https://github.com/Rob--W/open-in-browser/issues/26\n      // Let's accept the value like Firefox (57) (Chrome 62 rejects it).\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    // Ignore language (RFC 5987 section 3.2.1, and RFC 6266 section 4.1 ).\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    // RFC 2047-decode the result. Firefox tried to drop support for it, but\n    // backed out because some servers use it - https://bugzil.la/875615\n    // Firefox's condition for decoding is here: https://searchfox.org/mozilla-central/rev/4a590a5a15e35d88a3b23dd6ac3c471cf85b04a8/netwerk/mime/nsMIMEHeaderParamImpl.cpp#742-748\n\n    // We are more strict and only recognize RFC 2047-encoding if the value\n    // starts with \"=?\", since then it is likely that the full value is\n    // RFC 2047-encoded.\n\n    // Firefox also decodes words even where RFC 2047 section 5 states:\n    // \"An 'encoded-word' MUST NOT appear within a 'quoted-string'.\"\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    // RFC 2047, section 2.4\n    // encoded-word = \"=?\" charset \"?\" encoding \"?\" encoded-text \"?=\"\n    // charset = token (but let's restrict to characters that denote a\n    //       possibly valid encoding).\n    // encoding = q or b\n    // encoded-text = any printable ASCII character other than ? or space.\n    //        ... but Firefox permits ? and space.\n    return value.replaceAll(\n      /=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,\n      function (matches, charset, encoding, text) {\n        if (encoding === \"q\" || encoding === \"Q\") {\n          // RFC 2047 section 4.2.\n          text = text.replaceAll(\"_\", \" \");\n          text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n            return String.fromCharCode(parseInt(hex, 16));\n          });\n          return textdecode(charset, text);\n        } // else encoding is b or B - base64 (RFC 2047 section 4.1)\n        try {\n          text = atob(text);\n        } catch {}\n        return textdecode(charset, text);\n      }\n    );\n  }\n\n  return \"\";\n}\n\nexport { getFilenameFromContentDispositionHeader };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AbortException, assert, warn } from \"../shared/util.js\";\nimport {\n  createHeaders,\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./fetch_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\",\n  };\n}\n\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  warn(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\n\n/** @implements {IPDFStream} */\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.headers = createHeaders(this.isHttp, source.httpHeaders);\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFFetchStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    // Always create a copy of the headers.\n    const headers = new Headers(stream.headers);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(headers, this._withCredentials, this._abortController)\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._reader = response.body.getReader();\n        this._headersCapability.resolve();\n\n        const responseHeaders = response.headers;\n\n        const { allowRangeRequests, suggestedLength } =\n          validateRangeRequestCapabilities({\n            responseHeaders,\n            isHttp: stream.isHttp,\n            rangeChunkSize: this._rangeChunkSize,\n            disableRange: this._disableRange,\n          });\n\n        this._isRangeSupported = allowRangeRequests;\n        // Setting right content length.\n        this._contentLength = suggestedLength || this._contentLength;\n\n        this._filename = extractFilenameFromHeader(responseHeaders);\n\n        // We need to stop reading when range is supported and streaming is\n        // disabled.\n        if (!this._isStreamingSupported && this._isRangeSupported) {\n          this.cancel(new AbortException(\"Streaming is disabled.\"));\n        }\n      })\n      .catch(this._headersCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength,\n    });\n\n    return { value: getArrayBuffer(value), done: false };\n  }\n\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = Promise.withResolvers();\n    this._isStreamingSupported = !source.disableStream;\n\n    this._abortController = new AbortController();\n    // Always create a copy of the headers.\n    const headers = new Headers(stream.headers);\n    headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(headers, this._withCredentials, this._abortController)\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._readCapability.resolve();\n        this._reader = response.body.getReader();\n      })\n      .catch(this._readCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({ loaded: this._loaded });\n\n    return { value: getArrayBuffer(value), done: false };\n  }\n\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\nexport { PDFFetchStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, stringToBytes } from \"../shared/util.js\";\nimport {\n  createHeaders,\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./network.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return stringToBytes(data).buffer;\n}\n\nclass NetworkManager {\n  constructor({ url, httpHeaders, withCredentials }) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.headers = createHeaders(this.isHttp, httpHeaders);\n    this.withCredentials = withCredentials || false;\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end,\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = (this.pendingRequests[xhrId] = { xhr });\n\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const [key, val] of this.headers) {\n      xhr.setRequestHeader(key, val);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return; // Maybe abortRequest was called...\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return; // Maybe abortRequest was called...\n    }\n\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request.\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // Success status == 0 can be on ftp, file and other protocols.\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    const ok_response_on_range_request =\n      xhrStatus === OK_RESPONSE &&\n      pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (\n      !ok_response_on_range_request &&\n      xhrStatus !== pendingRequest.expectedStatus\n    ) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk,\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\n\n/** @implements {IPDFStream} */\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source);\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNetworkStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(\n      this._manager,\n      this._source\n    );\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(\n      this._manager,\n      begin,\n      end\n    );\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length; // Optional\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    const responseHeaders = new Headers(\n      fullRequestXhr\n        .getAllResponseHeaders()\n        .trim()\n        .split(/[\\r\\n]+/)\n        .map(x => {\n          const [key, ...val] = x.split(\": \");\n          return [key, val.join(\": \")];\n        })\n    );\n\n    const { allowRangeRequests, suggestedLength } =\n      validateRangeRequestCapabilities({\n        responseHeaders,\n        isHttp: this._manager.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    // Setting right content length.\n    this._contentLength = suggestedLength || this._contentLength;\n\n    this._filename = extractFilenameFromHeader(responseHeaders);\n\n    if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range requests.\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersCapability.resolve();\n  }\n\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: data.chunk, done: false });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n  }\n\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    this._headersCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength,\n    });\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._headersCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _close() {\n    this.onClosed?.(this);\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({ loaded: evt.loaded });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\nexport { PDFNetworkStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AbortException, assert, MissingPDFException } from \"../shared/util.js\";\nimport {\n  createHeaders,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\nimport { NodePackages } from \"./node_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst urlRegex = /^[a-z][a-z0-9\\-+.]+:/i;\n\nfunction parseUrlOrPath(sourceUrl) {\n  if (urlRegex.test(sourceUrl)) {\n    return new URL(sourceUrl);\n  }\n  const url = NodePackages.get(\"url\");\n  return new URL(url.pathToFileURL(sourceUrl));\n}\n\nfunction createRequest(url, headers, callback) {\n  if (url.protocol === \"http:\") {\n    const http = NodePackages.get(\"http\");\n    return http.request(url, { headers }, callback);\n  }\n  const https = NodePackages.get(\"https\");\n  return https.request(url, { headers }, callback);\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrlOrPath(source.url);\n    this.isHttp =\n      this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    // Check if url refers to filesystem.\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.headers = createHeaders(this.isHttp, source.httpHeaders);\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNodeStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = this.isFsUrl\n      ? new PDFNodeStreamFsFullReader(this)\n      : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl\n      ? new PDFNodeStreamFsRangeReader(this, start, end)\n      : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length; // optional\n    this._loaded = 0;\n    this._filename = null;\n\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    this._headersCapability = Promise.withResolvers();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength,\n    });\n\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readable to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // We need to stop reading when range is supported and streaming is\n    // disabled.\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n\n    // Destroy ReadableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({ loaded: this._loaded });\n\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readableStream to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // Destroy readableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    // Node.js requires the `headers` to be a regular Object.\n    const headers = Object.fromEntries(stream.headers);\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n\n      const responseHeaders = new Headers(this._readableStream.headers);\n\n      const { allowRangeRequests, suggestedLength } =\n        validateRangeRequestCapabilities({\n          responseHeaders,\n          isHttp: stream.isHttp,\n          rangeChunkSize: this._rangeChunkSize,\n          disableRange: this._disableRange,\n        });\n\n      this._isRangeSupported = allowRangeRequests;\n      // Setting right content length.\n      this._contentLength = suggestedLength || this._contentLength;\n\n      this._filename = extractFilenameFromHeader(responseHeaders);\n    };\n\n    this._request = createRequest(this._url, headers, handleResponse);\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    // Note: `request.end(data)` is used to write `data` to request body\n    // and notify end of request. But one should always call `request.end()`\n    // even if there is no data to write -- (to notify the end of request).\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    // Node.js requires the `headers` to be a regular Object.\n    const headers = Object.fromEntries(stream.headers);\n    headers.Range = `bytes=${start}-${end - 1}`;\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n\n    this._request = createRequest(this._url, headers, handleResponse);\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    const fs = NodePackages.get(\"fs\");\n    fs.promises.lstat(this._url).then(\n      stat => {\n        // Setting right content length.\n        this._contentLength = stat.size;\n\n        this._setReadableStream(fs.createReadStream(this._url));\n        this._headersCapability.resolve();\n      },\n      error => {\n        if (error.code === \"ENOENT\") {\n          error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        }\n        this._storedError = error;\n        this._headersCapability.reject(error);\n      }\n    );\n  }\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    const fs = NodePackages.get(\"fs\");\n    this._setReadableStream(\n      fs.createReadStream(this._url, { start, end: end - 1 })\n    );\n  }\n}\n\nexport { PDFNodeStream };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n/** @typedef {import(\"./api\").TextContent} TextContent */\n\nimport {\n  AbortException,\n  FeatureTest,\n  shadow,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { setLayerDimensions } from \"./display_utils.js\";\n\n/**\n * @typedef {Object} TextLayerParameters\n * @property {ReadableStream | TextContent} textContentSource - Text content to\n *   render, i.e. the value returned by the page's `streamTextContent` or\n *   `getTextContent` method.\n * @property {HTMLElement} container - The DOM node that will contain the text\n *   runs.\n * @property {PageViewport} viewport - The target viewport to properly layout\n *   the text runs.\n */\n\n/**\n * @typedef {Object} TextLayerUpdateParameters\n * @property {PageViewport} viewport - The target viewport to properly layout\n *   the text runs.\n * @property {function} [onBefore] - Callback invoked before the textLayer is\n *   updated in the DOM.\n */\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\n\nclass TextLayer {\n  #capability = Promise.withResolvers();\n\n  #container = null;\n\n  #disableProcessItems = false;\n\n  #fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n\n  #lang = null;\n\n  #layoutTextParams = null;\n\n  #pageHeight = 0;\n\n  #pageWidth = 0;\n\n  #reader = null;\n\n  #rootContainer = null;\n\n  #rotation = 0;\n\n  #scale = 0;\n\n  #styleCache = Object.create(null);\n\n  #textContentItemsStr = [];\n\n  #textContentSource = null;\n\n  #textDivs = [];\n\n  #textDivProperties = new WeakMap();\n\n  #transform = null;\n\n  static #ascentCache = new Map();\n\n  static #canvasContexts = new Map();\n\n  static #canvasCtxFonts = new WeakMap();\n\n  static #minFontSize = null;\n\n  static #pendingTextLayers = new Set();\n\n  /**\n   * @param {TextLayerParameters} options\n   */\n  constructor({ textContentSource, container, viewport }) {\n    if (textContentSource instanceof ReadableStream) {\n      this.#textContentSource = textContentSource;\n    } else if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n      typeof textContentSource === \"object\"\n    ) {\n      this.#textContentSource = new ReadableStream({\n        start(controller) {\n          controller.enqueue(textContentSource);\n          controller.close();\n        },\n      });\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    this.#container = this.#rootContainer = container;\n\n    this.#scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    this.#rotation = viewport.rotation;\n    this.#layoutTextParams = {\n      div: null,\n      properties: null,\n      ctx: null,\n    };\n    const { pageWidth, pageHeight, pageX, pageY } = viewport.rawDims;\n    this.#transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this.#pageWidth = pageWidth;\n    this.#pageHeight = pageHeight;\n\n    TextLayer.#ensureMinFontSizeComputed();\n\n    setLayerDimensions(container, viewport);\n\n    // Always clean-up the temporary canvas once rendering is no longer pending.\n    this.#capability.promise\n      .finally(() => {\n        TextLayer.#pendingTextLayers.delete(this);\n        this.#layoutTextParams = null;\n        this.#styleCache = null;\n      })\n      .catch(() => {\n        // Avoid \"Uncaught promise\" messages in the console.\n      });\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"pageWidth\", {\n        get() {\n          return this.#pageWidth;\n        },\n      });\n      Object.defineProperty(this, \"pageHeight\", {\n        get() {\n          return this.#pageHeight;\n        },\n      });\n    }\n  }\n\n  static get fontFamilyMap() {\n    const { isWindows, isFirefox } = FeatureTest.platform;\n    return shadow(\n      this,\n      \"fontFamilyMap\",\n      new Map([\n        [\n          \"sans-serif\",\n          `${isWindows && isFirefox ? \"Calibri, \" : \"\"}sans-serif`,\n        ],\n        [\n          \"monospace\",\n          `${isWindows && isFirefox ? \"Lucida Console, \" : \"\"}monospace`,\n        ],\n      ])\n    );\n  }\n\n  /**\n   * Render the textLayer.\n   * @returns {Promise}\n   */\n  render() {\n    const pump = () => {\n      this.#reader.read().then(({ value, done }) => {\n        if (done) {\n          this.#capability.resolve();\n          return;\n        }\n        this.#lang ??= value.lang;\n        Object.assign(this.#styleCache, value.styles);\n        this.#processItems(value.items);\n        pump();\n      }, this.#capability.reject);\n    };\n    this.#reader = this.#textContentSource.getReader();\n    TextLayer.#pendingTextLayers.add(this);\n    pump();\n\n    return this.#capability.promise;\n  }\n\n  /**\n   * Update a previously rendered textLayer, if necessary.\n   * @param {TextLayerUpdateParameters} options\n   * @returns {undefined}\n   */\n  update({ viewport, onBefore = null }) {\n    const scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    const rotation = viewport.rotation;\n\n    if (rotation !== this.#rotation) {\n      onBefore?.();\n      this.#rotation = rotation;\n      setLayerDimensions(this.#rootContainer, { rotation });\n    }\n\n    if (scale !== this.#scale) {\n      onBefore?.();\n      this.#scale = scale;\n      const params = {\n        div: null,\n        properties: null,\n        ctx: TextLayer.#getCtx(this.#lang),\n      };\n      for (const div of this.#textDivs) {\n        params.properties = this.#textDivProperties.get(div);\n        params.div = div;\n        this.#layout(params);\n      }\n    }\n  }\n\n  /**\n   * Cancel rendering of the textLayer.\n   * @returns {undefined}\n   */\n  cancel() {\n    const abortEx = new AbortException(\"TextLayer task cancelled.\");\n\n    this.#reader?.cancel(abortEx).catch(() => {\n      // Avoid \"Uncaught promise\" messages in the console.\n    });\n    this.#reader = null;\n\n    this.#capability.reject(abortEx);\n  }\n\n  /**\n   * @type {Array<HTMLElement>} HTML elements that correspond to the text items\n   *   of the textContent input.\n   *   This is output and will initially be set to an empty array.\n   */\n  get textDivs() {\n    return this.#textDivs;\n  }\n\n  /**\n   * @type {Array<string>} Strings that correspond to the `str` property of\n   *   the text items of the textContent input.\n   *   This is output and will initially be set to an empty array\n   */\n  get textContentItemsStr() {\n    return this.#textContentItemsStr;\n  }\n\n  #processItems(items) {\n    if (this.#disableProcessItems) {\n      return;\n    }\n    this.#layoutTextParams.ctx ??= TextLayer.#getCtx(this.#lang);\n\n    const textDivs = this.#textDivs,\n      textContentItemsStr = this.#textContentItemsStr;\n\n    for (const item of items) {\n      // No point in rendering many divs as it would make the browser\n      // unusable even after the divs are rendered.\n      if (textDivs.length > MAX_TEXT_DIVS_TO_RENDER) {\n        warn(\"Ignoring additional textDivs for performance reasons.\");\n\n        this.#disableProcessItems = true; // Avoid multiple warnings for one page.\n        return;\n      }\n\n      if (item.str === undefined) {\n        if (\n          item.type === \"beginMarkedContentProps\" ||\n          item.type === \"beginMarkedContent\"\n        ) {\n          const parent = this.#container;\n          this.#container = document.createElement(\"span\");\n          this.#container.classList.add(\"markedContent\");\n          if (item.id !== null) {\n            this.#container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this.#container);\n        } else if (item.type === \"endMarkedContent\") {\n          this.#container = this.#container.parentNode;\n        }\n        continue;\n      }\n      textContentItemsStr.push(item.str);\n      this.#appendText(item);\n    }\n  }\n\n  #appendText(geom) {\n    // Initialize all used properties to keep the caches monomorphic.\n    const textDiv = document.createElement(\"span\");\n    const textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      hasText: geom.str !== \"\",\n      hasEOL: geom.hasEOL,\n      fontSize: 0,\n    };\n    this.#textDivs.push(textDiv);\n\n    const tx = Util.transform(this.#transform, geom.transform);\n    let angle = Math.atan2(tx[1], tx[0]);\n    const style = this.#styleCache[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n\n    let fontFamily =\n      (this.#fontInspectorEnabled && style.fontSubstitution) ||\n      style.fontFamily;\n\n    // Workaround for bug 1922063.\n    fontFamily = TextLayer.fontFamilyMap.get(fontFamily) || fontFamily;\n    const fontHeight = Math.hypot(tx[2], tx[3]);\n    const fontAscent =\n      fontHeight * TextLayer.#getAscent(fontFamily, this.#lang);\n\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n\n    const scaleFactorStr = \"calc(var(--scale-factor)*\";\n    const divStyle = textDiv.style;\n    // Setting the style properties individually, rather than all at once,\n    // should be OK since the `textDiv` isn't appended to the document yet.\n    if (this.#container === this.#rootContainer) {\n      divStyle.left = `${((100 * left) / this.#pageWidth).toFixed(2)}%`;\n      divStyle.top = `${((100 * top) / this.#pageHeight).toFixed(2)}%`;\n    } else {\n      // We're in a marked content span, hence we can't use percents.\n      divStyle.left = `${scaleFactorStr}${left.toFixed(2)}px)`;\n      divStyle.top = `${scaleFactorStr}${top.toFixed(2)}px)`;\n    }\n    // We multiply the font size by #minFontSize, and then #layout will\n    // scale the element by 1/#minFontSize. This allows us to effectively\n    // ignore the minimum font size enforced by the browser, so that the text\n    // layer <span>s can always match the size of the text in the canvas.\n    divStyle.fontSize = `${scaleFactorStr}${(TextLayer.#minFontSize * fontHeight).toFixed(2)}px)`;\n    divStyle.fontFamily = fontFamily;\n\n    textDivProperties.fontSize = fontHeight;\n\n    // Keeps screen readers from pausing on every new text span.\n    textDiv.setAttribute(\"role\", \"presentation\");\n\n    textDiv.textContent = geom.str;\n    // geom.dir may be 'ttb' for vertical texts.\n    textDiv.dir = geom.dir;\n\n    // `fontName` is only used by the FontInspector, and we only use `dataset`\n    // here to make the font name available in the debugger.\n    if (this.#fontInspectorEnabled) {\n      textDiv.dataset.fontName =\n        style.fontSubstitutionLoadedName || geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    // We don't bother scaling single-char text divs, because it has very\n    // little effect on text highlighting. This makes scrolling on docs with\n    // lots of such divs a lot faster.\n    let shouldScaleText = false;\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n        absScaleY = Math.abs(geom.transform[3]);\n      // When the horizontal/vertical scaling differs significantly, also scale\n      // even single-char text to improve highlighting (fixes issue11713.pdf).\n      if (\n        absScaleX !== absScaleY &&\n        Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5\n      ) {\n        shouldScaleText = true;\n      }\n    }\n    if (shouldScaleText) {\n      textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n    }\n    this.#textDivProperties.set(textDiv, textDivProperties);\n\n    // Finally, layout and append the text to the DOM.\n    this.#layoutTextParams.div = textDiv;\n    this.#layoutTextParams.properties = textDivProperties;\n    this.#layout(this.#layoutTextParams);\n\n    if (textDivProperties.hasText) {\n      this.#container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this.#container.append(br);\n    }\n  }\n\n  #layout(params) {\n    const { div, properties, ctx } = params;\n    const { style } = div;\n\n    let transform = \"\";\n    if (TextLayer.#minFontSize > 1) {\n      transform = `scale(${1 / TextLayer.#minFontSize})`;\n    }\n\n    if (properties.canvasWidth !== 0 && properties.hasText) {\n      const { fontFamily } = style;\n      const { canvasWidth, fontSize } = properties;\n\n      TextLayer.#ensureCtxFont(ctx, fontSize * this.#scale, fontFamily);\n      // Only measure the width for multi-char text divs, see `appendText`.\n      const { width } = ctx.measureText(div.textContent);\n\n      if (width > 0) {\n        transform = `scaleX(${(canvasWidth * this.#scale) / width}) ${transform}`;\n      }\n    }\n    if (properties.angle !== 0) {\n      transform = `rotate(${properties.angle}deg) ${transform}`;\n    }\n    if (transform.length > 0) {\n      style.transform = transform;\n    }\n  }\n\n  /**\n   * Clean-up global textLayer data.\n   * @returns {undefined}\n   */\n  static cleanup() {\n    if (this.#pendingTextLayers.size > 0) {\n      return;\n    }\n    this.#ascentCache.clear();\n\n    for (const { canvas } of this.#canvasContexts.values()) {\n      canvas.remove();\n    }\n    this.#canvasContexts.clear();\n  }\n\n  static #getCtx(lang = null) {\n    let ctx = this.#canvasContexts.get((lang ||= \"\"));\n    if (!ctx) {\n      // We don't use an OffscreenCanvas here because we use serif/sans serif\n      // fonts with it and they depends on the locale.\n      // In Firefox, the <html> element get a lang attribute that depends on\n      // what Fluent returns for the locale and the OffscreenCanvas uses\n      // the OS locale.\n      // Those two locales can be different and consequently the used fonts will\n      // be different (see bug 1869001).\n      // Ideally, we should use in the text layer the fonts we've in the pdf (or\n      // their replacements when they aren't embedded) and then we can use an\n      // OffscreenCanvas.\n      const canvas = document.createElement(\"canvas\");\n      canvas.className = \"hiddenCanvasElement\";\n      canvas.lang = lang;\n      document.body.append(canvas);\n      ctx = canvas.getContext(\"2d\", {\n        alpha: false,\n        willReadFrequently: true,\n      });\n      this.#canvasContexts.set(lang, ctx);\n\n      // Also, initialize state for the `#ensureCtxFont` method.\n      this.#canvasCtxFonts.set(ctx, { size: 0, family: \"\" });\n    }\n    return ctx;\n  }\n\n  static #ensureCtxFont(ctx, size, family) {\n    const cached = this.#canvasCtxFonts.get(ctx);\n    if (size === cached.size && family === cached.family) {\n      return; // The font is already set.\n    }\n    ctx.font = `${size}px ${family}`;\n    cached.size = size;\n    cached.family = family;\n  }\n\n  /**\n   * Compute the minimum font size enforced by the browser.\n   */\n  static #ensureMinFontSizeComputed() {\n    if (this.#minFontSize !== null) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.style.opacity = 0;\n    div.style.lineHeight = 1;\n    div.style.fontSize = \"1px\";\n    div.style.position = \"absolute\";\n    div.textContent = \"X\";\n    document.body.append(div);\n    // In `display:block` elements contain a single line of text,\n    // the height matches the line height (which, when set to 1,\n    // matches the actual font size).\n    this.#minFontSize = div.getBoundingClientRect().height;\n    div.remove();\n  }\n\n  static #getAscent(fontFamily, lang) {\n    const cachedAscent = this.#ascentCache.get(fontFamily);\n    if (cachedAscent) {\n      return cachedAscent;\n    }\n    const ctx = this.#getCtx(lang);\n\n    ctx.canvas.width = ctx.canvas.height = DEFAULT_FONT_SIZE;\n    this.#ensureCtxFont(ctx, DEFAULT_FONT_SIZE, fontFamily);\n    const metrics = ctx.measureText(\"\");\n\n    // Both properties aren't available by default in Firefox.\n    let ascent = metrics.fontBoundingBoxAscent;\n    let descent = Math.abs(metrics.fontBoundingBoxDescent);\n    if (ascent) {\n      const ratio = ascent / (ascent + descent);\n      this.#ascentCache.set(fontFamily, ratio);\n\n      ctx.canvas.width = ctx.canvas.height = 0;\n      return ratio;\n    }\n\n    // Try basic heuristic to guess ascent/descent.\n    // Draw a g with baseline at 0,0 and then get the line\n    // number where a pixel has non-null red component (starting\n    // from bottom).\n    ctx.strokeStyle = \"red\";\n    ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n    ctx.strokeText(\"g\", 0, 0);\n    let pixels = ctx.getImageData(\n      0,\n      0,\n      DEFAULT_FONT_SIZE,\n      DEFAULT_FONT_SIZE\n    ).data;\n    descent = 0;\n    for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n      if (pixels[i] > 0) {\n        descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n        break;\n      }\n    }\n\n    // Draw an A with baseline at 0,DEFAULT_FONT_SIZE and then get the line\n    // number where a pixel has non-null red component (starting\n    // from top).\n    ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n    ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n    pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n    ascent = 0;\n    for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n      if (pixels[i] > 0) {\n        ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n        break;\n      }\n    }\n\n    ctx.canvas.width = ctx.canvas.height = 0;\n\n    const ratio = ascent ? ascent / (ascent + descent) : DEFAULT_FONT_ASCENT;\n    this.#ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n}\n\nexport { TextLayer };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./api\").TextContent} TextContent */\n\nclass XfaText {\n  /**\n   * Walk an XFA tree and create an array of text nodes that is compatible\n   * with a regular PDFs TextContent. Currently, only TextItem.str is supported,\n   * all other fields and styles haven't been implemented.\n   *\n   * @param {Object} xfa - An XFA fake DOM object.\n   *\n   * @returns {TextContent}\n   */\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null),\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str,\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n\n  /**\n   * @param {string} name - DOM node name. (lower case)\n   *\n   * @returns {boolean} true if the DOM node should have a corresponding text\n   * node.\n   */\n  static shouldBuildText(name) {\n    return !(\n      name === \"textarea\" ||\n      name === \"input\" ||\n      name === \"option\" ||\n      name === \"select\"\n    );\n  }\n}\n\nexport { XfaText };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @module pdfjsLib\n */\n\nimport {\n  AbortException,\n  AnnotationMode,\n  assert,\n  FeatureTest,\n  getVerbosityLevel,\n  info,\n  InvalidPDFException,\n  isNodeJS,\n  MAX_IMAGE_SIZE_TO_CACHE,\n  MissingPDFException,\n  PasswordException,\n  RenderingIntentFlag,\n  setVerbosityLevel,\n  shadow,\n  stringToBytes,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  AnnotationStorage,\n  PrintAnnotationStorage,\n  SerializableEmpty,\n} from \"./annotation_storage.js\";\nimport {\n  deprecated,\n  isDataScheme,\n  isValidFetchUrl,\n  PageViewport,\n  RenderingCancelledException,\n  StatTimer,\n} from \"./display_utils.js\";\nimport { FontFaceObject, FontLoader } from \"./font_loader.js\";\nimport {\n  NodeCanvasFactory,\n  NodeCMapReaderFactory,\n  NodeFilterFactory,\n  NodePackages,\n  NodeStandardFontDataFactory,\n} from \"display-node_utils\";\nimport { CanvasGraphics } from \"./canvas.js\";\nimport { DOMCanvasFactory } from \"./canvas_factory.js\";\nimport { DOMCMapReaderFactory } from \"display-cmap_reader_factory\";\nimport { DOMFilterFactory } from \"./filter_factory.js\";\nimport { DOMStandardFontDataFactory } from \"display-standard_fontdata_factory\";\nimport { GlobalWorkerOptions } from \"./worker_options.js\";\nimport { MessageHandler } from \"../shared/message_handler.js\";\nimport { Metadata } from \"./metadata.js\";\nimport { OptionalContentConfig } from \"./optional_content_config.js\";\nimport { PDFDataTransportStream } from \"./transport_stream.js\";\nimport { PDFFetchStream } from \"display-fetch_stream\";\nimport { PDFNetworkStream } from \"display-network\";\nimport { PDFNodeStream } from \"display-node_stream\";\nimport { TextLayer } from \"./text_layer.js\";\nimport { XfaText } from \"./xfa_text.js\";\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\nconst RENDERING_CANCELLED_TIMEOUT = 100; // ms\nconst DELAYED_CLEANUP_TIMEOUT = 5000; // ms\n\nconst DefaultCanvasFactory =\n  typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n    ? NodeCanvasFactory\n    : DOMCanvasFactory;\nconst DefaultCMapReaderFactory =\n  typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n    ? NodeCMapReaderFactory\n    : DOMCMapReaderFactory;\nconst DefaultFilterFactory =\n  typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n    ? NodeFilterFactory\n    : DOMFilterFactory;\nconst DefaultStandardFontDataFactory =\n  typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n    ? NodeStandardFontDataFactory\n    : DOMStandardFontDataFactory;\n\n/**\n * @typedef { Int8Array | Uint8Array | Uint8ClampedArray |\n *            Int16Array | Uint16Array |\n *            Int32Array | Uint32Array | Float32Array |\n *            Float64Array\n * } TypedArray\n */\n\n/**\n * @typedef {Object} RefProxy\n * @property {number} num\n * @property {number} gen\n */\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string | URL} [url] - The URL of the PDF.\n * @property {TypedArray | ArrayBuffer | Array<number> | string} [data] -\n *   Binary PDF data.\n *   Use TypedArrays (Uint8Array) to improve the memory usage. If PDF data is\n *   BASE64-encoded, use `atob()` to convert it to a binary string first.\n *\n *   NOTE: If TypedArrays are used they will generally be transferred to the\n *   worker-thread. This will help reduce main-thread memory usage, however\n *   it will take ownership of the TypedArrays.\n * @property {Object} [httpHeaders] - Basic authentication headers.\n * @property {boolean} [withCredentials] - Indicates whether or not\n *   cross-site Access-Control requests should be made using credentials such\n *   as cookies or authorization headers. The default is `false`.\n * @property {string} [password] - For decrypting password-protected PDFs.\n * @property {number} [length] - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} [range] - Allows for using a custom range\n *   transport implementation.\n * @property {number} [rangeChunkSize] - Specify maximum number of bytes fetched\n *   per range request. The default value is {@link DEFAULT_RANGE_CHUNK_SIZE}.\n * @property {PDFWorker} [worker] - The worker that will be used for loading and\n *   parsing the PDF data.\n * @property {number} [verbosity] - Controls the logging level; the constants\n *   from {@link VerbosityLevel} should be used.\n * @property {string} [docBaseUrl] - The base URL of the document, used when\n *   attempting to recover valid absolute URLs for annotations, and outline\n *   items, that (incorrectly) only specify relative URLs.\n * @property {string} [cMapUrl] - The URL where the predefined Adobe CMaps are\n *   located. Include the trailing slash.\n * @property {boolean} [cMapPacked] - Specifies if the Adobe CMaps are binary\n *   packed or not. The default value is `true`.\n * @property {Object} [CMapReaderFactory] - The factory that will be used when\n *   reading built-in CMap files. Providing a custom factory is useful for\n *   environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMCMapReaderFactory}.\n * @property {boolean} [useSystemFonts] - When `true`, fonts that aren't\n *   embedded in the PDF document will fallback to a system font.\n *   The default value is `true` in web environments and `false` in Node.js;\n *   unless `disableFontFace === true` in which case this defaults to `false`\n *   regardless of the environment (to prevent completely broken fonts).\n * @property {string} [standardFontDataUrl] - The URL where the standard font\n *   files are located. Include the trailing slash.\n * @property {Object} [StandardFontDataFactory] - The factory that will be used\n *   when reading the standard font files. Providing a custom factory is useful\n *   for environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMStandardFontDataFactory}.\n * @property {boolean} [useWorkerFetch] - Enable using the Fetch API in the\n *   worker-thread when reading CMap and standard font files. When `true`,\n *   the `CMapReaderFactory` and `StandardFontDataFactory` options are ignored.\n *   The default value is `true` in web environments and `false` in Node.js.\n * @property {boolean} [stopAtErrors] - Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n * @property {number} [maxImageSize] - The maximum allowed image size in total\n *   pixels, i.e. width * height. Images above this value will not be rendered.\n *   Use -1 for no limit, which is also the default value.\n * @property {boolean} [isEvalSupported] - Determines if we can evaluate strings\n *   as JavaScript. Primarily used to improve performance of PDF functions.\n *   The default value is `true`.\n * @property {boolean} [isOffscreenCanvasSupported] - Determines if we can use\n *   `OffscreenCanvas` in the worker. Primarily used to improve performance of\n *   image conversion/rendering.\n *   The default value is `true` in web environments and `false` in Node.js.\n * @property {boolean} [isChrome] - Determines if we can use bmp ImageDecoder.\n *   NOTE: Temporary option until [https://issues.chromium.org/issues/374807001]\n *   is fixed.\n * @property {number} [canvasMaxAreaInBytes] - The integer value is used to\n *   know when an image must be resized (uses `OffscreenCanvas` in the worker).\n *   If it's -1 then a possibly slow algorithm is used to guess the max value.\n * @property {boolean} [disableFontFace] - By default fonts are converted to\n *   OpenType fonts and loaded via the Font Loading API or `@font-face` rules.\n *   If disabled, fonts will be rendered using a built-in font renderer that\n *   constructs the glyphs with primitive path commands.\n *   The default value is `false` in web environments and `true` in Node.js.\n * @property {boolean} [fontExtraProperties] - Include additional properties,\n *   which are unused during rendering of PDF documents, when exporting the\n *   parsed font data from the worker-thread. This may be useful for debugging\n *   purposes (and backwards compatibility), but note that it will lead to\n *   increased memory usage. The default value is `false`.\n * @property {boolean} [enableXfa] - Render Xfa forms if any.\n *   The default value is `false`.\n * @property {HTMLDocument} [ownerDocument] - Specify an explicit document\n *   context to create elements with and to load resources, such as fonts,\n *   into. Defaults to the current document.\n * @property {boolean} [disableRange] - Disable range request loading of PDF\n *   files. When enabled, and if the server supports partial content requests,\n *   then the PDF will be fetched in chunks. The default value is `false`.\n * @property {boolean} [disableStream] - Disable streaming of PDF file data.\n *   By default PDF.js attempts to load PDF files in chunks. The default value\n *   is `false`.\n * @property {boolean} [disableAutoFetch] - Disable pre-fetching of PDF file\n *   data. When range requests are enabled PDF.js will automatically keep\n *   fetching more data even if it isn't needed to display the current page.\n *   The default value is `false`.\n *\n *   NOTE: It is also necessary to disable streaming, see above, in order for\n *   disabling of pre-fetching to work correctly.\n * @property {boolean} [pdfBug] - Enables special hooks for debugging PDF.js\n *   (see `web/debugger.js`). The default value is `false`.\n * @property {Object} [CanvasFactory] - The factory that will be used when\n *    creating canvases. The default value is {DOMCanvasFactory}.\n * @property {Object} [FilterFactory] - The factory that will be used to\n *    create SVG filters when rendering some images on the main canvas.\n *    The default value is {DOMFilterFactory}.\n * @property {boolean} [enableHWA] - Enables hardware acceleration for\n *   rendering. The default value is `false`.\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n *\n * NOTE: If a URL is used to fetch the PDF data a standard Fetch API call (or\n * XHR as fallback) is used, which means it must follow same origin rules,\n * e.g. no cross-domain requests without CORS.\n *\n * @param {string | URL | TypedArray | ArrayBuffer | DocumentInitParameters}\n *   src - Can be a URL where a PDF file is located, a typed array (Uint8Array)\n *         already populated with data, or a parameter object.\n * @returns {PDFDocumentLoadingTask}\n */\nfunction getDocument(src = {}) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n    if (typeof src === \"string\" || src instanceof URL) {\n      src = { url: src };\n    } else if (src instanceof ArrayBuffer || ArrayBuffer.isView(src)) {\n      src = { data: src };\n    }\n  }\n  const task = new PDFDocumentLoadingTask();\n  const { docId } = task;\n\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport =\n    src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize =\n    Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0\n      ? src.rangeChunkSize\n      : DEFAULT_RANGE_CHUNK_SIZE;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  // Ignore \"data:\"-URLs, since they can't be used to recover valid absolute\n  // URLs anyway. We want to avoid sending them to the worker-thread, since\n  // they contain the *entire* PDF document and can thus be arbitrarily long.\n  const docBaseUrl =\n    typeof src.docBaseUrl === \"string\" && !isDataScheme(src.docBaseUrl)\n      ? src.docBaseUrl\n      : null;\n  const cMapUrl = typeof src.cMapUrl === \"string\" ? src.cMapUrl : null;\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || DefaultCMapReaderFactory;\n  const standardFontDataUrl =\n    typeof src.standardFontDataUrl === \"string\"\n      ? src.standardFontDataUrl\n      : null;\n  const StandardFontDataFactory =\n    src.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize =\n    Number.isInteger(src.maxImageSize) && src.maxImageSize > -1\n      ? src.maxImageSize\n      : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported =\n    typeof src.isOffscreenCanvasSupported === \"boolean\"\n      ? src.isOffscreenCanvasSupported\n      : !isNodeJS;\n  const isChrome =\n    typeof src.isChrome === \"boolean\"\n      ? src.isChrome\n      : (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"MOZCENTRAL\")) &&\n        !FeatureTest.platform.isFirefox &&\n        typeof window !== \"undefined\" &&\n        !!window?.chrome;\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes)\n    ? src.canvasMaxAreaInBytes\n    : -1;\n  const disableFontFace =\n    typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const CanvasFactory = src.CanvasFactory || DefaultCanvasFactory;\n  const FilterFactory = src.FilterFactory || DefaultFilterFactory;\n  const enableHWA = src.enableHWA === true;\n\n  // Parameters whose default values depend on other parameters.\n  const length = rangeTransport ? rangeTransport.length : (src.length ?? NaN);\n  const useSystemFonts =\n    typeof src.useSystemFonts === \"boolean\"\n      ? src.useSystemFonts\n      : !isNodeJS && !disableFontFace;\n  const useWorkerFetch =\n    typeof src.useWorkerFetch === \"boolean\"\n      ? src.useWorkerFetch\n      : (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n        (CMapReaderFactory === DOMCMapReaderFactory &&\n          StandardFontDataFactory === DOMStandardFontDataFactory &&\n          cMapUrl &&\n          standardFontDataUrl &&\n          isValidFetchUrl(cMapUrl, document.baseURI) &&\n          isValidFetchUrl(standardFontDataUrl, document.baseURI));\n\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n    if (src.canvasFactory) {\n      deprecated(\n        \"`canvasFactory`-instance option, please use `CanvasFactory` instead.\"\n      );\n    }\n    if (src.filterFactory) {\n      deprecated(\n        \"`filterFactory`-instance option, please use `FilterFactory` instead.\"\n      );\n    }\n  }\n\n  // Parameters only intended for development/testing purposes.\n  const styleElement =\n    typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")\n      ? src.styleElement\n      : null;\n\n  // Set the main-thread verbosity level.\n  setVerbosityLevel(verbosity);\n\n  // Ensure that the various factories can be initialized, when necessary,\n  // since the user may provide *custom* ones.\n  const transportFactory = {\n    canvasFactory: new CanvasFactory({ ownerDocument, enableHWA }),\n    filterFactory: new FilterFactory({ docId, ownerDocument }),\n    cMapReaderFactory:\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      useWorkerFetch\n        ? null\n        : new CMapReaderFactory({ baseUrl: cMapUrl, isCompressed: cMapPacked }),\n    standardFontDataFactory:\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      useWorkerFetch\n        ? null\n        : new StandardFontDataFactory({ baseUrl: standardFontDataUrl }),\n  };\n\n  if (!worker) {\n    const workerParams = {\n      verbosity,\n      port: GlobalWorkerOptions.workerPort,\n    };\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global worker options, using it.\n    worker = workerParams.port\n      ? PDFWorker.fromPort(workerParams)\n      : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n\n  const docParams = {\n    docId,\n    apiVersion:\n      typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"TESTING\")\n        ? PDFJSDev.eval(\"BUNDLE_VERSION\")\n        : null,\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      isChrome,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      cMapUrl: useWorkerFetch ? cMapUrl : null,\n      standardFontDataUrl: useWorkerFetch ? standardFontDataUrl : null,\n    },\n  };\n  const transportParams = {\n    disableFontFace,\n    fontExtraProperties,\n    ownerDocument,\n    pdfBug,\n    styleElement,\n    loadingParams: {\n      disableAutoFetch,\n      enableXfa,\n    },\n  };\n\n  worker.promise\n    .then(function () {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n\n      const workerIdPromise = worker.messageHandler.sendWithPromise(\n        \"GetDocRequest\",\n        docParams,\n        data ? [data.buffer] : null\n      );\n\n      let networkStream;\n      if (rangeTransport) {\n        networkStream = new PDFDataTransportStream(rangeTransport, {\n          disableRange,\n          disableStream,\n        });\n      } else if (!data) {\n        if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n          throw new Error(\"Not implemented: NetworkStream\");\n        }\n        if (!url) {\n          throw new Error(\"getDocument - no `url` parameter provided.\");\n        }\n        let NetworkStream;\n\n        if (\n          typeof PDFJSDev !== \"undefined\" &&\n          PDFJSDev.test(\"GENERIC\") &&\n          isNodeJS\n        ) {\n          const isFetchSupported =\n            typeof fetch !== \"undefined\" &&\n            typeof Response !== \"undefined\" &&\n            \"body\" in Response.prototype;\n\n          NetworkStream =\n            isFetchSupported && isValidFetchUrl(url)\n              ? PDFFetchStream\n              : PDFNodeStream;\n        } else {\n          NetworkStream = isValidFetchUrl(url)\n            ? PDFFetchStream\n            : PDFNetworkStream;\n        }\n\n        networkStream = new NetworkStream({\n          url,\n          length,\n          httpHeaders,\n          withCredentials,\n          rangeChunkSize,\n          disableRange,\n          disableStream,\n        });\n      }\n\n      return workerIdPromise.then(workerId => {\n        if (task.destroyed) {\n          throw new Error(\"Loading aborted\");\n        }\n        if (worker.destroyed) {\n          throw new Error(\"Worker was destroyed\");\n        }\n\n        const messageHandler = new MessageHandler(docId, workerId, worker.port);\n        const transport = new WorkerTransport(\n          messageHandler,\n          task,\n          networkStream,\n          transportParams,\n          transportFactory\n        );\n        task._transport = transport;\n        messageHandler.send(\"Ready\", null);\n      });\n    })\n    .catch(task._capability.reject);\n\n  return task;\n}\n\nfunction getUrlProp(val) {\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n    return null; // The 'url' is unused with `PDFDataRangeTransport`.\n  }\n  if (val instanceof URL) {\n    return val.href;\n  }\n  try {\n    // The full path is required in the 'url' field.\n    return new URL(val, window.location).href;\n  } catch {\n    if (\n      typeof PDFJSDev !== \"undefined\" &&\n      PDFJSDev.test(\"GENERIC\") &&\n      isNodeJS &&\n      typeof val === \"string\"\n    ) {\n      return val; // Use the url as-is in Node.js environments.\n    }\n  }\n  throw new Error(\n    \"Invalid PDF url data: \" +\n      \"either string or URL-object is expected in the url property.\"\n  );\n}\n\nfunction getDataProp(val) {\n  // Converting string or array-like data to Uint8Array.\n  if (\n    typeof PDFJSDev !== \"undefined\" &&\n    PDFJSDev.test(\"GENERIC\") &&\n    isNodeJS &&\n    typeof Buffer !== \"undefined\" && // eslint-disable-line no-undef\n    val instanceof Buffer // eslint-disable-line no-undef\n  ) {\n    throw new Error(\n      \"Please provide binary data as `Uint8Array`, rather than `Buffer`.\"\n    );\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    // Use the data as-is when it's already a Uint8Array that completely\n    // \"utilizes\" its underlying ArrayBuffer, to prevent any possible\n    // issues when transferring it to the worker-thread.\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return stringToBytes(val);\n  }\n  if (\n    val instanceof ArrayBuffer ||\n    ArrayBuffer.isView(val) ||\n    (typeof val === \"object\" && !isNaN(val?.length))\n  ) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\n    \"Invalid PDF binary data: either TypedArray, \" +\n      \"string, or array-like object is expected in the data property.\"\n  );\n}\n\nfunction isRefProxy(ref) {\n  return (\n    typeof ref === \"object\" &&\n    Number.isInteger(ref?.num) &&\n    ref.num >= 0 &&\n    Number.isInteger(ref?.gen) &&\n    ref.gen >= 0\n  );\n}\n\n/**\n * @typedef {Object} OnProgressParameters\n * @property {number} loaded - Currently loaded number of bytes.\n * @property {number} total - Total number of bytes in the PDF file.\n */\n\n/**\n * The loading task controls the operations required to load a PDF document\n * (such as network requests) and provides a way to listen for completion,\n * after which individual pages can be rendered.\n */\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n\n  constructor() {\n    this._capability = Promise.withResolvers();\n    this._transport = null;\n    this._worker = null;\n\n    /**\n     * Unique identifier for the document loading task.\n     * @type {string}\n     */\n    this.docId = `d${PDFDocumentLoadingTask.#docId++}`;\n\n    /**\n     * Whether the loading task is destroyed or not.\n     * @type {boolean}\n     */\n    this.destroyed = false;\n\n    /**\n     * Callback to request a password if a wrong or no password was provided.\n     * The callback receives two parameters: a function that should be called\n     * with the new password, and a reason (see {@link PasswordResponses}).\n     * @type {function}\n     */\n    this.onPassword = null;\n\n    /**\n     * Callback to be able to monitor the loading progress of the PDF file\n     * (necessary to implement e.g. a loading bar).\n     * The callback receives an {@link OnProgressParameters} argument.\n     * @type {function}\n     */\n    this.onProgress = null;\n  }\n\n  /**\n   * Promise for document loading task completion.\n   * @type {Promise<PDFDocumentProxy>}\n   */\n  get promise() {\n    return this._capability.promise;\n  }\n\n  /**\n   * Abort all network requests and destroy the worker.\n   * @returns {Promise<void>} A promise that is resolved when destruction is\n   *   completed.\n   */\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n\n    this._transport = null;\n    if (this._worker) {\n      this._worker.destroy();\n      this._worker = null;\n    }\n  }\n}\n\n/**\n * Abstract class to support range requests file loading.\n *\n * NOTE: The TypedArrays passed to the constructor and relevant methods below\n * will generally be transferred to the worker-thread. This will help reduce\n * main-thread memory usage, however it will take ownership of the TypedArrays.\n */\nclass PDFDataRangeTransport {\n  /**\n   * @param {number} length\n   * @param {Uint8Array|null} initialData\n   * @param {boolean} [progressiveDone]\n   * @param {string} [contentDispositionFilename]\n   */\n  constructor(\n    length,\n    initialData,\n    progressiveDone = false,\n    contentDispositionFilename = null\n  ) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = Promise.withResolvers();\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n\n  /**\n   * @param {number} begin\n   * @param {Uint8Array|null} chunk\n   */\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  /**\n   * @param {number} loaded\n   * @param {number|undefined} total\n   */\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  /**\n   * @param {Uint8Array|null} chunk\n   */\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n\n  /**\n   * @param {number} begin\n   * @param {number} end\n   */\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n}\n\n/**\n * Proxy to a `PDFDocument` in the worker thread.\n */\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"getNetworkStreamName\", {\n        value: () => this._transport.getNetworkStreamName(),\n      });\n      Object.defineProperty(this, \"getXFADatasets\", {\n        value: () => this._transport.getXFADatasets(),\n      });\n      Object.defineProperty(this, \"getXRefPrevValue\", {\n        value: () => this._transport.getXRefPrevValue(),\n      });\n      Object.defineProperty(this, \"getStartXRefPos\", {\n        value: () => this._transport.getStartXRefPos(),\n      });\n      Object.defineProperty(this, \"getAnnotArray\", {\n        value: pageIndex => this._transport.getAnnotArray(pageIndex),\n      });\n    }\n  }\n\n  /**\n   * @type {AnnotationStorage} Storage for annotation data in forms.\n   */\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n\n  /**\n   * @type {Object} The canvas factory instance.\n   */\n  get canvasFactory() {\n    return this._transport.canvasFactory;\n  }\n\n  /**\n   * @type {Object} The filter factory instance.\n   */\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n\n  /**\n   * @type {number} Total number of pages in the PDF file.\n   */\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  /**\n   * @type {Array<string, string|null>} A (not guaranteed to be) unique ID to\n   *   identify the PDF document.\n   *   NOTE: The first element will always be defined for all PDF documents,\n   *   whereas the second element is only defined for *modified* PDF documents.\n   */\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n\n  /**\n   * @type {boolean} True if only XFA form.\n   */\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n\n  /**\n   * NOTE: This is (mostly) intended to support printing of XFA forms.\n   *\n   * @type {Object | null} An object representing a HTML tree structure\n   *   to render the XFA, or `null` when no XFA form exists.\n   */\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n\n  /**\n   * @param {number} pageNumber - The page number to get. The first page is 1.\n   * @returns {Promise<PDFPageProxy>} A promise that is resolved with\n   *   a {@link PDFPageProxy} object.\n   */\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  /**\n   * @param {RefProxy} ref - The page reference.\n   * @returns {Promise<number>} A promise that is resolved with the page index,\n   *   starting from zero, that is associated with the reference.\n   */\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<any>>>} A promise that is resolved\n   *   with a mapping from named destinations to references.\n   *\n   * This can be slow for large documents. Use `getDestination` instead.\n   */\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  /**\n   * @param {string} id - The named destination to get.\n   * @returns {Promise<Array<any> | null>} A promise that is resolved with all\n   *   information of the given named destination, or `null` when the named\n   *   destination is not present in the PDF file.\n   */\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} containing the page labels that correspond to the page\n   *   indexes, or `null` when no page labels are present in the PDF file.\n   */\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page layout name.\n   */\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page mode name.\n   */\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with an\n   *   {Object} containing the viewer preferences, or `null` when no viewer\n   *   preferences are present in the PDF file.\n   */\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  /**\n   * @returns {Promise<any | null>} A promise that is resolved with an {Array}\n   *   containing the destination, or `null` when no open action is present\n   *   in the PDF.\n   */\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  /**\n   * @returns {Promise<any>} A promise that is resolved with a lookup table\n   *   for mapping named attachments to their content.\n   */\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with the JavaScript actions:\n   *     - from the name tree.\n   *     - from A or AA entries in the catalog dictionary.\n   *   , or `null` if no JavaScript exists.\n   */\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n\n  /**\n   * @typedef {Object} OutlineNode\n   * @property {string} title\n   * @property {boolean} bold\n   * @property {boolean} italic\n   * @property {Uint8ClampedArray} color - The color in RGB format to use for\n   *   display purposes.\n   * @property {string | Array<any> | null} dest\n   * @property {string | null} url\n   * @property {string | undefined} unsafeUrl\n   * @property {boolean | undefined} newWindow\n   * @property {number | undefined} count\n   * @property {Array<OutlineNode>} items\n   */\n\n  /**\n   * @returns {Promise<Array<OutlineNode>>} A promise that is resolved with an\n   *   {Array} that is a tree outline (if it has one) of the PDF file.\n   */\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  /**\n   * @typedef {Object} GetOptionalContentConfigParameters\n   * @property {string} [intent] - Determines the optional content groups that\n   *   are visible by default; valid values are:\n   *    - 'display' (viewable groups).\n   *    - 'print' (printable groups).\n   *    - 'any' (all groups).\n   *   The default value is 'display'.\n   */\n\n  /**\n   * @param {GetOptionalContentConfigParameters} [params] - Optional content\n   *   config parameters.\n   * @returns {Promise<OptionalContentConfig>} A promise that is resolved with\n   *   an {@link OptionalContentConfig} that contains all the optional content\n   *   groups (assuming that the document has any).\n   */\n  getOptionalContentConfig({ intent = \"display\" } = {}) {\n    const { renderingIntent } = this._transport.getRenderingIntent(intent);\n\n    return this._transport.getOptionalContentConfig(renderingIntent);\n  }\n\n  /**\n   * @returns {Promise<Array<number> | null>} A promise that is resolved with\n   *   an {Array} that contains the permission flags for the PDF document, or\n   *   `null` when no permissions are present in the PDF file.\n   */\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  /**\n   * @returns {Promise<{ info: Object, metadata: Metadata }>} A promise that is\n   *   resolved with an {Object} that has `info` and `metadata` properties.\n   *   `info` is an {Object} filled with anything available in the information\n   *   dictionary and similarly `metadata` is a {Metadata} object with\n   *   information from the metadata section of the PDF.\n   */\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  /**\n   * @typedef {Object} MarkInfo\n   * Properties correspond to Table 321 of the PDF 32000-1:2008 spec.\n   * @property {boolean} Marked\n   * @property {boolean} UserProperties\n   * @property {boolean} Suspects\n   */\n\n  /**\n   * @returns {Promise<MarkInfo | null>} A promise that is resolved with\n   *   a {MarkInfo} object that contains the MarkInfo flags for the PDF\n   *   document, or `null` when no MarkInfo values are present in the PDF file.\n   */\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n\n  /**\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the raw data of the PDF document.\n   */\n  getData() {\n    return this._transport.getData();\n  }\n\n  /**\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the full data of the saved document.\n   */\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n\n  /**\n   * @returns {Promise<{ length: number }>} A promise that is resolved when the\n   *   document's data is loaded. It is resolved with an {Object} that contains\n   *   the `length` property that indicates size of the PDF data in bytes.\n   */\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  /**\n   * Cleans up resources allocated by the document on both the main and worker\n   * threads.\n   *\n   * NOTE: Do not, under any circumstances, call this method when rendering is\n   * currently ongoing since that may lead to rendering errors.\n   *\n   * @param {boolean} [keepLoadedFonts] - Let fonts remain attached to the DOM.\n   *   NOTE: This will increase persistent memory usage, hence don't use this\n   *   option unless absolutely necessary. The default value is `false`.\n   * @returns {Promise} A promise that is resolved when clean-up has finished.\n   */\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n\n  /**\n   * Destroys the current document instance and terminates the worker.\n   */\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  /**\n   * @param {RefProxy} ref - The page reference.\n   * @returns {number | null} The page number, if it's cached.\n   */\n  cachedPageNumber(ref) {\n    return this._transport.cachedPageNumber(ref);\n  }\n\n  /**\n   * @type {DocumentInitParameters} A subset of the current\n   *   {DocumentInitParameters}, which are needed in the viewer.\n   */\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  /**\n   * @type {PDFDocumentLoadingTask} The loadingTask for the current document.\n   */\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<Object>> | null>} A promise that is\n   *   resolved with an {Object} containing /AcroForm field data for the JS\n   *   sandbox, or `null` when no field data is present in the PDF file.\n   */\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n\n  /**\n   * @returns {Promise<boolean>} A promise that is resolved with `true`\n   *   if some /AcroForm fields have JavaScript actions.\n   */\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with an\n   *   {Array<string>} containing IDs of annotations that have a calculation\n   *   action, or `null` when no such annotations are present in the PDF file.\n   */\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\n\n/**\n * Page getViewport parameters.\n *\n * @typedef {Object} GetViewportParameters\n * @property {number} scale - The desired scale of the viewport.\n * @property {number} [rotation] - The desired rotation, in degrees, of\n *   the viewport. If omitted it defaults to the page rotation.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be\n *   flipped. The default value is `false`.\n */\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} [includeMarkedContent] - When true include marked\n *   content items in the items array of TextContent. The default is `false`.\n * @property {boolean} [disableNormalization] - When true the text is *not*\n *   normalized in the worker-thread. The default is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {Array<TextItem | TextMarkedContent>} items - Array of\n *   {@link TextItem} and {@link TextMarkedContent} objects. TextMarkedContent\n *   items are included when includeMarkedContent is true.\n * @property {Object<string, TextStyle>} styles - {@link TextStyle} objects,\n *   indexed by font name.\n * @property {string | null} lang - The document /Lang attribute.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - Text content.\n * @property {string} dir - Text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {Array<any>} transform - Transformation matrix.\n * @property {number} width - Width in device space.\n * @property {number} height - Height in device space.\n * @property {string} fontName - Font name used by PDF.js for converted font.\n * @property {boolean} hasEOL - Indicating if the text content is followed by a\n *   line-break.\n */\n\n/**\n * Page text marked content part.\n *\n * @typedef {Object} TextMarkedContent\n * @property {string} type - Either 'beginMarkedContent',\n *   'beginMarkedContentProps', or 'endMarkedContent'.\n * @property {string} id - The marked content identifier. Only used for type\n *   'beginMarkedContentProps'.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - Font ascent.\n * @property {number} descent - Font descent.\n * @property {boolean} vertical - Whether or not the text is in vertical mode.\n * @property {string} fontFamily - The possible font family.\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} [intent] - Determines the annotations that are fetched,\n *   can be 'display' (viewable annotations), 'print' (printable annotations),\n *   or 'any' (all annotations). The default value is 'display'.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {CanvasRenderingContext2D} canvasContext - A 2D context of a DOM\n *   Canvas object.\n * @property {PageViewport} viewport - Rendering viewport obtained by calling\n *   the `PDFPageProxy.getViewport` method.\n * @property {string} [intent] - Rendering intent, can be 'display', 'print',\n *   or 'any'. The default value is 'display'.\n * @property {number} [annotationMode] Controls which annotations are rendered\n *   onto the canvas, for annotations with appearance-data; the values from\n *   {@link AnnotationMode} should be used. The following values are supported:\n *    - `AnnotationMode.DISABLE`, which disables all annotations.\n *    - `AnnotationMode.ENABLE`, which includes all possible annotations (thus\n *      it also depends on the `intent`-option, see above).\n *    - `AnnotationMode.ENABLE_FORMS`, which excludes annotations that contain\n *      interactive form elements (those will be rendered in the display layer).\n *    - `AnnotationMode.ENABLE_STORAGE`, which includes all possible annotations\n *      (as above) but where interactive form elements are updated with data\n *      from the {@link AnnotationStorage}-instance; useful e.g. for printing.\n *   The default value is `AnnotationMode.ENABLE`.\n * @property {Array<any>} [transform] - Additional transform, applied just\n *   before viewport transform.\n * @property {CanvasGradient | CanvasPattern | string} [background] - Background\n *   to use for the canvas.\n *   Any valid `canvas.fillStyle` can be used: a `DOMString` parsed as CSS\n *   <color> value, a `CanvasGradient` object (a linear or radial gradient) or\n *   a `CanvasPattern` object (a repetitive image). The default value is\n *   'rgb(255,255,255)'.\n *\n *   NOTE: This option may be partially, or completely, ignored when the\n *   `pageColors`-option is used.\n * @property {Object} [pageColors] - Overwrites background and foreground colors\n *   with user defined ones in order to improve readability in high contrast\n *   mode.\n * @property {Promise<OptionalContentConfig>} [optionalContentConfigPromise] -\n *   A promise that should resolve with an {@link OptionalContentConfig}\n *   created from `PDFDocumentProxy.getOptionalContentConfig`. If `null`,\n *   the configuration will be fetched automatically with the default visibility\n *   states set.\n * @property {Map<string, HTMLCanvasElement>} [annotationCanvasMap] - Map some\n *   annotation ids with canvases used to render them.\n * @property {PrintAnnotationStorage} [printAnnotationStorage]\n * @property {boolean} [isEditing] - Render the page in editing mode.\n */\n\n/**\n * Page getOperatorList parameters.\n *\n * @typedef {Object} GetOperatorListParameters\n * @property {string} [intent] - Rendering intent, can be 'display', 'print',\n *   or 'any'. The default value is 'display'.\n * @property {number} [annotationMode] Controls which annotations are included\n *   in the operatorList, for annotations with appearance-data; the values from\n *   {@link AnnotationMode} should be used. The following values are supported:\n *    - `AnnotationMode.DISABLE`, which disables all annotations.\n *    - `AnnotationMode.ENABLE`, which includes all possible annotations (thus\n *      it also depends on the `intent`-option, see above).\n *    - `AnnotationMode.ENABLE_FORMS`, which excludes annotations that contain\n *      interactive form elements (those will be rendered in the display layer).\n *    - `AnnotationMode.ENABLE_STORAGE`, which includes all possible annotations\n *      (as above) but where interactive form elements are updated with data\n *      from the {@link AnnotationStorage}-instance; useful e.g. for printing.\n *   The default value is `AnnotationMode.ENABLE`.\n * @property {PrintAnnotationStorage} [printAnnotationStorage]\n * @property {boolean} [isEditing] - Render the page in editing mode.\n */\n\n/**\n * Structure tree node. The root node will have a role \"Root\".\n *\n * @typedef {Object} StructTreeNode\n * @property {Array<StructTreeNode | StructTreeContent>} children - Array of\n *   {@link StructTreeNode} and {@link StructTreeContent} objects.\n * @property {string} role - element's role, already mapped if a role map exists\n * in the PDF.\n */\n\n/**\n * Structure tree content.\n *\n * @typedef {Object} StructTreeContent\n * @property {string} type - either \"content\" for page and stream structure\n *   elements or \"object\" for object references.\n * @property {string} id - unique id that will map to the text layer.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array<number>} fnArray - Array containing the operator functions.\n * @property {Array<any>} argsArray - Array containing the arguments of the\n *   functions.\n */\n\n/**\n * Proxy to a `PDFPage` in the worker thread.\n */\nclass PDFPageProxy {\n  #delayedCleanupTimeout = null;\n\n  #pendingCleanup = false;\n\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    /** @type {PDFObjects} */\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n\n    this._maybeCleanupAfterRender = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n\n  /**\n   * @type {number} Page number of the page. First page is 1.\n   */\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  /**\n   * @type {number} The number of degrees the page is rotated clockwise.\n   */\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  /**\n   * @type {RefProxy | null} The reference that points to this page.\n   */\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  /**\n   * @type {number} The default size of units in 1/72nds of an inch.\n   */\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  /**\n   * @type {Array<number>} An array of the visible portion of the PDF page in\n   *   user space units [x1, y1, x2, y2].\n   */\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  /**\n   * @param {GetViewportParameters} params - Viewport parameters.\n   * @returns {PageViewport} Contains 'width' and 'height' properties\n   *   along with transforms required for rendering.\n   */\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * @param {GetAnnotationsParameters} [params] - Annotation parameters.\n   * @returns {Promise<Array<any>>} A promise that is resolved with an\n   *   {Array} of the annotation objects.\n   */\n  getAnnotations({ intent = \"display\" } = {}) {\n    const { renderingIntent } = this._transport.getRenderingIntent(intent);\n\n    return this._transport.getAnnotations(this._pageIndex, renderingIntent);\n  }\n\n  /**\n   * @returns {Promise<Object>} A promise that is resolved with an\n   *   {Object} with JS actions.\n   */\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n\n  /**\n   * @type {Object} The filter factory instance.\n   */\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n\n  /**\n   * @type {boolean} True if only XFA form.\n   */\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with a fake DOM object (a tree structure where elements\n   *   are {Object} with a name, attributes (class, style, ...), value and\n   *   children, very similar to a HTML DOM tree), or `null` if no XFA exists.\n   */\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n\n  /**\n   * Begins the process of rendering a page to the desired context.\n   *\n   * @param {RenderParameters} params - Page render parameters.\n   * @returns {RenderTask} An object that contains a promise that is\n   *   resolved when the page finishes rendering.\n   */\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null,\n    isEditing = false,\n  }) {\n    this._stats?.time(\"Overall\");\n\n    const intentArgs = this._transport.getRenderingIntent(\n      intent,\n      annotationMode,\n      printAnnotationStorage,\n      isEditing\n    );\n    const { renderingIntent, cacheKey } = intentArgs;\n    // If there was a pending destroy, cancel it so no cleanup happens during\n    // this call to render...\n    this.#pendingCleanup = false;\n    // ... and ensure that a delayed cleanup is always aborted.\n    this.#abortDelayedCleanup();\n\n    optionalContentConfigPromise ||=\n      this._transport.getOptionalContentConfig(renderingIntent);\n\n    let intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(cacheKey, intentState);\n    }\n\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const intentPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n\n    // If there's no displayReadyCapability yet, then the operatorList\n    // was never requested before. Make the request and create the promise.\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = Promise.withResolvers();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null,\n      };\n\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n\n      // Attempt to reduce memory usage during *printing*, by always running\n      // cleanup immediately once rendering has finished.\n      if (this._maybeCleanupAfterRender || intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup(/* delayed = */ !intentPrint);\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error),\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n\n        if (globalThis.Stats?.enabled) {\n          globalThis.Stats.add(this.pageNumber, this._stats);\n        }\n      }\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      // Only include the required properties, and *not* the entire object.\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        background,\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors,\n    });\n\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n\n    Promise.all([\n      intentState.displayReadyCapability.promise,\n      optionalContentConfigPromise,\n    ])\n      .then(([transparency, optionalContentConfig]) => {\n        if (this.destroyed) {\n          complete();\n          return;\n        }\n        this._stats?.time(\"Rendering\");\n\n        if (!(optionalContentConfig.renderingIntent & renderingIntent)) {\n          throw new Error(\n            \"Must use the same `intent`-argument when calling the `PDFPageProxy.render` \" +\n              \"and `PDFDocumentProxy.getOptionalContentConfig` methods.\"\n          );\n        }\n        internalRenderTask.initializeGraphics({\n          transparency,\n          optionalContentConfig,\n        });\n        internalRenderTask.operatorListChanged();\n      })\n      .catch(complete);\n\n    return renderTask;\n  }\n\n  /**\n   * @param {GetOperatorListParameters} params - Page getOperatorList\n   *   parameters.\n   * @returns {Promise<PDFOperatorList>} A promise resolved with an\n   *   {@link PDFOperatorList} object that represents the page's operator list.\n   */\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n    isEditing = false,\n  } = {}) {\n    if (typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"GENERIC\")) {\n      throw new Error(\"Not implemented: getOperatorList\");\n    }\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n\n    const intentArgs = this._transport.getRenderingIntent(\n      intent,\n      annotationMode,\n      printAnnotationStorage,\n      isEditing,\n      /* isOpList = */ true\n    );\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = Promise.withResolvers();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null,\n      };\n\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n\n  /**\n   * NOTE: All occurrences of whitespace will be replaced by\n   * standard spaces (0x20).\n   *\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {ReadableStream} Stream for reading text content chunks.\n   */\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false,\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n\n    return this._transport.messageHandler.sendWithStream(\n      \"GetTextContent\",\n      {\n        pageIndex: this._pageIndex,\n        includeMarkedContent: includeMarkedContent === true,\n        disableNormalization: disableNormalization === true,\n      },\n      {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      }\n    );\n  }\n\n  /**\n   * NOTE: All occurrences of whitespace will be replaced by\n   * standard spaces (0x20).\n   *\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {Promise<TextContent>} A promise that is resolved with a\n   *   {@link TextContent} object that represents the page's text content.\n   */\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      // TODO: We need to revisit this once the XFA foreground patch lands and\n      // only do this for non-foreground XFA.\n      return this.getXfa().then(xfa => XfaText.textContent(xfa));\n    }\n    const readableStream = this.streamTextContent(params);\n\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({ value, done }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          textContent.lang ??= value.lang;\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n        lang: null,\n      };\n      pump();\n    });\n  }\n\n  /**\n   * @returns {Promise<StructTreeNode>} A promise that is resolved with a\n   *   {@link StructTreeNode} object that represents the page's structure tree,\n   *   or `null` when no structure tree is present for the current page.\n   */\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n\n  /**\n   * Destroys the page object.\n   * @private\n   */\n  _destroy() {\n    this.destroyed = true;\n\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true,\n      });\n\n      if (intentState.opListReadCapability) {\n        // Avoid errors below, since the renderTasks are just stubs.\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n\n    return Promise.all(waitOn);\n  }\n\n  /**\n   * Cleans up resources allocated by the page.\n   *\n   * @param {boolean} [resetStats] - Reset page stats, if enabled.\n   *   The default value is `false`.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup(/* delayed = */ false);\n\n    if (resetStats && success) {\n      this._stats &&= new StatTimer();\n    }\n    return success;\n  }\n\n  /**\n   * Attempts to clean up if rendering is in a state where that's possible.\n   * @param {boolean} [delayed] - Delay the cleanup, to e.g. improve zooming\n   *   performance in documents with large images.\n   *   The default value is `false`.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  #tryCleanup(delayed = false) {\n    this.#abortDelayedCleanup();\n\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    if (delayed) {\n      this.#delayedCleanupTimeout = setTimeout(() => {\n        this.#delayedCleanupTimeout = null;\n        this.#tryCleanup(/* delayed = */ false);\n      }, DELAYED_CLEANUP_TIMEOUT);\n\n      return false;\n    }\n    for (const { renderTasks, operatorList } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n\n  #abortDelayedCleanup() {\n    if (this.#delayedCleanupTimeout) {\n      clearTimeout(this.#delayedCleanupTimeout);\n      this.#delayedCleanupTimeout = null;\n    }\n  }\n\n  /**\n   * @private\n   */\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return; // Rendering was cancelled.\n    }\n    this._stats?.timeEnd(\"Page Request\");\n\n    // TODO Refactor RenderPageRequest to separate rendering\n    // and operator list logic\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n\n  /**\n   * @private\n   */\n  _renderPageChunk(operatorListChunk, intentState) {\n    // Add the new chunk to the current operator list.\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n\n    // Notify all the rendering tasks there are more operators to be consumed.\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup(/* delayed = */ true);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable,\n    modifiedIds,\n  }) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        Number.isInteger(renderingIntent) && renderingIntent > 0,\n        '_pumpOperatorList: Expected valid \"renderingIntent\" argument.'\n      );\n    }\n    const { map, transfer } = annotationStorageSerializable;\n\n    const readableStream = this._transport.messageHandler.sendWithStream(\n      \"GetOperatorList\",\n      {\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n        cacheKey,\n        annotationStorage: map,\n        modifiedIds,\n      },\n      transfer\n    );\n    const reader = readableStream.getReader();\n\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(\n        ({ value, done }) => {\n          if (done) {\n            intentState.streamReader = null;\n            return;\n          }\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          this._renderPageChunk(value, intentState);\n          pump();\n        },\n        reason => {\n          intentState.streamReader = null;\n\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          if (intentState.operatorList) {\n            // Mark operator list as complete.\n            intentState.operatorList.lastChunk = true;\n\n            for (const internalRenderTask of intentState.renderTasks) {\n              internalRenderTask.operatorListChanged();\n            }\n            this.#tryCleanup(/* delayed = */ true);\n          }\n\n          if (intentState.displayReadyCapability) {\n            intentState.displayReadyCapability.reject(reason);\n          } else if (intentState.opListReadCapability) {\n            intentState.opListReadCapability.reject(reason);\n          } else {\n            throw reason;\n          }\n        }\n      );\n    };\n    pump();\n  }\n\n  /**\n   * @private\n   */\n  _abortOperatorList({ intentState, reason, force = false }) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        reason instanceof Error,\n        '_abortOperatorList: Expected valid \"reason\" argument.'\n      );\n    }\n\n    if (!intentState.streamReader) {\n      return;\n    }\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    if (!force) {\n      // Ensure that an Error occurring in *only* one `InternalRenderTask`, e.g.\n      // multiple render() calls on the same canvas, won't break all rendering.\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      // Don't immediately abort parsing on the worker-thread when rendering is\n      // cancelled, since that will unnecessarily delay re-rendering when (for\n      // partially parsed pages) e.g. zooming/rotation occurs in the viewer.\n      if (reason instanceof RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < /* ms = */ 1000) {\n          // Above, we prevent the total delay from becoming arbitrarily large.\n          delay += reason.extraDelay;\n        }\n\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({ intentState, reason, force: true });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader\n      .cancel(new AbortException(reason.message))\n      .catch(() => {\n        // Avoid \"Uncaught promise\" messages in the console.\n      });\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    // Remove the current `intentState`, since a cancelled `getOperatorList`\n    // call on the worker-thread cannot be re-started...\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    // ... and force clean-up to ensure that any old state is always removed.\n    this.cleanup();\n  }\n\n  /**\n   * @type {StatTimer | null} Returns page stats, if enabled; returns `null`\n   *   otherwise.\n   */\n  get stats() {\n    return this._stats;\n  }\n}\n\nclass LoopbackPort {\n  #listeners = new Map();\n\n  #deferred = Promise.resolve();\n\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? { transfer } : null),\n    };\n\n    this.#deferred.then(() => {\n      for (const [listener] of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n\n  addEventListener(name, listener, options = null) {\n    let rmAbort = null;\n    if (options?.signal instanceof AbortSignal) {\n      const { signal } = options;\n      if (signal.aborted) {\n        warn(\"LoopbackPort - cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this.removeEventListener(name, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    this.#listeners.set(listener, rmAbort);\n  }\n\n  removeEventListener(name, listener) {\n    const rmAbort = this.#listeners.get(listener);\n    rmAbort?.();\n\n    this.#listeners.delete(listener);\n  }\n\n  terminate() {\n    for (const [, rmAbort] of this.#listeners) {\n      rmAbort?.();\n    }\n    this.#listeners.clear();\n  }\n}\n\n/**\n * @typedef {Object} PDFWorkerParameters\n * @property {string} [name] - The name of the worker.\n * @property {Worker} [port] - The `workerPort` object.\n * @property {number} [verbosity] - Controls the logging level;\n *   the constants from {@link VerbosityLevel} should be used.\n */\n\n/**\n * PDF.js web worker abstraction that controls the instantiation of PDF\n * documents. Message handlers are used to pass information from the main\n * thread to the worker thread and vice versa. If the creation of a web\n * worker is not possible, a \"fake\" worker will be used instead.\n *\n * @param {PDFWorkerParameters} params - The worker initialization parameters.\n */\nclass PDFWorker {\n  static #fakeWorkerId = 0;\n\n  static #isWorkerDisabled = false;\n\n  static #workerPorts;\n\n  static {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n      if (isNodeJS) {\n        // Workers aren't supported in Node.js, force-disabling them there.\n        this.#isWorkerDisabled = true;\n\n        GlobalWorkerOptions.workerSrc ||= PDFJSDev.test(\"LIB\")\n          ? \"../pdf.worker.js\"\n          : \"./pdf.worker.mjs\";\n      }\n\n      // Check if URLs have the same origin. For non-HTTP based URLs, returns\n      // false.\n      this._isSameOrigin = (baseUrl, otherUrl) => {\n        let base;\n        try {\n          base = new URL(baseUrl);\n          if (!base.origin || base.origin === \"null\") {\n            return false; // non-HTTP url\n          }\n        } catch {\n          return false;\n        }\n        const other = new URL(otherUrl, base);\n        return base.origin === other.origin;\n      };\n\n      this._createCDNWrapper = url => {\n        // We will rely on blob URL's property to specify origin.\n        // We want this function to fail in case if createObjectURL or Blob do\n        // not exist or fail for some reason -- our Worker creation will fail\n        // anyway.\n        const wrapper = `await import(\"${url}\");`;\n        return URL.createObjectURL(\n          new Blob([wrapper], { type: \"text/javascript\" })\n        );\n      };\n    }\n  }\n\n  constructor({\n    name = null,\n    port = null,\n    verbosity = getVerbosityLevel(),\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n\n    this._readyCapability = Promise.withResolvers();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n\n    if (\n      (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"MOZCENTRAL\")) &&\n      port\n    ) {\n      if (PDFWorker.#workerPorts?.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      (PDFWorker.#workerPorts ||= new WeakMap()).set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n    this._initialize();\n  }\n\n  /**\n   * Promise for worker initialization completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    if (\n      typeof PDFJSDev !== \"undefined\" &&\n      PDFJSDev.test(\"GENERIC\") &&\n      isNodeJS\n    ) {\n      // Ensure that all Node.js packages/polyfills have loaded.\n      return Promise.all([NodePackages.promise, this._readyCapability.promise]);\n    }\n    return this._readyCapability.promise;\n  }\n\n  #resolve() {\n    this._readyCapability.resolve();\n    // Send global setting, e.g. verbosity level.\n    this._messageHandler.send(\"configure\", {\n      verbosity: this.verbosity,\n    });\n  }\n\n  /**\n   * The current `workerPort`, when it exists.\n   * @type {Worker}\n   */\n  get port() {\n    return this._port;\n  }\n\n  /**\n   * The current MessageHandler-instance.\n   * @type {MessageHandler}\n   */\n  get messageHandler() {\n    return this._messageHandler;\n  }\n\n  _initializeFromPort(port) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _initializeFromPort\");\n    }\n    this._port = port;\n    this._messageHandler = new MessageHandler(\"main\", \"worker\", port);\n    this._messageHandler.on(\"ready\", function () {\n      // Ignoring \"ready\" event -- MessageHandler should already be initialized\n      // and ready to accept messages.\n    });\n    this.#resolve();\n  }\n\n  _initialize() {\n    // If worker support isn't disabled explicit and the browser has worker\n    // support, create a new web worker and test if it/the browser fulfills\n    // all requirements to run parts of pdf.js in a web worker.\n    // Right now, the requirement is, that an Uint8Array is still an\n    // Uint8Array as it arrives on the worker.\n    if (\n      PDFWorker.#isWorkerDisabled ||\n      PDFWorker.#mainThreadWorkerMessageHandler\n    ) {\n      this._setupFakeWorker();\n      return;\n    }\n    let { workerSrc } = PDFWorker;\n\n    try {\n      // Wraps workerSrc path into blob URL, if the former does not belong\n      // to the same origin.\n      if (\n        typeof PDFJSDev !== \"undefined\" &&\n        PDFJSDev.test(\"GENERIC\") &&\n        !PDFWorker._isSameOrigin(window.location.href, workerSrc)\n      ) {\n        workerSrc = PDFWorker._createCDNWrapper(\n          new URL(workerSrc, window.location).href\n        );\n      }\n\n      const worker = new Worker(workerSrc, { type: \"module\" });\n      const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n      const terminateEarly = () => {\n        ac.abort();\n        messageHandler.destroy();\n        worker.terminate();\n        if (this.destroyed) {\n          this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n        } else {\n          // Fall back to fake worker if the termination is caused by an\n          // error (e.g. NetworkError / SecurityError).\n          this._setupFakeWorker();\n        }\n      };\n\n      const ac = new AbortController();\n      worker.addEventListener(\n        \"error\",\n        () => {\n          if (!this._webWorker) {\n            // Worker failed to initialize due to an error. Clean up and fall\n            // back to the fake worker.\n            terminateEarly();\n          }\n        },\n        { signal: ac.signal }\n      );\n\n      messageHandler.on(\"test\", data => {\n        ac.abort();\n        if (this.destroyed || !data) {\n          terminateEarly();\n          return;\n        }\n        this._messageHandler = messageHandler;\n        this._port = worker;\n        this._webWorker = worker;\n\n        this.#resolve();\n      });\n\n      messageHandler.on(\"ready\", data => {\n        ac.abort();\n        if (this.destroyed) {\n          terminateEarly();\n          return;\n        }\n        try {\n          sendTest();\n        } catch {\n          // We need fallback to a faked worker.\n          this._setupFakeWorker();\n        }\n      });\n\n      const sendTest = () => {\n        const testObj = new Uint8Array();\n        // Ensure that we can use `postMessage` transfers.\n        messageHandler.send(\"test\", testObj, [testObj.buffer]);\n      };\n\n      // It might take time for the worker to initialize. We will try to send\n      // the \"test\" message immediately, and once the \"ready\" message arrives.\n      // The worker shall process only the first received \"test\" message.\n      sendTest();\n      return;\n    } catch {\n      info(\"The worker has been disabled.\");\n    }\n    // Either workers are not supported or have thrown an exception.\n    // Thus, we fallback to a faked worker.\n    this._setupFakeWorker();\n  }\n\n  _setupFakeWorker() {\n    if (!PDFWorker.#isWorkerDisabled) {\n      warn(\"Setting up fake worker.\");\n      PDFWorker.#isWorkerDisabled = true;\n    }\n\n    PDFWorker._setupFakeWorkerGlobal\n      .then(WorkerMessageHandler => {\n        if (this.destroyed) {\n          this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          return;\n        }\n        const port = new LoopbackPort();\n        this._port = port;\n\n        // All fake workers use the same port, making id unique.\n        const id = `fake${PDFWorker.#fakeWorkerId++}`;\n\n        // If the main thread is our worker, setup the handling for the\n        // messages -- the main thread sends to it self.\n        const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n        WorkerMessageHandler.setup(workerHandler, port);\n\n        this._messageHandler = new MessageHandler(id, id + \"_worker\", port);\n        this.#resolve();\n      })\n      .catch(reason => {\n        this._readyCapability.reject(\n          new Error(`Setting up fake worker failed: \"${reason.message}\".`)\n        );\n      });\n  }\n\n  /**\n   * Destroys the worker instance.\n   */\n  destroy() {\n    this.destroyed = true;\n    if (this._webWorker) {\n      // We need to terminate only web worker created resource.\n      this._webWorker.terminate();\n      this._webWorker = null;\n    }\n    PDFWorker.#workerPorts?.delete(this._port);\n    this._port = null;\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n      this._messageHandler = null;\n    }\n  }\n\n  /**\n   * @param {PDFWorkerParameters} params - The worker initialization parameters.\n   */\n  static fromPort(params) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: fromPort\");\n    }\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n    const cachedPort = this.#workerPorts?.get(params.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\n          \"PDFWorker.fromPort - the worker is being destroyed.\\n\" +\n            \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\"\n        );\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n\n  /**\n   * The current `workerSrc`, when it exists.\n   * @type {string}\n   */\n  static get workerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n\n  // Loads worker code into the main-thread.\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        // The worker was already loaded using e.g. a `<script>` tag.\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker =\n        typeof PDFJSDev === \"undefined\"\n          ? await import(\"pdfjs/pdf.worker.js\")\n          : await __non_webpack_import__(this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n\n    return shadow(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nclass WorkerTransport {\n  #methodPromises = new Map();\n\n  #pageCache = new Map();\n\n  #pagePromises = new Map();\n\n  #pageRefCache = new Map();\n\n  #passwordCapability = null;\n\n  constructor(messageHandler, loadingTask, networkStream, params, factory) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement,\n    });\n    this.loadingParams = params.loadingParams;\n    this._params = params;\n\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = Promise.withResolvers();\n\n    this.setupMessageHandler();\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"getNetworkStreamName\", {\n        value: () => networkStream?.constructor?.name || null,\n      });\n      Object.defineProperty(this, \"getXFADatasets\", {\n        value: () =>\n          this.messageHandler.sendWithPromise(\"GetXFADatasets\", null),\n      });\n      Object.defineProperty(this, \"getXRefPrevValue\", {\n        value: () =>\n          this.messageHandler.sendWithPromise(\"GetXRefPrevValue\", null),\n      });\n      Object.defineProperty(this, \"getStartXRefPos\", {\n        value: () =>\n          this.messageHandler.sendWithPromise(\"GetStartXRefPos\", null),\n      });\n      Object.defineProperty(this, \"getAnnotArray\", {\n        value: pageIndex =>\n          this.messageHandler.sendWithPromise(\"GetAnnotArray\", { pageIndex }),\n      });\n    }\n  }\n\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n\n  getRenderingIntent(\n    intent,\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n    isEditing = false,\n    isOpList = false\n  ) {\n    let renderingIntent = RenderingIntentFlag.DISPLAY; // Default value.\n    let annotationStorageSerializable = SerializableEmpty;\n\n    switch (intent) {\n      case \"any\":\n        renderingIntent = RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = RenderingIntentFlag.PRINT;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n\n    const annotationStorage =\n      renderingIntent & RenderingIntentFlag.PRINT &&\n      printAnnotationStorage instanceof PrintAnnotationStorage\n        ? printAnnotationStorage\n        : this.annotationStorage;\n\n    switch (annotationMode) {\n      case AnnotationMode.DISABLE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case AnnotationMode.ENABLE:\n        break;\n      case AnnotationMode.ENABLE_FORMS:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_STORAGE;\n\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n\n    if (isEditing) {\n      renderingIntent += RenderingIntentFlag.IS_EDITING;\n    }\n    if (isOpList) {\n      renderingIntent += RenderingIntentFlag.OPLIST;\n    }\n\n    const { ids: modifiedIds, hash: modifiedIdsHash } =\n      annotationStorage.modifiedIds;\n\n    const cacheKeyBuf = [\n      renderingIntent,\n      annotationStorageSerializable.hash,\n      modifiedIdsHash,\n    ];\n\n    return {\n      renderingIntent,\n      cacheKey: cacheKeyBuf.join(\"_\"),\n      annotationStorageSerializable,\n      modifiedIds,\n    };\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = Promise.withResolvers();\n\n    this.#passwordCapability?.reject(\n      new Error(\"Worker was destroyed during onPassword callback\")\n    );\n\n    const waitOn = [];\n    // We need to wait for all renderings to be completed, e.g.\n    // timeout/rAF can take a long time.\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    this.#pageRefCache.clear();\n    // Allow `AnnotationStorage`-related clean-up when destroying the document.\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    // We also need to wait for the worker to finish its long running tasks.\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      TextLayer.cleanup();\n\n      this._networkStream?.cancelAllRequests(\n        new AbortException(\"Worker was terminated.\")\n      );\n\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const { messageHandler, loadingTask } = this;\n\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetReader - no `IPDFStream` instance available.\"\n      );\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total,\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              value instanceof ArrayBuffer,\n              \"GetReader - expected an ArrayBuffer.\"\n            );\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"ReaderHeadersReady\", async data => {\n      await this._fullReader.headersReady;\n\n      const { isStreamingSupported, isRangeSupported, contentLength } =\n        this._fullReader;\n\n      // If stream or range are disabled, it's our only way to report\n      // loading progress.\n      if (!isStreamingSupported || !isRangeSupported) {\n        if (this._lastProgress) {\n          loadingTask.onProgress?.(this._lastProgress);\n        }\n        this._fullReader.onProgress = evt => {\n          loadingTask.onProgress?.({\n            loaded: evt.loaded,\n            total: evt.total,\n          });\n        };\n      }\n\n      return { isStreamingSupported, isRangeSupported, contentLength };\n    });\n\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetRangeReader - no `IPDFStream` instance available.\"\n      );\n      const rangeReader = this._networkStream.getRangeReader(\n        data.begin,\n        data.end\n      );\n\n      // When streaming is enabled, it's possible that the data requested here\n      // has already been fetched via the `_fullRequestReader` implementation.\n      // However, given that the PDF data is loaded asynchronously on the\n      // main-thread and then sent via `postMessage` to the worker-thread,\n      // it may not have been available during parsing (hence the attempt to\n      // use range requests here).\n      //\n      // To avoid wasting time and resources here, we'll thus *not* dispatch\n      // range requests if the data was already loaded but has not been sent to\n      // the worker-thread yet (which will happen via the `_fullRequestReader`).\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              value instanceof ArrayBuffer,\n              \"GetRangeReader - expected an ArrayBuffer.\"\n            );\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"GetDoc\", ({ pdfInfo }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new UnknownErrorException(ex.message, ex.details);\n          break;\n        default:\n          unreachable(\"DocException - expected a valid Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this.#passwordCapability = Promise.withResolvers();\n\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({ password });\n          }\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this.#passwordCapability.reject(ex);\n        }\n      } else {\n        this.#passwordCapability.reject(\n          new PasswordException(exception.message, exception.code)\n        );\n      }\n      return this.#passwordCapability.promise;\n    });\n\n    messageHandler.on(\"DataLoaded\", data => {\n      // For consistency: Ensure that progress is always reported when the\n      // entire PDF file has been loaded, regardless of how it was fetched.\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length,\n      });\n\n      this.downloadInfoCapability.resolve(data);\n    });\n\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return null; // Ignore any pending requests if the worker was terminated.\n      }\n\n      if (this.commonObjs.has(id)) {\n        return null;\n      }\n\n      switch (type) {\n        case \"Font\":\n          const { disableFontFace, fontExtraProperties, pdfBug } = this._params;\n\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          const inspectFont =\n            pdfBug && globalThis.FontInspector?.enabled\n              ? (font, url) => globalThis.FontInspector.fontAdded(font, url)\n              : null;\n          const font = new FontFaceObject(exportedData, {\n            disableFontFace,\n            inspectFont,\n          });\n\n          this.fontLoader\n            .bind(font)\n            .catch(() => messageHandler.sendWithPromise(\"FontFallback\", { id }))\n            .finally(() => {\n              if (!fontExtraProperties && font.data) {\n                // Immediately release the `font.data` property once the font\n                // has been attached to the DOM, since it's no longer needed,\n                // rather than waiting for a `PDFDocumentProxy.cleanup` call.\n                // Since `font.data` could be very large, e.g. in some cases\n                // multiple megabytes, this will help reduce memory usage.\n                font.data = null;\n              }\n              this.commonObjs.resolve(id, font);\n            });\n          break;\n        case \"CopyLocalImage\":\n          const { imageRef } = exportedData;\n          assert(imageRef, \"The imageRef must be defined.\");\n\n          for (const pageProxy of this.#pageCache.values()) {\n            for (const [, data] of pageProxy.objs) {\n              if (data?.ref !== imageRef) {\n                continue;\n              }\n              if (!data.dataLen) {\n                return null;\n              }\n              this.commonObjs.resolve(id, structuredClone(data));\n              return data.dataLen;\n            }\n          }\n          break;\n        case \"FontPath\":\n        case \"Image\":\n        case \"Pattern\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n\n      return null;\n    });\n\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        // Ignore any pending requests if the worker was terminated.\n        return;\n      }\n\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      // Don't store data *after* cleanup has successfully run, see bug 1854145.\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close(); // Release any `ImageBitmap` data.\n        return;\n      }\n\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n\n          // Heuristic that will allow us not to store large data.\n          if (imageData?.dataLen > MAX_IMAGE_SIZE_TO_CACHE) {\n            pageProxy._maybeCleanupAfterRender = true;\n          }\n          break;\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total,\n      });\n    });\n\n    messageHandler.on(\"FetchBuiltInCMap\", async data => {\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n        throw new Error(\"Not implemented: FetchBuiltInCMap\");\n      }\n      if (this.destroyed) {\n        throw new Error(\"Worker was destroyed.\");\n      }\n      if (!this.cMapReaderFactory) {\n        throw new Error(\n          \"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"\n        );\n      }\n      return this.cMapReaderFactory.fetch(data);\n    });\n\n    messageHandler.on(\"FetchStandardFontData\", async data => {\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n        throw new Error(\"Not implemented: FetchStandardFontData\");\n      }\n      if (this.destroyed) {\n        throw new Error(\"Worker was destroyed.\");\n      }\n      if (!this.standardFontDataFactory) {\n        throw new Error(\n          \"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"\n        );\n      }\n      return this.standardFontDataFactory.fetch(data);\n    });\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      warn(\n        \"saveDocument called while `annotationStorage` is empty, \" +\n          \"please use the getData-method instead.\"\n      );\n    }\n    const { map, transfer } = this.annotationStorage.serializable;\n\n    return this.messageHandler\n      .sendWithPromise(\n        \"SaveDocument\",\n        {\n          isPureXfa: !!this._htmlForXfa,\n          numPages: this._numPages,\n          annotationStorage: map,\n          filename: this._fullReader?.filename ?? null,\n        },\n        transfer\n      )\n      .finally(() => {\n        this.annotationStorage.resetModified();\n      });\n  }\n\n  getPage(pageNumber) {\n    if (\n      !Number.isInteger(pageNumber) ||\n      pageNumber <= 0 ||\n      pageNumber > this._numPages\n    ) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(\"GetPage\", {\n        pageIndex,\n      })\n      .then(pageInfo => {\n        if (this.destroyed) {\n          throw new Error(\"Transport destroyed\");\n        }\n        if (pageInfo.refStr) {\n          this.#pageRefCache.set(pageInfo.refStr, pageNumber);\n        }\n\n        const page = new PDFPageProxy(\n          pageIndex,\n          pageInfo,\n          this,\n          this._params.pdfBug\n        );\n        this.#pageCache.set(pageIndex, page);\n        return page;\n      });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    if (!isRefProxy(ref)) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen,\n    });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent,\n    });\n  }\n\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id,\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex,\n    });\n  }\n\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex,\n    });\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getOptionalContentConfig(renderingIntent) {\n    return this.#cacheSimpleMethod(\"GetOptionalContentConfig\").then(\n      data => new OptionalContentConfig(data, renderingIntent)\n    );\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(name, null)\n      .then(results => ({\n        info: results[0],\n        metadata: results[1] ? new Metadata(results[1]) : null,\n        contentDispositionFilename: this._fullReader?.filename ?? null,\n        contentLength: this._fullReader?.contentLength ?? null,\n      }));\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return; // No need to manually clean-up when destruction has started.\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n\n      if (!cleanupSuccessful) {\n        throw new Error(\n          `startCleanup: Page ${page.pageNumber} is currently rendering.`\n        );\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(/* keepHCM = */ true);\n    TextLayer.cleanup();\n  }\n\n  cachedPageNumber(ref) {\n    if (!isRefProxy(ref)) {\n      return null;\n    }\n    const refStr = ref.gen === 0 ? `${ref.num}R` : `${ref.num}R${ref.gen}`;\n    return this.#pageRefCache.get(refStr) ?? null;\n  }\n}\n\nconst INITIAL_DATA = Symbol(\"INITIAL_DATA\");\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects for\n * fonts, images, rendering code, etc. These objects may get processed inside of\n * a worker. This class implements some basic methods to manage these objects.\n */\nclass PDFObjects {\n  #objs = Object.create(null);\n\n  /**\n   * Ensures there is an object defined for `objId`.\n   *\n   * @param {string} objId\n   * @returns {Object}\n   */\n  #ensureObj(objId) {\n    return (this.#objs[objId] ||= {\n      ...Promise.withResolvers(),\n      data: INITIAL_DATA,\n    });\n  }\n\n  /**\n   * If called *without* callback, this returns the data of `objId` but the\n   * object needs to be resolved. If it isn't, this method throws.\n   *\n   * If called *with* a callback, the callback is called with the data of the\n   * object once the object is resolved. That means, if you call this method\n   * and the object is already resolved, the callback gets called right away.\n   *\n   * @param {string} objId\n   * @param {function} [callback]\n   * @returns {any}\n   */\n  get(objId, callback = null) {\n    // If there is a callback, then the get can be async and the object is\n    // not required to be resolved right now.\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.promise.then(() => callback(obj.data));\n      return null;\n    }\n    // If there isn't a callback, the user expects to get the resolved data\n    // directly.\n    const obj = this.#objs[objId];\n    // If there isn't an object yet or the object isn't resolved, then the\n    // data isn't ready yet!\n    if (!obj || obj.data === INITIAL_DATA) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n\n  /**\n   * @param {string} objId\n   * @returns {boolean}\n   */\n  has(objId) {\n    const obj = this.#objs[objId];\n    return !!obj && obj.data !== INITIAL_DATA;\n  }\n\n  /**\n   * Resolves the object `objId` with optional `data`.\n   *\n   * @param {string} objId\n   * @param {any} [data]\n   */\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.resolve();\n  }\n\n  clear() {\n    for (const objId in this.#objs) {\n      const { data } = this.#objs[objId];\n      data?.bitmap?.close(); // Release any `ImageBitmap` data.\n    }\n    this.#objs = Object.create(null);\n  }\n\n  *[Symbol.iterator]() {\n    for (const objId in this.#objs) {\n      const { data } = this.#objs[objId];\n\n      if (data === INITIAL_DATA) {\n        continue;\n      }\n      yield [objId, data];\n    }\n  }\n}\n\n/**\n * Allows controlling of the rendering tasks.\n */\nclass RenderTask {\n  #internalRenderTask = null;\n\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"getOperatorList\", {\n        value: () => this.#internalRenderTask.operatorList,\n      });\n    }\n  }\n\n  /**\n   * Promise for rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n\n  /**\n   * Cancels the rendering task. If the task is currently rendering it will\n   * not be cancelled until graphics pauses with a timeout. The promise that\n   * this object extends will be rejected when cancelled.\n   *\n   * @param {number} [extraDelay]\n   */\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(/* error = */ null, extraDelay);\n  }\n\n  /**\n   * Whether form fields are rendered separately from the main operatorList.\n   * @type {boolean}\n   */\n  get separateAnnots() {\n    const { separateAnnots } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const { annotationCanvasMap } = this.#internalRenderTask;\n    return (\n      separateAnnots.form ||\n      (separateAnnots.canvas && annotationCanvasMap?.size > 0)\n    );\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nclass InternalRenderTask {\n  #rAF = null;\n\n  static #canvasInUse = new WeakSet();\n\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null,\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame =\n      useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = Promise.withResolvers();\n    this.task = new RenderTask(this);\n    // caching this-bound methods\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n\n  get completed() {\n    return this.capability.promise.catch(function () {\n      // Ignoring errors, since we only want to know when rendering is\n      // no longer pending.\n    });\n  }\n\n  initializeGraphics({ transparency = false, optionalContentConfig }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\n          \"Cannot use the same canvas during multiple render() operations. \" +\n            \"Use different canvas or ensure previous operations were \" +\n            \"cancelled or completed.\"\n        );\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const { canvasContext, viewport, transform, background } = this.params;\n\n    this.gfx = new CanvasGraphics(\n      canvasContext,\n      this.commonObjs,\n      this.objs,\n      this.canvasFactory,\n      this.filterFactory,\n      { optionalContentConfig },\n      this.annotationCanvasMap,\n      this.pageColors\n    );\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background,\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    if (this.#rAF) {\n      window.cancelAnimationFrame(this.#rAF);\n      this.#rAF = null;\n    }\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n\n    this.callback(\n      error ||\n        new RenderingCancelledException(\n          `Rendering cancelled, page ${this._pageIndex + 1}`,\n          extraDelay\n        )\n    );\n  }\n\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.stepper?.updateOperatorList(this.operatorList);\n\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      this.#rAF = window.requestAnimationFrame(() => {\n        this.#rAF = null;\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(\n      this.operatorList,\n      this.operatorListIdx,\n      this._continueBound,\n      this.stepper\n    );\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n\n        this.callback();\n      }\n    }\n  }\n}\n\n/** @type {string} */\nconst version =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : null;\n/** @type {string} */\nconst build =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : null;\n\nexport {\n  build,\n  DefaultCanvasFactory,\n  DefaultCMapReaderFactory,\n  DefaultFilterFactory,\n  DefaultStandardFontDataFactory,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFDocumentLoadingTask,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  PDFWorker,\n  RenderTask,\n  version,\n};\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * PLEASE NOTE: This file is currently imported in both the `../display/` and\n *              `../scripting_api/` folders, hence be EXTREMELY careful about\n *              introducing any dependencies here since that can lead to an\n *              unexpected/unnecessary size increase of the *built* files.\n */\n\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255)\n    .toString(16)\n    .padStart(2, \"0\");\n}\n\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\n\n// PDF specifications section 10.3\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n\n  static T_HTML() {\n    return \"#00000000\";\n  }\n\n  static T_rgb() {\n    return [null];\n  }\n\n  static CMYK_RGB([c, y, m, k]) {\n    return [\n      \"RGB\",\n      1 - Math.min(1, c + k),\n      1 - Math.min(1, m + k),\n      1 - Math.min(1, y + k),\n    ];\n  }\n\n  static CMYK_rgb([c, y, m, k]) {\n    return [\n      scaleAndClamp(1 - Math.min(1, c + k)),\n      scaleAndClamp(1 - Math.min(1, m + k)),\n      scaleAndClamp(1 - Math.min(1, y + k)),\n    ];\n  }\n\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\nexport { ColorConverters };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SVG_NS } from \"./display_utils.js\";\nimport { unreachable } from \"../shared/util.js\";\n\nclass BaseSVGFactory {\n  constructor() {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseSVGFactory\n    ) {\n      unreachable(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n\n    return svg;\n  }\n\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n\n  /**\n   * @ignore\n   */\n  _createSVG(type) {\n    unreachable(\"Abstract method `_createSVG` called.\");\n  }\n}\n\nclass DOMSVGFactory extends BaseSVGFactory {\n  /**\n   * @ignore\n   */\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\nexport { BaseSVGFactory, DOMSVGFactory };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_storage\").AnnotationStorage} AnnotationStorage */\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n/** @typedef {import(\"../../web/interfaces\").IPDFLinkService} IPDFLinkService */\n\nimport { XfaText } from \"./xfa_text.js\";\n\n/**\n * @typedef {Object} XfaLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Object} xfaHtml\n * @property {AnnotationStorage} [annotationStorage]\n * @property {IPDFLinkService} linkService\n * @property {string} [intent] - (default value is 'display').\n */\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, { value: null });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, { value: event.target.value });\n        });\n        break;\n      case \"input\":\n        if (\n          element.attributes.type === \"radio\" ||\n          element.attributes.type === \"checkbox\"\n        ) {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            // The checked attribute may have been set when opening the file,\n            // unset through the UI and we're here because of printing.\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked\n                ? event.target.getAttribute(\"xfaOn\")\n                : event.target.getAttribute(\"xfaOff\"),\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, { value: event.target.value });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value =\n            options.selectedIndex === -1\n              ? \"\"\n              : options[options.selectedIndex].value;\n          storage.setValue(id, { value });\n        });\n        break;\n    }\n  }\n\n  static setAttributes({ html, element, storage = null, intent, linkService }) {\n    const { attributes } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n\n    if (attributes.type === \"radio\") {\n      // Avoid to have a radio group when printing with the same as one\n      // already displayed.\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          // We don't need to add dataId in the html object but it can\n          // be useful to know its value when writing printing tests:\n          // in this case, don't skip dataId to have its value.\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || (key !== \"href\" && key !== \"newWindow\")) {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(\n        html,\n        attributes.href,\n        attributes.newWindow\n      );\n    }\n\n    // Set the value after the others to be sure to overwrite any other values.\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n\n  /**\n   * Render the XFA layer.\n   *\n   * @param {XfaLayerParameters} parameters\n   */\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService,\n      });\n    }\n\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n\n    // Set defaults.\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n\n    // Text nodes used for the text highlighter.\n    const textDivs = [];\n\n    // In the rich text context, it's possible to just have a text node without\n    // a root element, so we handle this case here (see issue 17215).\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return { textDivs };\n    }\n\n    const stack = [[root, -1, rootHtml]];\n\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n\n      const { name } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n\n      const childHtml = child?.attributes?.xmlns\n        ? document.createElementNS(child.attributes.xmlns, name)\n        : document.createElement(name);\n\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService,\n        });\n      }\n\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n\n    /**\n     * TODO: re-enable that stuff once we've JS implementation.\n     * See https://bugzilla.mozilla.org/show_bug.cgi?id=1719465.\n     *\n     * for (const el of rootDiv.querySelectorAll(\n     * \".xfaDisabled input, .xfaDisabled textarea\"\n     * )) {\n     * el.setAttribute(\"disabled\", true);\n     * }\n     * for (const el of rootDiv.querySelectorAll(\n     * \".xfaReadOnly input, .xfaReadOnly textarea\"\n     * )) {\n     * el.setAttribute(\"readOnly\", true);\n     * }\n     */\n\n    for (const el of rootDiv.querySelectorAll(\n      \".xfaNonInteractive input, .xfaNonInteractive textarea\"\n    )) {\n      el.setAttribute(\"readOnly\", true);\n    }\n\n    return {\n      textDivs,\n    };\n  }\n\n  /**\n   * Update the XFA layer.\n   *\n   * @param {XfaLayerParameters} parameters\n   */\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\nexport { XfaLayer };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./api\").PDFPageProxy} PDFPageProxy */\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../web/text_accessibility.js\").TextAccessibilityManager} TextAccessibilityManager */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../web/interfaces\").IDownloadManager} IDownloadManager */\n/** @typedef {import(\"../../web/interfaces\").IPDFLinkService} IPDFLinkService */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../src/display/editor/tools.js\").AnnotationEditorUIManager} AnnotationEditorUIManager */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../web/struct_tree_layer_builder.js\").StructTreeLayerBuilder} StructTreeLayerBuilder */\n\nimport {\n  AnnotationBorderStyleType,\n  AnnotationEditorType,\n  AnnotationPrefix,\n  AnnotationType,\n  FeatureTest,\n  LINE_FACTOR,\n  shadow,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { PDFDateString, setLayerDimensions } from \"./display_utils.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { ColorConverters } from \"../shared/scripting_utils.js\";\nimport { DOMSVGFactory } from \"./svg_factory.js\";\nimport { XfaLayer } from \"./xfa_layer.js\";\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\n\nfunction getRectDims(rect) {\n  return {\n    width: rect[2] - rect[0],\n    height: rect[3] - rect[1],\n  };\n}\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {IPDFLinkService} linkService\n * @property {IDownloadManager} [downloadManager]\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderForms\n * @property {Object} svgFactory\n * @property {boolean} [enableScripting]\n * @property {boolean} [hasJSActions]\n * @property {Object} [fieldObjects]\n */\n\nclass AnnotationElementFactory {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\n\nclass AnnotationElement {\n  #updates = null;\n\n  #hasBorder = false;\n\n  #popupElement = null;\n\n  constructor(\n    parameters,\n    {\n      isRenderable = false,\n      ignoreBorder = false,\n      createQuadrilaterals = false,\n    } = {}\n  ) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n\n  static _hasPopupData({ titleObj, contentsObj, richText }) {\n    return !!(titleObj?.str || contentsObj?.str || richText?.str);\n  }\n\n  get _isEditable() {\n    return this.data.isEditable;\n  }\n\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data);\n  }\n\n  updateEdited(params) {\n    if (!this.container) {\n      return;\n    }\n\n    this.#updates ||= {\n      rect: this.data.rect.slice(0),\n    };\n\n    const { rect } = params;\n\n    if (rect) {\n      this.#setRectEdited(rect);\n    }\n\n    this.#popupElement?.popup.updateEdited(params);\n  }\n\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    this.#setRectEdited(this.#updates.rect);\n    this.#popupElement?.popup.resetEdited();\n    this.#updates = null;\n  }\n\n  #setRectEdited(rect) {\n    const {\n      container: { style },\n      data: { rect: currentRect, rotation },\n      parent: {\n        viewport: {\n          rawDims: { pageWidth, pageHeight, pageX, pageY },\n        },\n      },\n    } = this;\n    currentRect?.splice(0, 4, ...rect);\n    const { width, height } = getRectDims(rect);\n    style.left = `${(100 * (rect[0] - pageX)) / pageWidth}%`;\n    style.top = `${(100 * (pageHeight - rect[3] + pageY)) / pageHeight}%`;\n    if (rotation === 0) {\n      style.width = `${(100 * width) / pageWidth}%`;\n      style.height = `${(100 * height) / pageHeight}%`;\n    } else {\n      this.setRotation(rotation);\n    }\n  }\n\n  /**\n   * Create an empty container for the annotation's HTML element.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {HTMLElement} A section element.\n   */\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: { page, viewport },\n    } = this;\n\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement)) {\n      container.tabIndex = DEFAULT_TAB_INDEX;\n    }\n    const { style } = container;\n\n    // The accessibility manager will move the annotation in the DOM in\n    // order to match the visual ordering.\n    // But if an annotation is above an other one, then we must draw it\n    // after the other one whatever the order is in the DOM, hence the\n    // use of the z-index.\n    style.zIndex = this.parent.zIndex++;\n\n    if (data.alternativeText) {\n      container.title = data.alternativeText;\n    }\n\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const { rotation } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n\n    const { width, height } = getRectDims(data.rect);\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      style.borderWidth = `${data.borderStyle.width}px`;\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--scale-factor)) / calc(${verticalRadius}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--scale-factor)) / calc(${height}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          style.borderStyle = \"solid\";\n          break;\n\n        case AnnotationBorderStyleType.DASHED:\n          style.borderStyle = \"dashed\";\n          break;\n\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n\n        case AnnotationBorderStyleType.UNDERLINE:\n          style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        style.borderColor = Util.makeHexColor(\n          borderColor[0] | 0,\n          borderColor[1] | 0,\n          borderColor[2] | 0\n        );\n      } else {\n        // Transparent (invisible) border, so do not draw it at all.\n        style.borderWidth = 0;\n      }\n    }\n\n    // Do *not* modify `data.rect`, since that will corrupt the annotation\n    // position on subsequent calls to `_createContainer` (see issue 6804).\n    const rect = Util.normalizeRect([\n      data.rect[0],\n      page.view[3] - data.rect[1] + page.view[1],\n      data.rect[2],\n      page.view[3] - data.rect[3] + page.view[1],\n    ]);\n    const { pageWidth, pageHeight, pageX, pageY } = viewport.rawDims;\n\n    style.left = `${(100 * (rect[0] - pageX)) / pageWidth}%`;\n    style.top = `${(100 * (rect[1] - pageY)) / pageHeight}%`;\n\n    const { rotation } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      style.width = `${(100 * width) / pageWidth}%`;\n      style.height = `${(100 * height) / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n\n    return container;\n  }\n\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const { pageWidth, pageHeight } = this.parent.viewport.rawDims;\n    const { width, height } = getRectDims(this.data.rect);\n\n    let elementWidth, elementHeight;\n    if (angle % 180 === 0) {\n      elementWidth = (100 * width) / pageWidth;\n      elementHeight = (100 * height) / pageHeight;\n    } else {\n      elementWidth = (100 * height) / pageWidth;\n      elementHeight = (100 * width) / pageHeight;\n    }\n\n    container.style.width = `${elementWidth}%`;\n    container.style.height = `${elementHeight}%`;\n\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] =\n        ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray),\n      });\n    };\n\n    return shadow(this, \"_commonActions\", {\n      display: event => {\n        const { display } = event.detail;\n        // See scripting/constants.js for the values of `Display`.\n        // 0 = visible, 1 = hidden, 2 = noPrint and 3 = noView.\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2,\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print,\n        });\n      },\n      hidden: event => {\n        const { hidden } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden,\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({ preventScroll: false }), 0);\n      },\n      userName: event => {\n        // tooltip\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle,\n        });\n      },\n    });\n  }\n\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n\n    // Some properties may have been updated thanks to JS.\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail,\n          },\n          target: element,\n        };\n        action(eventProxy);\n        // The action has been consumed: no need to keep it.\n        delete storedData[actionName];\n      }\n    }\n  }\n\n  /**\n   * Create quadrilaterals from the annotation's quadpoints.\n   *\n   * @private\n   * @memberof AnnotationElement\n   */\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const { quadPoints } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect.map(x =>\n      Math.fround(x)\n    );\n\n    if (quadPoints.length === 8) {\n      const [trX, trY, blX, blY] = quadPoints.subarray(2, 6);\n      if (\n        rectTrX === trX &&\n        rectTrY === trY &&\n        rectBlX === blX &&\n        rectBlY === blY\n      ) {\n        // The quadpoints cover the whole annotation rectangle, so no need to\n        // create a quadrilateral.\n        return;\n      }\n    }\n\n    const { style } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const { borderColor, borderWidth } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\n        \"url('data:image/svg+xml;utf8,\",\n        `<svg xmlns=\"http://www.w3.org/2000/svg\"`,\n        ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`,\n        `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`,\n      ];\n      this.container.classList.add(\"hasBorder\");\n    }\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      this.container.classList.add(\"hasClipPath\");\n    }\n\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n\n    const { svgFactory } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n\n    for (let i = 2, ii = quadPoints.length; i < ii; i += 8) {\n      const trX = quadPoints[i];\n      const trY = quadPoints[i + 1];\n      const blX = quadPoints[i + 2];\n      const blY = quadPoints[i + 3];\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(\n        `<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`\n      );\n    }\n\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n\n  /**\n   * Create a popup for the annotation's HTML element. This is used for\n   * annotations that do not have a Popup entry in the dictionary, but\n   * are of a type that works with popups (such as Highlight annotations).\n   *\n   * @private\n   * @memberof AnnotationElement\n   */\n  _createPopup() {\n    const { data } = this;\n\n    const popup = (this.#popupElement = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate: data.modificationDate,\n        contentsObj: data.contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation,\n      },\n      parent: this.parent,\n      elements: [this],\n    }));\n    this.parent.div.append(popup.render());\n  }\n\n  /**\n   * Render the annotation's HTML element(s).\n   *\n   * @public\n   * @memberof AnnotationElement\n   */\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n\n  /**\n   * @private\n   * @returns {Array}\n   */\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const { page, id, exportValues } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue =\n            typeof exportValues === \"string\" ? exportValues : null;\n\n          const domElement = document.querySelector(\n            `[data-element-id=\"${id}\"]`\n          );\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            warn(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({ id, exportValue, domElement });\n        }\n      }\n      return fields;\n    }\n    // Fallback to a regular DOM lookup, to ensure that the standalone\n    // viewer components won't break.\n    for (const domElement of document.getElementsByName(name)) {\n      const { exportValue } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({ id, exportValue, domElement });\n    }\n    return fields;\n  }\n\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n\n  /**\n   * Get the HTML element(s) which can trigger a popup when clicked or hovered.\n   *\n   * @public\n   * @memberof AnnotationElement\n   * @returns {Array<HTMLElement>|HTMLElement} An array of elements or an\n   *          element.\n   */\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: { id: editId },\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId,\n      });\n    });\n  }\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true,\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n\n  render() {\n    const { data, linkService } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(link, data.attachment, data.attachmentDest);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n      isBound = true;\n    } else {\n      if (\n        data.actions &&\n        (data.actions.Action ||\n          data.actions[\"Mouse Up\"] ||\n          data.actions[\"Mouse Down\"]) &&\n        this.enableScripting &&\n        this.hasJSActions\n      ) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.container.append(link);\n    }\n\n    return this.container;\n  }\n\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n\n  /**\n   * Bind internal links to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} destination\n   * @memberof LinkAnnotationElement\n   */\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === /* isTooltipOnly = */ \"\") {\n      this.#setInternalLink();\n    }\n  }\n\n  /**\n   * Bind named actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} action\n   * @memberof LinkAnnotationElement\n   */\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n\n  /**\n   * Bind attachments to the link element.\n   * @param {Object} link\n   * @param {Object} attachment\n   * @param {str} [dest]\n   */\n  #bindAttachment(link, attachment, dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    if (attachment.description) {\n      link.title = attachment.description;\n    }\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(\n        attachment.content,\n        attachment.filename,\n        dest\n      );\n      return false;\n    };\n    this.#setInternalLink();\n  }\n\n  /**\n   * Bind SetOCGState actions to the link element.\n   * @param {Object} link\n   * @param {Object} action\n   */\n  #bindSetOCGState(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n\n  /**\n   * Bind JS actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} data\n   * @memberof LinkAnnotationElement\n   */\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([\n      [\"Action\", \"onclick\"],\n      [\"Mouse Up\", \"onmouseup\"],\n      [\"Mouse Down\", \"onmousedown\"],\n    ]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name,\n          },\n        });\n        return false;\n      };\n    }\n\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n\n    if (!this._fieldObjects) {\n      warn(\n        `_bindResetFormAction - \"resetForm\" action not supported, ` +\n          \"ensure that the `fieldObjects` parameter is provided.\"\n      );\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n\n    link.onclick = () => {\n      otherClickAction?.();\n\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include,\n      } = resetForm;\n\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const { id } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const { id } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\": {\n            const value = field.defaultValue || \"\";\n            storage.setValue(id, { value });\n            break;\n          }\n          case \"checkbox\":\n          case \"radiobutton\": {\n            const value = field.defaultValue === field.exportValues;\n            storage.setValue(id, { value });\n            break;\n          }\n          case \"combobox\":\n          case \"listbox\": {\n            const value = field.defaultValue || \"\";\n            storage.setValue(id, { value });\n            break;\n          }\n          default:\n            continue;\n        }\n\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          warn(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n\n      if (this.enableScripting) {\n        // Update the values in the sandbox.\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\",\n          },\n        });\n      }\n\n      return false;\n    };\n  }\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true });\n  }\n\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n\n    const image = document.createElement(\"img\");\n    image.src =\n      this.imageResourcesPath +\n      \"annotation-\" +\n      this.data.name.toLowerCase() +\n      \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\n      \"data-l10n-args\",\n      JSON.stringify({ type: this.data.name })\n    );\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.append(image);\n    return this.container;\n  }\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    // Show only the container for unsupported field types.\n    return this.container;\n  }\n\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n\n  _getKeyModifier(event) {\n    return FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      // Mouse events\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event),\n          },\n        });\n      });\n    } else {\n      // Non-mouse events\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n\n        if (!valueGetter) {\n          return;\n        }\n\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n          },\n        });\n      });\n    }\n  }\n\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= { focused: false };\n        }\n        this._setEventListener(\n          element,\n          elementData,\n          baseName,\n          eventName,\n          getter\n        );\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          // Ensure that elementData will have the correct value.\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor =\n      color === null\n        ? \"transparent\"\n        : Util.makeHexColor(color[0], color[1], color[2]);\n  }\n\n  /**\n   * Apply text styles to the text in the element.\n   *\n   * @private\n   * @param {HTMLDivElement} element\n   * @memberof TextWidgetAnnotationElement\n   */\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const { fontColor } = this.data.defaultAppearanceData;\n    const fontSize =\n      this.data.defaultAppearanceData.fontSize || DEFAULT_FONT_SIZE;\n\n    const style = element.style;\n\n    // TODO: If the font-size is zero, calculate it based on the height and\n    //       width of the element.\n    // Not setting `style.fontSize` will use the default font-size for now.\n\n    // We don't use the font, as specified in the PDF document, for the <input>\n    // element. Hence using the original `fontSize` could look bad, which is why\n    // it's instead based on the field height.\n    // If the height is \"big\" then it could lead to a too big font size\n    // so in this case use the one we've in the pdf (hence the min).\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(\n        this.data.rect[3] - this.data.rect[1] - BORDER_SIZE\n      );\n      const numberOfLines = Math.round(height / (LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(\n        fontSize,\n        roundToOneDecimal(lineHeight / LINE_FACTOR)\n      );\n    } else {\n      const height = Math.abs(\n        this.data.rect[3] - this.data.rect[1] - BORDER_SIZE\n      );\n      computedFontSize = Math.min(\n        fontSize,\n        roundToOneDecimal(height / LINE_FACTOR)\n      );\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--scale-factor))`;\n\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable =\n      parameters.renderForms ||\n      parameters.data.hasOwnCanvas ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    super(parameters, { isRenderable });\n  }\n\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(\n      base.name,\n      /* skipId = */ base.id\n    )) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, { [keyInStorage]: value });\n    }\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    this.container.classList.add(\"textWidgetAnnotation\");\n\n    let element = null;\n    if (this.renderForms) {\n      // NOTE: We cannot set the values using `element.value` below, since it\n      //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n      //       from parsing the elements correctly for the reference tests.\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue,\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen,\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n\n      let fieldFormattedValues =\n        storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false,\n      };\n\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      element.setAttribute(\"data-element-id\", id);\n\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n\n      this._setRequired(element, this.data.required);\n\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, { value: event.target.value });\n        this.setPropertyOnSiblings(\n          element,\n          \"value\",\n          event.target.value,\n          \"value\"\n        );\n        elementData.formattedValue = null;\n      });\n\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n\n      let blurListener = event => {\n        const { formattedValue } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        // Reset the cursor position to the start of the field (issue 12359).\n        event.target.scrollLeft = 0;\n      };\n\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const { target } = event;\n          if (elementData.userValue) {\n            target.value = elementData.userValue;\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          if (!this.data.actions?.Focus) {\n            elementData.focused = true;\n          }\n        });\n\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              storage.setValue(id, { value: elementData.userValue.toString() });\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const { formattedValue } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (\n                formattedValue !== null &&\n                formattedValue !== undefined &&\n                event.target !== document.activeElement\n              ) {\n                // Input hasn't the focus so display formatted string\n                event.target.value = formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue,\n              });\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const { charLimit } = event.detail;\n              const { target } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, { value });\n\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd,\n                },\n              });\n            },\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n\n        // Even if the field hasn't any actions\n        // leaving it can still trigger some actions with Calculate\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          // If the key is one of Escape, Enter then the data are committed.\n          // If we've a Tab then data will be committed on blur.\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            // When we've a multiline field, \"Enter\" key is a key as the other\n            // hence we don't commit the data (Acrobat behaves the same way)\n            // (see issue #15627).\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const { value } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          // Save the entered value\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd,\n            },\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          if (!this.data.actions?.Blur) {\n            elementData.focused = false;\n          }\n          const { value } = event.target;\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd,\n              },\n            });\n          }\n          _blurListener(event);\n        });\n\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const { data, target } = event;\n            const { value, selectionStart, selectionEnd } = target;\n\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n\n            switch (event.inputType) {\n              // https://rawgit.com/w3c/input-events/v1/index.html#interface-InputEvent-Attributes\n              case \"deleteWordBackward\": {\n                const match = value\n                  .substring(0, selectionStart)\n                  .match(/\\w*[^\\w]*$/);\n                if (match) {\n                  selStart -= match[0].length;\n                }\n                break;\n              }\n              case \"deleteWordForward\": {\n                const match = value\n                  .substring(selectionStart)\n                  .match(/^[^\\w]*\\w*/);\n                if (match) {\n                  selEnd += match[0].length;\n                }\n                break;\n              }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n\n            // We handle the event ourselves.\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd,\n              },\n            });\n          });\n        }\n\n        this._setEventListeners(\n          element,\n          elementData,\n          [\n            [\"focus\", \"Focus\"],\n            [\"blur\", \"Blur\"],\n            [\"mousedown\", \"Mouse Down\"],\n            [\"mouseenter\", \"Mouse Enter\"],\n            [\"mouseleave\", \"Mouse Exit\"],\n            [\"mouseup\", \"Mouse Up\"],\n          ],\n          event => event.target.value\n        );\n      }\n\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.append(element);\n    return this.container;\n  }\n}\n\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: !!parameters.data.hasOwnCanvas });\n  }\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue,\n    }).value;\n    if (typeof value === \"string\") {\n      // The value has been changed through js and set in annotationStorage.\n      value = value !== \"Off\";\n      storage.setValue(id, { value });\n    }\n\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n\n    element.addEventListener(\"change\", event => {\n      const { name, checked } = event.target;\n      for (const checkbox of this._getElementsByName(name, /* skipId = */ id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, { value: curChecked });\n      }\n      storage.setValue(id, { value: checked });\n    });\n\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, { value: event.target.checked });\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(\n        element,\n        null,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.append(element);\n    return this.container;\n  }\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue,\n    }).value;\n    if (typeof value === \"string\") {\n      // The value has been changed through js and set in annotationStorage.\n      value = value !== data.buttonValue;\n      storage.setValue(id, { value });\n    }\n\n    if (value) {\n      // It's possible that multiple radio buttons are checked.\n      // So if this one is checked we just reset the other ones.\n      // (see bug 1864136). Then when the other ones will be rendered they will\n      // unchecked (because of their value in the storage).\n      // Consequently, the first checked radio button will be the only checked\n      // one.\n      for (const radio of this._getElementsByName(\n        data.fieldName,\n        /* skipId = */ id\n      )) {\n        storage.setValue(radio.id, { value: false });\n      }\n    }\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = DEFAULT_TAB_INDEX;\n\n    element.addEventListener(\"change\", event => {\n      const { name, checked } = event.target;\n      for (const radio of this._getElementsByName(name, /* skipId = */ id)) {\n        storage.setValue(radio.id, { value: false });\n      }\n      storage.setValue(id, { value: checked });\n    });\n\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked =\n        defaultValue !== null &&\n        defaultValue !== undefined &&\n        defaultValue === data.buttonValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, { value: curChecked });\n            }\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(\n        element,\n        null,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.append(element);\n    return this.container;\n  }\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { ignoreBorder: parameters.data.hasAppearance });\n  }\n\n  render() {\n    // The rendering and functionality of a push button widget annotation is\n    // equal to that of a link annotation, but may have more functionality, such\n    // as performing actions on form fields (resetting, submitting, et cetera).\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n\n    return container;\n  }\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue,\n    });\n\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n\n    if (!this.data.combo) {\n      // List boxes have a size and (optionally) multiple selection.\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n\n    // Insert the options into the choice field.\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const { options, multiple } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1\n          ? null\n          : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter\n        .call(options, option => option.selected)\n        .map(option => option[name]);\n    };\n\n    let selectedValues = getValue(/* isExport */ false);\n\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => ({\n        displayValue: option.textContent,\n        exportValue: option.value,\n      }));\n    };\n\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(\n                options,\n                option => option.selected\n              );\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n              items: getItems(event),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, { value: null, items: [] });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          insert(event) {\n            const { index, displayValue, exportValue } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n              items: getItems(event),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          items(event) {\n            const { items } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const { displayValue, exportValue } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n              items: getItems(event),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(/* isExport */ true);\n        const change = getValue(/* isExport */ false);\n        storage.setValue(id, { value: exportValue });\n\n        event.preventDefault();\n\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            change,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false,\n          },\n        });\n      });\n\n      this._setEventListeners(\n        selectElement,\n        null,\n        [\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n          [\"input\", \"Action\"],\n          [\"input\", \"Validate\"],\n        ],\n        event => event.target.value\n      );\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, { value: getValue(/* isExport */ true) });\n      });\n    }\n\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {\n      // Just use the default font size...\n      // it's a bit hard to guess what is a good size.\n    }\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const { data, elements } = parameters;\n    super(parameters, { isRenderable: AnnotationElement._hasPopupData(data) });\n    this.elements = elements;\n    this.popup = null;\n  }\n\n  render() {\n    this.container.classList.add(\"popupAnnotation\");\n\n    const popup = (this.popup = new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open,\n    }));\n\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      element.container.ariaHasPopup = \"dialog\";\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n\n    this.container.setAttribute(\n      \"aria-controls\",\n      elementIds.map(id => `${AnnotationPrefix}${id}`).join(\",\")\n    );\n\n    return this.container;\n  }\n}\n\nclass PopupElement {\n  #boundKeyDown = this.#keyDown.bind(this);\n\n  #boundHide = this.#hide.bind(this);\n\n  #boundShow = this.#show.bind(this);\n\n  #boundToggle = this.#toggle.bind(this);\n\n  #color = null;\n\n  #container = null;\n\n  #contentsObj = null;\n\n  #dateObj = null;\n\n  #elements = null;\n\n  #parent = null;\n\n  #parentRect = null;\n\n  #pinned = false;\n\n  #popup = null;\n\n  #position = null;\n\n  #rect = null;\n\n  #richText = null;\n\n  #titleObj = null;\n\n  #updates = null;\n\n  #wasVisible = false;\n\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open,\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n\n    // The modification date is shown in the popup instead of the creation\n    // date if it is available and can be parsed correctly, which is\n    // consistent with other viewers such as Adobe Acrobat.\n    this.#dateObj = PDFDateString.toDateObject(modificationDate);\n\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    // Attach the event listeners to the trigger element.\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle);\n      element.addEventListener(\"mouseenter\", this.#boundShow);\n      element.addEventListener(\"mouseleave\", this.#boundHide);\n      element.classList.add(\"popupTriggerArea\");\n    }\n\n    // Attach the event listener to toggle the popup with the keyboard.\n    for (const element of elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown);\n    }\n\n    this.#container.hidden = true;\n    if (open) {\n      this.#toggle();\n    }\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      // Since the popup is lazily created, we need to ensure that it'll be\n      // created and displayed during reference tests.\n      this.#parent.popupShow.push(async () => {\n        if (this.#container.hidden) {\n          this.#show();\n        }\n      });\n    }\n  }\n\n  render() {\n    if (this.#popup) {\n      return;\n    }\n\n    const popup = (this.#popup = document.createElement(\"div\"));\n    popup.className = \"popup\";\n\n    if (this.#color) {\n      const baseColor = (popup.style.outlineColor = Util.makeHexColor(\n        ...this.#color\n      ));\n      if (\n        (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n        CSS.supports(\"background-color\", \"color-mix(in srgb, red 30%, white)\")\n      ) {\n        popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n      } else {\n        // color-mix isn't supported in some browsers hence this version.\n        // See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/color-mix#browser_compatibility\n        // TODO: Use color-mix when it's supported everywhere.\n        // Enlighten the color.\n        const BACKGROUND_ENLIGHT = 0.7;\n        popup.style.backgroundColor = Util.makeHexColor(\n          ...this.#color.map(c =>\n            Math.floor(BACKGROUND_ENLIGHT * (255 - c) + c)\n          )\n        );\n      }\n    }\n\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    const title = document.createElement(\"h1\");\n    header.append(title);\n    ({ dir: title.dir, str: title.textContent } = this.#titleObj);\n    popup.append(header);\n\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.classList.add(\"popupDate\");\n      modificationDate.setAttribute(\n        \"data-l10n-id\",\n        \"pdfjs-annotation-date-time-string\"\n      );\n      modificationDate.setAttribute(\n        \"data-l10n-args\",\n        JSON.stringify({ dateObj: this.#dateObj.valueOf() })\n      );\n      header.append(modificationDate);\n    }\n\n    const html = this.#html;\n    if (html) {\n      XfaLayer.render({\n        xfaHtml: html,\n        intent: \"richText\",\n        div: popup,\n      });\n      popup.lastChild.classList.add(\"richText\", \"popupContent\");\n    } else {\n      const contents = this._formatContents(this.#contentsObj);\n      popup.append(contents);\n    }\n    this.#container.append(popup);\n  }\n\n  get #html() {\n    const richText = this.#richText;\n    const contentsObj = this.#contentsObj;\n    if (\n      richText?.str &&\n      (!contentsObj?.str || contentsObj.str === richText.str)\n    ) {\n      return this.#richText.html || null;\n    }\n    return null;\n  }\n\n  get #fontSize() {\n    return this.#html?.attributes?.style?.fontSize || 0;\n  }\n\n  get #fontColor() {\n    return this.#html?.attributes?.style?.color || null;\n  }\n\n  #makePopupContent(text) {\n    const popupLines = [];\n    const popupContent = {\n      str: text,\n      html: {\n        name: \"div\",\n        attributes: {\n          dir: \"auto\",\n        },\n        children: [\n          {\n            name: \"p\",\n            children: popupLines,\n          },\n        ],\n      },\n    };\n    const lineAttributes = {\n      style: {\n        color: this.#fontColor,\n        fontSize: this.#fontSize\n          ? `calc(${this.#fontSize}px * var(--scale-factor))`\n          : \"\",\n      },\n    };\n    for (const line of text.split(\"\\n\")) {\n      popupLines.push({\n        name: \"span\",\n        value: line,\n        attributes: lineAttributes,\n      });\n    }\n    return popupContent;\n  }\n\n  /**\n   * Format the contents of the popup by adding newlines where necessary.\n   *\n   * @private\n   * @param {Object<string, string>} contentsObj\n   * @memberof PopupElement\n   * @returns {HTMLParagraphElement}\n   */\n  _formatContents({ str, dir }) {\n    const p = document.createElement(\"p\");\n    p.classList.add(\"popupContent\");\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n\n    if (event.key === \"Enter\" || (event.key === \"Escape\" && this.#pinned)) {\n      this.#toggle();\n    }\n  }\n\n  updateEdited({ rect, popupContent }) {\n    this.#updates ||= {\n      contentsObj: this.#contentsObj,\n      richText: this.#richText,\n    };\n    if (rect) {\n      this.#position = null;\n    }\n    if (popupContent) {\n      this.#richText = this.#makePopupContent(popupContent);\n      this.#contentsObj = null;\n    }\n    this.#popup?.remove();\n    this.#popup = null;\n  }\n\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    ({ contentsObj: this.#contentsObj, richText: this.#richText } =\n      this.#updates);\n    this.#updates = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#position = null;\n  }\n\n  #setPosition() {\n    if (this.#position !== null) {\n      return;\n    }\n    const {\n      page: { view },\n      viewport: {\n        rawDims: { pageWidth, pageHeight, pageX, pageY },\n      },\n    } = this.#parent;\n\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n\n    const normalizedRect = Util.normalizeRect([\n      rect[0],\n      view[3] - rect[1] + view[1],\n      rect[2],\n      view[3] - rect[3] + view[1],\n    ]);\n\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect\n      ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION\n      : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    this.#position = [\n      (100 * (popupLeft - pageX)) / pageWidth,\n      (100 * (popupTop - pageY)) / pageHeight,\n    ];\n\n    const { style } = this.#container;\n    style.left = `${this.#position[0]}%`;\n    style.top = `${this.#position[1]}%`;\n  }\n\n  /**\n   * Toggle the visibility of the popup.\n   */\n  #toggle() {\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n\n  /**\n   * Show the popup.\n   */\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#setPosition();\n      this.#container.hidden = false;\n      this.#container.style.zIndex =\n        parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n\n  /**\n   * Hide the popup.\n   */\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex =\n      parseInt(this.#container.style.zIndex) - 1000;\n  }\n\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n\n  maybeShow() {\n    if (!this.#wasVisible) {\n      return;\n    }\n    if (!this.#popup) {\n      this.#show();\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n\n  get isVisible() {\n    return this.#container.hidden === false;\n  }\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = AnnotationEditorType.FREETEXT;\n  }\n\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n\n    if (this.textContent) {\n      const content = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this._editOnDoubleClick();\n\n    return this.container;\n  }\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n\n    // Create an invisible line with the same starting and ending coordinates\n    // that acts as the trigger for the popup. Only the line itself should\n    // trigger the popup, not the entire container.\n    const data = this.data;\n    const { width, height } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // PDF coordinates are calculated from a bottom left origin, so transform\n    // the line coordinates to a top left origin for the SVG element.\n    const line = (this.#line = this.svgFactory.createElement(\"svg:line\"));\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(line);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the line instead\n    // of to the entire container (which is the default).\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n\n    // Create an invisible square with the same rectangle that acts as the\n    // trigger for the popup. Only the square itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const { width, height } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // The browser draws half of the borders inside the square and half of\n    // the borders outside the square by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const square = (this.#square = this.svgFactory.createElement(\"svg:rect\"));\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(square);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the square instead\n    // of to the entire container (which is the default).\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n\n    // Create an invisible circle with the same ellipse that acts as the\n    // trigger for the popup. Only the circle itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const { width, height } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // The browser draws half of the borders inside the circle and half of\n    // the borders outside the circle by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const circle = (this.#circle =\n      this.svgFactory.createElement(\"svg:ellipse\"));\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(circle);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the circle instead\n    // of to the entire container (which is the default).\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.classList.add(this.containerClassName);\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup. Only the polyline itself should trigger the\n    // popup, not the entire container.\n    const {\n      data: { rect, vertices, borderStyle, popupRef },\n    } = this;\n    if (!vertices) {\n      return this.container;\n    }\n    const { width, height } = getRectDims(rect);\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // Convert the vertices array to a single points string that the SVG\n    // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n    // calculated from a bottom left origin, so transform the polyline\n    // coordinates to a top left origin for the SVG element.\n    let points = [];\n    for (let i = 0, ii = vertices.length; i < ii; i += 2) {\n      const x = vertices[i] - rect[0];\n      const y = rect[3] - vertices[i + 1];\n      points.push(`${x},${y}`);\n    }\n    points = points.join(\" \");\n\n    const polyline = (this.#polyline = this.svgFactory.createElement(\n      this.svgElementName\n    ));\n    polyline.setAttribute(\"points\", points);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    polyline.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(polyline);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the polyline\n    // instead of to the entire container (which is the default).\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    // Polygons are specific forms of polylines, so reuse their logic.\n    super(parameters);\n\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  #polylines = [];\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n\n    this.containerClassName = \"inkAnnotation\";\n\n    // Use the polyline SVG element since it allows us to use coordinates\n    // directly and to draw both straight lines and curves.\n    this.svgElementName = \"svg:polyline\";\n\n    this.annotationEditorType =\n      this.data.it === \"InkHighlight\"\n        ? AnnotationEditorType.HIGHLIGHT\n        : AnnotationEditorType.INK;\n  }\n\n  render() {\n    this.container.classList.add(this.containerClassName);\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup.\n    const {\n      data: { rect, inkLists, borderStyle, popupRef },\n    } = this;\n    const { width, height } = getRectDims(rect);\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    for (const inkList of inkLists) {\n      // Convert the ink list to a single points string that the SVG\n      // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n      // calculated from a bottom left origin, so transform the polyline\n      // coordinates to a top left origin for the SVG element.\n      let points = [];\n      for (let i = 0, ii = inkList.length; i < ii; i += 2) {\n        const x = inkList[i] - rect[0];\n        const y = rect[3] - inkList[i + 1];\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", points);\n      // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n      // won't be possible to open/close the popup (note e.g. issue 11122).\n      polyline.setAttribute(\"stroke-width\", borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"transparent\");\n\n      svg.append(polyline);\n    }\n\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.append(svg);\n    this._editOnDoubleClick();\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n    this.annotationEditorType = AnnotationEditorType.HIGHLIGHT;\n  }\n\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"highlightAnnotation\");\n    this._editOnDoubleClick();\n\n    return this.container;\n  }\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"underlineAnnotation\");\n    return this.container;\n  }\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"squigglyAnnotation\");\n    return this.container;\n  }\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"strikeoutAnnotation\");\n    return this.container;\n  }\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n    this.annotationEditorType = AnnotationEditorType.STAMP;\n  }\n\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    this.container.setAttribute(\"role\", \"img\");\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n\n    return this.container;\n  }\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true });\n\n    const { file } = this.data;\n    this.filename = file.filename;\n    this.content = file.content;\n\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      ...file,\n    });\n  }\n\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n\n    const { container, data } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      // Unfortunately it seems that it's not clearly specified exactly what\n      // names are actually valid, since Table 184 contains:\n      //   Conforming readers shall provide predefined icon appearances for at\n      //   least the following standard names: GraphPushPin, PaperclipTag.\n      //   Additional names may be supported as well. Default value: PushPin.\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${\n        /paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"\n      }.svg`;\n\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(\n          data.fillAlpha * 100\n        )}%);`;\n\n        if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n          this.container.classList.add(\"hasFillAlpha\");\n        }\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n\n    const { isMac } = FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n\n    container.append(trigger);\n    return container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n\n  /**\n   * Download the file attachment associated with this annotation.\n   */\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPageProxy} page\n * @property {IPDFLinkService} linkService\n * @property {IDownloadManager} [downloadManager]\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderForms\n * @property {boolean} [enableScripting] - Enable embedded script execution.\n * @property {boolean} [hasJSActions] - Some fields have JS actions.\n *   The default value is `false`.\n * @property {Object<string, Array<Object>> | null} [fieldObjects]\n * @property {Map<string, HTMLCanvasElement>} [annotationCanvasMap]\n * @property {TextAccessibilityManager} [accessibilityManager]\n * @property {AnnotationEditorUIManager} [annotationEditorUIManager]\n * @property {StructTreeLayerBuilder} [structTreeLayer]\n */\n\n/**\n * Manage the layer containing all the annotations.\n */\nclass AnnotationLayer {\n  #accessibilityManager = null;\n\n  #annotationCanvasMap = null;\n\n  #editableAnnotations = new Map();\n\n  #structTreeLayer = null;\n\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    annotationEditorUIManager,\n    page,\n    viewport,\n    structTreeLayer,\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.#structTreeLayer = structTreeLayer || null;\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"showPopups\", {\n        value: async () => {\n          for (const show of this.popupShow) {\n            await show();\n          }\n        },\n      });\n      this.popupShow = [];\n    }\n  }\n\n  hasEditableAnnotations() {\n    return this.#editableAnnotations.size > 0;\n  }\n\n  async #appendElement(element, id) {\n    const contentElement = element.firstChild || element;\n    const annotationId = (contentElement.id = `${AnnotationPrefix}${id}`);\n    const ariaAttributes =\n      await this.#structTreeLayer?.getAriaAttributes(annotationId);\n    if (ariaAttributes) {\n      for (const [key, value] of ariaAttributes) {\n        contentElement.setAttribute(key, value);\n      }\n    }\n\n    this.div.append(element);\n    this.#accessibilityManager?.moveElementInDOM(\n      this.div,\n      element,\n      contentElement,\n      /* isRemovable = */ false\n    );\n  }\n\n  /**\n   * Render a new annotation layer with all annotation elements.\n   *\n   * @param {AnnotationLayerParameters} params\n   * @memberof AnnotationLayer\n   */\n  async render(params) {\n    const { annotations } = params;\n    const layer = this.div;\n    setLayerDimensions(layer, this.viewport);\n\n    const popupToElements = new Map();\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: params.linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new DOMSVGFactory(),\n      annotationStorage: params.annotationStorage || new AnnotationStorage(),\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null,\n    };\n\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        const { width, height } = getRectDims(data.rect);\n        if (width <= 0 || height <= 0) {\n          continue; // Ignore empty annotations.\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          // Ignore popup annotations without a corresponding annotation.\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n\n      if (!element.isRenderable) {\n        continue;\n      }\n\n      if (!isPopupAnnotation && data.popupRef) {\n        const elements = popupToElements.get(data.popupRef);\n        if (!elements) {\n          popupToElements.set(data.popupRef, [element]);\n        } else {\n          elements.push(element);\n        }\n      }\n\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      await this.#appendElement(rendered, data.id);\n\n      if (element._isEditable) {\n        this.#editableAnnotations.set(element.data.id, element);\n        this._annotationEditorUIManager?.renderAnnotationElement(element);\n      }\n    }\n\n    this.#setAnnotationCanvasMap();\n  }\n\n  /**\n   * Update the annotation elements on existing annotation layer.\n   *\n   * @param {AnnotationLayerParameters} viewport\n   * @memberof AnnotationLayer\n   */\n  update({ viewport }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    setLayerDimensions(layer, { rotation: viewport.rotation });\n\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n\n      canvas.className = \"annotationContent\";\n      const { firstChild } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else if (!firstChild.classList.contains(\"annotationContent\")) {\n        firstChild.before(canvas);\n      } else {\n        firstChild.after(canvas);\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n}\n\nexport {\n  AnnotationLayer,\n  FreeTextAnnotationElement,\n  HighlightAnnotationElement,\n  InkAnnotationElement,\n  StampAnnotationElement,\n};\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_editor_layer.js\").AnnotationEditorLayer} AnnotationEditorLayer */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  assert,\n  LINE_FACTOR,\n  shadow,\n  Util,\n} from \"../../shared/util.js\";\nimport {\n  AnnotationEditorUIManager,\n  bindEvents,\n  KeyboardManager,\n} from \"./tools.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { FreeTextAnnotationElement } from \"../annotation_layer.js\";\n\nconst EOL_PATTERN = /\\r\\n?|\\n/g;\n\n/**\n * Basic text editor in order to create a FreeTex annotation.\n */\nclass FreeTextEditor extends AnnotationEditor {\n  #color;\n\n  #content = \"\";\n\n  #editorDivId = `${this.id}-editor`;\n\n  #editModeAC = null;\n\n  #fontSize;\n\n  static _freeTextDefaultContent = \"\";\n\n  static _internalPadding = 0;\n\n  static _defaultColor = null;\n\n  static _defaultFontSize = 10;\n\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n\n    const arrowChecker = self => self.isEmpty();\n\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n\n    return shadow(\n      this,\n      \"_keyboardManager\",\n      new KeyboardManager([\n        [\n          // Commit the text in case the user use ctrl+s to save the document.\n          // The event must bubble in order to be caught by the viewer.\n          // See bug 1831574.\n          [\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"],\n          proto.commitOrRemove,\n          { bubbles: true },\n        ],\n        [\n          [\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"],\n          proto.commitOrRemove,\n        ],\n        [\n          [\"ArrowLeft\", \"mac+ArrowLeft\"],\n          proto._translateEmpty,\n          { args: [-small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"],\n          proto._translateEmpty,\n          { args: [-big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowRight\", \"mac+ArrowRight\"],\n          proto._translateEmpty,\n          { args: [small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"],\n          proto._translateEmpty,\n          { args: [big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowUp\", \"mac+ArrowUp\"],\n          proto._translateEmpty,\n          { args: [0, -small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"],\n          proto._translateEmpty,\n          { args: [0, -big], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowDown\", \"mac+ArrowDown\"],\n          proto._translateEmpty,\n          { args: [0, small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"],\n          proto._translateEmpty,\n          { args: [0, big], checker: arrowChecker },\n        ],\n      ])\n    );\n  }\n\n  static _type = \"freetext\";\n\n  static _editorType = AnnotationEditorType.FREETEXT;\n\n  constructor(params) {\n    super({ ...params, name: \"freeTextEditor\" });\n    this.#color =\n      params.color ||\n      FreeTextEditor._defaultColor ||\n      AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    const style = getComputedStyle(document.documentElement);\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      const lineHeight = parseFloat(\n        style.getPropertyValue(\"--freetext-line-height\")\n      );\n      assert(\n        lineHeight === LINE_FACTOR,\n        \"Update the CSS variable to agree with the constant.\"\n      );\n    }\n\n    this._internalPadding = parseFloat(\n      style.getPropertyValue(\"--freetext-padding\")\n    );\n  }\n\n  /** @inheritdoc */\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  static get defaultPropertiesToUpdate() {\n    return [\n      [\n        AnnotationEditorParamsType.FREETEXT_SIZE,\n        FreeTextEditor._defaultFontSize,\n      ],\n      [\n        AnnotationEditorParamsType.FREETEXT_COLOR,\n        FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor,\n      ],\n    ];\n  }\n\n  /** @inheritdoc */\n  get propertiesToUpdate() {\n    return [\n      [AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize],\n      [AnnotationEditorParamsType.FREETEXT_COLOR, this.#color],\n    ];\n  }\n\n  /**\n   * Update the font size and make this action as undoable.\n   * @param {number} fontSize\n   */\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: setFontsize.bind(this, fontSize),\n      undo: setFontsize.bind(this, savedFontsize),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /**\n   * Update the color and make this action undoable.\n   * @param {string} color\n   */\n  #updateColor(color) {\n    const setColor = col => {\n      this.#color = this.editorDiv.style.color = col;\n    };\n    const savedColor = this.#color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /**\n   * Helper to translate the editor with the keyboard when it's empty.\n   * @param {number} x in page units.\n   * @param {number} y in page units.\n   */\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, /* noCommit = */ true);\n  }\n\n  /** @inheritdoc */\n  getInitialTranslation() {\n    // The start of the base line is where the user clicked.\n    const scale = this.parentScale;\n    return [\n      -FreeTextEditor._internalPadding * scale,\n      -(FreeTextEditor._internalPadding + this.#fontSize) * scale,\n    ];\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilting it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n    }\n  }\n\n  /** @inheritdoc */\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return;\n    }\n\n    this.parent.setEditingState(false);\n    this.parent.updateToolbar(AnnotationEditorType.FREETEXT);\n    super.enableEditMode();\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        !this.#editModeAC,\n        \"No `this.#editModeAC` AbortController should exist.\"\n      );\n    }\n    this.#editModeAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#editModeAC);\n\n    this.editorDiv.addEventListener(\n      \"keydown\",\n      this.editorDivKeydown.bind(this),\n      { signal }\n    );\n    this.editorDiv.addEventListener(\"focus\", this.editorDivFocus.bind(this), {\n      signal,\n    });\n    this.editorDiv.addEventListener(\"blur\", this.editorDivBlur.bind(this), {\n      signal,\n    });\n    this.editorDiv.addEventListener(\"input\", this.editorDivInput.bind(this), {\n      signal,\n    });\n    this.editorDiv.addEventListener(\"paste\", this.editorDivPaste.bind(this), {\n      signal,\n    });\n  }\n\n  /** @inheritdoc */\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n\n    this.parent.setEditingState(true);\n    super.disableEditMode();\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n\n    this.#editModeAC?.abort();\n    this.#editModeAC = null;\n\n    // On Chrome, the focus is given to <body> when contentEditable is set to\n    // false, hence we focus the div.\n    this.div.focus({\n      preventScroll: true /* See issue #15744 */,\n    });\n\n    // In case the blur callback hasn't been called.\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n  }\n\n  /** @inheritdoc */\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n\n  /** @inheritdoc */\n  onceAdded() {\n    if (this.width) {\n      // The editor was created in using ctrl+c.\n      return;\n    }\n    this.enableEditMode();\n    this.editorDiv.focus();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n\n  /** @inheritdoc */\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n\n  /** @inheritdoc */\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n\n  /**\n   * Extract the text from this editor.\n   * @returns {string}\n   */\n  #extractText() {\n    // We don't use innerText because there are some bugs with line breaks.\n    const buffer = [];\n    this.editorDiv.normalize();\n    let prevChild = null;\n    for (const child of this.editorDiv.childNodes) {\n      if (prevChild?.nodeType === Node.TEXT_NODE && child.nodeName === \"BR\") {\n        // It can happen if the user uses shift+enter to add a new line.\n        // If we don't skip it, we'll end up with an extra line (one for the\n        // text and one for the br element).\n        continue;\n      }\n      buffer.push(FreeTextEditor.#getNodeContent(child));\n      prevChild = child;\n    }\n    return buffer.join(\"\\n\");\n  }\n\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      // This editor isn't on screen but we need to get its dimensions, so\n      // we just insert it in the DOM, get its bounding box and then remove it.\n      const { currentLayer, div } = this;\n      const savedDisplay = div.style.display;\n      const savedVisibility = div.classList.contains(\"hidden\");\n      div.classList.remove(\"hidden\");\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n      div.classList.toggle(\"hidden\", savedVisibility);\n    }\n\n    // The dimensions are relative to the rotation of the page, hence we need to\n    // take that into account (see issue #16636).\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Commit the content we have in this editor.\n   * @returns {undefined}\n   */\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = (this.#content = this.#extractText().trimEnd());\n    if (savedText === newText) {\n      return;\n    }\n\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false,\n    });\n    this.#setEditorDimensions();\n  }\n\n  /** @inheritdoc */\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n\n  /** @inheritdoc */\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n\n  /**\n   * ondblclick callback.\n   * @param {MouseEvent} event\n   */\n  dblclick(event) {\n    this.enterInEditMode();\n  }\n\n  /**\n   * onkeydown callback.\n   * @param {KeyboardEvent} event\n   */\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      // Avoid to add an unwanted new line.\n      event.preventDefault();\n    }\n  }\n\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n\n  /** @inheritdoc */\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n\n  /** @inheritdoc */\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text2\");\n    this.editorDiv.setAttribute(\"data-l10n-attrs\", \"default-content\");\n    this.enableEditing();\n\n    this.editorDiv.contentEditable = true;\n\n    const { style } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n\n    this.div.append(this.editorDiv);\n\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n\n    bindEvents(this, this.div, [\"dblclick\", \"keydown\"]);\n\n    if (this.width) {\n      // This editor was created in using copy (ctrl+c).\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        // This stuff is hard to test: if something is changed here, please\n        // test with the following PDF file:\n        //  - freetexts.pdf\n        //  - rotated_freetexts.pdf\n        // Only small variations between the original annotation and its editor\n        // are allowed.\n\n        // position is the position of the first glyph in the annotation\n        // and it's relative to its container.\n        const { position } = this._initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX =\n              baseX +\n              (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY =\n              baseY +\n              (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this.setAt(\n          baseX * parentWidth,\n          baseY * parentHeight,\n          this.width * parentWidth,\n          this.height * parentHeight\n        );\n      }\n\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      this.div.setAttribute(\"annotation-id\", this.annotationElementId);\n    }\n\n    return this.div;\n  }\n\n  static #getNodeContent(node) {\n    return (\n      node.nodeType === Node.TEXT_NODE ? node.nodeValue : node.innerText\n    ).replaceAll(EOL_PATTERN, \"\");\n  }\n\n  editorDivPaste(event) {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    const { types } = clipboardData;\n    if (types.length === 1 && types[0] === \"text/plain\") {\n      return;\n    }\n\n    event.preventDefault();\n    const paste = FreeTextEditor.#deserializeContent(\n      clipboardData.getData(\"text\") || \"\"\n    ).replaceAll(EOL_PATTERN, \"\\n\");\n    if (!paste) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (!selection.rangeCount) {\n      return;\n    }\n    this.editorDiv.normalize();\n    selection.deleteFromDocument();\n    const range = selection.getRangeAt(0);\n    if (!paste.includes(\"\\n\")) {\n      range.insertNode(document.createTextNode(paste));\n      this.editorDiv.normalize();\n      selection.collapseToStart();\n      return;\n    }\n\n    // Collect the text before and after the caret.\n    const { startContainer, startOffset } = range;\n    const bufferBefore = [];\n    const bufferAfter = [];\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      const parent = startContainer.parentElement;\n      bufferAfter.push(\n        startContainer.nodeValue.slice(startOffset).replaceAll(EOL_PATTERN, \"\")\n      );\n      if (parent !== this.editorDiv) {\n        let buffer = bufferBefore;\n        for (const child of this.editorDiv.childNodes) {\n          if (child === parent) {\n            buffer = bufferAfter;\n            continue;\n          }\n          buffer.push(FreeTextEditor.#getNodeContent(child));\n        }\n      }\n      bufferBefore.push(\n        startContainer.nodeValue\n          .slice(0, startOffset)\n          .replaceAll(EOL_PATTERN, \"\")\n      );\n    } else if (startContainer === this.editorDiv) {\n      let buffer = bufferBefore;\n      let i = 0;\n      for (const child of this.editorDiv.childNodes) {\n        if (i++ === startOffset) {\n          buffer = bufferAfter;\n        }\n        buffer.push(FreeTextEditor.#getNodeContent(child));\n      }\n    }\n    this.#content = `${bufferBefore.join(\"\\n\")}${paste}${bufferAfter.join(\"\\n\")}`;\n    this.#setContent();\n\n    // Set the caret at the right position.\n    const newRange = new Range();\n    let beforeLength = bufferBefore.reduce((acc, line) => acc + line.length, 0);\n    for (const { firstChild } of this.editorDiv.childNodes) {\n      // Each child is either a div with a text node or a br element.\n      if (firstChild.nodeType === Node.TEXT_NODE) {\n        const length = firstChild.nodeValue.length;\n        if (beforeLength <= length) {\n          newRange.setStart(firstChild, beforeLength);\n          newRange.setEnd(firstChild, beforeLength);\n          break;\n        }\n        beforeLength -= length;\n      }\n    }\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(\n        line ? document.createTextNode(line) : document.createElement(\"br\")\n      );\n      this.editorDiv.append(div);\n    }\n  }\n\n  #serializeContent() {\n    return this.#content.replaceAll(\"\\xa0\", \" \");\n  }\n\n  static #deserializeContent(content) {\n    return content.replaceAll(\" \", \"\\xa0\");\n  }\n\n  /** @inheritdoc */\n  get contentDiv() {\n    return this.editorDiv;\n  }\n\n  /** @inheritdoc */\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: { fontSize, fontColor },\n          rect,\n          rotation,\n          id,\n          popupRef,\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: { pageNumber },\n        },\n      } = data;\n      // textContent is supposed to be an array of strings containing each line\n      // of text. However, it can be null or empty.\n      if (!textContent || textContent.length === 0) {\n        // Empty annotation.\n        return null;\n      }\n      initialData = data = {\n        annotationType: AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false,\n        popupRef,\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.#color = Util.makeHexColor(...data.color);\n    editor.#content = FreeTextEditor.#deserializeContent(data.value);\n    editor.annotationElementId = data.id || null;\n    editor._initialData = initialData;\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    const rect = this.getRect(padding, padding);\n    const color = AnnotationEditor._colorManager.convert(\n      this.isAttachedToDOM\n        ? getComputedStyle(this.editorDiv).color\n        : this.#color\n    );\n\n    const serialized = {\n      annotationType: AnnotationEditorType.FREETEXT,\n      color,\n      fontSize: this.#fontSize,\n      value: this.#serializeContent(),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId,\n    };\n\n    if (isForCopying) {\n      // Don't add the id when copying because the pasted editor mustn't be\n      // linked to an existing annotation.\n      return serialized;\n    }\n\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n\n    serialized.id = this.annotationElementId;\n\n    return serialized;\n  }\n\n  #hasElementChanged(serialized) {\n    const { value, fontSize, color, pageIndex } = this._initialData;\n\n    return (\n      this._hasBeenMoved ||\n      serialized.value !== value ||\n      serialized.fontSize !== fontSize ||\n      serialized.color.some((c, i) => c !== color[i]) ||\n      serialized.pageIndex !== pageIndex\n    );\n  }\n\n  /** @inheritdoc */\n  renderAnnotationElement(annotation) {\n    const content = super.renderAnnotationElement(annotation);\n    if (this.deleted) {\n      return content;\n    }\n    const { style } = content;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n\n    content.replaceChildren();\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(\n        line ? document.createTextNode(line) : document.createElement(\"br\")\n      );\n      content.append(div);\n    }\n\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    annotation.updateEdited({\n      rect: this.getRect(padding, padding),\n      popupContent: this.#content,\n    });\n\n    return content;\n  }\n\n  resetAnnotationElement(annotation) {\n    super.resetAnnotationElement(annotation);\n    annotation.resetEdited();\n  }\n}\n\nexport { FreeTextEditor };\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { unreachable } from \"../../../shared/util.js\";\n\nclass Outline {\n  /**\n   * @returns {string} The SVG path of the outline.\n   */\n  toSVGPath() {\n    unreachable(\"Abstract method `toSVGPath` must be implemented.\");\n  }\n\n  /**\n   * @type {Object|null} The bounding box of the outline.\n   */\n  // eslint-disable-next-line getter-return\n  get box() {\n    unreachable(\"Abstract getter `box` must be implemented.\");\n  }\n\n  serialize(_bbox, _rotation) {\n    unreachable(\"Abstract method `serialize` must be implemented.\");\n  }\n\n  // eslint-disable-next-line getter-return\n  get classNamesForDrawing() {\n    unreachable(\"Abstract getter `classNamesForDrawing` must be implemented.\");\n  }\n\n  // eslint-disable-next-line getter-return\n  get classNamesForOutlining() {\n    unreachable(\n      \"Abstract getter `classNamesForOutlining` must be implemented.\"\n    );\n  }\n\n  get mustRemoveSelfIntersections() {\n    return false;\n  }\n}\n\nexport { Outline };\n","/* Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Outline } from \"./outline.js\";\nimport { Util } from \"../../../shared/util.js\";\n\nclass FreeDrawOutliner {\n  #box;\n\n  #bottom = [];\n\n  #innerMargin;\n\n  #isLTR;\n\n  #top = [];\n\n  // The first 6 elements are the last 3 points of the top part of the outline.\n  // The next 6 elements are the last 3 points of the line.\n  // The next 6 elements are the last 3 points of the bottom part of the\n  // outline.\n  // We track the last 3 points in order to be able to:\n  //  - compute the normal of the line,\n  //  - compute the control points of the quadratic Bézier curve.\n  #last = new Float64Array(18);\n\n  #lastX;\n\n  #lastY;\n\n  #min;\n\n  #min_dist;\n\n  #scaleFactor;\n\n  #thickness;\n\n  #points = [];\n\n  static #MIN_DIST = 8;\n\n  static #MIN_DIFF = 2;\n\n  static #MIN = FreeDrawOutliner.#MIN_DIST + FreeDrawOutliner.#MIN_DIFF;\n\n  constructor({ x, y }, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    this.#box = box;\n    this.#thickness = thickness * scaleFactor;\n    this.#isLTR = isLTR;\n    this.#last.set([NaN, NaN, NaN, NaN, x, y], 6);\n    this.#innerMargin = innerMargin;\n    this.#min_dist = FreeDrawOutliner.#MIN_DIST * scaleFactor;\n    this.#min = FreeDrawOutliner.#MIN * scaleFactor;\n    this.#scaleFactor = scaleFactor;\n    this.#points.push(x, y);\n  }\n\n  isEmpty() {\n    // When we add a second point then this.#last.slice(6) will be something\n    // like [NaN, NaN, firstX, firstY, secondX, secondY,...] so having a NaN\n    // at index 8 means that we've only one point.\n    return isNaN(this.#last[8]);\n  }\n\n  #getLastCoords() {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n\n    return [\n      (this.#lastX + (lastTop[0] - lastBottom[0]) / 2 - x) / width,\n      (this.#lastY + (lastTop[1] - lastBottom[1]) / 2 - y) / height,\n      (this.#lastX + (lastBottom[0] - lastTop[0]) / 2 - x) / width,\n      (this.#lastY + (lastBottom[1] - lastTop[1]) / 2 - y) / height,\n    ];\n  }\n\n  add({ x, y }) {\n    this.#lastX = x;\n    this.#lastY = y;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    let [x1, y1, x2, y2] = this.#last.subarray(8, 12);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(diffX, diffY);\n    if (d < this.#min) {\n      // The idea is to avoid garbage points around the last point.\n      // When the points are too close, it just leads to bad normal vectors and\n      // control points.\n      return false;\n    }\n    const diffD = d - this.#min_dist;\n    const K = diffD / d;\n    const shiftX = K * diffX;\n    const shiftY = K * diffY;\n\n    // We update the last 3 points of the line.\n    let x0 = x1;\n    let y0 = y1;\n    x1 = x2;\n    y1 = y2;\n    x2 += shiftX;\n    y2 += shiftY;\n\n    // We keep track of the points in order to be able to compute the focus\n    // outline.\n    this.#points?.push(x, y);\n\n    // Create the normal unit vector.\n    // |(shiftX, shiftY)| = |K| * |(diffX, diffY)| = |K| * d = diffD.\n    const nX = -shiftY / diffD;\n    const nY = shiftX / diffD;\n    const thX = nX * this.#thickness;\n    const thY = nY * this.#thickness;\n    this.#last.set(this.#last.subarray(2, 8), 0);\n    this.#last.set([x2 + thX, y2 + thY], 4);\n    this.#last.set(this.#last.subarray(14, 18), 12);\n    this.#last.set([x2 - thX, y2 - thY], 16);\n\n    if (isNaN(this.#last[6])) {\n      if (this.#top.length === 0) {\n        this.#last.set([x1 + thX, y1 + thY], 2);\n        this.#top.push(\n          NaN,\n          NaN,\n          NaN,\n          NaN,\n          (x1 + thX - layerX) / layerWidth,\n          (y1 + thY - layerY) / layerHeight\n        );\n        this.#last.set([x1 - thX, y1 - thY], 14);\n        this.#bottom.push(\n          NaN,\n          NaN,\n          NaN,\n          NaN,\n          (x1 - thX - layerX) / layerWidth,\n          (y1 - thY - layerY) / layerHeight\n        );\n      }\n      this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n      return !this.isEmpty();\n    }\n\n    this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n\n    const angle = Math.abs(\n      Math.atan2(y0 - y1, x0 - x1) - Math.atan2(shiftY, shiftX)\n    );\n    if (angle < Math.PI / 2) {\n      // In order to avoid some possible artifacts, we're going to use the a\n      // straight line instead of a quadratic Bézier curve.\n      [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n      this.#top.push(\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        ((x1 + x2) / 2 - layerX) / layerWidth,\n        ((y1 + y2) / 2 - layerY) / layerHeight\n      );\n      [x1, y1, x0, y0] = this.#last.subarray(14, 18);\n      this.#bottom.push(\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        ((x0 + x1) / 2 - layerX) / layerWidth,\n        ((y0 + y1) / 2 - layerY) / layerHeight\n      );\n      return true;\n    }\n\n    // Control points and the final point for the quadratic Bézier curve.\n    [x0, y0, x1, y1, x2, y2] = this.#last.subarray(0, 6);\n    this.#top.push(\n      ((x0 + 5 * x1) / 6 - layerX) / layerWidth,\n      ((y0 + 5 * y1) / 6 - layerY) / layerHeight,\n      ((5 * x1 + x2) / 6 - layerX) / layerWidth,\n      ((5 * y1 + y2) / 6 - layerY) / layerHeight,\n      ((x1 + x2) / 2 - layerX) / layerWidth,\n      ((y1 + y2) / 2 - layerY) / layerHeight\n    );\n    [x2, y2, x1, y1, x0, y0] = this.#last.subarray(12, 18);\n    this.#bottom.push(\n      ((x0 + 5 * x1) / 6 - layerX) / layerWidth,\n      ((y0 + 5 * y1) / 6 - layerY) / layerHeight,\n      ((5 * x1 + x2) / 6 - layerX) / layerWidth,\n      ((5 * y1 + y2) / 6 - layerY) / layerHeight,\n      ((x1 + x2) / 2 - layerX) / layerWidth,\n      ((y1 + y2) / 2 - layerY) / layerHeight\n    );\n    return true;\n  }\n\n  toSVGPath() {\n    if (this.isEmpty()) {\n      // We've only one point.\n      return \"\";\n    }\n    const top = this.#top;\n    const bottom = this.#bottom;\n\n    if (isNaN(this.#last[6]) && !this.isEmpty()) {\n      // We've only two points.\n      return this.#toSVGPathTwoPoints();\n    }\n\n    const buffer = [];\n    buffer.push(`M${top[4]} ${top[5]}`);\n    for (let i = 6; i < top.length; i += 6) {\n      if (isNaN(top[i])) {\n        buffer.push(`L${top[i + 4]} ${top[i + 5]}`);\n      } else {\n        buffer.push(\n          `C${top[i]} ${top[i + 1]} ${top[i + 2]} ${top[i + 3]} ${top[i + 4]} ${\n            top[i + 5]\n          }`\n        );\n      }\n    }\n\n    this.#toSVGPathEnd(buffer);\n\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      if (isNaN(bottom[i])) {\n        buffer.push(`L${bottom[i + 4]} ${bottom[i + 5]}`);\n      } else {\n        buffer.push(\n          `C${bottom[i]} ${bottom[i + 1]} ${bottom[i + 2]} ${bottom[i + 3]} ${\n            bottom[i + 4]\n          } ${bottom[i + 5]}`\n        );\n      }\n    }\n\n    this.#toSVGPathStart(buffer);\n\n    return buffer.join(\" \");\n  }\n\n  #toSVGPathTwoPoints() {\n    const [x, y, width, height] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] =\n      this.#getLastCoords();\n\n    return `M${(this.#last[2] - x) / width} ${\n      (this.#last[3] - y) / height\n    } L${(this.#last[4] - x) / width} ${(this.#last[5] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${\n      (this.#last[16] - x) / width\n    } ${(this.#last[17] - y) / height} L${(this.#last[14] - x) / width} ${\n      (this.#last[15] - y) / height\n    } Z`;\n  }\n\n  #toSVGPathStart(buffer) {\n    const bottom = this.#bottom;\n    buffer.push(`L${bottom[4]} ${bottom[5]} Z`);\n  }\n\n  #toSVGPathEnd(buffer) {\n    const [x, y, width, height] = this.#box;\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] =\n      this.#getLastCoords();\n\n    buffer.push(\n      `L${(lastTop[0] - x) / width} ${(lastTop[1] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${\n        (lastBottom[0] - x) / width\n      } ${(lastBottom[1] - y) / height}`\n    );\n  }\n\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeDrawOutline(\n      outline,\n      points,\n      box,\n      scaleFactor,\n      innerMargin,\n      isLTR\n    );\n  }\n\n  getOutlines() {\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n\n    const points = new Float64Array((this.#points?.length ?? 0) + 2);\n    for (let i = 0, ii = points.length - 2; i < ii; i += 2) {\n      points[i] = (this.#points[i] - layerX) / layerWidth;\n      points[i + 1] = (this.#points[i + 1] - layerY) / layerHeight;\n    }\n    points[points.length - 2] = (this.#lastX - layerX) / layerWidth;\n    points[points.length - 1] = (this.#lastY - layerY) / layerHeight;\n\n    if (isNaN(last[6]) && !this.isEmpty()) {\n      // We've only two points.\n      return this.#getOutlineTwoPoints(points);\n    }\n\n    const outline = new Float64Array(\n      this.#top.length + 24 + this.#bottom.length\n    );\n    let N = top.length;\n    for (let i = 0; i < N; i += 2) {\n      if (isNaN(top[i])) {\n        outline[i] = outline[i + 1] = NaN;\n        continue;\n      }\n      outline[i] = top[i];\n      outline[i + 1] = top[i + 1];\n    }\n\n    N = this.#getOutlineEnd(outline, N);\n\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      for (let j = 0; j < 6; j += 2) {\n        if (isNaN(bottom[i + j])) {\n          outline[N] = outline[N + 1] = NaN;\n          N += 2;\n          continue;\n        }\n        outline[N] = bottom[i + j];\n        outline[N + 1] = bottom[i + j + 1];\n        N += 2;\n      }\n    }\n\n    this.#getOutlineStart(outline, N);\n\n    return this.newFreeDrawOutline(\n      outline,\n      points,\n      this.#box,\n      this.#scaleFactor,\n      this.#innerMargin,\n      this.#isLTR\n    );\n  }\n\n  #getOutlineTwoPoints(points) {\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] =\n      this.#getLastCoords();\n    const outline = new Float64Array(36);\n    outline.set(\n      [\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (last[2] - layerX) / layerWidth,\n        (last[3] - layerY) / layerHeight,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (last[4] - layerX) / layerWidth,\n        (last[5] - layerY) / layerHeight,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        lastTopX,\n        lastTopY,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        lastBottomX,\n        lastBottomY,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (last[16] - layerX) / layerWidth,\n        (last[17] - layerY) / layerHeight,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (last[14] - layerX) / layerWidth,\n        (last[15] - layerY) / layerHeight,\n      ],\n      0\n    );\n    return this.newFreeDrawOutline(\n      outline,\n      points,\n      this.#box,\n      this.#scaleFactor,\n      this.#innerMargin,\n      this.#isLTR\n    );\n  }\n\n  #getOutlineStart(outline, pos) {\n    const bottom = this.#bottom;\n    outline.set([NaN, NaN, NaN, NaN, bottom[4], bottom[5]], pos);\n    return (pos += 6);\n  }\n\n  #getOutlineEnd(outline, pos) {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] =\n      this.#getLastCoords();\n    outline.set(\n      [\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (lastTop[0] - layerX) / layerWidth,\n        (lastTop[1] - layerY) / layerHeight,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        lastTopX,\n        lastTopY,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        lastBottomX,\n        lastBottomY,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (lastBottom[0] - layerX) / layerWidth,\n        (lastBottom[1] - layerY) / layerHeight,\n      ],\n      pos\n    );\n    return (pos += 24);\n  }\n}\n\nclass FreeDrawOutline extends Outline {\n  #box;\n\n  #bbox = null;\n\n  #innerMargin;\n\n  #isLTR;\n\n  #points;\n\n  #scaleFactor;\n\n  #outline;\n\n  constructor(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    super();\n    this.#outline = outline;\n    this.#points = points;\n    this.#box = box;\n    this.#scaleFactor = scaleFactor;\n    this.#innerMargin = innerMargin;\n    this.#isLTR = isLTR;\n    this.#computeMinMax(isLTR);\n\n    const { x, y, width, height } = this.#bbox;\n    for (let i = 0, ii = outline.length; i < ii; i += 2) {\n      outline[i] = (outline[i] - x) / width;\n      outline[i + 1] = (outline[i + 1] - y) / height;\n    }\n    for (let i = 0, ii = points.length; i < ii; i += 2) {\n      points[i] = (points[i] - x) / width;\n      points[i + 1] = (points[i + 1] - y) / height;\n    }\n  }\n\n  toSVGPath() {\n    const buffer = [`M${this.#outline[4]} ${this.#outline[5]}`];\n    for (let i = 6, ii = this.#outline.length; i < ii; i += 6) {\n      if (isNaN(this.#outline[i])) {\n        buffer.push(`L${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n        continue;\n      }\n      buffer.push(\n        `C${this.#outline[i]} ${this.#outline[i + 1]} ${this.#outline[i + 2]} ${\n          this.#outline[i + 3]\n        } ${this.#outline[i + 4]} ${this.#outline[i + 5]}`\n      );\n    }\n    buffer.push(\"Z\");\n    return buffer.join(\" \");\n  }\n\n  serialize([blX, blY, trX, trY], rotation) {\n    const width = trX - blX;\n    const height = trY - blY;\n    let outline;\n    let points;\n    switch (rotation) {\n      case 0:\n        outline = this.#rescale(this.#outline, blX, trY, width, -height);\n        points = this.#rescale(this.#points, blX, trY, width, -height);\n        break;\n      case 90:\n        outline = this.#rescaleAndSwap(this.#outline, blX, blY, width, height);\n        points = this.#rescaleAndSwap(this.#points, blX, blY, width, height);\n        break;\n      case 180:\n        outline = this.#rescale(this.#outline, trX, blY, -width, height);\n        points = this.#rescale(this.#points, trX, blY, -width, height);\n        break;\n      case 270:\n        outline = this.#rescaleAndSwap(\n          this.#outline,\n          trX,\n          trY,\n          -width,\n          -height\n        );\n        points = this.#rescaleAndSwap(this.#points, trX, trY, -width, -height);\n        break;\n    }\n    return { outline: Array.from(outline), points: [Array.from(points)] };\n  }\n\n  #rescale(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i] * sx;\n      dest[i + 1] = ty + src[i + 1] * sy;\n    }\n    return dest;\n  }\n\n  #rescaleAndSwap(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i + 1] * sx;\n      dest[i + 1] = ty + src[i] * sy;\n    }\n    return dest;\n  }\n\n  #computeMinMax(isLTR) {\n    const outline = this.#outline;\n    let lastX = outline[4];\n    let lastY = outline[5];\n    let minX = lastX;\n    let minY = lastY;\n    let maxX = lastX;\n    let maxY = lastY;\n    let lastPointX = lastX;\n    let lastPointY = lastY;\n    const ltrCallback = isLTR ? Math.max : Math.min;\n\n    for (let i = 6, ii = outline.length; i < ii; i += 6) {\n      if (isNaN(outline[i])) {\n        minX = Math.min(minX, outline[i + 4]);\n        minY = Math.min(minY, outline[i + 5]);\n        maxX = Math.max(maxX, outline[i + 4]);\n        maxY = Math.max(maxY, outline[i + 5]);\n        if (lastPointY < outline[i + 5]) {\n          lastPointX = outline[i + 4];\n          lastPointY = outline[i + 5];\n        } else if (lastPointY === outline[i + 5]) {\n          lastPointX = ltrCallback(lastPointX, outline[i + 4]);\n        }\n      } else {\n        const bbox = Util.bezierBoundingBox(\n          lastX,\n          lastY,\n          ...outline.slice(i, i + 6)\n        );\n        minX = Math.min(minX, bbox[0]);\n        minY = Math.min(minY, bbox[1]);\n        maxX = Math.max(maxX, bbox[2]);\n        maxY = Math.max(maxY, bbox[3]);\n        if (lastPointY < bbox[3]) {\n          lastPointX = bbox[2];\n          lastPointY = bbox[3];\n        } else if (lastPointY === bbox[3]) {\n          lastPointX = ltrCallback(lastPointX, bbox[2]);\n        }\n      }\n      lastX = outline[i + 4];\n      lastY = outline[i + 5];\n    }\n\n    const x = minX - this.#innerMargin,\n      y = minY - this.#innerMargin,\n      width = maxX - minX + 2 * this.#innerMargin,\n      height = maxY - minY + 2 * this.#innerMargin;\n    this.#bbox = { x, y, width, height, lastPoint: [lastPointX, lastPointY] };\n  }\n\n  get box() {\n    return this.#bbox;\n  }\n\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeDrawOutliner(\n      point,\n      box,\n      scaleFactor,\n      thickness,\n      isLTR,\n      innerMargin\n    );\n  }\n\n  getNewOutline(thickness, innerMargin) {\n    // Build the outline of the highlight to use as the focus outline.\n    const { x, y, width, height } = this.#bbox;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const sx = width * layerWidth;\n    const sy = height * layerHeight;\n    const tx = x * layerWidth + layerX;\n    const ty = y * layerHeight + layerY;\n    const outliner = this.newOutliner(\n      {\n        x: this.#points[0] * sx + tx,\n        y: this.#points[1] * sy + ty,\n      },\n      this.#box,\n      this.#scaleFactor,\n      thickness,\n      this.#isLTR,\n      innerMargin ?? this.#innerMargin\n    );\n    for (let i = 2; i < this.#points.length; i += 2) {\n      outliner.add({\n        x: this.#points[i] * sx + tx,\n        y: this.#points[i + 1] * sy + ty,\n      });\n    }\n    return outliner.getOutlines();\n  }\n\n  get mustRemoveSelfIntersections() {\n    return true;\n  }\n}\n\nexport { FreeDrawOutline, FreeDrawOutliner };\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FreeDrawOutline, FreeDrawOutliner } from \"./freedraw.js\";\nimport { Outline } from \"./outline.js\";\n\nclass HighlightOutliner {\n  #box;\n\n  #verticalEdges = [];\n\n  #intervals = [];\n\n  /**\n   * Construct an outliner.\n   * @param {Array<Object>} boxes - An array of axis-aligned rectangles.\n   * @param {number} borderWidth - The width of the border of the boxes, it\n   *   allows to make the boxes bigger (or smaller).\n   * @param {number} innerMargin - The margin between the boxes and the\n   *   outlines. It's important to not have a null innerMargin when we want to\n   *   draw the outline else the stroked outline could be clipped because of its\n   *   width.\n   * @param {boolean} isLTR - true if we're in LTR mode. It's used to determine\n   *   the last point of the boxes.\n   */\n  constructor(boxes, borderWidth = 0, innerMargin = 0, isLTR = true) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n\n    // We round the coordinates to slightly reduce the number of edges in the\n    // final outlines.\n    const NUMBER_OF_DIGITS = 4;\n    const EPSILON = 10 ** -NUMBER_OF_DIGITS;\n\n    // The coordinates of the boxes are in the page coordinate system.\n    for (const { x, y, width, height } of boxes) {\n      const x1 = Math.floor((x - borderWidth) / EPSILON) * EPSILON;\n      const x2 = Math.ceil((x + width + borderWidth) / EPSILON) * EPSILON;\n      const y1 = Math.floor((y - borderWidth) / EPSILON) * EPSILON;\n      const y2 = Math.ceil((y + height + borderWidth) / EPSILON) * EPSILON;\n      const left = [x1, y1, y2, true];\n      const right = [x2, y1, y2, false];\n      this.#verticalEdges.push(left, right);\n\n      minX = Math.min(minX, x1);\n      maxX = Math.max(maxX, x2);\n      minY = Math.min(minY, y1);\n      maxY = Math.max(maxY, y2);\n    }\n\n    const bboxWidth = maxX - minX + 2 * innerMargin;\n    const bboxHeight = maxY - minY + 2 * innerMargin;\n    const shiftedMinX = minX - innerMargin;\n    const shiftedMinY = minY - innerMargin;\n    const lastEdge = this.#verticalEdges.at(isLTR ? -1 : -2);\n    const lastPoint = [lastEdge[0], lastEdge[2]];\n\n    // Convert the coordinates of the edges into box coordinates.\n    for (const edge of this.#verticalEdges) {\n      const [x, y1, y2] = edge;\n      edge[0] = (x - shiftedMinX) / bboxWidth;\n      edge[1] = (y1 - shiftedMinY) / bboxHeight;\n      edge[2] = (y2 - shiftedMinY) / bboxHeight;\n    }\n\n    this.#box = {\n      x: shiftedMinX,\n      y: shiftedMinY,\n      width: bboxWidth,\n      height: bboxHeight,\n      lastPoint,\n    };\n  }\n\n  getOutlines() {\n    // We begin to sort lexicographically the vertical edges by their abscissa,\n    // and then by their ordinate.\n    this.#verticalEdges.sort(\n      (a, b) => a[0] - b[0] || a[1] - b[1] || a[2] - b[2]\n    );\n\n    // We're now using a sweep line algorithm to find the outlines.\n    // We start with the leftmost vertical edge, and we're going to iterate\n    // over all the vertical edges from left to right.\n    // Each time we encounter a left edge, we're going to insert the interval\n    // [y1, y2] in the set of intervals.\n    // This set of intervals is used to break the vertical edges into chunks:\n    // we only take the part of the vertical edge that isn't in the union of\n    // the intervals.\n    const outlineVerticalEdges = [];\n    for (const edge of this.#verticalEdges) {\n      if (edge[3]) {\n        // Left edge.\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n        this.#insert(edge);\n      } else {\n        // Right edge.\n        this.#remove(edge);\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n      }\n    }\n    return this.#getOutlines(outlineVerticalEdges);\n  }\n\n  #getOutlines(outlineVerticalEdges) {\n    const edges = [];\n    const allEdges = new Set();\n\n    for (const edge of outlineVerticalEdges) {\n      const [x, y1, y2] = edge;\n      edges.push([x, y1, edge], [x, y2, edge]);\n    }\n\n    // We sort lexicographically the vertices of each edge by their ordinate and\n    // by their abscissa.\n    // Every pair (v_2i, v_{2i + 1}) of vertices defines a horizontal edge.\n    // So for every vertical edge, we're going to add the two vertical edges\n    // which are connected to it through a horizontal edge.\n    edges.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n    for (let i = 0, ii = edges.length; i < ii; i += 2) {\n      const edge1 = edges[i][2];\n      const edge2 = edges[i + 1][2];\n      edge1.push(edge2);\n      edge2.push(edge1);\n      allEdges.add(edge1);\n      allEdges.add(edge2);\n    }\n    const outlines = [];\n    let outline;\n\n    while (allEdges.size > 0) {\n      const edge = allEdges.values().next().value;\n      let [x, y1, y2, edge1, edge2] = edge;\n      allEdges.delete(edge);\n      let lastPointX = x;\n      let lastPointY = y1;\n\n      outline = [x, y2];\n      outlines.push(outline);\n\n      while (true) {\n        let e;\n        if (allEdges.has(edge1)) {\n          e = edge1;\n        } else if (allEdges.has(edge2)) {\n          e = edge2;\n        } else {\n          break;\n        }\n\n        allEdges.delete(e);\n        [x, y1, y2, edge1, edge2] = e;\n\n        if (lastPointX !== x) {\n          outline.push(lastPointX, lastPointY, x, lastPointY === y1 ? y1 : y2);\n          lastPointX = x;\n        }\n        lastPointY = lastPointY === y1 ? y2 : y1;\n      }\n      outline.push(lastPointX, lastPointY);\n    }\n    return new HighlightOutline(outlines, this.#box);\n  }\n\n  #binarySearch(y) {\n    const array = this.#intervals;\n    let start = 0;\n    let end = array.length - 1;\n\n    while (start <= end) {\n      const middle = (start + end) >> 1;\n      const y1 = array[middle][0];\n      if (y1 === y) {\n        return middle;\n      }\n      if (y1 < y) {\n        start = middle + 1;\n      } else {\n        end = middle - 1;\n      }\n    }\n    return end + 1;\n  }\n\n  #insert([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    this.#intervals.splice(index, 0, [y1, y2]);\n  }\n\n  #remove([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    for (let i = index; i < this.#intervals.length; i++) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n    for (let i = index - 1; i >= 0; i--) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  #breakEdge(edge) {\n    const [x, y1, y2] = edge;\n    const results = [[x, y1, y2]];\n    const index = this.#binarySearch(y2);\n    for (let i = 0; i < index; i++) {\n      const [start, end] = this.#intervals[i];\n      for (let j = 0, jj = results.length; j < jj; j++) {\n        const [, y3, y4] = results[j];\n        if (end <= y3 || y4 <= start) {\n          // There is no intersection between the interval and the edge, hence\n          // we keep it as is.\n          continue;\n        }\n        if (y3 >= start) {\n          if (y4 > end) {\n            results[j][1] = end;\n          } else {\n            if (jj === 1) {\n              return [];\n            }\n            // The edge is included in the interval, hence we remove it.\n            results.splice(j, 1);\n            j--;\n            jj--;\n          }\n          continue;\n        }\n        results[j][2] = start;\n        if (y4 > end) {\n          results.push([x, end, y4]);\n        }\n      }\n    }\n    return results;\n  }\n}\n\nclass HighlightOutline extends Outline {\n  #box;\n\n  #outlines;\n\n  constructor(outlines, box) {\n    super();\n    this.#outlines = outlines;\n    this.#box = box;\n  }\n\n  toSVGPath() {\n    const buffer = [];\n    for (const polygon of this.#outlines) {\n      let [prevX, prevY] = polygon;\n      buffer.push(`M${prevX} ${prevY}`);\n      for (let i = 2; i < polygon.length; i += 2) {\n        const x = polygon[i];\n        const y = polygon[i + 1];\n        if (x === prevX) {\n          buffer.push(`V${y}`);\n          prevY = y;\n        } else if (y === prevY) {\n          buffer.push(`H${x}`);\n          prevX = x;\n        }\n      }\n      buffer.push(\"Z\");\n    }\n    return buffer.join(\" \");\n  }\n\n  /**\n   * Serialize the outlines into the PDF page coordinate system.\n   * @param {Array<number>} _bbox - the bounding box of the annotation.\n   * @param {number} _rotation - the rotation of the annotation.\n   * @returns {Array<Array<number>>}\n   */\n  serialize([blX, blY, trX, trY], _rotation) {\n    const outlines = [];\n    const width = trX - blX;\n    const height = trY - blY;\n    for (const outline of this.#outlines) {\n      const points = new Array(outline.length);\n      for (let i = 0; i < outline.length; i += 2) {\n        points[i] = blX + outline[i] * width;\n        points[i + 1] = trY - outline[i + 1] * height;\n      }\n      outlines.push(points);\n    }\n    return outlines;\n  }\n\n  get box() {\n    return this.#box;\n  }\n\n  get classNamesForDrawing() {\n    return [\"highlight\"];\n  }\n\n  get classNamesForOutlining() {\n    return [\"highlightOutline\"];\n  }\n}\n\nclass FreeHighlightOutliner extends FreeDrawOutliner {\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeHighlightOutline(\n      outline,\n      points,\n      box,\n      scaleFactor,\n      innerMargin,\n      isLTR\n    );\n  }\n\n  get classNamesForDrawing() {\n    return [\"highlight\", \"free\"];\n  }\n}\n\nclass FreeHighlightOutline extends FreeDrawOutline {\n  get classNamesForDrawing() {\n    return [\"highlight\", \"free\"];\n  }\n\n  get classNamesForOutlining() {\n    return [\"highlightOutline\", \"free\"];\n  }\n\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeHighlightOutliner(\n      point,\n      box,\n      scaleFactor,\n      thickness,\n      isLTR,\n      innerMargin\n    );\n  }\n}\n\nexport { FreeHighlightOutliner, HighlightOutliner };\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnnotationEditorParamsType, shadow } from \"../../shared/util.js\";\nimport { KeyboardManager } from \"./tools.js\";\nimport { noContextMenu } from \"../display_utils.js\";\n\nclass ColorPicker {\n  #button = null;\n\n  #buttonSwatch = null;\n\n  #defaultColor;\n\n  #dropdown = null;\n\n  #dropdownWasFromKeyboard = false;\n\n  #isMainColorPicker = false;\n\n  #editor = null;\n\n  #eventBus;\n\n  #openDropdownAC = null;\n\n  #uiManager = null;\n\n  #type;\n\n  static #l10nColor = null;\n\n  static get _keyboardManager() {\n    return shadow(\n      this,\n      \"_keyboardManager\",\n      new KeyboardManager([\n        [\n          [\"Escape\", \"mac+Escape\"],\n          ColorPicker.prototype._hideDropdownFromKeyboard,\n        ],\n        [[\" \", \"mac+ \"], ColorPicker.prototype._colorSelectFromKeyboard],\n        [\n          [\"ArrowDown\", \"ArrowRight\", \"mac+ArrowDown\", \"mac+ArrowRight\"],\n          ColorPicker.prototype._moveToNext,\n        ],\n        [\n          [\"ArrowUp\", \"ArrowLeft\", \"mac+ArrowUp\", \"mac+ArrowLeft\"],\n          ColorPicker.prototype._moveToPrevious,\n        ],\n        [[\"Home\", \"mac+Home\"], ColorPicker.prototype._moveToBeginning],\n        [[\"End\", \"mac+End\"], ColorPicker.prototype._moveToEnd],\n      ])\n    );\n  }\n\n  constructor({ editor = null, uiManager = null }) {\n    if (editor) {\n      this.#isMainColorPicker = false;\n      this.#type = AnnotationEditorParamsType.HIGHLIGHT_COLOR;\n      this.#editor = editor;\n    } else {\n      this.#isMainColorPicker = true;\n      this.#type = AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR;\n    }\n    this.#uiManager = editor?._uiManager || uiManager;\n    this.#eventBus = this.#uiManager._eventBus;\n    this.#defaultColor =\n      editor?.color ||\n      this.#uiManager?.highlightColors.values().next().value ||\n      \"#FFFF98\";\n\n    ColorPicker.#l10nColor ||= Object.freeze({\n      blue: \"pdfjs-editor-colorpicker-blue\",\n      green: \"pdfjs-editor-colorpicker-green\",\n      pink: \"pdfjs-editor-colorpicker-pink\",\n      red: \"pdfjs-editor-colorpicker-red\",\n      yellow: \"pdfjs-editor-colorpicker-yellow\",\n    });\n  }\n\n  renderButton() {\n    const button = (this.#button = document.createElement(\"button\"));\n    button.className = \"colorPicker\";\n    button.tabIndex = \"0\";\n    button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-button\");\n    button.setAttribute(\"aria-haspopup\", true);\n    const signal = this.#uiManager._signal;\n    button.addEventListener(\"click\", this.#openDropdown.bind(this), { signal });\n    button.addEventListener(\"keydown\", this.#keyDown.bind(this), { signal });\n    const swatch = (this.#buttonSwatch = document.createElement(\"span\"));\n    swatch.className = \"swatch\";\n    swatch.setAttribute(\"aria-hidden\", true);\n    swatch.style.backgroundColor = this.#defaultColor;\n    button.append(swatch);\n    return button;\n  }\n\n  renderMainDropdown() {\n    const dropdown = (this.#dropdown = this.#getDropdownRoot());\n    dropdown.setAttribute(\"aria-orientation\", \"horizontal\");\n    dropdown.setAttribute(\"aria-labelledby\", \"highlightColorPickerLabel\");\n\n    return dropdown;\n  }\n\n  #getDropdownRoot() {\n    const div = document.createElement(\"div\");\n    const signal = this.#uiManager._signal;\n    div.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    div.className = \"dropdown\";\n    div.role = \"listbox\";\n    div.setAttribute(\"aria-multiselectable\", false);\n    div.setAttribute(\"aria-orientation\", \"vertical\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-dropdown\");\n    for (const [name, color] of this.#uiManager.highlightColors) {\n      const button = document.createElement(\"button\");\n      button.tabIndex = \"0\";\n      button.role = \"option\";\n      button.setAttribute(\"data-color\", color);\n      button.title = name;\n      button.setAttribute(\"data-l10n-id\", ColorPicker.#l10nColor[name]);\n      const swatch = document.createElement(\"span\");\n      button.append(swatch);\n      swatch.className = \"swatch\";\n      swatch.style.backgroundColor = color;\n      button.setAttribute(\"aria-selected\", color === this.#defaultColor);\n      button.addEventListener(\"click\", this.#colorSelect.bind(this, color), {\n        signal,\n      });\n      div.append(button);\n    }\n\n    div.addEventListener(\"keydown\", this.#keyDown.bind(this), { signal });\n\n    return div;\n  }\n\n  #colorSelect(color, event) {\n    event.stopPropagation();\n    this.#eventBus.dispatch(\"switchannotationeditorparams\", {\n      source: this,\n      type: this.#type,\n      value: color,\n    });\n  }\n\n  _colorSelectFromKeyboard(event) {\n    if (event.target === this.#button) {\n      this.#openDropdown(event);\n      return;\n    }\n    const color = event.target.getAttribute(\"data-color\");\n    if (!color) {\n      return;\n    }\n    this.#colorSelect(color, event);\n  }\n\n  _moveToNext(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    if (event.target === this.#button) {\n      this.#dropdown.firstChild?.focus();\n      return;\n    }\n    event.target.nextSibling?.focus();\n  }\n\n  _moveToPrevious(event) {\n    if (\n      event.target === this.#dropdown?.firstChild ||\n      event.target === this.#button\n    ) {\n      if (this.#isDropdownVisible) {\n        this._hideDropdownFromKeyboard();\n      }\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n    }\n    event.target.previousSibling?.focus();\n  }\n\n  _moveToBeginning(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.firstChild?.focus();\n  }\n\n  _moveToEnd(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.lastChild?.focus();\n  }\n\n  #keyDown(event) {\n    ColorPicker._keyboardManager.exec(this, event);\n  }\n\n  #openDropdown(event) {\n    if (this.#isDropdownVisible) {\n      this.hideDropdown();\n      return;\n    }\n    this.#dropdownWasFromKeyboard = event.detail === 0;\n\n    if (!this.#openDropdownAC) {\n      this.#openDropdownAC = new AbortController();\n\n      window.addEventListener(\"pointerdown\", this.#pointerDown.bind(this), {\n        signal: this.#uiManager.combinedSignal(this.#openDropdownAC),\n      });\n    }\n    if (this.#dropdown) {\n      this.#dropdown.classList.remove(\"hidden\");\n      return;\n    }\n    const root = (this.#dropdown = this.#getDropdownRoot());\n    this.#button.append(root);\n  }\n\n  #pointerDown(event) {\n    if (this.#dropdown?.contains(event.target)) {\n      return;\n    }\n    this.hideDropdown();\n  }\n\n  hideDropdown() {\n    this.#dropdown?.classList.add(\"hidden\");\n    this.#openDropdownAC?.abort();\n    this.#openDropdownAC = null;\n  }\n\n  get #isDropdownVisible() {\n    return this.#dropdown && !this.#dropdown.classList.contains(\"hidden\");\n  }\n\n  _hideDropdownFromKeyboard() {\n    if (this.#isMainColorPicker) {\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      // The user pressed Escape with no dropdown visible, so we must\n      // unselect it.\n      this.#editor?.unselect();\n      return;\n    }\n    this.hideDropdown();\n    this.#button.focus({\n      preventScroll: true,\n      focusVisible: this.#dropdownWasFromKeyboard,\n    });\n  }\n\n  updateColor(color) {\n    if (this.#buttonSwatch) {\n      this.#buttonSwatch.style.backgroundColor = color;\n    }\n    if (!this.#dropdown) {\n      return;\n    }\n\n    const i = this.#uiManager.highlightColors.values();\n    for (const child of this.#dropdown.children) {\n      child.setAttribute(\"aria-selected\", i.next().value === color);\n    }\n  }\n\n  destroy() {\n    this.#button?.remove();\n    this.#button = null;\n    this.#buttonSwatch = null;\n    this.#dropdown?.remove();\n    this.#dropdown = null;\n  }\n}\n\nexport { ColorPicker };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  shadow,\n  Util,\n} from \"../../shared/util.js\";\nimport { bindEvents, KeyboardManager } from \"./tools.js\";\nimport {\n  FreeHighlightOutliner,\n  HighlightOutliner,\n} from \"./drawers/highlight.js\";\nimport {\n  HighlightAnnotationElement,\n  InkAnnotationElement,\n} from \"../annotation_layer.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { ColorPicker } from \"./color_picker.js\";\nimport { noContextMenu } from \"../display_utils.js\";\n\n/**\n * Basic draw editor in order to generate an Highlight annotation.\n */\nclass HighlightEditor extends AnnotationEditor {\n  #anchorNode = null;\n\n  #anchorOffset = 0;\n\n  #boxes;\n\n  #clipPathId = null;\n\n  #colorPicker = null;\n\n  #focusOutlines = null;\n\n  #focusNode = null;\n\n  #focusOffset = 0;\n\n  #highlightDiv = null;\n\n  #highlightOutlines = null;\n\n  #id = null;\n\n  #isFreeHighlight = false;\n\n  #lastPoint = null;\n\n  #opacity;\n\n  #outlineId = null;\n\n  #text = \"\";\n\n  #thickness;\n\n  #methodOfCreation = \"\";\n\n  static _defaultColor = null;\n\n  static _defaultOpacity = 1;\n\n  static _defaultThickness = 12;\n\n  static _type = \"highlight\";\n\n  static _editorType = AnnotationEditorType.HIGHLIGHT;\n\n  static _freeHighlightId = -1;\n\n  static _freeHighlight = null;\n\n  static _freeHighlightClipId = \"\";\n\n  static get _keyboardManager() {\n    const proto = HighlightEditor.prototype;\n    return shadow(\n      this,\n      \"_keyboardManager\",\n      new KeyboardManager([\n        [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._moveCaret, { args: [0] }],\n        [[\"ArrowRight\", \"mac+ArrowRight\"], proto._moveCaret, { args: [1] }],\n        [[\"ArrowUp\", \"mac+ArrowUp\"], proto._moveCaret, { args: [2] }],\n        [[\"ArrowDown\", \"mac+ArrowDown\"], proto._moveCaret, { args: [3] }],\n      ])\n    );\n  }\n\n  constructor(params) {\n    super({ ...params, name: \"highlightEditor\" });\n    this.color = params.color || HighlightEditor._defaultColor;\n    this.#thickness = params.thickness || HighlightEditor._defaultThickness;\n    this.#opacity = params.opacity || HighlightEditor._defaultOpacity;\n    this.#boxes = params.boxes || null;\n    this.#methodOfCreation = params.methodOfCreation || \"\";\n    this.#text = params.text || \"\";\n    this._isDraggable = false;\n\n    if (params.highlightId > -1) {\n      this.#isFreeHighlight = true;\n      this.#createFreeOutlines(params);\n      this.#addToDrawLayer();\n    } else if (this.#boxes) {\n      this.#anchorNode = params.anchorNode;\n      this.#anchorOffset = params.anchorOffset;\n      this.#focusNode = params.focusNode;\n      this.#focusOffset = params.focusOffset;\n      this.#createOutlines();\n      this.#addToDrawLayer();\n      this.rotate(this.rotation);\n    }\n  }\n\n  /** @inheritdoc */\n  get telemetryInitialData() {\n    return {\n      action: \"added\",\n      type: this.#isFreeHighlight ? \"free_highlight\" : \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color),\n      thickness: this.#thickness,\n      methodOfCreation: this.#methodOfCreation,\n    };\n  }\n\n  /** @inheritdoc */\n  get telemetryFinalData() {\n    return {\n      type: \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color),\n    };\n  }\n\n  static computeTelemetryFinalData(data) {\n    // We want to know how many colors have been used.\n    return { numberOfColors: data.get(\"color\").size };\n  }\n\n  #createOutlines() {\n    const outliner = new HighlightOutliner(\n      this.#boxes,\n      /* borderWidth = */ 0.001\n    );\n    this.#highlightOutlines = outliner.getOutlines();\n    ({\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height,\n    } = this.#highlightOutlines.box);\n\n    const outlinerForOutline = new HighlightOutliner(\n      this.#boxes,\n      /* borderWidth = */ 0.0025,\n      /* innerMargin = */ 0.001,\n      this._uiManager.direction === \"ltr\"\n    );\n    this.#focusOutlines = outlinerForOutline.getOutlines();\n\n    // The last point is in the pages coordinate system.\n    const { lastPoint } = this.#focusOutlines.box;\n    this.#lastPoint = [\n      (lastPoint[0] - this.x) / this.width,\n      (lastPoint[1] - this.y) / this.height,\n    ];\n  }\n\n  #createFreeOutlines({ highlightOutlines, highlightId, clipPathId }) {\n    this.#highlightOutlines = highlightOutlines;\n    const extraThickness = 1.5;\n    this.#focusOutlines = highlightOutlines.getNewOutline(\n      /* Slightly bigger than the highlight in order to have a little\n         space between the highlight and the outline. */\n      this.#thickness / 2 + extraThickness,\n      /* innerMargin = */ 0.0025\n    );\n\n    if (highlightId >= 0) {\n      this.#id = highlightId;\n      this.#clipPathId = clipPathId;\n      // We need to redraw the highlight because we change the coordinates to be\n      // in the box coordinate system.\n      this.parent.drawLayer.finalizeLine(highlightId, highlightOutlines);\n      this.#outlineId = this.parent.drawLayer.drawOutline(this.#focusOutlines);\n    } else if (this.parent) {\n      const angle = this.parent.viewport.rotation;\n      this.parent.drawLayer.updateLine(this.#id, highlightOutlines);\n      this.parent.drawLayer.updateBox(\n        this.#id,\n        HighlightEditor.#rotateBbox(\n          this.#highlightOutlines.box,\n          (angle - this.rotation + 360) % 360\n        )\n      );\n\n      this.parent.drawLayer.updateLine(this.#outlineId, this.#focusOutlines);\n      this.parent.drawLayer.updateBox(\n        this.#outlineId,\n        HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle)\n      );\n    }\n    const { x, y, width, height } = highlightOutlines.box;\n    switch (this.rotation) {\n      case 0:\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 90: {\n        const [pageWidth, pageHeight] = this.parentDimensions;\n        this.x = y;\n        this.y = 1 - x;\n        this.width = (width * pageHeight) / pageWidth;\n        this.height = (height * pageWidth) / pageHeight;\n        break;\n      }\n      case 180:\n        this.x = 1 - x;\n        this.y = 1 - y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 270: {\n        const [pageWidth, pageHeight] = this.parentDimensions;\n        this.x = 1 - y;\n        this.y = x;\n        this.width = (width * pageHeight) / pageWidth;\n        this.height = (height * pageWidth) / pageHeight;\n        break;\n      }\n    }\n\n    const { lastPoint } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - x) / width, (lastPoint[1] - y) / height];\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    HighlightEditor._defaultColor ||=\n      uiManager.highlightColors?.values().next().value || \"#fff066\";\n  }\n\n  /** @inheritdoc */\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        HighlightEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        HighlightEditor._defaultThickness = value;\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  translateInPage(x, y) {}\n\n  /** @inheritdoc */\n  get toolbarPosition() {\n    return this.#lastPoint;\n  }\n\n  /** @inheritdoc */\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        this.#updateThickness(value);\n        break;\n    }\n  }\n\n  static get defaultPropertiesToUpdate() {\n    return [\n      [\n        AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,\n        HighlightEditor._defaultColor,\n      ],\n      [\n        AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,\n        HighlightEditor._defaultThickness,\n      ],\n    ];\n  }\n\n  /** @inheritdoc */\n  get propertiesToUpdate() {\n    return [\n      [\n        AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n        this.color || HighlightEditor._defaultColor,\n      ],\n      [\n        AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,\n        this.#thickness || HighlightEditor._defaultThickness,\n      ],\n      [AnnotationEditorParamsType.HIGHLIGHT_FREE, this.#isFreeHighlight],\n    ];\n  }\n\n  /**\n   * Update the color and make this action undoable.\n   * @param {string} color\n   */\n  #updateColor(color) {\n    const setColorAndOpacity = (col, opa) => {\n      this.color = col;\n      this.parent?.drawLayer.changeColor(this.#id, col);\n      this.#colorPicker?.updateColor(col);\n      this.#opacity = opa;\n      this.parent?.drawLayer.changeOpacity(this.#id, opa);\n    };\n    const savedColor = this.color;\n    const savedOpacity = this.#opacity;\n    this.addCommands({\n      cmd: setColorAndOpacity.bind(\n        this,\n        color,\n        HighlightEditor._defaultOpacity\n      ),\n      undo: setColorAndOpacity.bind(this, savedColor, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n\n    this._reportTelemetry(\n      {\n        action: \"color_changed\",\n        color: this._uiManager.highlightColorNames.get(color),\n      },\n      /* mustWait = */ true\n    );\n  }\n\n  /**\n   * Update the thickness and make this action undoable.\n   * @param {number} thickness\n   */\n  #updateThickness(thickness) {\n    const savedThickness = this.#thickness;\n    const setThickness = th => {\n      this.#thickness = th;\n      this.#changeThickness(th);\n    };\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n    this._reportTelemetry(\n      { action: \"thickness_changed\", thickness },\n      /* mustWait = */ true\n    );\n  }\n\n  /** @inheritdoc */\n  async addEditToolbar() {\n    const toolbar = await super.addEditToolbar();\n    if (!toolbar) {\n      return null;\n    }\n    if (this._uiManager.highlightColors) {\n      this.#colorPicker = new ColorPicker({ editor: this });\n      toolbar.addColorPicker(this.#colorPicker);\n    }\n    return toolbar;\n  }\n\n  /** @inheritdoc */\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n\n  /** @inheritdoc */\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n\n  /** @inheritdoc */\n  fixAndSetPosition() {\n    return super.fixAndSetPosition(this.#getRotation());\n  }\n\n  /** @inheritdoc */\n  getBaseTranslation() {\n    // The editor itself doesn't have any CSS border (we're drawing one\n    // ourselves in using SVG).\n    return [0, 0];\n  }\n\n  /** @inheritdoc */\n  getRect(tx, ty) {\n    return super.getRect(tx, ty, this.#getRotation());\n  }\n\n  /** @inheritdoc */\n  onceAdded() {\n    if (!this.annotationElementId) {\n      this.parent.addUndoableEditor(this);\n    }\n    this.div.focus();\n  }\n\n  /** @inheritdoc */\n  remove() {\n    this.#cleanDrawLayer();\n    this._reportTelemetry({\n      action: \"deleted\",\n    });\n    super.remove();\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    this.#addToDrawLayer();\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilding it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n    }\n  }\n\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this.#addToDrawLayer(parent);\n      // If mustBeSelected is true it means that this editor was selected\n      // when its parent has been destroyed, hence we must select it again.\n      mustBeSelected =\n        !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    this.show(this._isVisible);\n    if (mustBeSelected) {\n      // We select it after the parent has been set.\n      this.select();\n    }\n  }\n\n  #changeThickness(thickness) {\n    if (!this.#isFreeHighlight) {\n      return;\n    }\n    this.#createFreeOutlines({\n      highlightOutlines: this.#highlightOutlines.getNewOutline(thickness / 2),\n    });\n    this.fixAndSetPosition();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n  }\n\n  #cleanDrawLayer() {\n    if (this.#id === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this.#id);\n    this.#id = null;\n    this.parent.drawLayer.remove(this.#outlineId);\n    this.#outlineId = null;\n  }\n\n  #addToDrawLayer(parent = this.parent) {\n    if (this.#id !== null) {\n      return;\n    }\n    ({ id: this.#id, clipPathId: this.#clipPathId } = parent.drawLayer.draw(\n      this.#highlightOutlines,\n      this.color,\n      this.#opacity\n    ));\n    this.#outlineId = parent.drawLayer.drawOutline(this.#focusOutlines);\n    if (this.#highlightDiv) {\n      this.#highlightDiv.style.clipPath = this.#clipPathId;\n    }\n  }\n\n  static #rotateBbox({ x, y, width, height }, angle) {\n    switch (angle) {\n      case 90:\n        return {\n          x: 1 - y - height,\n          y: x,\n          width: height,\n          height: width,\n        };\n      case 180:\n        return {\n          x: 1 - x - width,\n          y: 1 - y - height,\n          width,\n          height,\n        };\n      case 270:\n        return {\n          x: y,\n          y: 1 - x - width,\n          width: height,\n          height: width,\n        };\n    }\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n\n  /** @inheritdoc */\n  rotate(angle) {\n    // We need to rotate the svgs because of the coordinates system.\n    const { drawLayer } = this.parent;\n    let box;\n    if (this.#isFreeHighlight) {\n      angle = (angle - this.rotation + 360) % 360;\n      box = HighlightEditor.#rotateBbox(this.#highlightOutlines.box, angle);\n    } else {\n      // An highlight annotation is always drawn horizontally.\n      box = HighlightEditor.#rotateBbox(this, angle);\n    }\n    drawLayer.rotate(this.#id, angle);\n    drawLayer.rotate(this.#outlineId, angle);\n    drawLayer.updateBox(this.#id, box);\n    drawLayer.updateBox(\n      this.#outlineId,\n      HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle)\n    );\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    const div = super.render();\n    if (this.#text) {\n      div.setAttribute(\"aria-label\", this.#text);\n      div.setAttribute(\"role\", \"mark\");\n    }\n    if (this.#isFreeHighlight) {\n      div.classList.add(\"free\");\n    } else {\n      this.div.addEventListener(\"keydown\", this.#keydown.bind(this), {\n        signal: this._uiManager._signal,\n      });\n    }\n    const highlightDiv = (this.#highlightDiv = document.createElement(\"div\"));\n    div.append(highlightDiv);\n    highlightDiv.setAttribute(\"aria-hidden\", \"true\");\n    highlightDiv.className = \"internal\";\n    highlightDiv.style.clipPath = this.#clipPathId;\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n\n    bindEvents(this, this.#highlightDiv, [\"pointerover\", \"pointerleave\"]);\n    this.enableEditing();\n\n    return div;\n  }\n\n  pointerover() {\n    if (!this.isSelected) {\n      this.parent.drawLayer.addClass(this.#outlineId, \"hovered\");\n    }\n  }\n\n  pointerleave() {\n    if (!this.isSelected) {\n      this.parent.drawLayer.removeClass(this.#outlineId, \"hovered\");\n    }\n  }\n\n  #keydown(event) {\n    HighlightEditor._keyboardManager.exec(this, event);\n  }\n\n  _moveCaret(direction) {\n    this.parent.unselect(this);\n    switch (direction) {\n      case 0 /* left */:\n      case 2 /* up */:\n        this.#setCaret(/* start = */ true);\n        break;\n      case 1 /* right */:\n      case 3 /* down */:\n        this.#setCaret(/* start = */ false);\n        break;\n    }\n  }\n\n  #setCaret(start) {\n    if (!this.#anchorNode) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (start) {\n      selection.setPosition(this.#anchorNode, this.#anchorOffset);\n    } else {\n      selection.setPosition(this.#focusNode, this.#focusOffset);\n    }\n  }\n\n  /** @inheritdoc */\n  select() {\n    super.select();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"hovered\");\n    this.parent?.drawLayer.addClass(this.#outlineId, \"selected\");\n  }\n\n  /** @inheritdoc */\n  unselect() {\n    super.unselect();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"selected\");\n    if (!this.#isFreeHighlight) {\n      this.#setCaret(/* start = */ false);\n    }\n  }\n\n  /** @inheritdoc */\n  get _mustFixPosition() {\n    return !this.#isFreeHighlight;\n  }\n\n  /** @inheritdoc */\n  show(visible = this._isVisible) {\n    super.show(visible);\n    if (this.parent) {\n      this.parent.drawLayer.show(this.#id, visible);\n      this.parent.drawLayer.show(this.#outlineId, visible);\n    }\n  }\n\n  #getRotation() {\n    // Highlight annotations are always drawn horizontally but if\n    // a free highlight annotation can be rotated.\n    return this.#isFreeHighlight ? this.rotation : 0;\n  }\n\n  #serializeBoxes() {\n    if (this.#isFreeHighlight) {\n      return null;\n    }\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const boxes = this.#boxes;\n    const quadPoints = new Float32Array(boxes.length * 8);\n    let i = 0;\n    for (const { x, y, width, height } of boxes) {\n      const sx = x * pageWidth + pageX;\n      const sy = (1 - y - height) * pageHeight + pageY;\n      // The specifications say that the rectangle should start from the bottom\n      // left corner and go counter-clockwise.\n      // But when opening the file in Adobe Acrobat it appears that this isn't\n      // correct hence the 4th and 6th numbers are just swapped.\n      quadPoints[i] = quadPoints[i + 4] = sx;\n      quadPoints[i + 1] = quadPoints[i + 3] = sy;\n      quadPoints[i + 2] = quadPoints[i + 6] = sx + width * pageWidth;\n      quadPoints[i + 5] = quadPoints[i + 7] = sy + height * pageHeight;\n      i += 8;\n    }\n    return quadPoints;\n  }\n\n  #serializeOutlines(rect) {\n    return this.#highlightOutlines.serialize(rect, this.#getRotation());\n  }\n\n  static startHighlighting(parent, isLTR, { target: textLayer, x, y }) {\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight,\n    } = textLayer.getBoundingClientRect();\n\n    const ac = new AbortController();\n    const signal = parent.combinedSignal(ac);\n\n    const pointerDown = e => {\n      // Avoid to have undesired clicks during the drawing.\n      e.preventDefault();\n      e.stopPropagation();\n    };\n    const pointerUpCallback = e => {\n      ac.abort();\n      this.#endHighlight(parent, e);\n    };\n    window.addEventListener(\"blur\", pointerUpCallback, { signal });\n    window.addEventListener(\"pointerup\", pointerUpCallback, { signal });\n    window.addEventListener(\"pointerdown\", pointerDown, {\n      capture: true,\n      passive: false,\n      signal,\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, { signal });\n\n    textLayer.addEventListener(\n      \"pointermove\",\n      this.#highlightMove.bind(this, parent),\n      { signal }\n    );\n    this._freeHighlight = new FreeHighlightOutliner(\n      { x, y },\n      [layerX, layerY, parentWidth, parentHeight],\n      parent.scale,\n      this._defaultThickness / 2,\n      isLTR,\n      /* innerMargin = */ 0.001\n    );\n    ({ id: this._freeHighlightId, clipPathId: this._freeHighlightClipId } =\n      parent.drawLayer.draw(\n        this._freeHighlight,\n        this._defaultColor,\n        this._defaultOpacity,\n        /* isPathUpdatable = */ true\n      ));\n  }\n\n  static #highlightMove(parent, event) {\n    if (this._freeHighlight.add(event)) {\n      // Redraw only if the point has been added.\n      parent.drawLayer.updatePath(this._freeHighlightId, this._freeHighlight);\n    }\n  }\n\n  static #endHighlight(parent, event) {\n    if (!this._freeHighlight.isEmpty()) {\n      parent.createAndAddNewEditor(event, false, {\n        highlightId: this._freeHighlightId,\n        highlightOutlines: this._freeHighlight.getOutlines(),\n        clipPathId: this._freeHighlightClipId,\n        methodOfCreation: \"main_toolbar\",\n      });\n    } else {\n      parent.drawLayer.remove(this._freeHighlightId);\n    }\n    this._freeHighlightId = -1;\n    this._freeHighlight = null;\n    this._freeHighlightClipId = \"\";\n  }\n\n  /** @inheritdoc */\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof HighlightAnnotationElement) {\n      const {\n        data: { quadPoints, rect, rotation, id, color, opacity, popupRef },\n        parent: {\n          page: { pageNumber },\n        },\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        opacity,\n        quadPoints,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false,\n        popupRef,\n      };\n    } else if (data instanceof InkAnnotationElement) {\n      const {\n        data: {\n          inkLists,\n          rect,\n          rotation,\n          id,\n          color,\n          borderStyle: { rawWidth: thickness },\n          popupRef,\n        },\n        parent: {\n          page: { pageNumber },\n        },\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        thickness,\n        inkLists,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false,\n        popupRef,\n      };\n    }\n\n    const { color, quadPoints, inkLists, opacity } = data;\n    const editor = await super.deserialize(data, parent, uiManager);\n\n    editor.color = Util.makeHexColor(...color);\n    editor.#opacity = opacity || 1;\n    if (inkLists) {\n      editor.#thickness = data.thickness;\n    }\n    editor.annotationElementId = data.id || null;\n    editor._initialData = initialData;\n\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [pageX, pageY] = editor.pageTranslation;\n\n    if (quadPoints) {\n      const boxes = (editor.#boxes = []);\n      for (let i = 0; i < quadPoints.length; i += 8) {\n        boxes.push({\n          x: (quadPoints[i] - pageX) / pageWidth,\n          y: 1 - (quadPoints[i + 1] - pageY) / pageHeight,\n          width: (quadPoints[i + 2] - quadPoints[i]) / pageWidth,\n          height: (quadPoints[i + 1] - quadPoints[i + 5]) / pageHeight,\n        });\n      }\n      editor.#createOutlines();\n      editor.#addToDrawLayer();\n      editor.rotate(editor.rotation);\n    } else if (inkLists) {\n      editor.#isFreeHighlight = true;\n      const points = inkLists[0];\n      const point = {\n        x: points[0] - pageX,\n        y: pageHeight - (points[1] - pageY),\n      };\n      const outliner = new FreeHighlightOutliner(\n        point,\n        [0, 0, pageWidth, pageHeight],\n        1,\n        editor.#thickness / 2,\n        true,\n        0.001\n      );\n      for (let i = 0, ii = points.length; i < ii; i += 2) {\n        point.x = points[i] - pageX;\n        point.y = pageHeight - (points[i + 1] - pageY);\n        outliner.add(point);\n      }\n      const { id, clipPathId } = parent.drawLayer.draw(\n        outliner,\n        editor.color,\n        editor._defaultOpacity,\n        /* isPathUpdatable = */ true\n      );\n      editor.#createFreeOutlines({\n        highlightOutlines: outliner.getOutlines(),\n        highlightId: id,\n        clipPathId,\n      });\n      editor.#addToDrawLayer();\n    }\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  serialize(isForCopying = false) {\n    // It doesn't make sense to copy/paste a highlight annotation.\n    if (this.isEmpty() || isForCopying) {\n      return null;\n    }\n\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n\n    const rect = this.getRect(0, 0);\n    const color = AnnotationEditor._colorManager.convert(this.color);\n\n    const serialized = {\n      annotationType: AnnotationEditorType.HIGHLIGHT,\n      color,\n      opacity: this.#opacity,\n      thickness: this.#thickness,\n      quadPoints: this.#serializeBoxes(),\n      outlines: this.#serializeOutlines(rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.#getRotation(),\n      structTreeParentId: this._structTreeParentId,\n    };\n\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n\n  #hasElementChanged(serialized) {\n    const { color } = this._initialData;\n    return serialized.color.some((c, i) => c !== color[i]);\n  }\n\n  /** @inheritdoc */\n  renderAnnotationElement(annotation) {\n    annotation.updateEdited({\n      rect: this.getRect(0, 0),\n    });\n\n    return null;\n  }\n\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\nexport { HighlightEditor };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  assert,\n  Util,\n} from \"../../shared/util.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { InkAnnotationElement } from \"../annotation_layer.js\";\nimport { noContextMenu } from \"../display_utils.js\";\nimport { opacityToHex } from \"./tools.js\";\n\n/**\n * Basic draw editor in order to generate an Ink annotation.\n */\nclass InkEditor extends AnnotationEditor {\n  #baseHeight = 0;\n\n  #baseWidth = 0;\n\n  #canvasContextMenuTimeoutId = null;\n\n  #currentPath2D = new Path2D();\n\n  #disableEditing = false;\n\n  #drawingAC = null;\n\n  #hasSomethingToDraw = false;\n\n  #isCanvasInitialized = false;\n\n  #observer = null;\n\n  #pointerdownAC = null;\n\n  #realWidth = 0;\n\n  #realHeight = 0;\n\n  #requestFrameCallback = null;\n\n  static _defaultColor = null;\n\n  static _defaultOpacity = 1;\n\n  static _defaultThickness = 1;\n\n  static _type = \"ink\";\n\n  static _editorType = AnnotationEditorType.INK;\n\n  constructor(params) {\n    super({ ...params, name: \"inkEditor\" });\n    this.color = params.color || null;\n    this.thickness = params.thickness || null;\n    this.opacity = params.opacity || null;\n    this.paths = [];\n    this.bezierPath2D = [];\n    this.allRawPaths = [];\n    this.currentPath = [];\n    this.scaleFactor = 1;\n    this.translationX = this.translationY = 0;\n    this.x = 0;\n    this.y = 0;\n    this._willKeepAspectRatio = true;\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n  }\n\n  /** @inheritdoc */\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.INK_THICKNESS:\n        InkEditor._defaultThickness = value;\n        break;\n      case AnnotationEditorParamsType.INK_COLOR:\n        InkEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.INK_OPACITY:\n        InkEditor._defaultOpacity = value / 100;\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.INK_THICKNESS:\n        this.#updateThickness(value);\n        break;\n      case AnnotationEditorParamsType.INK_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.INK_OPACITY:\n        this.#updateOpacity(value);\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  static get defaultPropertiesToUpdate() {\n    return [\n      [AnnotationEditorParamsType.INK_THICKNESS, InkEditor._defaultThickness],\n      [\n        AnnotationEditorParamsType.INK_COLOR,\n        InkEditor._defaultColor || AnnotationEditor._defaultLineColor,\n      ],\n      [\n        AnnotationEditorParamsType.INK_OPACITY,\n        Math.round(InkEditor._defaultOpacity * 100),\n      ],\n    ];\n  }\n\n  /** @inheritdoc */\n  get propertiesToUpdate() {\n    return [\n      [\n        AnnotationEditorParamsType.INK_THICKNESS,\n        this.thickness || InkEditor._defaultThickness,\n      ],\n      [\n        AnnotationEditorParamsType.INK_COLOR,\n        this.color ||\n          InkEditor._defaultColor ||\n          AnnotationEditor._defaultLineColor,\n      ],\n      [\n        AnnotationEditorParamsType.INK_OPACITY,\n        Math.round(100 * (this.opacity ?? InkEditor._defaultOpacity)),\n      ],\n    ];\n  }\n\n  /**\n   * Update the thickness and make this action undoable.\n   * @param {number} thickness\n   */\n  #updateThickness(thickness) {\n    const setThickness = th => {\n      this.thickness = th;\n      this.#fitToContent();\n    };\n    const savedThickness = this.thickness;\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /**\n   * Update the color and make this action undoable.\n   * @param {string} color\n   */\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.#redraw();\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /**\n   * Update the opacity and make this action undoable.\n   * @param {number} opacity\n   */\n  #updateOpacity(opacity) {\n    const setOpacity = op => {\n      this.opacity = op;\n      this.#redraw();\n    };\n    opacity /= 100;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: setOpacity.bind(this, opacity),\n      undo: setOpacity.bind(this, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_OPACITY,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    if (!this.canvas) {\n      this.#createCanvas();\n      this.#createObserver();\n    }\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilding it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n      this.#setCanvasDims();\n    }\n    this.#fitToContent();\n  }\n\n  /** @inheritdoc */\n  remove() {\n    if (this.canvas === null) {\n      return;\n    }\n\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n\n    // Destroy the canvas.\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.remove();\n    this.canvas = null;\n\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n      this.#canvasContextMenuTimeoutId = null;\n    }\n\n    this.#observer?.disconnect();\n    this.#observer = null;\n\n    super.remove();\n  }\n\n  setParent(parent) {\n    if (!this.parent && parent) {\n      // We've a parent hence the rescale will be handled thanks to the\n      // ResizeObserver.\n      this._uiManager.removeShouldRescale(this);\n    } else if (this.parent && parent === null) {\n      // The editor is removed from the DOM, hence we handle the rescale thanks\n      // to the onScaleChanging callback.\n      // This way, it'll be saved/printed correctly.\n      this._uiManager.addShouldRescale(this);\n    }\n    super.setParent(parent);\n  }\n\n  onScaleChanging() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const width = this.width * parentWidth;\n    const height = this.height * parentHeight;\n    this.setDimensions(width, height);\n  }\n\n  /** @inheritdoc */\n  enableEditMode() {\n    if (this.#disableEditing || this.canvas === null) {\n      return;\n    }\n\n    super.enableEditMode();\n    this._isDraggable = false;\n    this.#addPointerdownListener();\n  }\n\n  /** @inheritdoc */\n  disableEditMode() {\n    if (!this.isInEditMode() || this.canvas === null) {\n      return;\n    }\n\n    super.disableEditMode();\n    this._isDraggable = !this.isEmpty();\n    this.div.classList.remove(\"editing\");\n    this.#removePointerdownListener();\n  }\n\n  /** @inheritdoc */\n  onceAdded() {\n    this._isDraggable = !this.isEmpty();\n  }\n\n  /** @inheritdoc */\n  isEmpty() {\n    return (\n      this.paths.length === 0 ||\n      (this.paths.length === 1 && this.paths[0].length === 0)\n    );\n  }\n\n  #getInitialBBox() {\n    const {\n      parentRotation,\n      parentDimensions: [width, height],\n    } = this;\n    switch (parentRotation) {\n      case 90:\n        return [0, height, height, width];\n      case 180:\n        return [width, height, width, height];\n      case 270:\n        return [width, 0, height, width];\n      default:\n        return [0, 0, width, height];\n    }\n  }\n\n  /**\n   * Set line styles.\n   */\n  #setStroke() {\n    const { ctx, color, opacity, thickness, parentScale, scaleFactor } = this;\n    ctx.lineWidth = (thickness * parentScale) / scaleFactor;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.miterLimit = 10;\n    ctx.strokeStyle = `${color}${opacityToHex(opacity)}`;\n  }\n\n  /**\n   * Start to draw on the canvas.\n   * @param {number} x\n   * @param {number} y\n   */\n  #startDrawing(x, y) {\n    this.canvas.addEventListener(\"contextmenu\", noContextMenu, {\n      signal: this._uiManager._signal,\n    });\n    this.#removePointerdownListener();\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        !this.#drawingAC,\n        \"No `this.#drawingAC` AbortController should exist.\"\n      );\n    }\n    this.#drawingAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#drawingAC);\n\n    this.canvas.addEventListener(\n      \"pointerleave\",\n      this.canvasPointerleave.bind(this),\n      { signal }\n    );\n    this.canvas.addEventListener(\n      \"pointermove\",\n      this.canvasPointermove.bind(this),\n      { signal }\n    );\n    this.canvas.addEventListener(\"pointerup\", this.canvasPointerup.bind(this), {\n      signal,\n    });\n\n    this.isEditing = true;\n    if (!this.#isCanvasInitialized) {\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.thickness ||= InkEditor._defaultThickness;\n      this.color ||=\n        InkEditor._defaultColor || AnnotationEditor._defaultLineColor;\n      this.opacity ??= InkEditor._defaultOpacity;\n    }\n    this.currentPath.push([x, y]);\n    this.#hasSomethingToDraw = false;\n    this.#setStroke();\n\n    this.#requestFrameCallback = () => {\n      this.#drawPoints();\n      if (this.#requestFrameCallback) {\n        window.requestAnimationFrame(this.#requestFrameCallback);\n      }\n    };\n    window.requestAnimationFrame(this.#requestFrameCallback);\n  }\n\n  /**\n   * Draw on the canvas.\n   * @param {number} x\n   * @param {number} y\n   */\n  #draw(x, y) {\n    const [lastX, lastY] = this.currentPath.at(-1);\n    if (this.currentPath.length > 1 && x === lastX && y === lastY) {\n      return;\n    }\n    const currentPath = this.currentPath;\n    let path2D = this.#currentPath2D;\n    currentPath.push([x, y]);\n    this.#hasSomethingToDraw = true;\n\n    if (currentPath.length <= 2) {\n      path2D.moveTo(...currentPath[0]);\n      path2D.lineTo(x, y);\n      return;\n    }\n\n    if (currentPath.length === 3) {\n      this.#currentPath2D = path2D = new Path2D();\n      path2D.moveTo(...currentPath[0]);\n    }\n\n    this.#makeBezierCurve(\n      path2D,\n      ...currentPath.at(-3),\n      ...currentPath.at(-2),\n      x,\n      y\n    );\n  }\n\n  #endPath() {\n    if (this.currentPath.length === 0) {\n      return;\n    }\n    const lastPoint = this.currentPath.at(-1);\n    this.#currentPath2D.lineTo(...lastPoint);\n  }\n\n  /**\n   * Stop to draw on the canvas.\n   * @param {number} x\n   * @param {number} y\n   */\n  #stopDrawing(x, y) {\n    this.#requestFrameCallback = null;\n\n    x = Math.min(Math.max(x, 0), this.canvas.width);\n    y = Math.min(Math.max(y, 0), this.canvas.height);\n\n    this.#draw(x, y);\n    this.#endPath();\n\n    // Interpolate the path entered by the user with some\n    // Bezier's curves in order to have a smoother path and\n    // to reduce the data size used to draw it in the PDF.\n    let bezier;\n    if (this.currentPath.length !== 1) {\n      bezier = this.#generateBezierPoints();\n    } else {\n      // We have only one point finally.\n      const xy = [x, y];\n      bezier = [[xy, xy.slice(), xy.slice(), xy]];\n    }\n    const path2D = this.#currentPath2D;\n    const currentPath = this.currentPath;\n    this.currentPath = [];\n    this.#currentPath2D = new Path2D();\n\n    const cmd = () => {\n      this.allRawPaths.push(currentPath);\n      this.paths.push(bezier);\n      this.bezierPath2D.push(path2D);\n      this._uiManager.rebuild(this);\n    };\n\n    const undo = () => {\n      this.allRawPaths.pop();\n      this.paths.pop();\n      this.bezierPath2D.pop();\n      if (this.paths.length === 0) {\n        this.remove();\n      } else {\n        if (!this.canvas) {\n          this.#createCanvas();\n          this.#createObserver();\n        }\n        this.#fitToContent();\n      }\n    };\n\n    this.addCommands({ cmd, undo, mustExec: true });\n  }\n\n  #drawPoints() {\n    if (!this.#hasSomethingToDraw) {\n      return;\n    }\n    this.#hasSomethingToDraw = false;\n\n    const thickness = Math.ceil(this.thickness * this.parentScale);\n    const lastPoints = this.currentPath.slice(-3);\n    const x = lastPoints.map(xy => xy[0]);\n    const y = lastPoints.map(xy => xy[1]);\n    const xMin = Math.min(...x) - thickness;\n    const xMax = Math.max(...x) + thickness;\n    const yMin = Math.min(...y) - thickness;\n    const yMax = Math.max(...y) + thickness;\n\n    const { ctx } = this;\n    ctx.save();\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      // In Chrome, the clip() method doesn't work as expected.\n      ctx.clearRect(xMin, yMin, xMax - xMin, yMax - yMin);\n      ctx.beginPath();\n      ctx.rect(xMin, yMin, xMax - xMin, yMax - yMin);\n      ctx.clip();\n    } else {\n      ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n    ctx.stroke(this.#currentPath2D);\n\n    ctx.restore();\n  }\n\n  #makeBezierCurve(path2D, x0, y0, x1, y1, x2, y2) {\n    const prevX = (x0 + x1) / 2;\n    const prevY = (y0 + y1) / 2;\n    const x3 = (x1 + x2) / 2;\n    const y3 = (y1 + y2) / 2;\n\n    path2D.bezierCurveTo(\n      prevX + (2 * (x1 - prevX)) / 3,\n      prevY + (2 * (y1 - prevY)) / 3,\n      x3 + (2 * (x1 - x3)) / 3,\n      y3 + (2 * (y1 - y3)) / 3,\n      x3,\n      y3\n    );\n  }\n\n  #generateBezierPoints() {\n    const path = this.currentPath;\n    if (path.length <= 2) {\n      return [[path[0], path[0], path.at(-1), path.at(-1)]];\n    }\n\n    const bezierPoints = [];\n    let i;\n    let [x0, y0] = path[0];\n    for (i = 1; i < path.length - 2; i++) {\n      const [x1, y1] = path[i];\n      const [x2, y2] = path[i + 1];\n      const x3 = (x1 + x2) / 2;\n      const y3 = (y1 + y2) / 2;\n\n      // The quadratic is: [[x0, y0], [x1, y1], [x3, y3]].\n      // Convert the quadratic to a cubic\n      // (see https://fontforge.org/docs/techref/bezier.html#converting-truetype-to-postscript)\n      const control1 = [x0 + (2 * (x1 - x0)) / 3, y0 + (2 * (y1 - y0)) / 3];\n      const control2 = [x3 + (2 * (x1 - x3)) / 3, y3 + (2 * (y1 - y3)) / 3];\n\n      bezierPoints.push([[x0, y0], control1, control2, [x3, y3]]);\n\n      [x0, y0] = [x3, y3];\n    }\n\n    const [x1, y1] = path[i];\n    const [x2, y2] = path[i + 1];\n\n    // The quadratic is: [[x0, y0], [x1, y1], [x2, y2]].\n    const control1 = [x0 + (2 * (x1 - x0)) / 3, y0 + (2 * (y1 - y0)) / 3];\n    const control2 = [x2 + (2 * (x1 - x2)) / 3, y2 + (2 * (y1 - y2)) / 3];\n\n    bezierPoints.push([[x0, y0], control1, control2, [x2, y2]]);\n    return bezierPoints;\n  }\n\n  /**\n   * Redraw all the paths.\n   */\n  #redraw() {\n    if (this.isEmpty()) {\n      this.#updateTransform();\n      return;\n    }\n    this.#setStroke();\n\n    const { canvas, ctx } = this;\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    this.#updateTransform();\n\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n  }\n\n  /**\n   * Commit the curves we have in this editor.\n   */\n  commit() {\n    if (this.#disableEditing) {\n      return;\n    }\n\n    super.commit();\n\n    this.isEditing = false;\n    this.disableEditMode();\n\n    // This editor must be on top of the main ink editor.\n    this.setInForeground();\n\n    this.#disableEditing = true;\n    this.div.classList.add(\"disabled\");\n\n    this.#fitToContent(/* firstTime = */ true);\n    this.select();\n\n    this.parent.addInkEditorIfNeeded(/* isCommitting = */ true);\n\n    // When committing, the position of this editor is changed, hence we must\n    // move it to the right position in the DOM.\n    this.moveInDOM();\n    this.div.focus({\n      preventScroll: true /* See issue #15744 */,\n    });\n  }\n\n  /** @inheritdoc */\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    this.enableEditMode();\n  }\n\n  #addPointerdownListener() {\n    if (this.#pointerdownAC) {\n      return;\n    }\n    this.#pointerdownAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#pointerdownAC);\n\n    this.canvas.addEventListener(\n      \"pointerdown\",\n      this.canvasPointerdown.bind(this),\n      { signal }\n    );\n  }\n\n  #removePointerdownListener() {\n    this.pointerdownAC?.abort();\n    this.pointerdownAC = null;\n  }\n\n  /**\n   * onpointerdown callback for the canvas we're drawing on.\n   * @param {PointerEvent} event\n   */\n  canvasPointerdown(event) {\n    if (event.button !== 0 || !this.isInEditMode() || this.#disableEditing) {\n      return;\n    }\n\n    // We want to draw on top of any other editors.\n    // Since it's the last child, there's no need to give it a higher z-index.\n    this.setInForeground();\n\n    event.preventDefault();\n\n    if (!this.div.contains(document.activeElement)) {\n      this.div.focus({\n        preventScroll: true /* See issue #17327 */,\n      });\n    }\n\n    this.#startDrawing(event.offsetX, event.offsetY);\n  }\n\n  /**\n   * onpointermove callback for the canvas we're drawing on.\n   * @param {PointerEvent} event\n   */\n  canvasPointermove(event) {\n    event.preventDefault();\n    this.#draw(event.offsetX, event.offsetY);\n  }\n\n  /**\n   * onpointerup callback for the canvas we're drawing on.\n   * @param {PointerEvent} event\n   */\n  canvasPointerup(event) {\n    event.preventDefault();\n    this.#endDrawing(event);\n  }\n\n  /**\n   * onpointerleave callback for the canvas we're drawing on.\n   * @param {PointerEvent} event\n   */\n  canvasPointerleave(event) {\n    this.#endDrawing(event);\n  }\n\n  /**\n   * End the drawing.\n   * @param {PointerEvent} event\n   */\n  #endDrawing(event) {\n    this.#drawingAC?.abort();\n    this.#drawingAC = null;\n\n    this.#addPointerdownListener();\n    // Slight delay to avoid the context menu to appear (it can happen on a long\n    // tap with a pen).\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n    }\n    this.#canvasContextMenuTimeoutId = setTimeout(() => {\n      this.#canvasContextMenuTimeoutId = null;\n      this.canvas.removeEventListener(\"contextmenu\", noContextMenu);\n    }, 10);\n\n    this.#stopDrawing(event.offsetX, event.offsetY);\n\n    this.addToAnnotationStorage();\n\n    // Since the ink editor covers all of the page and we want to be able\n    // to select another editor, we just put this one in the background.\n    this.setInBackground();\n  }\n\n  /**\n   * Create the canvas element.\n   */\n  #createCanvas() {\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.className = \"inkEditorCanvas\";\n    this.canvas.setAttribute(\"data-l10n-id\", \"pdfjs-ink-canvas\");\n\n    this.div.append(this.canvas);\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n\n  /**\n   * Create the resize observer.\n   */\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n    this._uiManager._signal.addEventListener(\n      \"abort\",\n      () => {\n        this.#observer?.disconnect();\n        this.#observer = null;\n      },\n      { once: true }\n    );\n  }\n\n  /** @inheritdoc */\n  get isResizable() {\n    return !this.isEmpty() && this.#disableEditing;\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n\n    super.render();\n\n    this.div.setAttribute(\"data-l10n-id\", \"pdfjs-ink\");\n\n    const [x, y, w, h] = this.#getInitialBBox();\n    this.setAt(x, y, 0, 0);\n    this.setDims(w, h);\n\n    this.#createCanvas();\n\n    if (this.width) {\n      // This editor was created in using copy (ctrl+c).\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAspectRatio(this.width * parentWidth, this.height * parentHeight);\n      this.setAt(\n        baseX * parentWidth,\n        baseY * parentHeight,\n        this.width * parentWidth,\n        this.height * parentHeight\n      );\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.setDims(this.width * parentWidth, this.height * parentHeight);\n      this.#redraw();\n      this.div.classList.add(\"disabled\");\n    } else {\n      this.div.classList.add(\"editing\");\n      this.enableEditMode();\n    }\n\n    this.#createObserver();\n\n    return this.div;\n  }\n\n  #setCanvasDims() {\n    if (!this.#isCanvasInitialized) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.canvas.width = Math.ceil(this.width * parentWidth);\n    this.canvas.height = Math.ceil(this.height * parentHeight);\n    this.#updateTransform();\n  }\n\n  /**\n   * When the dimensions of the div change the inner canvas must\n   * renew its dimensions, hence it must redraw its own contents.\n   * @param {number} width - the new width of the div\n   * @param {number} height - the new height of the div\n   * @returns\n   */\n  setDimensions(width, height) {\n    const roundedWidth = Math.round(width);\n    const roundedHeight = Math.round(height);\n    if (\n      this.#realWidth === roundedWidth &&\n      this.#realHeight === roundedHeight\n    ) {\n      return;\n    }\n\n    this.#realWidth = roundedWidth;\n    this.#realHeight = roundedHeight;\n\n    this.canvas.style.visibility = \"hidden\";\n\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.fixAndSetPosition();\n\n    if (this.#disableEditing) {\n      this.#setScaleFactor(width, height);\n    }\n\n    this.#setCanvasDims();\n    this.#redraw();\n\n    this.canvas.style.visibility = \"visible\";\n\n    // For any reason the dimensions couldn't be in percent but in pixels, hence\n    // we must fix them.\n    this.fixDims();\n  }\n\n  #setScaleFactor(width, height) {\n    const padding = this.#getPadding();\n    const scaleFactorW = (width - padding) / this.#baseWidth;\n    const scaleFactorH = (height - padding) / this.#baseHeight;\n    this.scaleFactor = Math.min(scaleFactorW, scaleFactorH);\n  }\n\n  /**\n   * Update the canvas transform.\n   */\n  #updateTransform() {\n    const padding = this.#getPadding() / 2;\n    this.ctx.setTransform(\n      this.scaleFactor,\n      0,\n      0,\n      this.scaleFactor,\n      this.translationX * this.scaleFactor + padding,\n      this.translationY * this.scaleFactor + padding\n    );\n  }\n\n  /**\n   * Convert into a Path2D.\n   * @param {Array<Array<number>>} bezier\n   * @returns {Path2D}\n   */\n  static #buildPath2D(bezier) {\n    const path2D = new Path2D();\n    for (let i = 0, ii = bezier.length; i < ii; i++) {\n      const [first, control1, control2, second] = bezier[i];\n      if (i === 0) {\n        path2D.moveTo(...first);\n      }\n      path2D.bezierCurveTo(\n        control1[0],\n        control1[1],\n        control2[0],\n        control2[1],\n        second[0],\n        second[1]\n      );\n    }\n    return path2D;\n  }\n\n  static #toPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] += blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] + blX;\n          points[i + 1] = x + blY;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] += blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trX - points[i + 1];\n          points[i + 1] = trY - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n\n  static #fromPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] -= blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] - blY;\n          points[i + 1] = x - blX;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] -= blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trY - points[i + 1];\n          points[i + 1] = trX - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n\n  /**\n   * Transform and serialize the paths.\n   * @param {number} s - scale factor\n   * @param {number} tx - abscissa of the translation\n   * @param {number} ty - ordinate of the translation\n   * @param {Array<number>} rect - the bounding box of the annotation\n   */\n  #serializePaths(s, tx, ty, rect) {\n    const paths = [];\n    const padding = this.thickness / 2;\n    const shiftX = s * tx + padding;\n    const shiftY = s * ty + padding;\n    for (const bezier of this.paths) {\n      const buffer = [];\n      const points = [];\n      for (let j = 0, jj = bezier.length; j < jj; j++) {\n        const [first, control1, control2, second] = bezier[j];\n        if (first[0] === second[0] && first[1] === second[1] && jj === 1) {\n          // We have only one point.\n          const p0 = s * first[0] + shiftX;\n          const p1 = s * first[1] + shiftY;\n          buffer.push(p0, p1);\n          points.push(p0, p1);\n          break;\n        }\n        const p10 = s * first[0] + shiftX;\n        const p11 = s * first[1] + shiftY;\n        const p20 = s * control1[0] + shiftX;\n        const p21 = s * control1[1] + shiftY;\n        const p30 = s * control2[0] + shiftX;\n        const p31 = s * control2[1] + shiftY;\n        const p40 = s * second[0] + shiftX;\n        const p41 = s * second[1] + shiftY;\n\n        if (j === 0) {\n          buffer.push(p10, p11);\n          points.push(p10, p11);\n        }\n        buffer.push(p20, p21, p30, p31, p40, p41);\n        points.push(p20, p21);\n        if (j === jj - 1) {\n          points.push(p40, p41);\n        }\n      }\n      paths.push({\n        bezier: InkEditor.#toPDFCoordinates(buffer, rect, this.rotation),\n        points: InkEditor.#toPDFCoordinates(points, rect, this.rotation),\n      });\n    }\n\n    return paths;\n  }\n\n  /**\n   * Get the bounding box containing all the paths.\n   * @returns {Array<number>}\n   */\n  #getBbox() {\n    let xMin = Infinity;\n    let xMax = -Infinity;\n    let yMin = Infinity;\n    let yMax = -Infinity;\n\n    for (const path of this.paths) {\n      for (const [first, control1, control2, second] of path) {\n        const bbox = Util.bezierBoundingBox(\n          ...first,\n          ...control1,\n          ...control2,\n          ...second\n        );\n        xMin = Math.min(xMin, bbox[0]);\n        yMin = Math.min(yMin, bbox[1]);\n        xMax = Math.max(xMax, bbox[2]);\n        yMax = Math.max(yMax, bbox[3]);\n      }\n    }\n\n    return [xMin, yMin, xMax, yMax];\n  }\n\n  /**\n   * The bounding box is computed with null thickness, so we must take\n   * it into account for the display.\n   * It corresponds to the total padding, hence it should be divided by 2\n   * in order to have left/right paddings.\n   * @returns {number}\n   */\n  #getPadding() {\n    return this.#disableEditing\n      ? Math.ceil(this.thickness * this.parentScale)\n      : 0;\n  }\n\n  /**\n   * Set the div position and dimensions in order to fit to\n   * the bounding box of the contents.\n   * @returns {undefined}\n   */\n  #fitToContent(firstTime = false) {\n    if (this.isEmpty()) {\n      return;\n    }\n\n    if (!this.#disableEditing) {\n      this.#redraw();\n      return;\n    }\n\n    const bbox = this.#getBbox();\n    const padding = this.#getPadding();\n    this.#baseWidth = Math.max(AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    this.#baseHeight = Math.max(AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n\n    const width = Math.ceil(padding + this.#baseWidth * this.scaleFactor);\n    const height = Math.ceil(padding + this.#baseHeight * this.scaleFactor);\n\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n\n    this.setAspectRatio(width, height);\n\n    const prevTranslationX = this.translationX;\n    const prevTranslationY = this.translationY;\n\n    this.translationX = -bbox[0];\n    this.translationY = -bbox[1];\n    this.#setCanvasDims();\n    this.#redraw();\n\n    this.#realWidth = width;\n    this.#realHeight = height;\n\n    this.setDims(width, height);\n    const unscaledPadding = firstTime ? padding / this.scaleFactor / 2 : 0;\n    this.translate(\n      prevTranslationX - this.translationX - unscaledPadding,\n      prevTranslationY - this.translationY - unscaledPadding\n    );\n  }\n\n  /** @inheritdoc */\n  static async deserialize(data, parent, uiManager) {\n    if (data instanceof InkAnnotationElement) {\n      return null;\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n\n    editor.thickness = data.thickness;\n    editor.color = Util.makeHexColor(...data.color);\n    editor.opacity = data.opacity;\n\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const width = editor.width * pageWidth;\n    const height = editor.height * pageHeight;\n    const scaleFactor = editor.parentScale;\n    const padding = data.thickness / 2;\n\n    editor.#disableEditing = true;\n    editor.#realWidth = Math.round(width);\n    editor.#realHeight = Math.round(height);\n\n    const { paths, rect, rotation } = data;\n\n    for (let { bezier } of paths) {\n      bezier = InkEditor.#fromPDFCoordinates(bezier, rect, rotation);\n      const path = [];\n      editor.paths.push(path);\n      let p0 = scaleFactor * (bezier[0] - padding);\n      let p1 = scaleFactor * (bezier[1] - padding);\n      for (let i = 2, ii = bezier.length; i < ii; i += 6) {\n        const p10 = scaleFactor * (bezier[i] - padding);\n        const p11 = scaleFactor * (bezier[i + 1] - padding);\n        const p20 = scaleFactor * (bezier[i + 2] - padding);\n        const p21 = scaleFactor * (bezier[i + 3] - padding);\n        const p30 = scaleFactor * (bezier[i + 4] - padding);\n        const p31 = scaleFactor * (bezier[i + 5] - padding);\n        path.push([\n          [p0, p1],\n          [p10, p11],\n          [p20, p21],\n          [p30, p31],\n        ]);\n        p0 = p30;\n        p1 = p31;\n      }\n      const path2D = this.#buildPath2D(path);\n      editor.bezierPath2D.push(path2D);\n    }\n\n    const bbox = editor.#getBbox();\n    editor.#baseWidth = Math.max(AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    editor.#baseHeight = Math.max(AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    editor.#setScaleFactor(width, height);\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  serialize() {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    const rect = this.getRect(0, 0);\n    const color = AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);\n\n    return {\n      annotationType: AnnotationEditorType.INK,\n      color,\n      thickness: this.thickness,\n      opacity: this.opacity,\n      paths: this.#serializePaths(\n        this.scaleFactor / this.parentScale,\n        this.translationX,\n        this.translationY,\n        rect\n      ),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId,\n    };\n  }\n}\n\nexport { InkEditor };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnnotationEditorType,\n  AnnotationPrefix,\n  shadow,\n} from \"../../shared/util.js\";\nimport { OutputScale, PixelsPerInch } from \"../display_utils.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { StampAnnotationElement } from \"../annotation_layer.js\";\n\n/**\n * Basic text editor in order to create a FreeTex annotation.\n */\nclass StampEditor extends AnnotationEditor {\n  #bitmap = null;\n\n  #bitmapId = null;\n\n  #bitmapPromise = null;\n\n  #bitmapUrl = null;\n\n  #bitmapFile = null;\n\n  #bitmapFileName = \"\";\n\n  #canvas = null;\n\n  #observer = null;\n\n  #resizeTimeoutId = null;\n\n  #isSvg = false;\n\n  #hasBeenAddedInUndoStack = false;\n\n  static _type = \"stamp\";\n\n  static _editorType = AnnotationEditorType.STAMP;\n\n  constructor(params) {\n    super({ ...params, name: \"stampEditor\" });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n  }\n\n  static get supportedTypes() {\n    // See https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types\n    // to know which types are supported by the browser.\n    const types = [\n      \"apng\",\n      \"avif\",\n      \"bmp\",\n      \"gif\",\n      \"jpeg\",\n      \"png\",\n      \"svg+xml\",\n      \"webp\",\n      \"x-icon\",\n    ];\n    return shadow(\n      this,\n      \"supportedTypes\",\n      types.map(type => `image/${type}`)\n    );\n  }\n\n  static get supportedTypesStr() {\n    return shadow(this, \"supportedTypesStr\", this.supportedTypes.join(\",\"));\n  }\n\n  /** @inheritdoc */\n  static isHandlingMimeForPasting(mime) {\n    return this.supportedTypes.includes(mime);\n  }\n\n  /** @inheritdoc */\n  static paste(item, parent) {\n    parent.pasteEditor(AnnotationEditorType.STAMP, {\n      bitmapFile: item.getAsFile(),\n    });\n  }\n\n  /** @inheritdoc */\n  altTextFinish() {\n    if (this._uiManager.useNewAltTextFlow) {\n      this.div.hidden = false;\n    }\n    super.altTextFinish();\n  }\n\n  /** @inheritdoc */\n  get telemetryFinalData() {\n    return {\n      type: \"stamp\",\n      hasAltText: !!this.altTextData?.altText,\n    };\n  }\n\n  static computeTelemetryFinalData(data) {\n    const hasAltTextStats = data.get(\"hasAltText\");\n    return {\n      hasAltText: hasAltTextStats.get(true) ?? 0,\n      hasNoAltText: hasAltTextStats.get(false) ?? 0,\n    };\n  }\n\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (!this.#canvas) {\n      return;\n    }\n    if (\n      this._uiManager.useNewAltTextWhenAddingImage &&\n      this._uiManager.useNewAltTextFlow &&\n      this.#bitmap\n    ) {\n      this._editToolbar.hide();\n      this._uiManager.editAltText(this, /* firstTime = */ true);\n      return;\n    }\n\n    if (\n      !this._uiManager.useNewAltTextWhenAddingImage &&\n      this._uiManager.useNewAltTextFlow &&\n      this.#bitmap\n    ) {\n      this._reportTelemetry({\n        action: \"pdfjs.image.image_added\",\n        data: { alt_text_modal: false, alt_text_type: \"empty\" },\n      });\n      try {\n        // The alt-text dialog isn't opened but we still want to guess the alt\n        // text.\n        this.mlGuessAltText();\n      } catch {}\n    }\n\n    this.div.focus();\n  }\n\n  async mlGuessAltText(imageData = null, updateAltTextData = true) {\n    if (this.hasAltTextData()) {\n      return null;\n    }\n\n    const { mlManager } = this._uiManager;\n    if (!mlManager) {\n      throw new Error(\"No ML.\");\n    }\n    if (!(await mlManager.isEnabledFor(\"altText\"))) {\n      throw new Error(\"ML isn't enabled for alt text.\");\n    }\n    const { data, width, height } =\n      imageData ||\n      this.copyCanvas(null, null, /* createImageData = */ true).imageData;\n    const response = await mlManager.guess({\n      name: \"altText\",\n      request: {\n        data,\n        width,\n        height,\n        channels: data.length / (width * height),\n      },\n    });\n    if (!response) {\n      throw new Error(\"No response from the AI service.\");\n    }\n    if (response.error) {\n      throw new Error(\"Error from the AI service.\");\n    }\n    if (response.cancel) {\n      return null;\n    }\n    if (!response.output) {\n      throw new Error(\"No valid response from the AI service.\");\n    }\n    const altText = response.output;\n    await this.setGuessedAltText(altText);\n    if (updateAltTextData && !this.hasAltTextData()) {\n      this.altTextData = { alt: altText, decorative: false };\n    }\n    return altText;\n  }\n\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager\n        .getFromId(this.#bitmapId)\n        .then(data => this.#getBitmapFetched(data, /* fromId = */ true))\n        .finally(() => this.#getBitmapDone());\n      return;\n    }\n\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager\n        .getFromUrl(url)\n        .then(data => this.#getBitmapFetched(data))\n        .finally(() => this.#getBitmapDone());\n      return;\n    }\n\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager\n        .getFromFile(file)\n        .then(data => this.#getBitmapFetched(data))\n        .finally(() => this.#getBitmapDone());\n      return;\n    }\n\n    const input = document.createElement(\"input\");\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      input.hidden = true;\n      input.id = \"stampEditorFileInput\";\n      document.body.append(input);\n    }\n    input.type = \"file\";\n    input.accept = StampEditor.supportedTypesStr;\n    const signal = this._uiManager._signal;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\n        \"change\",\n        async () => {\n          if (!input.files || input.files.length === 0) {\n            this.remove();\n          } else {\n            this._uiManager.enableWaiting(true);\n            const data = await this._uiManager.imageManager.getFromFile(\n              input.files[0]\n            );\n            this._reportTelemetry({\n              action: \"pdfjs.image.image_selected\",\n              data: { alt_text_modal: this._uiManager.useNewAltTextFlow },\n            });\n            this.#getBitmapFetched(data);\n          }\n          if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n            input.remove();\n          }\n          resolve();\n        },\n        { signal }\n      );\n      input.addEventListener(\n        \"cancel\",\n        () => {\n          this.remove();\n          resolve();\n        },\n        { signal }\n      );\n    }).finally(() => this.#getBitmapDone());\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"TESTING\")) {\n      input.click();\n    }\n  }\n\n  /** @inheritdoc */\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      this.#observer?.disconnect();\n      this.#observer = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      // It's possible to have to rebuild an editor which is not on a visible\n      // page.\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    if (this.#bitmapId && this.#canvas === null) {\n      this.#getBitmap();\n    }\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilting it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n    }\n  }\n\n  /** @inheritdoc */\n  onceAdded() {\n    this._isDraggable = true;\n    this.div.focus();\n  }\n\n  /** @inheritdoc */\n  isEmpty() {\n    return !(\n      this.#bitmapPromise ||\n      this.#bitmap ||\n      this.#bitmapUrl ||\n      this.#bitmapFile ||\n      this.#bitmapId\n    );\n  }\n\n  /** @inheritdoc */\n  get isResizable() {\n    return true;\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n\n    super.render();\n    this.div.hidden = true;\n    this.div.setAttribute(\"role\", \"figure\");\n\n    this.addAltTextButton();\n\n    if (this.#bitmap) {\n      this.#createCanvas();\n    } else {\n      this.#getBitmap();\n    }\n\n    if (this.width && !this.annotationElementId) {\n      // This editor was created in using copy (ctrl+c).\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAt(\n        baseX * parentWidth,\n        baseY * parentHeight,\n        this.width * parentWidth,\n        this.height * parentHeight\n      );\n    }\n\n    return this.div;\n  }\n\n  #createCanvas() {\n    const { div } = this;\n    let { width, height } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (\n      width > MAX_RATIO * pageWidth ||\n      height > MAX_RATIO * pageHeight\n    ) {\n      // If the the image is too big compared to the page dimensions\n      // (more than MAX_RATIO) then we scale it down.\n      const factor = Math.min(\n        (MAX_RATIO * pageWidth) / width,\n        (MAX_RATIO * pageHeight) / height\n      );\n      width *= factor;\n      height *= factor;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(\n      (width * parentWidth) / pageWidth,\n      (height * parentHeight) / pageHeight\n    );\n\n    this._uiManager.enableWaiting(false);\n    const canvas = (this.#canvas = document.createElement(\"canvas\"));\n    canvas.setAttribute(\"role\", \"img\");\n    this.addContainer(canvas);\n\n    if (\n      !this._uiManager.useNewAltTextWhenAddingImage ||\n      !this._uiManager.useNewAltTextFlow ||\n      this.annotationElementId\n    ) {\n      div.hidden = false;\n    }\n    this.#drawBitmap(width, height);\n    this.#createObserver();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n\n    // There are multiple ways to add an image to the page, so here we just\n    // count the number of times an image is added to the page whatever the way\n    // is.\n    this._reportTelemetry({\n      action: \"inserted_image\",\n    });\n    if (this.#bitmapFileName) {\n      canvas.setAttribute(\"aria-label\", this.#bitmapFileName);\n    }\n  }\n\n  copyCanvas(maxDataDimension, maxPreviewDimension, createImageData = false) {\n    if (!maxDataDimension) {\n      // TODO: get this value from Firefox\n      //   (https://bugzilla.mozilla.org/show_bug.cgi?id=1908184)\n      // It's the maximum dimension that the AI can handle.\n      maxDataDimension = 224;\n    }\n\n    const { width: bitmapWidth, height: bitmapHeight } = this.#bitmap;\n    const outputScale = new OutputScale();\n\n    let bitmap = this.#bitmap;\n    let width = bitmapWidth,\n      height = bitmapHeight;\n    let canvas = null;\n\n    if (maxPreviewDimension) {\n      if (\n        bitmapWidth > maxPreviewDimension ||\n        bitmapHeight > maxPreviewDimension\n      ) {\n        const ratio = Math.min(\n          maxPreviewDimension / bitmapWidth,\n          maxPreviewDimension / bitmapHeight\n        );\n        width = Math.floor(bitmapWidth * ratio);\n        height = Math.floor(bitmapHeight * ratio);\n      }\n\n      canvas = document.createElement(\"canvas\");\n      const scaledWidth = (canvas.width = Math.ceil(width * outputScale.sx));\n      const scaledHeight = (canvas.height = Math.ceil(height * outputScale.sy));\n\n      if (!this.#isSvg) {\n        bitmap = this.#scaleBitmap(scaledWidth, scaledHeight);\n      }\n\n      const ctx = canvas.getContext(\"2d\");\n      ctx.filter = this._uiManager.hcmFilter;\n\n      // Add a checkerboard pattern as a background in case the image has some\n      // transparency.\n      let white = \"white\",\n        black = \"#cfcfd8\";\n      if (this._uiManager.hcmFilter !== \"none\") {\n        black = \"black\";\n      } else if (window.matchMedia?.(\"(prefers-color-scheme: dark)\").matches) {\n        white = \"#8f8f9d\";\n        black = \"#42414d\";\n      }\n      const boxDim = 15;\n      const boxDimWidth = boxDim * outputScale.sx;\n      const boxDimHeight = boxDim * outputScale.sy;\n      const pattern = new OffscreenCanvas(boxDimWidth * 2, boxDimHeight * 2);\n      const patternCtx = pattern.getContext(\"2d\");\n      patternCtx.fillStyle = white;\n      patternCtx.fillRect(0, 0, boxDimWidth * 2, boxDimHeight * 2);\n      patternCtx.fillStyle = black;\n      patternCtx.fillRect(0, 0, boxDimWidth, boxDimHeight);\n      patternCtx.fillRect(boxDimWidth, boxDimHeight, boxDimWidth, boxDimHeight);\n      ctx.fillStyle = ctx.createPattern(pattern, \"repeat\");\n      ctx.fillRect(0, 0, scaledWidth, scaledHeight);\n      ctx.drawImage(\n        bitmap,\n        0,\n        0,\n        bitmap.width,\n        bitmap.height,\n        0,\n        0,\n        scaledWidth,\n        scaledHeight\n      );\n    }\n\n    let imageData = null;\n    if (createImageData) {\n      let dataWidth, dataHeight;\n      if (\n        outputScale.symmetric &&\n        bitmap.width < maxDataDimension &&\n        bitmap.height < maxDataDimension\n      ) {\n        dataWidth = bitmap.width;\n        dataHeight = bitmap.height;\n      } else {\n        bitmap = this.#bitmap;\n        if (bitmapWidth > maxDataDimension || bitmapHeight > maxDataDimension) {\n          const ratio = Math.min(\n            maxDataDimension / bitmapWidth,\n            maxDataDimension / bitmapHeight\n          );\n          dataWidth = Math.floor(bitmapWidth * ratio);\n          dataHeight = Math.floor(bitmapHeight * ratio);\n\n          if (!this.#isSvg) {\n            bitmap = this.#scaleBitmap(dataWidth, dataHeight);\n          }\n        }\n      }\n\n      const offscreen = new OffscreenCanvas(dataWidth, dataHeight);\n      const offscreenCtx = offscreen.getContext(\"2d\", {\n        willReadFrequently: true,\n      });\n      offscreenCtx.drawImage(\n        bitmap,\n        0,\n        0,\n        bitmap.width,\n        bitmap.height,\n        0,\n        0,\n        dataWidth,\n        dataHeight\n      );\n      imageData = {\n        width: dataWidth,\n        height: dataHeight,\n        data: offscreenCtx.getImageData(0, 0, dataWidth, dataHeight).data,\n      };\n    }\n\n    return { canvas, width, height, imageData };\n  }\n\n  /**\n   * When the dimensions of the div change the inner canvas must\n   * renew its dimensions, hence it must redraw its own contents.\n   * @param {number} width - the new width of the div\n   * @param {number} height - the new height of the div\n   * @returns\n   */\n  #setDimensions(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    // When the user is resizing the editor we just use CSS to scale the image\n    // to avoid redrawing it too often.\n    // And once the user stops resizing the editor we redraw the image in\n    // rescaling it correctly (see this.#scaleBitmap).\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap(width, height);\n    }, TIME_TO_WAIT);\n  }\n\n  #scaleBitmap(width, height) {\n    const { width: bitmapWidth, height: bitmapHeight } = this.#bitmap;\n\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n\n      if (newWidth > 2 * width) {\n        // See bug 1820511 (Windows specific bug).\n        // TODO: once the above bug is fixed we could revert to:\n        // newWidth = Math.ceil(newWidth / 2);\n        newWidth =\n          newWidth >= 16384\n            ? Math.floor(newWidth / 2) - 1\n            : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight =\n          newHeight >= 16384\n            ? Math.floor(newHeight / 2) - 1\n            : Math.ceil(newHeight / 2);\n      }\n\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(\n        bitmap,\n        0,\n        0,\n        prevWidth,\n        prevHeight,\n        0,\n        0,\n        newWidth,\n        newHeight\n      );\n      bitmap = offscreen.transferToImageBitmap();\n    }\n\n    return bitmap;\n  }\n\n  #drawBitmap(width, height) {\n    const outputScale = new OutputScale();\n    const scaledWidth = Math.ceil(width * outputScale.sx);\n    const scaledHeight = Math.ceil(height * outputScale.sy);\n\n    const canvas = this.#canvas;\n    if (\n      !canvas ||\n      (canvas.width === scaledWidth && canvas.height === scaledHeight)\n    ) {\n      return;\n    }\n    canvas.width = scaledWidth;\n    canvas.height = scaledHeight;\n\n    const bitmap = this.#isSvg\n      ? this.#bitmap\n      : this.#scaleBitmap(scaledWidth, scaledHeight);\n\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(\n      bitmap,\n      0,\n      0,\n      bitmap.width,\n      bitmap.height,\n      0,\n      0,\n      scaledWidth,\n      scaledHeight\n    );\n  }\n\n  /** @inheritdoc */\n  getImageForAltText() {\n    return this.#canvas;\n  }\n\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      // We convert to a data url because it's sync and the url can live in the\n      // clipboard.\n      const canvas = document.createElement(\"canvas\");\n      ({ width: canvas.width, height: canvas.height } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n\n      return canvas.toDataURL();\n    }\n\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      // Multiply by PixelsPerInch.PDF_TO_CSS_UNITS in order to increase the\n      // image resolution when rasterizing it.\n      const width = Math.round(\n        this.width * pageWidth * PixelsPerInch.PDF_TO_CSS_UNITS\n      );\n      const height = Math.round(\n        this.height * pageHeight * PixelsPerInch.PDF_TO_CSS_UNITS\n      );\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(\n        this.#bitmap,\n        0,\n        0,\n        this.#bitmap.width,\n        this.#bitmap.height,\n        0,\n        0,\n        width,\n        height\n      );\n      return offscreen.transferToImageBitmap();\n    }\n\n    return structuredClone(this.#bitmap);\n  }\n\n  /**\n   * Create the resize observer.\n   */\n  #createObserver() {\n    if (!this._uiManager._signal) {\n      // This method is called after the canvas has been created but the canvas\n      // creation is async, so it's possible that the viewer has been closed.\n      return;\n    }\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.#setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n    this._uiManager._signal.addEventListener(\n      \"abort\",\n      () => {\n        this.#observer?.disconnect();\n        this.#observer = null;\n      },\n      { once: true }\n    );\n  }\n\n  /** @inheritdoc */\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof StampAnnotationElement) {\n      const {\n        data: { rect, rotation, id, structParent, popupRef },\n        container,\n        parent: {\n          page: { pageNumber },\n        },\n      } = data;\n      const canvas = container.querySelector(\"canvas\");\n      const imageData = uiManager.imageManager.getFromCanvas(\n        container.id,\n        canvas\n      );\n      canvas.remove();\n\n      // When switching to edit mode, we wait for the structure tree to be\n      // ready (see pdf_viewer.js), so it's fine to use getAriaAttributesSync.\n      const altText =\n        (\n          await parent._structTree.getAriaAttributes(`${AnnotationPrefix}${id}`)\n        )?.get(\"aria-label\") || \"\";\n\n      initialData = data = {\n        annotationType: AnnotationEditorType.STAMP,\n        bitmapId: imageData.id,\n        bitmap: imageData.bitmap,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false,\n        accessibilityData: {\n          decorative: false,\n          altText,\n        },\n        isSvg: false,\n        structParent,\n        popupRef,\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    const { rect, bitmap, bitmapUrl, bitmapId, isSvg, accessibilityData } =\n      data;\n    if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n      if (bitmap) {\n        editor.#bitmap = bitmap;\n      }\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n\n    editor.annotationElementId = data.id || null;\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    editor._initialData = initialData;\n    // No need to be add in the undo stack if the editor is created from an\n    // existing one.\n    editor.#hasBeenAddedInUndoStack = !!initialData;\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n\n    const serialized = {\n      annotationType: AnnotationEditorType.STAMP,\n      bitmapId: this.#bitmapId,\n      pageIndex: this.pageIndex,\n      rect: this.getRect(0, 0),\n      rotation: this.rotation,\n      isSvg: this.#isSvg,\n      structTreeParentId: this._structTreeParentId,\n    };\n\n    if (isForCopying) {\n      // We don't know what's the final destination (this pdf or another one)\n      // of this annotation and the clipboard doesn't support ImageBitmaps,\n      // hence we serialize the bitmap to a data url.\n      serialized.bitmapUrl = this.#serializeBitmap(/* toUrl = */ true);\n      serialized.accessibilityData = this.serializeAltText(true);\n      return serialized;\n    }\n\n    const { decorative, altText } = this.serializeAltText(false);\n    if (!decorative && altText) {\n      serialized.accessibilityData = { type: \"Figure\", alt: altText };\n    }\n    if (this.annotationElementId) {\n      const changes = this.#hasElementChanged(serialized);\n      if (changes.isSame) {\n        // Nothing has been changed.\n        return null;\n      }\n      if (changes.isSameAltText) {\n        delete serialized.accessibilityData;\n      } else {\n        serialized.accessibilityData.structParent =\n          this._initialData.structParent ?? -1;\n      }\n    }\n    serialized.id = this.annotationElementId;\n\n    if (context === null) {\n      return serialized;\n    }\n\n    context.stamps ||= new Map();\n    const area = this.#isSvg\n      ? (serialized.rect[2] - serialized.rect[0]) *\n        (serialized.rect[3] - serialized.rect[1])\n      : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      // We don't want to have multiple copies of the same bitmap in the\n      // annotationMap, hence we only add the bitmap the first time we meet it.\n      context.stamps.set(this.#bitmapId, { area, serialized });\n      serialized.bitmap = this.#serializeBitmap(/* toUrl = */ false);\n    } else if (this.#isSvg) {\n      // If we have multiple copies of the same svg but with different sizes,\n      // then we want to keep the biggest one.\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(/* toUrl = */ false);\n      }\n    }\n    return serialized;\n  }\n\n  #hasElementChanged(serialized) {\n    const {\n      rect,\n      pageIndex,\n      accessibilityData: { altText },\n    } = this._initialData;\n\n    const isSameRect = serialized.rect.every(\n      (x, i) => Math.abs(x - rect[i]) < 1\n    );\n    const isSamePageIndex = serialized.pageIndex === pageIndex;\n    const isSameAltText = (serialized.accessibilityData?.alt || \"\") === altText;\n\n    return {\n      isSame: isSameRect && isSamePageIndex && isSameAltText,\n      isSameAltText,\n    };\n  }\n\n  /** @inheritdoc */\n  renderAnnotationElement(annotation) {\n    annotation.updateEdited({\n      rect: this.getRect(0, 0),\n    });\n\n    return null;\n  }\n}\n\nexport { StampEditor };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./tools.js\").AnnotationEditorUIManager} AnnotationEditorUIManager */\n/** @typedef {import(\"../display_utils.js\").PageViewport} PageViewport */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../../web/text_accessibility.js\").TextAccessibilityManager} TextAccessibilityManager */\n/** @typedef {import(\"../../../web/interfaces\").IL10n} IL10n */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../annotation_layer.js\").AnnotationLayer} AnnotationLayer */\n/** @typedef {import(\"../draw_layer.js\").DrawLayer} DrawLayer */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../src/display/struct_tree_layer_builder.js\").StructTreeLayerBuilder} StructTreeLayerBuilder */\n\nimport { AnnotationEditorType, FeatureTest } from \"../../shared/util.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { FreeTextEditor } from \"./freetext.js\";\nimport { HighlightEditor } from \"./highlight.js\";\nimport { InkEditor } from \"./ink.js\";\nimport { setLayerDimensions } from \"../display_utils.js\";\nimport { StampEditor } from \"./stamp.js\";\n\n/**\n * @typedef {Object} AnnotationEditorLayerOptions\n * @property {Object} mode\n * @property {HTMLDivElement} div\n * @property {StructTreeLayerBuilder} structTreeLayer\n * @property {AnnotationEditorUIManager} uiManager\n * @property {boolean} enabled\n * @property {TextAccessibilityManager} [accessibilityManager]\n * @property {number} pageIndex\n * @property {IL10n} l10n\n * @property {AnnotationLayer} [annotationLayer]\n * @property {HTMLDivElement} [textLayer]\n * @property {DrawLayer} drawLayer\n * @property {PageViewport} viewport\n */\n\n/**\n * @typedef {Object} RenderEditorLayerOptions\n * @property {PageViewport} viewport\n */\n\n/**\n * Manage all the different editors on a page.\n */\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n\n  #allowClick = false;\n\n  #annotationLayer = null;\n\n  #clickAC = null;\n\n  #editorFocusTimeoutId = null;\n\n  #editors = new Map();\n\n  #hadPointerDown = false;\n\n  #isCleaningUp = false;\n\n  #isDisabling = false;\n\n  #textLayer = null;\n\n  #textSelectionAC = null;\n\n  #uiManager;\n\n  static _initialized = false;\n\n  static #editorTypes = new Map(\n    [FreeTextEditor, InkEditor, StampEditor, HighlightEditor].map(type => [\n      type._editorType,\n      type,\n    ])\n  );\n\n  /**\n   * @param {AnnotationEditorLayerOptions} options\n   */\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    structTreeLayer,\n    accessibilityManager,\n    annotationLayer,\n    drawLayer,\n    textLayer,\n    viewport,\n    l10n,\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n, uiManager);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#textLayer = textLayer;\n    this.drawLayer = drawLayer;\n    this._structTree = structTreeLayer;\n\n    this.#uiManager.addLayer(this);\n  }\n\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n\n  get isInvisible() {\n    return (\n      this.isEmpty && this.#uiManager.getMode() === AnnotationEditorType.NONE\n    );\n  }\n\n  /**\n   * Update the toolbar if it's required to reflect the tool currently used.\n   * @param {number} mode\n   */\n  updateToolbar(mode) {\n    this.#uiManager.updateToolbar(mode);\n  }\n\n  /**\n   * The mode has changed: it must be updated.\n   * @param {number} mode\n   */\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    switch (mode) {\n      case AnnotationEditorType.NONE:\n        this.disableTextSelection();\n        this.togglePointerEvents(false);\n        this.toggleAnnotationLayerPointerEvents(true);\n        this.disableClick();\n        return;\n      case AnnotationEditorType.INK:\n        // We always want to have an ink editor ready to draw in.\n        this.addInkEditorIfNeeded(false);\n\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.disableClick();\n        break;\n      case AnnotationEditorType.HIGHLIGHT:\n        this.enableTextSelection();\n        this.togglePointerEvents(false);\n        this.disableClick();\n        break;\n      default:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n    }\n\n    this.toggleAnnotationLayerPointerEvents(false);\n    const { classList } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.toggle(\n        `${editorType._type}Editing`,\n        mode === editorType._editorType\n      );\n    }\n    this.div.hidden = false;\n  }\n\n  hasTextLayer(textLayer) {\n    return textLayer === this.#textLayer?.div;\n  }\n\n  addInkEditorIfNeeded(isCommitting) {\n    if (this.#uiManager.getMode() !== AnnotationEditorType.INK) {\n      // We don't want to add an ink editor if we're not in ink mode!\n      return;\n    }\n\n    if (!isCommitting) {\n      // We're removing an editor but an empty one can already exist so in this\n      // case we don't need to create a new one.\n      for (const editor of this.#editors.values()) {\n        if (editor.isEmpty()) {\n          editor.setInBackground();\n          return;\n        }\n      }\n    }\n\n    const editor = this.createAndAddNewEditor(\n      { offsetX: 0, offsetY: 0 },\n      /* isCentered = */ false\n    );\n    editor.setInBackground();\n  }\n\n  /**\n   * Set the editing state.\n   * @param {boolean} isEditing\n   */\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n\n  /**\n   * Add some commands into the CommandManager (undo/redo stuff).\n   * @param {Object} params\n   */\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n\n  toggleDrawing(enabled = false) {\n    this.div.classList.toggle(\"drawing\", !enabled);\n  }\n\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n\n  toggleAnnotationLayerPointerEvents(enabled = false) {\n    this.#annotationLayer?.div.classList.toggle(\"disabled\", !enabled);\n  }\n\n  /**\n   * Enable pointer events on the main div in order to enable\n   * editor creation.\n   */\n  async enable() {\n    this.div.tabIndex = 0;\n    this.togglePointerEvents(true);\n    const annotationElementIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.enableEditing();\n      editor.show(true);\n      if (editor.annotationElementId) {\n        this.#uiManager.removeChangedExistingAnnotation(editor);\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n\n    if (!this.#annotationLayer) {\n      return;\n    }\n\n    const editables = this.#annotationLayer.getEditableAnnotations();\n    for (const editable of editables) {\n      // The element must be hidden whatever its state is.\n      editable.hide();\n      if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n        continue;\n      }\n      if (annotationElementIds.has(editable.data.id)) {\n        continue;\n      }\n      const editor = await this.deserialize(editable);\n      if (!editor) {\n        continue;\n      }\n      this.addOrRebuild(editor);\n      editor.enableEditing();\n    }\n  }\n\n  /**\n   * Disable editor creation.\n   */\n  disable() {\n    this.#isDisabling = true;\n    this.div.tabIndex = -1;\n    this.togglePointerEvents(false);\n    const changedAnnotations = new Map();\n    const resetAnnotations = new Map();\n    for (const editor of this.#editors.values()) {\n      editor.disableEditing();\n      if (!editor.annotationElementId) {\n        continue;\n      }\n      if (editor.serialize() !== null) {\n        changedAnnotations.set(editor.annotationElementId, editor);\n        continue;\n      } else {\n        resetAnnotations.set(editor.annotationElementId, editor);\n      }\n      this.getEditableAnnotation(editor.annotationElementId)?.show();\n      editor.remove();\n    }\n\n    if (this.#annotationLayer) {\n      // Show the annotations that were hidden in enable().\n      const editables = this.#annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const { id } = editable.data;\n        if (this.#uiManager.isDeletedAnnotationElement(id)) {\n          continue;\n        }\n        let editor = resetAnnotations.get(id);\n        if (editor) {\n          editor.resetAnnotationElement(editable);\n          editor.show(false);\n          editable.show();\n          continue;\n        }\n\n        editor = changedAnnotations.get(id);\n        if (editor) {\n          this.#uiManager.addChangedExistingAnnotation(editor);\n          if (editor.renderAnnotationElement(editable)) {\n            // Content has changed, so we need to hide the editor.\n            editor.show(false);\n          }\n        }\n        editable.show();\n      }\n    }\n\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const { classList } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.disableTextSelection();\n    this.toggleAnnotationLayerPointerEvents(true);\n\n    this.#isDisabling = false;\n  }\n\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n\n  /**\n   * Set the current editor.\n   * @param {AnnotationEditor} editor\n   */\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n\n    this.#uiManager.setActiveEditor(editor);\n  }\n\n  enableTextSelection() {\n    this.div.tabIndex = -1;\n    if (this.#textLayer?.div && !this.#textSelectionAC) {\n      this.#textSelectionAC = new AbortController();\n      const signal = this.#uiManager.combinedSignal(this.#textSelectionAC);\n\n      this.#textLayer.div.addEventListener(\n        \"pointerdown\",\n        this.#textLayerPointerDown.bind(this),\n        { signal }\n      );\n      this.#textLayer.div.classList.add(\"highlighting\");\n    }\n  }\n\n  disableTextSelection() {\n    this.div.tabIndex = 0;\n    if (this.#textLayer?.div && this.#textSelectionAC) {\n      this.#textSelectionAC.abort();\n      this.#textSelectionAC = null;\n\n      this.#textLayer.div.classList.remove(\"highlighting\");\n    }\n  }\n\n  #textLayerPointerDown(event) {\n    // Unselect all the editors in order to let the user select some text\n    // without being annoyed by an editor toolbar.\n    this.#uiManager.unselectAll();\n    const { target } = event;\n    if (\n      target === this.#textLayer.div ||\n      ((target.getAttribute(\"role\") === \"img\" ||\n        target.classList.contains(\"endOfContent\")) &&\n        this.#textLayer.div.contains(target))\n    ) {\n      const { isMac } = FeatureTest.platform;\n      if (event.button !== 0 || (event.ctrlKey && isMac)) {\n        // Do nothing on right click.\n        return;\n      }\n      this.#uiManager.showAllEditors(\n        \"highlight\",\n        true,\n        /* updateButton = */ true\n      );\n      this.#textLayer.div.classList.add(\"free\");\n      this.toggleDrawing();\n      HighlightEditor.startHighlighting(\n        this,\n        this.#uiManager.direction === \"ltr\",\n        { target: this.#textLayer.div, x: event.x, y: event.y }\n      );\n      this.#textLayer.div.addEventListener(\n        \"pointerup\",\n        () => {\n          this.#textLayer.div.classList.remove(\"free\");\n          this.toggleDrawing(true);\n        },\n        { once: true, signal: this.#uiManager._signal }\n      );\n      event.preventDefault();\n    }\n  }\n\n  enableClick() {\n    if (this.#clickAC) {\n      return;\n    }\n    this.#clickAC = new AbortController();\n    const signal = this.#uiManager.combinedSignal(this.#clickAC);\n\n    this.div.addEventListener(\"pointerdown\", this.pointerdown.bind(this), {\n      signal,\n    });\n    this.div.addEventListener(\"pointerup\", this.pointerup.bind(this), {\n      signal,\n    });\n  }\n\n  disableClick() {\n    this.#clickAC?.abort();\n    this.#clickAC = null;\n  }\n\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const { annotationElementId } = editor;\n    if (\n      annotationElementId &&\n      this.#uiManager.isDeletedAnnotationElement(annotationElementId)\n    ) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n\n  /**\n   * Remove an editor.\n   * @param {AnnotationEditor} editor\n   */\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n\n    if (!this.#isCleaningUp) {\n      this.addInkEditorIfNeeded(/* isCommitting = */ false);\n    }\n  }\n\n  /**\n   * An editor can have a different parent, for example after having\n   * being dragged and droped from a page to another.\n   * @param {AnnotationEditor} editor\n   */\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n\n    if (editor.parent && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor.annotationElementId);\n      AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n\n  /**\n   * Add a new editor in the current view.\n   * @param {AnnotationEditor} editor\n   */\n  add(editor) {\n    if (editor.parent === this && editor.isAttachedToDOM) {\n      return;\n    }\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n\n    // The editor will be correctly moved into the DOM (see fixAndSetPosition).\n    editor.fixAndSetPosition();\n    editor.onceAdded();\n    this.#uiManager.addToAnnotationStorage(editor);\n    editor._reportTelemetry(editor.telemetryInitialData);\n  }\n\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n\n    const { activeElement } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      // When the div is moved in the DOM the focus can move somewhere else,\n      // so we want to be sure that the focus will stay on the editor but we\n      // don't want to call any focus callbacks, hence we disable them and only\n      // re-enable them when the editor has the focus.\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\n            \"focusin\",\n            () => {\n              editor._focusEventsAllowed = true;\n            },\n            { once: true, signal: this.#uiManager._signal }\n          );\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(\n      this.div,\n      editor.div,\n      editor.contentDiv,\n      /* isRemovable = */ true\n    );\n  }\n\n  /**\n   * Add or rebuild depending if it has been removed or not.\n   * @param {AnnotationEditor} editor\n   */\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n      editor.show();\n    } else {\n      this.add(editor);\n    }\n  }\n\n  /**\n   * Add a new editor and make this addition undoable.\n   * @param {AnnotationEditor} editor\n   */\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n\n    this.addCommands({ cmd, undo, mustExec: false });\n  }\n\n  /**\n   * Get an id for an editor.\n   * @returns {string}\n   */\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n\n  get #currentEditorType() {\n    return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n  }\n\n  combinedSignal(ac) {\n    return this.#uiManager.combinedSignal(ac);\n  }\n\n  /**\n   * Create a new editor\n   * @param {Object} params\n   * @returns {AnnotationEditor}\n   */\n  #createNewEditor(params) {\n    const editorType = this.#currentEditorType;\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n\n  canCreateNewEmptyEditor() {\n    return this.#currentEditorType?.canCreateNewEmptyEditor();\n  }\n\n  /**\n   * Paste some content into a new editor.\n   * @param {number} mode\n   * @param {Object} params\n   */\n  pasteEditor(mode, params) {\n    this.#uiManager.updateToolbar(mode);\n    this.#uiManager.updateMode(mode);\n\n    const { offsetX, offsetY } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params,\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n\n  /**\n   * Create a new editor\n   * @param {Object} data\n   * @returns {AnnotationEditor | null}\n   */\n  async deserialize(data) {\n    return (\n      (await AnnotationEditorLayer.#editorTypes\n        .get(data.annotationType ?? data.annotationEditorType)\n        ?.deserialize(data, this, this.#uiManager)) || null\n    );\n  }\n\n  /**\n   * Create and add a new editor.\n   * @param {PointerEvent} event\n   * @param {boolean} isCentered\n   * @param [Object] data\n   * @returns {AnnotationEditor}\n   */\n  createAndAddNewEditor(event, isCentered, data = {}) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n      ...data,\n    });\n    if (editor) {\n      this.add(editor);\n    }\n\n    return editor;\n  }\n\n  #getCenterPoint() {\n    const { x, y, width, height } = this.div.getBoundingClientRect();\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] =\n      this.viewport.rotation % 180 === 0\n        ? [centerX, centerY]\n        : [centerY, centerX];\n\n    return { offsetX, offsetY };\n  }\n\n  /**\n   * Create and add a new editor.\n   */\n  addNewEditor() {\n    this.createAndAddNewEditor(this.#getCenterPoint(), /* isCentered = */ true);\n  }\n\n  /**\n   * Set the last selected editor.\n   * @param {AnnotationEditor} editor\n   */\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n\n  /**\n   * Add or remove an editor the current selection.\n   * @param {AnnotationEditor} editor\n   */\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n\n  /**\n   * Unselect an editor.\n   * @param {AnnotationEditor} editor\n   */\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n\n  /**\n   * Pointerup callback.\n   * @param {PointerEvent} event\n   */\n  pointerup(event) {\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      // Don't create an editor on right click.\n      return;\n    }\n\n    if (event.target !== this.div) {\n      return;\n    }\n\n    if (!this.#hadPointerDown) {\n      // It can happen when the user starts a drag inside a text editor\n      // and then releases the mouse button outside of it. In such a case\n      // we don't want to create a new editor, hence we check that a pointerdown\n      // occurred on this div previously.\n      return;\n    }\n    this.#hadPointerDown = false;\n\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n\n    if (this.#uiManager.getMode() === AnnotationEditorType.STAMP) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n\n    this.createAndAddNewEditor(event, /* isCentered = */ false);\n  }\n\n  /**\n   * Pointerdown callback.\n   * @param {PointerEvent} event\n   */\n  pointerdown(event) {\n    if (this.#uiManager.getMode() === AnnotationEditorType.HIGHLIGHT) {\n      this.enableTextSelection();\n    }\n    if (this.#hadPointerDown) {\n      // It's possible to have a second pointerdown event before a pointerup one\n      // when the user puts a finger on a touchscreen and then add a second one\n      // to start a pinch-to-zoom gesture.\n      // That said, in case it's possible to have two pointerdown events with\n      // a mouse, we don't want to create a new editor in such a case either.\n      this.#hadPointerDown = false;\n      return;\n    }\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      // Do nothing on right click.\n      return;\n    }\n\n    if (event.target !== this.div) {\n      return;\n    }\n\n    this.#hadPointerDown = true;\n\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n\n  /**\n   *\n   * @param {AnnotationEditor} editor\n   * @param {number} x\n   * @param {number} y\n   * @returns\n   */\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n\n  /**\n   * Destroy the main editor.\n   */\n  destroy() {\n    if (this.#uiManager.getActive()?.parent === this) {\n      // We need to commit the current editor before destroying the layer.\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n\n  #cleanup() {\n    // When we're cleaning up, some editors are removed but we don't want\n    // to add a new one which will induce an addition in this.#editors, hence\n    // an infinite loop.\n    this.#isCleaningUp = true;\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n    this.#isCleaningUp = false;\n  }\n\n  /**\n   * Render the main editor.\n   * @param {RenderEditorLayerOptions} parameters\n   */\n  render({ viewport }) {\n    this.viewport = viewport;\n    setLayerDimensions(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n      editor.rebuild();\n    }\n    // We're maybe rendering a layer which was invisible when we started to edit\n    // so we must set the different callbacks for it.\n    this.updateMode();\n  }\n\n  /**\n   * Update the main editor.\n   * @param {RenderEditorLayerOptions} parameters\n   */\n  update({ viewport }) {\n    // Editors have their dimensions/positions in percent so to avoid any\n    // issues (see #15582), we must commit the current one before changing\n    // the viewport.\n    this.#uiManager.commitOrRemove();\n    this.#cleanup();\n\n    const oldRotation = this.viewport.rotation;\n    const rotation = viewport.rotation;\n    this.viewport = viewport;\n    setLayerDimensions(this.div, { rotation });\n    if (oldRotation !== rotation) {\n      for (const editor of this.#editors.values()) {\n        editor.rotate(rotation);\n      }\n    }\n    this.addInkEditorIfNeeded(/* isCommitting = */ false);\n  }\n\n  /**\n   * Get page dimensions.\n   * @returns {Object} dimensions.\n   */\n  get pageDimensions() {\n    const { pageWidth, pageHeight } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n\n  get scale() {\n    return this.#uiManager.viewParameters.realScale;\n  }\n}\n\nexport { AnnotationEditorLayer };\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DOMSVGFactory } from \"./svg_factory.js\";\nimport { shadow } from \"../shared/util.js\";\n\n/**\n * Manage the SVGs drawn on top of the page canvas.\n * It's important to have them directly on top of the canvas because we want to\n * be able to use mix-blend-mode for some of them.\n */\nclass DrawLayer {\n  #parent = null;\n\n  #id = 0;\n\n  #mapping = new Map();\n\n  #toUpdate = new Map();\n\n  constructor({ pageIndex }) {\n    this.pageIndex = pageIndex;\n  }\n\n  setParent(parent) {\n    if (!this.#parent) {\n      this.#parent = parent;\n      return;\n    }\n\n    if (this.#parent !== parent) {\n      if (this.#mapping.size > 0) {\n        for (const root of this.#mapping.values()) {\n          root.remove();\n          parent.append(root);\n        }\n      }\n      this.#parent = parent;\n    }\n  }\n\n  static get _svgFactory() {\n    return shadow(this, \"_svgFactory\", new DOMSVGFactory());\n  }\n\n  static #setBox(element, { x = 0, y = 0, width = 1, height = 1 } = {}) {\n    const { style } = element;\n    style.top = `${100 * y}%`;\n    style.left = `${100 * x}%`;\n    style.width = `${100 * width}%`;\n    style.height = `${100 * height}%`;\n  }\n\n  #createSVG(box) {\n    const svg = DrawLayer._svgFactory.create(1, 1, /* skipDimensions = */ true);\n    this.#parent.append(svg);\n    svg.setAttribute(\"aria-hidden\", true);\n    DrawLayer.#setBox(svg, box);\n\n    return svg;\n  }\n\n  #createClipPath(defs, pathId) {\n    const clipPath = DrawLayer._svgFactory.createElement(\"clipPath\");\n    defs.append(clipPath);\n    const clipPathId = `clip_${pathId}`;\n    clipPath.setAttribute(\"id\", clipPathId);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    const clipPathUse = DrawLayer._svgFactory.createElement(\"use\");\n    clipPath.append(clipPathUse);\n    clipPathUse.setAttribute(\"href\", `#${pathId}`);\n    clipPathUse.classList.add(\"clip\");\n\n    return clipPathId;\n  }\n\n  draw(outlines, color, opacity, isPathUpdatable = false) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(...outlines.classNamesForDrawing);\n\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n\n    if (isPathUpdatable) {\n      this.#toUpdate.set(id, path);\n    }\n\n    // Create the clipping path for the editor div.\n    const clipPathId = this.#createClipPath(defs, pathId);\n\n    const use = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use);\n    root.setAttribute(\"fill\", color);\n    root.setAttribute(\"fill-opacity\", opacity);\n    use.setAttribute(\"href\", `#${pathId}`);\n\n    this.#mapping.set(id, root);\n\n    return { id, clipPathId: `url(#${clipPathId})` };\n  }\n\n  drawOutline(outlines) {\n    // We cannot draw the outline directly in the SVG for highlights because\n    // it composes with its parent with mix-blend-mode: multiply.\n    // But the outline has a different mix-blend-mode, so we need to draw it in\n    // its own SVG.\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(...outlines.classNamesForOutlining);\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n\n    let maskId;\n    if (outlines.mustRemoveSelfIntersections) {\n      const mask = DrawLayer._svgFactory.createElement(\"mask\");\n      defs.append(mask);\n      maskId = `mask_p${this.pageIndex}_${id}`;\n      mask.setAttribute(\"id\", maskId);\n      mask.setAttribute(\"maskUnits\", \"objectBoundingBox\");\n      const rect = DrawLayer._svgFactory.createElement(\"rect\");\n      mask.append(rect);\n      rect.setAttribute(\"width\", \"1\");\n      rect.setAttribute(\"height\", \"1\");\n      rect.setAttribute(\"fill\", \"white\");\n      const use = DrawLayer._svgFactory.createElement(\"use\");\n      mask.append(use);\n      use.setAttribute(\"href\", `#${pathId}`);\n      use.setAttribute(\"stroke\", \"none\");\n      use.setAttribute(\"fill\", \"black\");\n      use.setAttribute(\"fill-rule\", \"nonzero\");\n      use.classList.add(\"mask\");\n    }\n\n    const use1 = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use1);\n    use1.setAttribute(\"href\", `#${pathId}`);\n    if (maskId) {\n      use1.setAttribute(\"mask\", `url(#${maskId})`);\n    }\n    const use2 = use1.cloneNode();\n    root.append(use2);\n    use1.classList.add(\"mainOutline\");\n    use2.classList.add(\"secondaryOutline\");\n\n    this.#mapping.set(id, root);\n\n    return id;\n  }\n\n  finalizeLine(id, line) {\n    const path = this.#toUpdate.get(id);\n    this.#toUpdate.delete(id);\n    this.updateBox(id, line.box);\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n\n  updateLine(id, line) {\n    const root = this.#mapping.get(id);\n    const defs = root.firstChild;\n    const path = defs.firstChild;\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n\n  updatePath(id, line) {\n    this.#toUpdate.get(id).setAttribute(\"d\", line.toSVGPath());\n  }\n\n  updateBox(id, box) {\n    DrawLayer.#setBox(this.#mapping.get(id), box);\n  }\n\n  show(id, visible) {\n    this.#mapping.get(id).classList.toggle(\"hidden\", !visible);\n  }\n\n  rotate(id, angle) {\n    this.#mapping.get(id).setAttribute(\"data-main-rotation\", angle);\n  }\n\n  changeColor(id, color) {\n    this.#mapping.get(id).setAttribute(\"fill\", color);\n  }\n\n  changeOpacity(id, opacity) {\n    this.#mapping.get(id).setAttribute(\"fill-opacity\", opacity);\n  }\n\n  addClass(id, className) {\n    this.#mapping.get(id).classList.add(className);\n  }\n\n  removeClass(id, className) {\n    this.#mapping.get(id).classList.remove(className);\n  }\n\n  getSVGRoot(id) {\n    return this.#mapping.get(id);\n  }\n\n  remove(id) {\n    this.#toUpdate.delete(id);\n    if (this.#parent === null) {\n      return;\n    }\n    this.#mapping.get(id).remove();\n    this.#mapping.delete(id);\n  }\n\n  destroy() {\n    this.#parent = null;\n    for (const root of this.#mapping.values()) {\n      root.remove();\n    }\n    this.#mapping.clear();\n    this.#toUpdate.clear();\n  }\n}\n\nexport { DrawLayer };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*exported XLSX */\n/*global process:false, Buffer:false, ArrayBuffer:false, DataView:false, Deno:false */\nvar XLSX = {};\nXLSX.version = '0.18.5';\nvar current_codepage = 1200, current_ansi = 1252;\n\nvar VALID_ANSI = [ 874, 932, 936, 949, 950, 1250, 1251, 1252, 1253, 1254, 1255, 1256, 1257, 1258, 10000 ];\n/* ECMA-376 Part I 18.4.1 charset to codepage mapping */\nvar CS2CP = ({\n\t/*::[*/0/*::]*/:    1252, /* ANSI */\n\t/*::[*/1/*::]*/:   65001, /* DEFAULT */\n\t/*::[*/2/*::]*/:   65001, /* SYMBOL */\n\t/*::[*/77/*::]*/:  10000, /* MAC */\n\t/*::[*/128/*::]*/:   932, /* SHIFTJIS */\n\t/*::[*/129/*::]*/:   949, /* HANGUL */\n\t/*::[*/130/*::]*/:  1361, /* JOHAB */\n\t/*::[*/134/*::]*/:   936, /* GB2312 */\n\t/*::[*/136/*::]*/:   950, /* CHINESEBIG5 */\n\t/*::[*/161/*::]*/:  1253, /* GREEK */\n\t/*::[*/162/*::]*/:  1254, /* TURKISH */\n\t/*::[*/163/*::]*/:  1258, /* VIETNAMESE */\n\t/*::[*/177/*::]*/:  1255, /* HEBREW */\n\t/*::[*/178/*::]*/:  1256, /* ARABIC */\n\t/*::[*/186/*::]*/:  1257, /* BALTIC */\n\t/*::[*/204/*::]*/:  1251, /* RUSSIAN */\n\t/*::[*/222/*::]*/:   874, /* THAI */\n\t/*::[*/238/*::]*/:  1250, /* EASTEUROPE */\n\t/*::[*/255/*::]*/:  1252, /* OEM */\n\t/*::[*/69/*::]*/:   6969  /* MISC */\n}/*:any*/);\n\nvar set_ansi = function(cp/*:number*/) { if(VALID_ANSI.indexOf(cp) == -1) return; current_ansi = CS2CP[0] = cp; };\nfunction reset_ansi() { set_ansi(1252); }\n\nvar set_cp = function(cp/*:number*/) { current_codepage = cp; set_ansi(cp); };\nfunction reset_cp() { set_cp(1200); reset_ansi(); }\n\nfunction char_codes(data/*:string*/)/*:Array<number>*/ { var o/*:Array<number>*/ = []; for(var i = 0, len = data.length; i < len; ++i) o[i] = data.charCodeAt(i); return o; }\n\nfunction utf16leread(data/*:string*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tfor(var i = 0; i < (data.length>>1); ++i) o[i] = String.fromCharCode(data.charCodeAt(2*i) + (data.charCodeAt(2*i+1)<<8));\n\treturn o.join(\"\");\n}\nfunction utf16beread(data/*:string*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tfor(var i = 0; i < (data.length>>1); ++i) o[i] = String.fromCharCode(data.charCodeAt(2*i+1) + (data.charCodeAt(2*i)<<8));\n\treturn o.join(\"\");\n}\n\nvar debom = function(data/*:string*/)/*:string*/ {\n\tvar c1 = data.charCodeAt(0), c2 = data.charCodeAt(1);\n\tif(c1 == 0xFF && c2 == 0xFE) return utf16leread(data.slice(2));\n\tif(c1 == 0xFE && c2 == 0xFF) return utf16beread(data.slice(2));\n\tif(c1 == 0xFEFF) return data.slice(1);\n\treturn data;\n};\n\nvar _getchar = function _gc1(x/*:number*/)/*:string*/ { return String.fromCharCode(x); };\nvar _getansi = function _ga1(x/*:number*/)/*:string*/ { return String.fromCharCode(x); };\n\nvar $cptable;\nfunction set_cptable(cptable) {\n\t$cptable = cptable;\n\tset_cp = function(cp/*:number*/) { current_codepage = cp; set_ansi(cp); };\n\tdebom = function(data/*:string*/) {\n\t\tif(data.charCodeAt(0) === 0xFF && data.charCodeAt(1) === 0xFE) { return $cptable.utils.decode(1200, char_codes(data.slice(2))); }\n\t\treturn data;\n\t};\n\t_getchar = function _gc2(x/*:number*/)/*:string*/ {\n\t\tif(current_codepage === 1200) return String.fromCharCode(x);\n\t\treturn $cptable.utils.decode(current_codepage, [x&255,x>>8])[0];\n\t};\n\t_getansi = function _ga2(x/*:number*/)/*:string*/ {\n\t\treturn $cptable.utils.decode(current_ansi, [x])[0];\n\t};\n\tcpdoit();\n}\nexport { set_cptable };\nvar DENSE = null;\nvar DIF_XL = true;\nvar Base64_map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nfunction Base64_encode(input) {\n  var o = \"\";\n  var c1 = 0, c2 = 0, c3 = 0, e1 = 0, e2 = 0, e3 = 0, e4 = 0;\n  for (var i = 0; i < input.length; ) {\n    c1 = input.charCodeAt(i++);\n    e1 = c1 >> 2;\n    c2 = input.charCodeAt(i++);\n    e2 = (c1 & 3) << 4 | c2 >> 4;\n    c3 = input.charCodeAt(i++);\n    e3 = (c2 & 15) << 2 | c3 >> 6;\n    e4 = c3 & 63;\n    if (isNaN(c2)) {\n      e3 = e4 = 64;\n    } else if (isNaN(c3)) {\n      e4 = 64;\n    }\n    o += Base64_map.charAt(e1) + Base64_map.charAt(e2) + Base64_map.charAt(e3) + Base64_map.charAt(e4);\n  }\n  return o;\n}\nfunction Base64_decode(input) {\n  var o = \"\";\n  var c1 = 0, c2 = 0, c3 = 0, e1 = 0, e2 = 0, e3 = 0, e4 = 0;\n  input = input.replace(/[^\\w\\+\\/\\=]/g, \"\");\n  for (var i = 0; i < input.length; ) {\n    e1 = Base64_map.indexOf(input.charAt(i++));\n    e2 = Base64_map.indexOf(input.charAt(i++));\n    c1 = e1 << 2 | e2 >> 4;\n    o += String.fromCharCode(c1);\n    e3 = Base64_map.indexOf(input.charAt(i++));\n    c2 = (e2 & 15) << 4 | e3 >> 2;\n    if (e3 !== 64) {\n      o += String.fromCharCode(c2);\n    }\n    e4 = Base64_map.indexOf(input.charAt(i++));\n    c3 = (e3 & 3) << 6 | e4;\n    if (e4 !== 64) {\n      o += String.fromCharCode(c3);\n    }\n  }\n  return o;\n}\nvar has_buf = /*#__PURE__*/(function() { return typeof Buffer !== 'undefined' && typeof process !== 'undefined' && typeof process.versions !== 'undefined' && !!process.versions.node; })();\n\nvar Buffer_from = /*#__PURE__*/(function() {\n\tif(typeof Buffer !== 'undefined') {\n\t\tvar nbfs = !Buffer.from;\n\t\tif(!nbfs) try { Buffer.from(\"foo\", \"utf8\"); } catch(e) { nbfs = true; }\n\t\treturn nbfs ? function(buf, enc) { return (enc) ? new Buffer(buf, enc) : new Buffer(buf); } : Buffer.from.bind(Buffer);\n\t}\n\treturn function() {};\n})();\n\n\nfunction new_raw_buf(len/*:number*/) {\n\t/* jshint -W056 */\n\tif(has_buf) return Buffer.alloc ? Buffer.alloc(len) : new Buffer(len);\n\treturn typeof Uint8Array != \"undefined\" ? new Uint8Array(len) : new Array(len);\n\t/* jshint +W056 */\n}\n\nfunction new_unsafe_buf(len/*:number*/) {\n\t/* jshint -W056 */\n\tif(has_buf) return Buffer.allocUnsafe ? Buffer.allocUnsafe(len) : new Buffer(len);\n\treturn typeof Uint8Array != \"undefined\" ? new Uint8Array(len) : new Array(len);\n\t/* jshint +W056 */\n}\n\nvar s2a = function s2a(s/*:string*/)/*:any*/ {\n\tif(has_buf) return Buffer_from(s, \"binary\");\n\treturn s.split(\"\").map(function(x/*:string*/)/*:number*/{ return x.charCodeAt(0) & 0xff; });\n};\n\nfunction s2ab(s/*:string*/)/*:any*/ {\n\tif(typeof ArrayBuffer === 'undefined') return s2a(s);\n\tvar buf = new ArrayBuffer(s.length), view = new Uint8Array(buf);\n\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\treturn buf;\n}\n\nfunction a2s(data/*:any*/)/*:string*/ {\n\tif(Array.isArray(data)) return data.map(function(c) { return String.fromCharCode(c); }).join(\"\");\n\tvar o/*:Array<string>*/ = []; for(var i = 0; i < data.length; ++i) o[i] = String.fromCharCode(data[i]); return o.join(\"\");\n}\n\nfunction a2u(data/*:Array<number>*/)/*:Uint8Array*/ {\n\tif(typeof Uint8Array === 'undefined') throw new Error(\"Unsupported\");\n\treturn new Uint8Array(data);\n}\n\nfunction ab2a(data/*:ArrayBuffer|Uint8Array*/)/*:Array<number>*/ {\n\tif(typeof ArrayBuffer == 'undefined') throw new Error(\"Unsupported\");\n\tif(data instanceof ArrayBuffer) return ab2a(new Uint8Array(data));\n\t/*:: if(data instanceof ArrayBuffer) throw new Error(\"unreachable\"); */\n\tvar o = new Array(data.length);\n\tfor(var i = 0; i < data.length; ++i) o[i] = data[i];\n\treturn o;\n}\n\nvar bconcat = has_buf ? function(bufs) { return Buffer.concat(bufs.map(function(buf) { return Buffer.isBuffer(buf) ? buf : Buffer_from(buf); })); } : function(bufs) {\n\tif(typeof Uint8Array !== \"undefined\") {\n\t\tvar i = 0, maxlen = 0;\n\t\tfor(i = 0; i < bufs.length; ++i) maxlen += bufs[i].length;\n\t\tvar o = new Uint8Array(maxlen);\n\t\tvar len = 0;\n\t\tfor(i = 0, maxlen = 0; i < bufs.length; maxlen += len, ++i) {\n\t\t\tlen = bufs[i].length;\n\t\t\tif(bufs[i] instanceof Uint8Array) o.set(bufs[i], maxlen);\n\t\t\telse if(typeof bufs[i] == \"string\") { throw \"wtf\"; }\n\t\t\telse o.set(new Uint8Array(bufs[i]), maxlen);\n\t\t}\n\t\treturn o;\n\t}\n\treturn [].concat.apply([], bufs.map(function(buf) { return Array.isArray(buf) ? buf : [].slice.call(buf); }));\n};\n\nfunction utf8decode(content/*:string*/) {\n\tvar out = [], widx = 0, L = content.length + 250;\n\tvar o = new_raw_buf(content.length + 255);\n\tfor(var ridx = 0; ridx < content.length; ++ridx) {\n\t\tvar c = content.charCodeAt(ridx);\n\t\tif(c < 0x80) o[widx++] = c;\n\t\telse if(c < 0x800) {\n\t\t\to[widx++] = (192|((c>>6)&31));\n\t\t\to[widx++] = (128|(c&63));\n\t\t} else if(c >= 0xD800 && c < 0xE000) {\n\t\t\tc = (c&1023)+64;\n\t\t\tvar d = content.charCodeAt(++ridx)&1023;\n\t\t\to[widx++] = (240|((c>>8)&7));\n\t\t\to[widx++] = (128|((c>>2)&63));\n\t\t\to[widx++] = (128|((d>>6)&15)|((c&3)<<4));\n\t\t\to[widx++] = (128|(d&63));\n\t\t} else {\n\t\t\to[widx++] = (224|((c>>12)&15));\n\t\t\to[widx++] = (128|((c>>6)&63));\n\t\t\to[widx++] = (128|(c&63));\n\t\t}\n\t\tif(widx > L) {\n\t\t\tout.push(o.slice(0, widx));\n\t\t\twidx = 0;\n\t\t\to = new_raw_buf(65535);\n\t\t\tL = 65530;\n\t\t}\n\t}\n\tout.push(o.slice(0, widx));\n\treturn bconcat(out);\n}\n\nvar chr0 = /\\u0000/g, chr1 = /[\\u0001-\\u0006]/g;\n/*::\ndeclare type Block = any;\ndeclare type BufArray = {\n\tnewblk(sz:number):Block;\n\tnext(sz:number):Block;\n\tend():any;\n\tpush(buf:Block):void;\n};\n\ntype RecordHopperCB = {(d:any, Rn:string, RT:number):?boolean;};\n\ntype EvertType = {[string]:string};\ntype EvertNumType = {[string]:number};\ntype EvertArrType = {[string]:Array<string>};\n\ntype StringConv = {(string):string};\n\n*/\n/* ssf.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/*jshint -W041 */\nfunction _strrev(x/*:string*/)/*:string*/ { var o = \"\", i = x.length-1; while(i>=0) o += x.charAt(i--); return o; }\nfunction pad0(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v; return t.length>=d?t:fill('0',d-t.length)+t;}\nfunction pad_(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v;return t.length>=d?t:fill(' ',d-t.length)+t;}\nfunction rpad_(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v; return t.length>=d?t:t+fill(' ',d-t.length);}\nfunction pad0r1(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+Math.round(v); return t.length>=d?t:fill('0',d-t.length)+t;}\nfunction pad0r2(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v; return t.length>=d?t:fill('0',d-t.length)+t;}\nvar p2_32 = /*#__PURE__*/Math.pow(2,32);\nfunction pad0r(v/*:any*/,d/*:number*/)/*:string*/{if(v>p2_32||v<-p2_32) return pad0r1(v,d); var i = Math.round(v); return pad0r2(i,d); }\n/* yes, in 2022 this is still faster than string compare */\nfunction SSF_isgeneral(s/*:string*/, i/*:?number*/)/*:boolean*/ { i = i || 0; return s.length >= 7 + i && (s.charCodeAt(i)|32) === 103 && (s.charCodeAt(i+1)|32) === 101 && (s.charCodeAt(i+2)|32) === 110 && (s.charCodeAt(i+3)|32) === 101 && (s.charCodeAt(i+4)|32) === 114 && (s.charCodeAt(i+5)|32) === 97 && (s.charCodeAt(i+6)|32) === 108; }\nvar days/*:Array<Array<string> >*/ = [\n\t['Sun', 'Sunday'],\n\t['Mon', 'Monday'],\n\t['Tue', 'Tuesday'],\n\t['Wed', 'Wednesday'],\n\t['Thu', 'Thursday'],\n\t['Fri', 'Friday'],\n\t['Sat', 'Saturday']\n];\nvar months/*:Array<Array<string> >*/ = [\n\t['J', 'Jan', 'January'],\n\t['F', 'Feb', 'February'],\n\t['M', 'Mar', 'March'],\n\t['A', 'Apr', 'April'],\n\t['M', 'May', 'May'],\n\t['J', 'Jun', 'June'],\n\t['J', 'Jul', 'July'],\n\t['A', 'Aug', 'August'],\n\t['S', 'Sep', 'September'],\n\t['O', 'Oct', 'October'],\n\t['N', 'Nov', 'November'],\n\t['D', 'Dec', 'December']\n];\nfunction SSF_init_table(t/*:any*/) {\n\tif(!t) t = {};\n\tt[0]=  'General';\n\tt[1]=  '0';\n\tt[2]=  '0.00';\n\tt[3]=  '#,##0';\n\tt[4]=  '#,##0.00';\n\tt[9]=  '0%';\n\tt[10]= '0.00%';\n\tt[11]= '0.00E+00';\n\tt[12]= '# ?/?';\n\tt[13]= '# ??/??';\n\tt[14]= 'm/d/yy';\n\tt[15]= 'd-mmm-yy';\n\tt[16]= 'd-mmm';\n\tt[17]= 'mmm-yy';\n\tt[18]= 'h:mm AM/PM';\n\tt[19]= 'h:mm:ss AM/PM';\n\tt[20]= 'h:mm';\n\tt[21]= 'h:mm:ss';\n\tt[22]= 'm/d/yy h:mm';\n\tt[37]= '#,##0 ;(#,##0)';\n\tt[38]= '#,##0 ;[Red](#,##0)';\n\tt[39]= '#,##0.00;(#,##0.00)';\n\tt[40]= '#,##0.00;[Red](#,##0.00)';\n\tt[45]= 'mm:ss';\n\tt[46]= '[h]:mm:ss';\n\tt[47]= 'mmss.0';\n\tt[48]= '##0.0E+0';\n\tt[49]= '@';\n\tt[56]= '\"上午/下午 \"hh\"時\"mm\"分\"ss\"秒 \"';\n\treturn t;\n}\n/* repeated to satiate webpack */\nvar table_fmt = {\n\t0:  'General',\n\t1:  '0',\n\t2:  '0.00',\n\t3:  '#,##0',\n\t4:  '#,##0.00',\n\t9:  '0%',\n\t10: '0.00%',\n\t11: '0.00E+00',\n\t12: '# ?/?',\n\t13: '# ??/??',\n\t14: 'm/d/yy',\n\t15: 'd-mmm-yy',\n\t16: 'd-mmm',\n\t17: 'mmm-yy',\n\t18: 'h:mm AM/PM',\n\t19: 'h:mm:ss AM/PM',\n\t20: 'h:mm',\n\t21: 'h:mm:ss',\n\t22: 'm/d/yy h:mm',\n\t37: '#,##0 ;(#,##0)',\n\t38: '#,##0 ;[Red](#,##0)',\n\t39: '#,##0.00;(#,##0.00)',\n\t40: '#,##0.00;[Red](#,##0.00)',\n\t45: 'mm:ss',\n\t46: '[h]:mm:ss',\n\t47: 'mmss.0',\n\t48: '##0.0E+0',\n\t49: '@',\n\t56: '\"上午/下午 \"hh\"時\"mm\"分\"ss\"秒 \"'\n};\n\n/* Defaults determined by systematically testing in Excel 2019 */\n\n/* These formats appear to default to other formats in the table */\nvar SSF_default_map = {\n\t5:  37, 6:  38, 7:  39, 8:  40,         //  5 -> 37 ...  8 -> 40\n\n\t23:  0, 24:  0, 25:  0, 26:  0,         // 23 ->  0 ... 26 ->  0\n\n\t27: 14, 28: 14, 29: 14, 30: 14, 31: 14, // 27 -> 14 ... 31 -> 14\n\n\t50: 14, 51: 14, 52: 14, 53: 14, 54: 14, // 50 -> 14 ... 58 -> 14\n\t55: 14, 56: 14, 57: 14, 58: 14,\n\t59:  1, 60:  2, 61:  3, 62:  4,         // 59 ->  1 ... 62 ->  4\n\n\t67:  9, 68: 10,                         // 67 ->  9 ... 68 -> 10\n\t69: 12, 70: 13, 71: 14,                 // 69 -> 12 ... 71 -> 14\n\t72: 14, 73: 15, 74: 16, 75: 17,         // 72 -> 14 ... 75 -> 17\n\t76: 20, 77: 21, 78: 22,                 // 76 -> 20 ... 78 -> 22\n\t79: 45, 80: 46, 81: 47,                 // 79 -> 45 ... 81 -> 47\n\t82: 0                                   // 82 ->  0 ... 65536 -> 0 (omitted)\n};\n\n\n/* These formats technically refer to Accounting formats with no equivalent */\nvar SSF_default_str = {\n\t//  5 -- Currency,   0 decimal, black negative\n\t5:  '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\t63: '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\n\t//  6 -- Currency,   0 decimal, red   negative\n\t6:  '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\t64: '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\n\t//  7 -- Currency,   2 decimal, black negative\n\t7:  '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\t65: '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\n\t//  8 -- Currency,   2 decimal, red   negative\n\t8:  '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t66: '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\n\t// 41 -- Accounting, 0 decimal, No Symbol\n\t41: '_(* #,##0_);_(* \\\\(#,##0\\\\);_(* \"-\"_);_(@_)',\n\n\t// 42 -- Accounting, 0 decimal, $  Symbol\n\t42: '_(\"$\"* #,##0_);_(\"$\"* \\\\(#,##0\\\\);_(\"$\"* \"-\"_);_(@_)',\n\n\t// 43 -- Accounting, 2 decimal, No Symbol\n\t43: '_(* #,##0.00_);_(* \\\\(#,##0.00\\\\);_(* \"-\"??_);_(@_)',\n\n\t// 44 -- Accounting, 2 decimal, $  Symbol\n\t44: '_(\"$\"* #,##0.00_);_(\"$\"* \\\\(#,##0.00\\\\);_(\"$\"* \"-\"??_);_(@_)'\n};\n\nfunction SSF_frac(x/*:number*/, D/*:number*/, mixed/*:?boolean*/)/*:Array<number>*/ {\n\tvar sgn = x < 0 ? -1 : 1;\n\tvar B = x * sgn;\n\tvar P_2 = 0, P_1 = 1, P = 0;\n\tvar Q_2 = 1, Q_1 = 0, Q = 0;\n\tvar A = Math.floor(B);\n\twhile(Q_1 < D) {\n\t\tA = Math.floor(B);\n\t\tP = A * P_1 + P_2;\n\t\tQ = A * Q_1 + Q_2;\n\t\tif((B - A) < 0.00000005) break;\n\t\tB = 1 / (B - A);\n\t\tP_2 = P_1; P_1 = P;\n\t\tQ_2 = Q_1; Q_1 = Q;\n\t}\n\tif(Q > D) { if(Q_1 > D) { Q = Q_2; P = P_2; } else { Q = Q_1; P = P_1; } }\n\tif(!mixed) return [0, sgn * P, Q];\n\tvar q = Math.floor(sgn * P/Q);\n\treturn [q, sgn*P - q*Q, Q];\n}\nfunction SSF_parse_date_code(v/*:number*/,opts/*:?any*/,b2/*:?boolean*/) {\n\tif(v > 2958465 || v < 0) return null;\n\tvar date = (v|0), time = Math.floor(86400 * (v - date)), dow=0;\n\tvar dout=[];\n\tvar out={D:date, T:time, u:86400*(v-date)-time,y:0,m:0,d:0,H:0,M:0,S:0,q:0};\n\tif(Math.abs(out.u) < 1e-6) out.u = 0;\n\tif(opts && opts.date1904) date += 1462;\n\tif(out.u > 0.9999) {\n\t\tout.u = 0;\n\t\tif(++time == 86400) { out.T = time = 0; ++date; ++out.D; }\n\t}\n\tif(date === 60) {dout = b2 ? [1317,10,29] : [1900,2,29]; dow=3;}\n\telse if(date === 0) {dout = b2 ? [1317,8,29] : [1900,1,0]; dow=6;}\n\telse {\n\t\tif(date > 60) --date;\n\t\t/* 1 = Jan 1 1900 in Gregorian */\n\t\tvar d = new Date(1900, 0, 1);\n\t\td.setDate(d.getDate() + date - 1);\n\t\tdout = [d.getFullYear(), d.getMonth()+1,d.getDate()];\n\t\tdow = d.getDay();\n\t\tif(date < 60) dow = (dow + 6) % 7;\n\t\tif(b2) dow = SSF_fix_hijri(d, dout);\n\t}\n\tout.y = dout[0]; out.m = dout[1]; out.d = dout[2];\n\tout.S = time % 60; time = Math.floor(time / 60);\n\tout.M = time % 60; time = Math.floor(time / 60);\n\tout.H = time;\n\tout.q = dow;\n\treturn out;\n}\nvar SSFbasedate = /*#__PURE__*/new Date(1899, 11, 31, 0, 0, 0);\nvar SSFdnthresh = /*#__PURE__*/SSFbasedate.getTime();\nvar SSFbase1904 = /*#__PURE__*/new Date(1900, 2, 1, 0, 0, 0);\nfunction datenum_local(v/*:Date*/, date1904/*:?boolean*/)/*:number*/ {\n\tvar epoch = /*#__PURE__*/v.getTime();\n\tif(date1904) epoch -= 1461*24*60*60*1000;\n\telse if(v >= SSFbase1904) epoch += 24*60*60*1000;\n\treturn (epoch - (SSFdnthresh + (/*#__PURE__*/v.getTimezoneOffset() - /*#__PURE__*/SSFbasedate.getTimezoneOffset()) * 60000)) / (24 * 60 * 60 * 1000);\n}\n/* ECMA-376 18.8.30 numFmt*/\n/* Note: `toPrecision` uses standard form when prec > E and E >= -6 */\n/* exponent >= -9 and <= 9 */\nfunction SSF_strip_decimal(o/*:string*/)/*:string*/ {\n\treturn (o.indexOf(\".\") == -1) ? o : o.replace(/(?:\\.0*|(\\.\\d*[1-9])0+)$/, \"$1\");\n}\n\n/* General Exponential always shows 2 digits exp and trims the mantissa */\nfunction SSF_normalize_exp(o/*:string*/)/*:string*/ {\n\tif(o.indexOf(\"E\") == -1) return o;\n\treturn o.replace(/(?:\\.0*|(\\.\\d*[1-9])0+)[Ee]/,\"$1E\").replace(/(E[+-])(\\d)$/,\"$10$2\");\n}\n\n/* exponent >= -9 and <= 9 */\nfunction SSF_small_exp(v/*:number*/)/*:string*/ {\n\tvar w = (v<0?12:11);\n\tvar o = SSF_strip_decimal(v.toFixed(12)); if(o.length <= w) return o;\n\to = v.toPrecision(10); if(o.length <= w) return o;\n\treturn v.toExponential(5);\n}\n\n/* exponent >= 11 or <= -10 likely exponential */\nfunction SSF_large_exp(v/*:number*/)/*:string*/ {\n\tvar o = SSF_strip_decimal(v.toFixed(11));\n\treturn (o.length > (v<0?12:11) || o === \"0\" || o === \"-0\") ? v.toPrecision(6) : o;\n}\n\nfunction SSF_general_num(v/*:number*/)/*:string*/ {\n\tvar V = Math.floor(Math.log(Math.abs(v))*Math.LOG10E), o;\n\n\tif(V >= -4 && V <= -1) o = v.toPrecision(10+V);\n\telse if(Math.abs(V) <= 9) o = SSF_small_exp(v);\n\telse if(V === 10) o = v.toFixed(10).substr(0,12);\n\telse o = SSF_large_exp(v);\n\n\treturn SSF_strip_decimal(SSF_normalize_exp(o.toUpperCase()));\n}\n\n\n/*\n\t\"General\" rules:\n\t- text is passed through (\"@\")\n\t- booleans are rendered as TRUE/FALSE\n\t- \"up to 11 characters\" displayed for numbers\n\t- Default date format (code 14) used for Dates\n\n\tThe longest 32-bit integer text is \"-2147483648\", exactly 11 chars\n\tTODO: technically the display depends on the width of the cell\n*/\nfunction SSF_general(v/*:any*/, opts/*:any*/) {\n\tswitch(typeof v) {\n\t\tcase 'string': return v;\n\t\tcase 'boolean': return v ? \"TRUE\" : \"FALSE\";\n\t\tcase 'number': return (v|0) === v ? v.toString(10) : SSF_general_num(v);\n\t\tcase 'undefined': return \"\";\n\t\tcase 'object':\n\t\t\tif(v == null) return \"\";\n\t\t\tif(v instanceof Date) return SSF_format(14, datenum_local(v, opts && opts.date1904), opts);\n\t}\n\tthrow new Error(\"unsupported value in General format: \" + v);\n}\n\nfunction SSF_fix_hijri(date/*:Date*/, o/*:[number, number, number]*/) {\n  /* TODO: properly adjust y/m/d and  */\n  o[0] -= 581;\n  var dow = date.getDay();\n  if(date < 60) dow = (dow + 6) % 7;\n  return dow;\n}\n//var THAI_DIGITS = \"\\u0E50\\u0E51\\u0E52\\u0E53\\u0E54\\u0E55\\u0E56\\u0E57\\u0E58\\u0E59\".split(\"\");\nfunction SSF_write_date(type/*:number*/, fmt/*:string*/, val, ss0/*:?number*/)/*:string*/ {\n\tvar o=\"\", ss=0, tt=0, y = val.y, out, outl = 0;\n\tswitch(type) {\n\t\tcase 98: /* 'b' buddhist year */\n\t\t\ty = val.y + 543;\n\t\t\t/* falls through */\n\t\tcase 121: /* 'y' year */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = y % 100; outl = 2; break;\n\t\t\tdefault: out = y % 10000; outl = 4; break;\n\t\t} break;\n\t\tcase 109: /* 'm' month */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.m; outl = fmt.length; break;\n\t\t\tcase 3: return months[val.m-1][1];\n\t\t\tcase 5: return months[val.m-1][0];\n\t\t\tdefault: return months[val.m-1][2];\n\t\t} break;\n\t\tcase 100: /* 'd' day */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.d; outl = fmt.length; break;\n\t\t\tcase 3: return days[val.q][0];\n\t\t\tdefault: return days[val.q][1];\n\t\t} break;\n\t\tcase 104: /* 'h' 12-hour */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = 1+(val.H+11)%12; outl = fmt.length; break;\n\t\t\tdefault: throw 'bad hour format: ' + fmt;\n\t\t} break;\n\t\tcase 72: /* 'H' 24-hour */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.H; outl = fmt.length; break;\n\t\t\tdefault: throw 'bad hour format: ' + fmt;\n\t\t} break;\n\t\tcase 77: /* 'M' minutes */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.M; outl = fmt.length; break;\n\t\t\tdefault: throw 'bad minute format: ' + fmt;\n\t\t} break;\n\t\tcase 115: /* 's' seconds */\n\t\t\tif(fmt != 's' && fmt != 'ss' && fmt != '.0' && fmt != '.00' && fmt != '.000') throw 'bad second format: ' + fmt;\n\t\t\tif(val.u === 0 && (fmt == \"s\" || fmt == \"ss\")) return pad0(val.S, fmt.length);\n\t\t\t/*::if(!ss0) ss0 = 0; */\n\t\t\tif(ss0 >= 2) tt = ss0 === 3 ? 1000 : 100;\n\t\t\telse tt = ss0 === 1 ? 10 : 1;\n\t\t\tss = Math.round((tt)*(val.S + val.u));\n\t\t\tif(ss >= 60*tt) ss = 0;\n\t\t\tif(fmt === 's') return ss === 0 ? \"0\" : \"\"+ss/tt;\n\t\t\to = pad0(ss,2 + ss0);\n\t\t\tif(fmt === 'ss') return o.substr(0,2);\n\t\t\treturn \".\" + o.substr(2,fmt.length-1);\n\t\tcase 90: /* 'Z' absolute time */\n\t\tswitch(fmt) {\n\t\t\tcase '[h]': case '[hh]': out = val.D*24+val.H; break;\n\t\t\tcase '[m]': case '[mm]': out = (val.D*24+val.H)*60+val.M; break;\n\t\t\tcase '[s]': case '[ss]': out = ((val.D*24+val.H)*60+val.M)*60+Math.round(val.S+val.u); break;\n\t\t\tdefault: throw 'bad abstime format: ' + fmt;\n\t\t} outl = fmt.length === 3 ? 1 : 2; break;\n\t\tcase 101: /* 'e' era */\n\t\t\tout = y; outl = 1; break;\n\t}\n\tvar outstr = outl > 0 ? pad0(out, outl) : \"\";\n\treturn outstr;\n}\n\n\n/*jshint -W086 */\n/*jshint +W086 */\nfunction commaify(s/*:string*/)/*:string*/ {\n\tvar w = 3;\n\tif(s.length <= w) return s;\n\tvar j = (s.length % w), o = s.substr(0,j);\n\tfor(; j!=s.length; j+=w) o+=(o.length > 0 ? \",\" : \"\") + s.substr(j,w);\n\treturn o;\n}\nvar pct1 = /%/g;\nfunction write_num_pct(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar sfmt = fmt.replace(pct1,\"\"), mul = fmt.length - sfmt.length;\n\treturn write_num(type, sfmt, val * Math.pow(10,2*mul)) + fill(\"%\",mul);\n}\n\nfunction write_num_cm(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar idx = fmt.length - 1;\n\twhile(fmt.charCodeAt(idx-1) === 44) --idx;\n\treturn write_num(type, fmt.substr(0,idx), val / Math.pow(10,3*(fmt.length-idx)));\n}\n\nfunction write_num_exp(fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar o/*:string*/;\n\tvar idx = fmt.indexOf(\"E\") - fmt.indexOf(\".\") - 1;\n\tif(fmt.match(/^#+0.0E\\+0$/)) {\n\t\tif(val == 0) return \"0.0E+0\";\n\t\telse if(val < 0) return \"-\" + write_num_exp(fmt, -val);\n\t\tvar period = fmt.indexOf(\".\"); if(period === -1) period=fmt.indexOf('E');\n\t\tvar ee = Math.floor(Math.log(val)*Math.LOG10E)%period;\n\t\tif(ee < 0) ee += period;\n\t\to = (val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);\n\t\tif(o.indexOf(\"e\") === -1) {\n\t\t\tvar fakee = Math.floor(Math.log(val)*Math.LOG10E);\n\t\t\tif(o.indexOf(\".\") === -1) o = o.charAt(0) + \".\" + o.substr(1) + \"E+\" + (fakee - o.length+ee);\n\t\t\telse o += \"E+\" + (fakee - ee);\n\t\t\twhile(o.substr(0,2) === \"0.\") {\n\t\t\t\to = o.charAt(0) + o.substr(2,period) + \".\" + o.substr(2+period);\n\t\t\t\to = o.replace(/^0+([1-9])/,\"$1\").replace(/^0+\\./,\"0.\");\n\t\t\t}\n\t\t\to = o.replace(/\\+-/,\"-\");\n\t\t}\n\t\to = o.replace(/^([+-]?)(\\d*)\\.(\\d*)[Ee]/,function($$,$1,$2,$3) { return $1 + $2 + $3.substr(0,(period+ee)%period) + \".\" + $3.substr(ee) + \"E\"; });\n\t} else o = val.toExponential(idx);\n\tif(fmt.match(/E\\+00$/) && o.match(/e[+-]\\d$/)) o = o.substr(0,o.length-1) + \"0\" + o.charAt(o.length-1);\n\tif(fmt.match(/E\\-/) && o.match(/e\\+/)) o = o.replace(/e\\+/,\"e\");\n\treturn o.replace(\"e\",\"E\");\n}\nvar frac1 = /# (\\?+)( ?)\\/( ?)(\\d+)/;\nfunction write_num_f1(r/*:Array<string>*/, aval/*:number*/, sign/*:string*/)/*:string*/ {\n\tvar den = parseInt(r[4],10), rr = Math.round(aval * den), base = Math.floor(rr/den);\n\tvar myn = (rr - base*den), myd = den;\n\treturn sign + (base === 0 ? \"\" : \"\"+base) + \" \" + (myn === 0 ? fill(\" \", r[1].length + 1 + r[4].length) : pad_(myn,r[1].length) + r[2] + \"/\" + r[3] + pad0(myd,r[4].length));\n}\nfunction write_num_f2(r/*:Array<string>*/, aval/*:number*/, sign/*:string*/)/*:string*/ {\n\treturn sign + (aval === 0 ? \"\" : \"\"+aval) + fill(\" \", r[1].length + 2 + r[4].length);\n}\nvar dec1 = /^#*0*\\.([0#]+)/;\nvar closeparen = /\\).*[0#]/;\nvar phone = /\\(###\\) ###\\\\?-####/;\nfunction hashq(str/*:string*/)/*:string*/ {\n\tvar o = \"\", cc;\n\tfor(var i = 0; i != str.length; ++i) switch((cc=str.charCodeAt(i))) {\n\t\tcase 35: break;\n\t\tcase 63: o+= \" \"; break;\n\t\tcase 48: o+= \"0\"; break;\n\t\tdefault: o+= String.fromCharCode(cc);\n\t}\n\treturn o;\n}\nfunction rnd(val/*:number*/, d/*:number*/)/*:string*/ { var dd = Math.pow(10,d); return \"\"+(Math.round(val * dd)/dd); }\nfunction dec(val/*:number*/, d/*:number*/)/*:number*/ {\n\tvar _frac = val - Math.floor(val), dd = Math.pow(10,d);\n\tif (d < ('' + Math.round(_frac * dd)).length) return 0;\n\treturn Math.round(_frac * dd);\n}\nfunction carry(val/*:number*/, d/*:number*/)/*:number*/ {\n\tif (d < ('' + Math.round((val-Math.floor(val))*Math.pow(10,d))).length) {\n\t\treturn 1;\n\t}\n\treturn 0;\n}\nfunction flr(val/*:number*/)/*:string*/ {\n\tif(val < 2147483647 && val > -2147483648) return \"\"+(val >= 0 ? (val|0) : (val-1|0));\n\treturn \"\"+Math.floor(val);\n}\nfunction write_num_flt(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/ {\n\tif(type.charCodeAt(0) === 40 && !fmt.match(closeparen)) {\n\t\tvar ffmt = fmt.replace(/\\( */,\"\").replace(/ \\)/,\"\").replace(/\\)/,\"\");\n\t\tif(val >= 0) return write_num_flt('n', ffmt, val);\n\t\treturn '(' + write_num_flt('n', ffmt, -val) + ')';\n\t}\n\tif(fmt.charCodeAt(fmt.length - 1) === 44) return write_num_cm(type, fmt, val);\n\tif(fmt.indexOf('%') !== -1) return write_num_pct(type, fmt, val);\n\tif(fmt.indexOf('E') !== -1) return write_num_exp(fmt, val);\n\tif(fmt.charCodeAt(0) === 36) return \"$\"+write_num_flt(type,fmt.substr(fmt.charAt(1)==' '?2:1),val);\n\tvar o;\n\tvar r/*:?Array<string>*/, ri, ff, aval = Math.abs(val), sign = val < 0 ? \"-\" : \"\";\n\tif(fmt.match(/^00+$/)) return sign + pad0r(aval,fmt.length);\n\tif(fmt.match(/^[#?]+$/)) {\n\t\to = pad0r(val,0); if(o === \"0\") o = \"\";\n\t\treturn o.length > fmt.length ? o : hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(frac1))) return write_num_f1(r, aval, sign);\n\tif(fmt.match(/^#+0+$/)) return sign + pad0r(aval,fmt.length - fmt.indexOf(\"0\"));\n\tif((r = fmt.match(dec1))) {\n\t\to = rnd(val, r[1].length).replace(/^([^\\.]+)$/,\"$1.\"+hashq(r[1])).replace(/\\.$/,\".\"+hashq(r[1])).replace(/\\.(\\d*)$/,function($$, $1) { return \".\" + $1 + fill(\"0\", hashq(/*::(*/r/*::||[\"\"])*/[1]).length-$1.length); });\n\t\treturn fmt.indexOf(\"0.\") !== -1 ? o : o.replace(/^0\\./,\".\");\n\t}\n\tfmt = fmt.replace(/^#+([0.])/, \"$1\");\n\tif((r = fmt.match(/^(0*)\\.(#*)$/))) {\n\t\treturn sign + rnd(aval, r[2].length).replace(/\\.(\\d*[1-9])0*$/,\".$1\").replace(/^(-?\\d*)$/,\"$1.\").replace(/^0\\./,r[1].length?\"0.\":\".\");\n\t}\n\tif((r = fmt.match(/^#{1,3},##0(\\.?)$/))) return sign + commaify(pad0r(aval,0));\n\tif((r = fmt.match(/^#,##0\\.([#0]*0)$/))) {\n\t\treturn val < 0 ? \"-\" + write_num_flt(type, fmt, -val) : commaify(\"\"+(Math.floor(val) + carry(val, r[1].length))) + \".\" + pad0(dec(val, r[1].length),r[1].length);\n\t}\n\tif((r = fmt.match(/^#,#*,#0/))) return write_num_flt(type,fmt.replace(/^#,#*,/,\"\"),val);\n\tif((r = fmt.match(/^([0#]+)(\\\\?-([0#]+))+$/))) {\n\t\to = _strrev(write_num_flt(type, fmt.replace(/[\\\\-]/g,\"\"), val));\n\t\tri = 0;\n\t\treturn _strrev(_strrev(fmt.replace(/\\\\/g,\"\")).replace(/[0#]/g,function(x){return ri<o.length?o.charAt(ri++):x==='0'?'0':\"\";}));\n\t}\n\tif(fmt.match(phone)) {\n\t\to = write_num_flt(type, \"##########\", val);\n\t\treturn \"(\" + o.substr(0,3) + \") \" + o.substr(3, 3) + \"-\" + o.substr(6);\n\t}\n\tvar oa = \"\";\n\tif((r = fmt.match(/^([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(/*::String(*/r[4]/*::)*/.length,7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, false);\n\t\to = \"\" + sign;\n\t\toa = write_num(\"n\", /*::String(*/r[1]/*::)*/, ff[1]);\n\t\tif(oa.charAt(oa.length-1) == \" \") oa = oa.substr(0,oa.length-1) + \"0\";\n\t\to += oa + /*::String(*/r[2]/*::)*/ + \"/\" + /*::String(*/r[3]/*::)*/;\n\t\toa = rpad_(ff[2],ri);\n\t\tif(oa.length < r[4].length) oa = hashq(r[4].substr(r[4].length-oa.length)) + oa;\n\t\to += oa;\n\t\treturn o;\n\t}\n\tif((r = fmt.match(/^# ([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(Math.max(r[1].length, r[4].length),7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, true);\n\t\treturn sign + (ff[0]||(ff[1] ? \"\" : \"0\")) + \" \" + (ff[1] ? pad_(ff[1],ri) + r[2] + \"/\" + r[3] + rpad_(ff[2],ri): fill(\" \", 2*ri+1 + r[2].length + r[3].length));\n\t}\n\tif((r = fmt.match(/^[#0?]+$/))) {\n\t\to = pad0r(val, 0);\n\t\tif(fmt.length <= o.length) return o;\n\t\treturn hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(/^([#0?]+)\\.([#0]+)$/))) {\n\t\to = \"\" + val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,\"$1\");\n\t\tri = o.indexOf(\".\");\n\t\tvar lres = fmt.indexOf(\".\") - ri, rres = fmt.length - o.length - lres;\n\t\treturn hashq(fmt.substr(0,lres) + o + fmt.substr(fmt.length-rres));\n\t}\n\tif((r = fmt.match(/^00,000\\.([#0]*0)$/))) {\n\t\tri = dec(val, r[1].length);\n\t\treturn val < 0 ? \"-\" + write_num_flt(type, fmt, -val) : commaify(flr(val)).replace(/^\\d,\\d{3}$/,\"0$&\").replace(/^\\d*$/,function($$) { return \"00,\" + ($$.length < 3 ? pad0(0,3-$$.length) : \"\") + $$; }) + \".\" + pad0(ri,r[1].length);\n\t}\n\tswitch(fmt) {\n\t\tcase \"###,##0.00\": return write_num_flt(type, \"#,##0.00\", val);\n\t\tcase \"###,###\":\n\t\tcase \"##,###\":\n\t\tcase \"#,###\": var x = commaify(pad0r(aval,0)); return x !== \"0\" ? sign + x : \"\";\n\t\tcase \"###,###.00\": return write_num_flt(type, \"###,##0.00\",val).replace(/^0\\./,\".\");\n\t\tcase \"#,###.00\": return write_num_flt(type, \"#,##0.00\",val).replace(/^0\\./,\".\");\n\t\tdefault:\n\t}\n\tthrow new Error(\"unsupported format |\" + fmt + \"|\");\n}\nfunction write_num_cm2(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar idx = fmt.length - 1;\n\twhile(fmt.charCodeAt(idx-1) === 44) --idx;\n\treturn write_num(type, fmt.substr(0,idx), val / Math.pow(10,3*(fmt.length-idx)));\n}\nfunction write_num_pct2(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar sfmt = fmt.replace(pct1,\"\"), mul = fmt.length - sfmt.length;\n\treturn write_num(type, sfmt, val * Math.pow(10,2*mul)) + fill(\"%\",mul);\n}\nfunction write_num_exp2(fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar o/*:string*/;\n\tvar idx = fmt.indexOf(\"E\") - fmt.indexOf(\".\") - 1;\n\tif(fmt.match(/^#+0.0E\\+0$/)) {\n\t\tif(val == 0) return \"0.0E+0\";\n\t\telse if(val < 0) return \"-\" + write_num_exp2(fmt, -val);\n\t\tvar period = fmt.indexOf(\".\"); if(period === -1) period=fmt.indexOf('E');\n\t\tvar ee = Math.floor(Math.log(val)*Math.LOG10E)%period;\n\t\tif(ee < 0) ee += period;\n\t\to = (val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);\n\t\tif(!o.match(/[Ee]/)) {\n\t\t\tvar fakee = Math.floor(Math.log(val)*Math.LOG10E);\n\t\t\tif(o.indexOf(\".\") === -1) o = o.charAt(0) + \".\" + o.substr(1) + \"E+\" + (fakee - o.length+ee);\n\t\t\telse o += \"E+\" + (fakee - ee);\n\t\t\to = o.replace(/\\+-/,\"-\");\n\t\t}\n\t\to = o.replace(/^([+-]?)(\\d*)\\.(\\d*)[Ee]/,function($$,$1,$2,$3) { return $1 + $2 + $3.substr(0,(period+ee)%period) + \".\" + $3.substr(ee) + \"E\"; });\n\t} else o = val.toExponential(idx);\n\tif(fmt.match(/E\\+00$/) && o.match(/e[+-]\\d$/)) o = o.substr(0,o.length-1) + \"0\" + o.charAt(o.length-1);\n\tif(fmt.match(/E\\-/) && o.match(/e\\+/)) o = o.replace(/e\\+/,\"e\");\n\treturn o.replace(\"e\",\"E\");\n}\nfunction write_num_int(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/ {\n\tif(type.charCodeAt(0) === 40 && !fmt.match(closeparen)) {\n\t\tvar ffmt = fmt.replace(/\\( */,\"\").replace(/ \\)/,\"\").replace(/\\)/,\"\");\n\t\tif(val >= 0) return write_num_int('n', ffmt, val);\n\t\treturn '(' + write_num_int('n', ffmt, -val) + ')';\n\t}\n\tif(fmt.charCodeAt(fmt.length - 1) === 44) return write_num_cm2(type, fmt, val);\n\tif(fmt.indexOf('%') !== -1) return write_num_pct2(type, fmt, val);\n\tif(fmt.indexOf('E') !== -1) return write_num_exp2(fmt, val);\n\tif(fmt.charCodeAt(0) === 36) return \"$\"+write_num_int(type,fmt.substr(fmt.charAt(1)==' '?2:1),val);\n\tvar o;\n\tvar r/*:?Array<string>*/, ri, ff, aval = Math.abs(val), sign = val < 0 ? \"-\" : \"\";\n\tif(fmt.match(/^00+$/)) return sign + pad0(aval,fmt.length);\n\tif(fmt.match(/^[#?]+$/)) {\n\t\to = (\"\"+val); if(val === 0) o = \"\";\n\t\treturn o.length > fmt.length ? o : hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(frac1))) return write_num_f2(r, aval, sign);\n\tif(fmt.match(/^#+0+$/)) return sign + pad0(aval,fmt.length - fmt.indexOf(\"0\"));\n\tif((r = fmt.match(dec1))) {\n\t\t/*:: if(!Array.isArray(r)) throw new Error(\"unreachable\"); */\n\t\to = (\"\"+val).replace(/^([^\\.]+)$/,\"$1.\"+hashq(r[1])).replace(/\\.$/,\".\"+hashq(r[1]));\n\t\to = o.replace(/\\.(\\d*)$/,function($$, $1) {\n\t\t/*:: if(!Array.isArray(r)) throw new Error(\"unreachable\"); */\n\t\t\treturn \".\" + $1 + fill(\"0\", hashq(r[1]).length-$1.length); });\n\t\treturn fmt.indexOf(\"0.\") !== -1 ? o : o.replace(/^0\\./,\".\");\n\t}\n\tfmt = fmt.replace(/^#+([0.])/, \"$1\");\n\tif((r = fmt.match(/^(0*)\\.(#*)$/))) {\n\t\treturn sign + (\"\"+aval).replace(/\\.(\\d*[1-9])0*$/,\".$1\").replace(/^(-?\\d*)$/,\"$1.\").replace(/^0\\./,r[1].length?\"0.\":\".\");\n\t}\n\tif((r = fmt.match(/^#{1,3},##0(\\.?)$/))) return sign + commaify((\"\"+aval));\n\tif((r = fmt.match(/^#,##0\\.([#0]*0)$/))) {\n\t\treturn val < 0 ? \"-\" + write_num_int(type, fmt, -val) : commaify((\"\"+val)) + \".\" + fill('0',r[1].length);\n\t}\n\tif((r = fmt.match(/^#,#*,#0/))) return write_num_int(type,fmt.replace(/^#,#*,/,\"\"),val);\n\tif((r = fmt.match(/^([0#]+)(\\\\?-([0#]+))+$/))) {\n\t\to = _strrev(write_num_int(type, fmt.replace(/[\\\\-]/g,\"\"), val));\n\t\tri = 0;\n\t\treturn _strrev(_strrev(fmt.replace(/\\\\/g,\"\")).replace(/[0#]/g,function(x){return ri<o.length?o.charAt(ri++):x==='0'?'0':\"\";}));\n\t}\n\tif(fmt.match(phone)) {\n\t\to = write_num_int(type, \"##########\", val);\n\t\treturn \"(\" + o.substr(0,3) + \") \" + o.substr(3, 3) + \"-\" + o.substr(6);\n\t}\n\tvar oa = \"\";\n\tif((r = fmt.match(/^([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(/*::String(*/r[4]/*::)*/.length,7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, false);\n\t\to = \"\" + sign;\n\t\toa = write_num(\"n\", /*::String(*/r[1]/*::)*/, ff[1]);\n\t\tif(oa.charAt(oa.length-1) == \" \") oa = oa.substr(0,oa.length-1) + \"0\";\n\t\to += oa + /*::String(*/r[2]/*::)*/ + \"/\" + /*::String(*/r[3]/*::)*/;\n\t\toa = rpad_(ff[2],ri);\n\t\tif(oa.length < r[4].length) oa = hashq(r[4].substr(r[4].length-oa.length)) + oa;\n\t\to += oa;\n\t\treturn o;\n\t}\n\tif((r = fmt.match(/^# ([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(Math.max(r[1].length, r[4].length),7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, true);\n\t\treturn sign + (ff[0]||(ff[1] ? \"\" : \"0\")) + \" \" + (ff[1] ? pad_(ff[1],ri) + r[2] + \"/\" + r[3] + rpad_(ff[2],ri): fill(\" \", 2*ri+1 + r[2].length + r[3].length));\n\t}\n\tif((r = fmt.match(/^[#0?]+$/))) {\n\t\to = \"\" + val;\n\t\tif(fmt.length <= o.length) return o;\n\t\treturn hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(/^([#0]+)\\.([#0]+)$/))) {\n\t\to = \"\" + val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,\"$1\");\n\t\tri = o.indexOf(\".\");\n\t\tvar lres = fmt.indexOf(\".\") - ri, rres = fmt.length - o.length - lres;\n\t\treturn hashq(fmt.substr(0,lres) + o + fmt.substr(fmt.length-rres));\n\t}\n\tif((r = fmt.match(/^00,000\\.([#0]*0)$/))) {\n\t\treturn val < 0 ? \"-\" + write_num_int(type, fmt, -val) : commaify(\"\"+val).replace(/^\\d,\\d{3}$/,\"0$&\").replace(/^\\d*$/,function($$) { return \"00,\" + ($$.length < 3 ? pad0(0,3-$$.length) : \"\") + $$; }) + \".\" + pad0(0,r[1].length);\n\t}\n\tswitch(fmt) {\n\t\tcase \"###,###\":\n\t\tcase \"##,###\":\n\t\tcase \"#,###\": var x = commaify(\"\"+aval); return x !== \"0\" ? sign + x : \"\";\n\t\tdefault:\n\t\t\tif(fmt.match(/\\.[0#?]*$/)) return write_num_int(type, fmt.slice(0,fmt.lastIndexOf(\".\")), val) + hashq(fmt.slice(fmt.lastIndexOf(\".\")));\n\t}\n\tthrow new Error(\"unsupported format |\" + fmt + \"|\");\n}\nfunction write_num(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/ {\n\treturn (val|0) === val ? write_num_int(type, fmt, val) : write_num_flt(type, fmt, val);\n}\nfunction SSF_split_fmt(fmt/*:string*/)/*:Array<string>*/ {\n\tvar out/*:Array<string>*/ = [];\n\tvar in_str = false/*, cc*/;\n\tfor(var i = 0, j = 0; i < fmt.length; ++i) switch((/*cc=*/fmt.charCodeAt(i))) {\n\t\tcase 34: /* '\"' */\n\t\t\tin_str = !in_str; break;\n\t\tcase 95: case 42: case 92: /* '_' '*' '\\\\' */\n\t\t\t++i; break;\n\t\tcase 59: /* ';' */\n\t\t\tout[out.length] = fmt.substr(j,i-j);\n\t\t\tj = i+1;\n\t}\n\tout[out.length] = fmt.substr(j);\n\tif(in_str === true) throw new Error(\"Format |\" + fmt + \"| unterminated string \");\n\treturn out;\n}\n\nvar SSF_abstime = /\\[[HhMmSs\\u0E0A\\u0E19\\u0E17]*\\]/;\nfunction fmt_is_date(fmt/*:string*/)/*:boolean*/ {\n\tvar i = 0, /*cc = 0,*/ c = \"\", o = \"\";\n\twhile(i < fmt.length) {\n\t\tswitch((c = fmt.charAt(i))) {\n\t\t\tcase 'G': if(SSF_isgeneral(fmt, i)) i+= 6; i++; break;\n\t\t\tcase '\"': for(;(/*cc=*/fmt.charCodeAt(++i)) !== 34 && i < fmt.length;){/*empty*/} ++i; break;\n\t\t\tcase '\\\\': i+=2; break;\n\t\t\tcase '_': i+=2; break;\n\t\t\tcase '@': ++i; break;\n\t\t\tcase 'B': case 'b':\n\t\t\t\tif(fmt.charAt(i+1) === \"1\" || fmt.charAt(i+1) === \"2\") return true;\n\t\t\t\t/* falls through */\n\t\t\tcase 'M': case 'D': case 'Y': case 'H': case 'S': case 'E':\n\t\t\t\t/* falls through */\n\t\t\tcase 'm': case 'd': case 'y': case 'h': case 's': case 'e': case 'g': return true;\n\t\t\tcase 'A': case 'a': case '上':\n\t\t\t\tif(fmt.substr(i, 3).toUpperCase() === \"A/P\") return true;\n\t\t\t\tif(fmt.substr(i, 5).toUpperCase() === \"AM/PM\") return true;\n\t\t\t\tif(fmt.substr(i, 5).toUpperCase() === \"上午/下午\") return true;\n\t\t\t\t++i; break;\n\t\t\tcase '[':\n\t\t\t\to = c;\n\t\t\t\twhile(fmt.charAt(i++) !== ']' && i < fmt.length) o += fmt.charAt(i);\n\t\t\t\tif(o.match(SSF_abstime)) return true;\n\t\t\t\tbreak;\n\t\t\tcase '.':\n\t\t\t\t/* falls through */\n\t\t\tcase '0': case '#':\n\t\t\t\twhile(i < fmt.length && (\"0#?.,E+-%\".indexOf(c=fmt.charAt(++i)) > -1 || (c=='\\\\' && fmt.charAt(i+1) == \"-\" && \"0#\".indexOf(fmt.charAt(i+2))>-1))){/* empty */}\n\t\t\t\tbreak;\n\t\t\tcase '?': while(fmt.charAt(++i) === c){/* empty */} break;\n\t\t\tcase '*': ++i; if(fmt.charAt(i) == ' ' || fmt.charAt(i) == '*') ++i; break;\n\t\t\tcase '(': case ')': ++i; break;\n\t\t\tcase '1': case '2': case '3': case '4': case '5': case '6': case '7': case '8': case '9':\n\t\t\t\twhile(i < fmt.length && \"0123456789\".indexOf(fmt.charAt(++i)) > -1){/* empty */} break;\n\t\t\tcase ' ': ++i; break;\n\t\t\tdefault: ++i; break;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction eval_fmt(fmt/*:string*/, v/*:any*/, opts/*:any*/, flen/*:number*/) {\n\tvar out = [], o = \"\", i = 0, c = \"\", lst='t', dt, j, cc;\n\tvar hr='H';\n\t/* Tokenize */\n\twhile(i < fmt.length) {\n\t\tswitch((c = fmt.charAt(i))) {\n\t\t\tcase 'G': /* General */\n\t\t\t\tif(!SSF_isgeneral(fmt, i)) throw new Error('unrecognized character ' + c + ' in ' +fmt);\n\t\t\t\tout[out.length] = {t:'G', v:'General'}; i+=7; break;\n\t\t\tcase '\"': /* Literal text */\n\t\t\t\tfor(o=\"\";(cc=fmt.charCodeAt(++i)) !== 34 && i < fmt.length;) o += String.fromCharCode(cc);\n\t\t\t\tout[out.length] = {t:'t', v:o}; ++i; break;\n\t\t\tcase '\\\\': var w = fmt.charAt(++i), t = (w === \"(\" || w === \")\") ? w : 't';\n\t\t\t\tout[out.length] = {t:t, v:w}; ++i; break;\n\t\t\tcase '_': out[out.length] = {t:'t', v:\" \"}; i+=2; break;\n\t\t\tcase '@': /* Text Placeholder */\n\t\t\t\tout[out.length] = {t:'T', v:v}; ++i; break;\n\t\t\tcase 'B': case 'b':\n\t\t\t\tif(fmt.charAt(i+1) === \"1\" || fmt.charAt(i+1) === \"2\") {\n\t\t\t\t\tif(dt==null) { dt=SSF_parse_date_code(v, opts, fmt.charAt(i+1) === \"2\"); if(dt==null) return \"\"; }\n\t\t\t\t\tout[out.length] = {t:'X', v:fmt.substr(i,2)}; lst = c; i+=2; break;\n\t\t\t\t}\n\t\t\t\t/* falls through */\n\t\t\tcase 'M': case 'D': case 'Y': case 'H': case 'S': case 'E':\n\t\t\t\tc = c.toLowerCase();\n\t\t\t\t/* falls through */\n\t\t\tcase 'm': case 'd': case 'y': case 'h': case 's': case 'e': case 'g':\n\t\t\t\tif(v < 0) return \"\";\n\t\t\t\tif(dt==null) { dt=SSF_parse_date_code(v, opts); if(dt==null) return \"\"; }\n\t\t\t\to = c; while(++i < fmt.length && fmt.charAt(i).toLowerCase() === c) o+=c;\n\t\t\t\tif(c === 'm' && lst.toLowerCase() === 'h') c = 'M';\n\t\t\t\tif(c === 'h') c = hr;\n\t\t\t\tout[out.length] = {t:c, v:o}; lst = c; break;\n\t\t\tcase 'A': case 'a': case '上':\n\t\t\t\tvar q={t:c, v:c};\n\t\t\t\tif(dt==null) dt=SSF_parse_date_code(v, opts);\n\t\t\t\tif(fmt.substr(i, 3).toUpperCase() === \"A/P\") { if(dt!=null) q.v = dt.H >= 12 ? \"P\" : \"A\"; q.t = 'T'; hr='h';i+=3;}\n\t\t\t\telse if(fmt.substr(i,5).toUpperCase() === \"AM/PM\") { if(dt!=null) q.v = dt.H >= 12 ? \"PM\" : \"AM\"; q.t = 'T'; i+=5; hr='h'; }\n\t\t\t\telse if(fmt.substr(i,5).toUpperCase() === \"上午/下午\") { if(dt!=null) q.v = dt.H >= 12 ? \"下午\" : \"上午\"; q.t = 'T'; i+=5; hr='h'; }\n\t\t\t\telse { q.t = \"t\"; ++i; }\n\t\t\t\tif(dt==null && q.t === 'T') return \"\";\n\t\t\t\tout[out.length] = q; lst = c; break;\n\t\t\tcase '[':\n\t\t\t\to = c;\n\t\t\t\twhile(fmt.charAt(i++) !== ']' && i < fmt.length) o += fmt.charAt(i);\n\t\t\t\tif(o.slice(-1) !== ']') throw 'unterminated \"[\" block: |' + o + '|';\n\t\t\t\tif(o.match(SSF_abstime)) {\n\t\t\t\t\tif(dt==null) { dt=SSF_parse_date_code(v, opts); if(dt==null) return \"\"; }\n\t\t\t\t\tout[out.length] = {t:'Z', v:o.toLowerCase()};\n\t\t\t\t\tlst = o.charAt(1);\n\t\t\t\t} else if(o.indexOf(\"$\") > -1) {\n\t\t\t\t\to = (o.match(/\\$([^-\\[\\]]*)/)||[])[1]||\"$\";\n\t\t\t\t\tif(!fmt_is_date(fmt)) out[out.length] = {t:'t',v:o};\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t/* Numbers */\n\t\t\tcase '.':\n\t\t\t\tif(dt != null) {\n\t\t\t\t\to = c; while(++i < fmt.length && (c=fmt.charAt(i)) === \"0\") o += c;\n\t\t\t\t\tout[out.length] = {t:'s', v:o}; break;\n\t\t\t\t}\n\t\t\t\t/* falls through */\n\t\t\tcase '0': case '#':\n\t\t\t\to = c; while(++i < fmt.length && \"0#?.,E+-%\".indexOf(c=fmt.charAt(i)) > -1) o += c;\n\t\t\t\tout[out.length] = {t:'n', v:o}; break;\n\t\t\tcase '?':\n\t\t\t\to = c; while(fmt.charAt(++i) === c) o+=c;\n\t\t\t\tout[out.length] = {t:c, v:o}; lst = c; break;\n\t\t\tcase '*': ++i; if(fmt.charAt(i) == ' ' || fmt.charAt(i) == '*') ++i; break; // **\n\t\t\tcase '(': case ')': out[out.length] = {t:(flen===1?'t':c), v:c}; ++i; break;\n\t\t\tcase '1': case '2': case '3': case '4': case '5': case '6': case '7': case '8': case '9':\n\t\t\t\to = c; while(i < fmt.length && \"0123456789\".indexOf(fmt.charAt(++i)) > -1) o+=fmt.charAt(i);\n\t\t\t\tout[out.length] = {t:'D', v:o}; break;\n\t\t\tcase ' ': out[out.length] = {t:c, v:c}; ++i; break;\n\t\t\tcase '$': out[out.length] = {t:'t', v:'$'}; ++i; break;\n\t\t\tdefault:\n\t\t\t\tif(\",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP\".indexOf(c) === -1) throw new Error('unrecognized character ' + c + ' in ' + fmt);\n\t\t\t\tout[out.length] = {t:'t', v:c}; ++i; break;\n\t\t}\n\t}\n\n\t/* Scan for date/time parts */\n\tvar bt = 0, ss0 = 0, ssm;\n\tfor(i=out.length-1, lst='t'; i >= 0; --i) {\n\t\tswitch(out[i].t) {\n\t\t\tcase 'h': case 'H': out[i].t = hr; lst='h'; if(bt < 1) bt = 1; break;\n\t\t\tcase 's':\n\t\t\t\tif((ssm=out[i].v.match(/\\.0+$/))) ss0=Math.max(ss0,ssm[0].length-1);\n\t\t\t\tif(bt < 3) bt = 3;\n\t\t\t/* falls through */\n\t\t\tcase 'd': case 'y': case 'M': case 'e': lst=out[i].t; break;\n\t\t\tcase 'm': if(lst === 's') { out[i].t = 'M'; if(bt < 2) bt = 2; } break;\n\t\t\tcase 'X': /*if(out[i].v === \"B2\");*/\n\t\t\t\tbreak;\n\t\t\tcase 'Z':\n\t\t\t\tif(bt < 1 && out[i].v.match(/[Hh]/)) bt = 1;\n\t\t\t\tif(bt < 2 && out[i].v.match(/[Mm]/)) bt = 2;\n\t\t\t\tif(bt < 3 && out[i].v.match(/[Ss]/)) bt = 3;\n\t\t}\n\t}\n\t/* time rounding depends on presence of minute / second / usec fields */\n\tswitch(bt) {\n\t\tcase 0: break;\n\t\tcase 1:\n\t\t\t/*::if(!dt) break;*/\n\t\t\tif(dt.u >= 0.5) { dt.u = 0; ++dt.S; }\n\t\t\tif(dt.S >=  60) { dt.S = 0; ++dt.M; }\n\t\t\tif(dt.M >=  60) { dt.M = 0; ++dt.H; }\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\t/*::if(!dt) break;*/\n\t\t\tif(dt.u >= 0.5) { dt.u = 0; ++dt.S; }\n\t\t\tif(dt.S >=  60) { dt.S = 0; ++dt.M; }\n\t\t\tbreak;\n\t}\n\n\t/* replace fields */\n\tvar nstr = \"\", jj;\n\tfor(i=0; i < out.length; ++i) {\n\t\tswitch(out[i].t) {\n\t\t\tcase 't': case 'T': case ' ': case 'D': break;\n\t\t\tcase 'X': out[i].v = \"\"; out[i].t = \";\"; break;\n\t\t\tcase 'd': case 'm': case 'y': case 'h': case 'H': case 'M': case 's': case 'e': case 'b': case 'Z':\n\t\t\t\t/*::if(!dt) throw \"unreachable\"; */\n\t\t\t\tout[i].v = SSF_write_date(out[i].t.charCodeAt(0), out[i].v, dt, ss0);\n\t\t\t\tout[i].t = 't'; break;\n\t\t\tcase 'n': case '?':\n\t\t\t\tjj = i+1;\n\t\t\t\twhile(out[jj] != null && (\n\t\t\t\t\t(c=out[jj].t) === \"?\" || c === \"D\" ||\n\t\t\t\t\t((c === \" \" || c === \"t\") && out[jj+1] != null && (out[jj+1].t === '?' || out[jj+1].t === \"t\" && out[jj+1].v === '/')) ||\n\t\t\t\t\t(out[i].t === '(' && (c === ' ' || c === 'n' || c === ')')) ||\n\t\t\t\t\t(c === 't' && (out[jj].v === '/' || out[jj].v === ' ' && out[jj+1] != null && out[jj+1].t == '?'))\n\t\t\t\t)) {\n\t\t\t\t\tout[i].v += out[jj].v;\n\t\t\t\t\tout[jj] = {v:\"\", t:\";\"}; ++jj;\n\t\t\t\t}\n\t\t\t\tnstr += out[i].v;\n\t\t\t\ti = jj-1; break;\n\t\t\tcase 'G': out[i].t = 't'; out[i].v = SSF_general(v,opts); break;\n\t\t}\n\t}\n\tvar vv = \"\", myv, ostr;\n\tif(nstr.length > 0) {\n\t\tif(nstr.charCodeAt(0) == 40) /* '(' */ {\n\t\t\tmyv = (v<0&&nstr.charCodeAt(0) === 45 ? -v : v);\n\t\t\tostr = write_num('n', nstr, myv);\n\t\t} else {\n\t\t\tmyv = (v<0 && flen > 1 ? -v : v);\n\t\t\tostr = write_num('n', nstr, myv);\n\t\t\tif(myv < 0 && out[0] && out[0].t == 't') {\n\t\t\t\tostr = ostr.substr(1);\n\t\t\t\tout[0].v = \"-\" + out[0].v;\n\t\t\t}\n\t\t}\n\t\tjj=ostr.length-1;\n\t\tvar decpt = out.length;\n\t\tfor(i=0; i < out.length; ++i) if(out[i] != null && out[i].t != 't' && out[i].v.indexOf(\".\") > -1) { decpt = i; break; }\n\t\tvar lasti=out.length;\n\t\tif(decpt === out.length && ostr.indexOf(\"E\") === -1) {\n\t\t\tfor(i=out.length-1; i>= 0;--i) {\n\t\t\t\tif(out[i] == null || 'n?'.indexOf(out[i].t) === -1) continue;\n\t\t\t\tif(jj>=out[i].v.length-1) { jj -= out[i].v.length; out[i].v = ostr.substr(jj+1, out[i].v.length); }\n\t\t\t\telse if(jj < 0) out[i].v = \"\";\n\t\t\t\telse { out[i].v = ostr.substr(0, jj+1); jj = -1; }\n\t\t\t\tout[i].t = 't';\n\t\t\t\tlasti = i;\n\t\t\t}\n\t\t\tif(jj>=0 && lasti<out.length) out[lasti].v = ostr.substr(0,jj+1) + out[lasti].v;\n\t\t}\n\t\telse if(decpt !== out.length && ostr.indexOf(\"E\") === -1) {\n\t\t\tjj = ostr.indexOf(\".\")-1;\n\t\t\tfor(i=decpt; i>= 0; --i) {\n\t\t\t\tif(out[i] == null || 'n?'.indexOf(out[i].t) === -1) continue;\n\t\t\t\tj=out[i].v.indexOf(\".\")>-1&&i===decpt?out[i].v.indexOf(\".\")-1:out[i].v.length-1;\n\t\t\t\tvv = out[i].v.substr(j+1);\n\t\t\t\tfor(; j>=0; --j) {\n\t\t\t\t\tif(jj>=0 && (out[i].v.charAt(j) === \"0\" || out[i].v.charAt(j) === \"#\")) vv = ostr.charAt(jj--) + vv;\n\t\t\t\t}\n\t\t\t\tout[i].v = vv;\n\t\t\t\tout[i].t = 't';\n\t\t\t\tlasti = i;\n\t\t\t}\n\t\t\tif(jj>=0 && lasti<out.length) out[lasti].v = ostr.substr(0,jj+1) + out[lasti].v;\n\t\t\tjj = ostr.indexOf(\".\")+1;\n\t\t\tfor(i=decpt; i<out.length; ++i) {\n\t\t\t\tif(out[i] == null || ('n?('.indexOf(out[i].t) === -1 && i !== decpt)) continue;\n\t\t\t\tj=out[i].v.indexOf(\".\")>-1&&i===decpt?out[i].v.indexOf(\".\")+1:0;\n\t\t\t\tvv = out[i].v.substr(0,j);\n\t\t\t\tfor(; j<out[i].v.length; ++j) {\n\t\t\t\t\tif(jj<ostr.length) vv += ostr.charAt(jj++);\n\t\t\t\t}\n\t\t\t\tout[i].v = vv;\n\t\t\t\tout[i].t = 't';\n\t\t\t\tlasti = i;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=0; i<out.length; ++i) if(out[i] != null && 'n?'.indexOf(out[i].t)>-1) {\n\t\tmyv = (flen >1 && v < 0 && i>0 && out[i-1].v === \"-\" ? -v:v);\n\t\tout[i].v = write_num(out[i].t, out[i].v, myv);\n\t\tout[i].t = 't';\n\t}\n\tvar retval = \"\";\n\tfor(i=0; i !== out.length; ++i) if(out[i] != null) retval += out[i].v;\n\treturn retval;\n}\n\nvar cfregex2 = /\\[(=|>[=]?|<[>=]?)(-?\\d+(?:\\.\\d*)?)\\]/;\nfunction chkcond(v, rr) {\n\tif(rr == null) return false;\n\tvar thresh = parseFloat(rr[2]);\n\tswitch(rr[1]) {\n\t\tcase \"=\":  if(v == thresh) return true; break;\n\t\tcase \">\":  if(v >  thresh) return true; break;\n\t\tcase \"<\":  if(v <  thresh) return true; break;\n\t\tcase \"<>\": if(v != thresh) return true; break;\n\t\tcase \">=\": if(v >= thresh) return true; break;\n\t\tcase \"<=\": if(v <= thresh) return true; break;\n\t}\n\treturn false;\n}\nfunction choose_fmt(f/*:string*/, v/*:any*/) {\n\tvar fmt = SSF_split_fmt(f);\n\tvar l = fmt.length, lat = fmt[l-1].indexOf(\"@\");\n\tif(l<4 && lat>-1) --l;\n\tif(fmt.length > 4) throw new Error(\"cannot find right format for |\" + fmt.join(\"|\") + \"|\");\n\tif(typeof v !== \"number\") return [4, fmt.length === 4 || lat>-1?fmt[fmt.length-1]:\"@\"];\n\tswitch(fmt.length) {\n\t\tcase 1: fmt = lat>-1 ? [\"General\", \"General\", \"General\", fmt[0]] : [fmt[0], fmt[0], fmt[0], \"@\"]; break;\n\t\tcase 2: fmt = lat>-1 ? [fmt[0], fmt[0], fmt[0], fmt[1]] : [fmt[0], fmt[1], fmt[0], \"@\"]; break;\n\t\tcase 3: fmt = lat>-1 ? [fmt[0], fmt[1], fmt[0], fmt[2]] : [fmt[0], fmt[1], fmt[2], \"@\"]; break;\n\t\tcase 4: break;\n\t}\n\tvar ff = v > 0 ? fmt[0] : v < 0 ? fmt[1] : fmt[2];\n\tif(fmt[0].indexOf(\"[\") === -1 && fmt[1].indexOf(\"[\") === -1) return [l, ff];\n\tif(fmt[0].match(/\\[[=<>]/) != null || fmt[1].match(/\\[[=<>]/) != null) {\n\t\tvar m1 = fmt[0].match(cfregex2);\n\t\tvar m2 = fmt[1].match(cfregex2);\n\t\treturn chkcond(v, m1) ? [l, fmt[0]] : chkcond(v, m2) ? [l, fmt[1]] : [l, fmt[m1 != null && m2 != null ? 2 : 1]];\n\t}\n\treturn [l, ff];\n}\nfunction SSF_format(fmt/*:string|number*/,v/*:any*/,o/*:?any*/) {\n\tif(o == null) o = {};\n\tvar sfmt = \"\";\n\tswitch(typeof fmt) {\n\t\tcase \"string\":\n\t\t\tif(fmt == \"m/d/yy\" && o.dateNF) sfmt = o.dateNF;\n\t\t\telse sfmt = fmt;\n\t\t\tbreak;\n\t\tcase \"number\":\n\t\t\tif(fmt == 14 && o.dateNF) sfmt = o.dateNF;\n\t\t\telse sfmt = (o.table != null ? (o.table/*:any*/) : table_fmt)[fmt];\n\t\t\tif(sfmt == null) sfmt = (o.table && o.table[SSF_default_map[fmt]]) || table_fmt[SSF_default_map[fmt]];\n\t\t\tif(sfmt == null) sfmt = SSF_default_str[fmt] || \"General\";\n\t\t\tbreak;\n\t}\n\tif(SSF_isgeneral(sfmt,0)) return SSF_general(v, o);\n\tif(v instanceof Date) v = datenum_local(v, o.date1904);\n\tvar f = choose_fmt(sfmt, v);\n\tif(SSF_isgeneral(f[1])) return SSF_general(v, o);\n\tif(v === true) v = \"TRUE\"; else if(v === false) v = \"FALSE\";\n\telse if(v === \"\" || v == null) return \"\";\n\treturn eval_fmt(f[1], v, o, f[0]);\n}\nfunction SSF_load(fmt/*:string*/, idx/*:?number*/)/*:number*/ {\n\tif(typeof idx != 'number') {\n\t\tidx = +idx || -1;\n/*::if(typeof idx != 'number') return 0x188; */\n\t\tfor(var i = 0; i < 0x0188; ++i) {\n/*::if(typeof idx != 'number') return 0x188; */\n\t\t\tif(table_fmt[i] == undefined) { if(idx < 0) idx = i; continue; }\n\t\t\tif(table_fmt[i] == fmt) { idx = i; break; }\n\t\t}\n/*::if(typeof idx != 'number') return 0x188; */\n\t\tif(idx < 0) idx = 0x187;\n\t}\n/*::if(typeof idx != 'number') return 0x188; */\n\ttable_fmt[idx] = fmt;\n\treturn idx;\n}\nfunction SSF_load_table(tbl/*:SSFTable*/)/*:void*/ {\n\tfor(var i=0; i!=0x0188; ++i)\n\t\tif(tbl[i] !== undefined) SSF_load(tbl[i], i);\n}\n\nfunction make_ssf() {\n\ttable_fmt = SSF_init_table();\n}\n\nvar SSF = {\n\tformat: SSF_format,\n\tload: SSF_load,\n\t_table: table_fmt,\n\tload_table: SSF_load_table,\n\tparse_date_code: SSF_parse_date_code,\n\tis_date: fmt_is_date,\n\tget_table: function get_table() { return SSF._table = table_fmt; }\n};\n\nvar SSFImplicit/*{[number]:string}*/ = ({\n\t\"5\": '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\t\"6\": '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\t\"7\": '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\t\"8\": '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t\"23\": 'General', \"24\": 'General', \"25\": 'General', \"26\": 'General',\n\t\"27\": 'm/d/yy', \"28\": 'm/d/yy', \"29\": 'm/d/yy', \"30\": 'm/d/yy', \"31\": 'm/d/yy',\n\t\"32\": 'h:mm:ss', \"33\": 'h:mm:ss', \"34\": 'h:mm:ss', \"35\": 'h:mm:ss',\n\t\"36\": 'm/d/yy',\n\t\"41\": '_(* #,##0_);_(* \\(#,##0\\);_(* \"-\"_);_(@_)',\n\t\"42\": '_(\"$\"* #,##0_);_(\"$\"* \\(#,##0\\);_(\"$\"* \"-\"_);_(@_)',\n\t\"43\": '_(* #,##0.00_);_(* \\(#,##0.00\\);_(* \"-\"??_);_(@_)',\n\t\"44\": '_(\"$\"* #,##0.00_);_(\"$\"* \\(#,##0.00\\);_(\"$\"* \"-\"??_);_(@_)',\n\t\"50\": 'm/d/yy', \"51\": 'm/d/yy', \"52\": 'm/d/yy', \"53\": 'm/d/yy', \"54\": 'm/d/yy',\n\t\"55\": 'm/d/yy', \"56\": 'm/d/yy', \"57\": 'm/d/yy', \"58\": 'm/d/yy',\n\t\"59\": '0',\n\t\"60\": '0.00',\n\t\"61\": '#,##0',\n\t\"62\": '#,##0.00',\n\t\"63\": '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\t\"64\": '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\t\"65\": '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\t\"66\": '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t\"67\": '0%',\n\t\"68\": '0.00%',\n\t\"69\": '# ?/?',\n\t\"70\": '# ??/??',\n\t\"71\": 'm/d/yy',\n\t\"72\": 'm/d/yy',\n\t\"73\": 'd-mmm-yy',\n\t\"74\": 'd-mmm',\n\t\"75\": 'mmm-yy',\n\t\"76\": 'h:mm',\n\t\"77\": 'h:mm:ss',\n\t\"78\": 'm/d/yy h:mm',\n\t\"79\": 'mm:ss',\n\t\"80\": '[h]:mm:ss',\n\t\"81\": 'mmss.0'\n}/*:any*/);\n\n/* dateNF parse TODO: move to SSF */\nvar dateNFregex = /[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;\nfunction dateNF_regex(dateNF/*:string|number*/)/*:RegExp*/ {\n\tvar fmt = typeof dateNF == \"number\" ? table_fmt[dateNF] : dateNF;\n\tfmt = fmt.replace(dateNFregex, \"(\\\\d+)\");\n\treturn new RegExp(\"^\" + fmt + \"$\");\n}\nfunction dateNF_fix(str/*:string*/, dateNF/*:string*/, match/*:Array<string>*/)/*:string*/ {\n\tvar Y = -1, m = -1, d = -1, H = -1, M = -1, S = -1;\n\t(dateNF.match(dateNFregex)||[]).forEach(function(n, i) {\n\t\tvar v = parseInt(match[i+1], 10);\n\t\tswitch(n.toLowerCase().charAt(0)) {\n\t\t\tcase 'y': Y = v; break; case 'd': d = v; break;\n\t\t\tcase 'h': H = v; break; case 's': S = v; break;\n\t\t\tcase 'm': if(H >= 0) M = v; else m = v; break;\n\t\t}\n\t});\n\tif(S >= 0 && M == -1 && m >= 0) { M = m; m = -1; }\n\tvar datestr = ((\"\" + (Y>=0?Y: new Date().getFullYear())).slice(-4) + \"-\" + (\"00\" + (m>=1?m:1)).slice(-2) + \"-\" + (\"00\" + (d>=1?d:1)).slice(-2));\n\tif(datestr.length == 7) datestr = \"0\" + datestr;\n\tif(datestr.length == 8) datestr = \"20\" + datestr;\n\tvar timestr = ((\"00\" + (H>=0?H:0)).slice(-2) + \":\" + (\"00\" + (M>=0?M:0)).slice(-2) + \":\" + (\"00\" + (S>=0?S:0)).slice(-2));\n\tif(H == -1 && M == -1 && S == -1) return datestr;\n\tif(Y == -1 && m == -1 && d == -1) return timestr;\n\treturn datestr + \"T\" + timestr;\n}\n\n/*::\ndeclare var ReadShift:any;\ndeclare var CheckField:any;\ndeclare var prep_blob:any;\ndeclare var __readUInt32LE:any;\ndeclare var __readInt32LE:any;\ndeclare var __toBuffer:any;\ndeclare var __utf16le:any;\ndeclare var bconcat:any;\ndeclare var s2a:any;\ndeclare var chr0:any;\ndeclare var chr1:any;\ndeclare var has_buf:boolean;\ndeclare var new_buf:any;\ndeclare var new_raw_buf:any;\ndeclare var new_unsafe_buf:any;\ndeclare var Buffer_from:any;\n*/\n/* cfb.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*jshint eqnull:true */\n/*exported CFB */\n/*global Uint8Array:false, Uint16Array:false */\n\n/*::\ntype SectorEntry = {\n\tname?:string;\n\tnodes?:Array<number>;\n\tdata:RawBytes;\n};\ntype SectorList = {\n\t[k:string|number]:SectorEntry;\n\tname:?string;\n\tfat_addrs:Array<number>;\n\tssz:number;\n}\ntype CFBFiles = {[n:string]:CFBEntry};\n*/\n/* crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*exported CRC32 */\nvar CRC32 = /*#__PURE__*/(function() {\nvar CRC32 = {};\nCRC32.version = '1.2.0';\n/* see perf/crc32table.js */\n/*global Int32Array */\nfunction signed_crc_table()/*:any*/ {\n\tvar c = 0, table/*:Array<number>*/ = new Array(256);\n\n\tfor(var n =0; n != 256; ++n){\n\t\tc = n;\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\ttable[n] = c;\n\t}\n\n\treturn typeof Int32Array !== 'undefined' ? new Int32Array(table) : table;\n}\n\nvar T0 = signed_crc_table();\nfunction slice_by_16_tables(T) {\n\tvar c = 0, v = 0, n = 0, table/*:Array<number>*/ = typeof Int32Array !== 'undefined' ? new Int32Array(4096) : new Array(4096) ;\n\n\tfor(n = 0; n != 256; ++n) table[n] = T[n];\n\tfor(n = 0; n != 256; ++n) {\n\t\tv = T[n];\n\t\tfor(c = 256 + n; c < 4096; c += 256) v = table[c] = (v >>> 8) ^ T[v & 0xFF];\n\t}\n\tvar out = [];\n\tfor(n = 1; n != 16; ++n) out[n - 1] = typeof Int32Array !== 'undefined' ? table.subarray(n * 256, n * 256 + 256) : table.slice(n * 256, n * 256 + 256);\n\treturn out;\n}\nvar TT = slice_by_16_tables(T0);\nvar T1 = TT[0],  T2 = TT[1],  T3 = TT[2],  T4 = TT[3],  T5 = TT[4];\nvar T6 = TT[5],  T7 = TT[6],  T8 = TT[7],  T9 = TT[8],  Ta = TT[9];\nvar Tb = TT[10], Tc = TT[11], Td = TT[12], Te = TT[13], Tf = TT[14];\nfunction crc32_bstr(bstr/*:string*/, seed/*:number*/)/*:number*/ {\n\tvar C = seed/*:: ? 0 : 0 */ ^ -1;\n\tfor(var i = 0, L = bstr.length; i < L;) C = (C>>>8) ^ T0[(C^bstr.charCodeAt(i++))&0xFF];\n\treturn ~C;\n}\n\nfunction crc32_buf(B/*:Uint8Array|Array<number>*/, seed/*:number*/)/*:number*/ {\n\tvar C = seed/*:: ? 0 : 0 */ ^ -1, L = B.length - 15, i = 0;\n\tfor(; i < L;) C =\n\t\tTf[B[i++] ^ (C & 255)] ^\n\t\tTe[B[i++] ^ ((C >> 8) & 255)] ^\n\t\tTd[B[i++] ^ ((C >> 16) & 255)] ^\n\t\tTc[B[i++] ^ (C >>> 24)] ^\n\t\tTb[B[i++]] ^ Ta[B[i++]] ^ T9[B[i++]] ^ T8[B[i++]] ^\n\t\tT7[B[i++]] ^ T6[B[i++]] ^ T5[B[i++]] ^ T4[B[i++]] ^\n\t\tT3[B[i++]] ^ T2[B[i++]] ^ T1[B[i++]] ^ T0[B[i++]];\n\tL += 15;\n\twhile(i < L) C = (C>>>8) ^ T0[(C^B[i++])&0xFF];\n\treturn ~C;\n}\n\nfunction crc32_str(str/*:string*/, seed/*:number*/)/*:number*/ {\n\tvar C = seed ^ -1;\n\tfor(var i = 0, L = str.length, c = 0, d = 0; i < L;) {\n\t\tc = str.charCodeAt(i++);\n\t\tif(c < 0x80) {\n\t\t\tC = (C>>>8) ^ T0[(C^c)&0xFF];\n\t\t} else if(c < 0x800) {\n\t\t\tC = (C>>>8) ^ T0[(C ^ (192|((c>>6)&31)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(c&63)))&0xFF];\n\t\t} else if(c >= 0xD800 && c < 0xE000) {\n\t\t\tc = (c&1023)+64; d = str.charCodeAt(i++)&1023;\n\t\t\tC = (C>>>8) ^ T0[(C ^ (240|((c>>8)&7)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((c>>2)&63)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((d>>6)&15)|((c&3)<<4)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(d&63)))&0xFF];\n\t\t} else {\n\t\t\tC = (C>>>8) ^ T0[(C ^ (224|((c>>12)&15)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((c>>6)&63)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(c&63)))&0xFF];\n\t\t}\n\t}\n\treturn ~C;\n}\nCRC32.table = T0;\nCRC32.bstr = crc32_bstr;\nCRC32.buf = crc32_buf;\nCRC32.str = crc32_str;\nreturn CRC32;\n})();\n/* [MS-CFB] v20171201 */\nvar CFB = /*#__PURE__*/(function _CFB(){\nvar exports = {};\nexports.version = '1.2.1';\n/* [MS-CFB] 2.6.4 */\nfunction namecmp(l/*:string*/, r/*:string*/)/*:number*/ {\n\tvar L = l.split(\"/\"), R = r.split(\"/\");\n\tfor(var i = 0, c = 0, Z = Math.min(L.length, R.length); i < Z; ++i) {\n\t\tif((c = L[i].length - R[i].length)) return c;\n\t\tif(L[i] != R[i]) return L[i] < R[i] ? -1 : 1;\n\t}\n\treturn L.length - R.length;\n}\nfunction dirname(p/*:string*/)/*:string*/ {\n\tif(p.charAt(p.length - 1) == \"/\") return (p.slice(0,-1).indexOf(\"/\") === -1) ? p : dirname(p.slice(0, -1));\n\tvar c = p.lastIndexOf(\"/\");\n\treturn (c === -1) ? p : p.slice(0, c+1);\n}\n\nfunction filename(p/*:string*/)/*:string*/ {\n\tif(p.charAt(p.length - 1) == \"/\") return filename(p.slice(0, -1));\n\tvar c = p.lastIndexOf(\"/\");\n\treturn (c === -1) ? p : p.slice(c+1);\n}\n/* -------------------------------------------------------------------------- */\n/* DOS Date format:\n   high|YYYYYYYm.mmmddddd.HHHHHMMM.MMMSSSSS|low\n   add 1980 to stored year\n   stored second should be doubled\n*/\n\n/* write JS date to buf as a DOS date */\nfunction write_dos_date(buf/*:CFBlob*/, date/*:Date|string*/) {\n\tif(typeof date === \"string\") date = new Date(date);\n\tvar hms/*:number*/ = date.getHours();\n\thms = hms << 6 | date.getMinutes();\n\thms = hms << 5 | (date.getSeconds()>>>1);\n\tbuf.write_shift(2, hms);\n\tvar ymd/*:number*/ = (date.getFullYear() - 1980);\n\tymd = ymd << 4 | (date.getMonth()+1);\n\tymd = ymd << 5 | date.getDate();\n\tbuf.write_shift(2, ymd);\n}\n\n/* read four bytes from buf and interpret as a DOS date */\nfunction parse_dos_date(buf/*:CFBlob*/)/*:Date*/ {\n\tvar hms = buf.read_shift(2) & 0xFFFF;\n\tvar ymd = buf.read_shift(2) & 0xFFFF;\n\tvar val = new Date();\n\tvar d = ymd & 0x1F; ymd >>>= 5;\n\tvar m = ymd & 0x0F; ymd >>>= 4;\n\tval.setMilliseconds(0);\n\tval.setFullYear(ymd + 1980);\n\tval.setMonth(m-1);\n\tval.setDate(d);\n\tvar S = hms & 0x1F; hms >>>= 5;\n\tvar M = hms & 0x3F; hms >>>= 6;\n\tval.setHours(hms);\n\tval.setMinutes(M);\n\tval.setSeconds(S<<1);\n\treturn val;\n}\nfunction parse_extra_field(blob/*:CFBlob*/)/*:any*/ {\n\tprep_blob(blob, 0);\n\tvar o = /*::(*/{}/*:: :any)*/;\n\tvar flags = 0;\n\twhile(blob.l <= blob.length - 4) {\n\t\tvar type = blob.read_shift(2);\n\t\tvar sz = blob.read_shift(2), tgt = blob.l + sz;\n\t\tvar p = {};\n\t\tswitch(type) {\n\t\t\t/* UNIX-style Timestamps */\n\t\t\tcase 0x5455: {\n\t\t\t\tflags = blob.read_shift(1);\n\t\t\t\tif(flags & 1) p.mtime = blob.read_shift(4);\n\t\t\t\t/* for some reason, CD flag corresponds to LFH */\n\t\t\t\tif(sz > 5) {\n\t\t\t\t\tif(flags & 2) p.atime = blob.read_shift(4);\n\t\t\t\t\tif(flags & 4) p.ctime = blob.read_shift(4);\n\t\t\t\t}\n\t\t\t\tif(p.mtime) p.mt = new Date(p.mtime*1000);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tblob.l = tgt;\n\t\to[type] = p;\n\t}\n\treturn o;\n}\nvar fs/*:: = require('fs'); */;\nfunction get_fs() { return fs || (fs = {}); }\nfunction parse(file/*:RawBytes*/, options/*:CFBReadOpts*/)/*:CFBContainer*/ {\nif(file[0] == 0x50 && file[1] == 0x4b) return parse_zip(file, options);\nif((file[0] | 0x20) == 0x6d && (file[1]|0x20) == 0x69) return parse_mad(file, options);\nif(file.length < 512) throw new Error(\"CFB file size \" + file.length + \" < 512\");\nvar mver = 3;\nvar ssz = 512;\nvar nmfs = 0; // number of mini FAT sectors\nvar difat_sec_cnt = 0;\nvar dir_start = 0;\nvar minifat_start = 0;\nvar difat_start = 0;\n\nvar fat_addrs/*:Array<number>*/ = []; // locations of FAT sectors\n\n/* [MS-CFB] 2.2 Compound File Header */\nvar blob/*:CFBlob*/ = /*::(*/file.slice(0,512)/*:: :any)*/;\nprep_blob(blob, 0);\n\n/* major version */\nvar mv = check_get_mver(blob);\nmver = mv[0];\nswitch(mver) {\n\tcase 3: ssz = 512; break; case 4: ssz = 4096; break;\n\tcase 0: if(mv[1] == 0) return parse_zip(file, options);\n\t/* falls through */\n\tdefault: throw new Error(\"Major Version: Expected 3 or 4 saw \" + mver);\n}\n\n/* reprocess header */\nif(ssz !== 512) { blob = /*::(*/file.slice(0,ssz)/*:: :any)*/; prep_blob(blob, 28 /* blob.l */); }\n/* Save header for final object */\nvar header/*:RawBytes*/ = file.slice(0,ssz);\n\ncheck_shifts(blob, mver);\n\n// Number of Directory Sectors\nvar dir_cnt/*:number*/ = blob.read_shift(4, 'i');\nif(mver === 3 && dir_cnt !== 0) throw new Error('# Directory Sectors: Expected 0 saw ' + dir_cnt);\n\n// Number of FAT Sectors\nblob.l += 4;\n\n// First Directory Sector Location\ndir_start = blob.read_shift(4, 'i');\n\n// Transaction Signature\nblob.l += 4;\n\n// Mini Stream Cutoff Size\nblob.chk('00100000', 'Mini Stream Cutoff Size: ');\n\n// First Mini FAT Sector Location\nminifat_start = blob.read_shift(4, 'i');\n\n// Number of Mini FAT Sectors\nnmfs = blob.read_shift(4, 'i');\n\n// First DIFAT sector location\ndifat_start = blob.read_shift(4, 'i');\n\n// Number of DIFAT Sectors\ndifat_sec_cnt = blob.read_shift(4, 'i');\n\n// Grab FAT Sector Locations\nfor(var q = -1, j = 0; j < 109; ++j) { /* 109 = (512 - blob.l)>>>2; */\n\tq = blob.read_shift(4, 'i');\n\tif(q<0) break;\n\tfat_addrs[j] = q;\n}\n\n/** Break the file up into sectors */\nvar sectors/*:Array<RawBytes>*/ = sectorify(file, ssz);\n\nsleuth_fat(difat_start, difat_sec_cnt, sectors, ssz, fat_addrs);\n\n/** Chains */\nvar sector_list/*:SectorList*/ = make_sector_list(sectors, dir_start, fat_addrs, ssz);\n\nsector_list[dir_start].name = \"!Directory\";\nif(nmfs > 0 && minifat_start !== ENDOFCHAIN) sector_list[minifat_start].name = \"!MiniFAT\";\nsector_list[fat_addrs[0]].name = \"!FAT\";\nsector_list.fat_addrs = fat_addrs;\nsector_list.ssz = ssz;\n\n/* [MS-CFB] 2.6.1 Compound File Directory Entry */\nvar files/*:CFBFiles*/ = {}, Paths/*:Array<string>*/ = [], FileIndex/*:CFBFileIndex*/ = [], FullPaths/*:Array<string>*/ = [];\nread_directory(dir_start, sector_list, sectors, Paths, nmfs, files, FileIndex, minifat_start);\n\nbuild_full_paths(FileIndex, FullPaths, Paths);\nPaths.shift();\n\nvar o = {\n\tFileIndex: FileIndex,\n\tFullPaths: FullPaths\n};\n\n// $FlowIgnore\nif(options && options.raw) o.raw = {header: header, sectors: sectors};\nreturn o;\n} // parse\n\n/* [MS-CFB] 2.2 Compound File Header -- read up to major version */\nfunction check_get_mver(blob/*:CFBlob*/)/*:[number, number]*/ {\n\tif(blob[blob.l] == 0x50 && blob[blob.l + 1] == 0x4b) return [0, 0];\n\t// header signature 8\n\tblob.chk(HEADER_SIGNATURE, 'Header Signature: ');\n\n\t// clsid 16\n\t//blob.chk(HEADER_CLSID, 'CLSID: ');\n\tblob.l += 16;\n\n\t// minor version 2\n\tvar mver/*:number*/ = blob.read_shift(2, 'u');\n\n\treturn [blob.read_shift(2,'u'), mver];\n}\nfunction check_shifts(blob/*:CFBlob*/, mver/*:number*/)/*:void*/ {\n\tvar shift = 0x09;\n\n\t// Byte Order\n\t//blob.chk('feff', 'Byte Order: '); // note: some writers put 0xffff\n\tblob.l += 2;\n\n\t// Sector Shift\n\tswitch((shift = blob.read_shift(2))) {\n\t\tcase 0x09: if(mver != 3) throw new Error('Sector Shift: Expected 9 saw ' + shift); break;\n\t\tcase 0x0c: if(mver != 4) throw new Error('Sector Shift: Expected 12 saw ' + shift); break;\n\t\tdefault: throw new Error('Sector Shift: Expected 9 or 12 saw ' + shift);\n\t}\n\n\t// Mini Sector Shift\n\tblob.chk('0600', 'Mini Sector Shift: ');\n\n\t// Reserved\n\tblob.chk('000000000000', 'Reserved: ');\n}\n\n/** Break the file up into sectors */\nfunction sectorify(file/*:RawBytes*/, ssz/*:number*/)/*:Array<RawBytes>*/ {\n\tvar nsectors = Math.ceil(file.length/ssz)-1;\n\tvar sectors/*:Array<RawBytes>*/ = [];\n\tfor(var i=1; i < nsectors; ++i) sectors[i-1] = file.slice(i*ssz,(i+1)*ssz);\n\tsectors[nsectors-1] = file.slice(nsectors*ssz);\n\treturn sectors;\n}\n\n/* [MS-CFB] 2.6.4 Red-Black Tree */\nfunction build_full_paths(FI/*:CFBFileIndex*/, FP/*:Array<string>*/, Paths/*:Array<string>*/)/*:void*/ {\n\tvar i = 0, L = 0, R = 0, C = 0, j = 0, pl = Paths.length;\n\tvar dad/*:Array<number>*/ = [], q/*:Array<number>*/ = [];\n\n\tfor(; i < pl; ++i) { dad[i]=q[i]=i; FP[i]=Paths[i]; }\n\n\tfor(; j < q.length; ++j) {\n\t\ti = q[j];\n\t\tL = FI[i].L; R = FI[i].R; C = FI[i].C;\n\t\tif(dad[i] === i) {\n\t\t\tif(L !== -1 /*NOSTREAM*/ && dad[L] !== L) dad[i] = dad[L];\n\t\t\tif(R !== -1 && dad[R] !== R) dad[i] = dad[R];\n\t\t}\n\t\tif(C !== -1 /*NOSTREAM*/) dad[C] = i;\n\t\tif(L !== -1 && i != dad[i]) { dad[L] = dad[i]; if(q.lastIndexOf(L) < j) q.push(L); }\n\t\tif(R !== -1 && i != dad[i]) { dad[R] = dad[i]; if(q.lastIndexOf(R) < j) q.push(R); }\n\t}\n\tfor(i=1; i < pl; ++i) if(dad[i] === i) {\n\t\tif(R !== -1 /*NOSTREAM*/ && dad[R] !== R) dad[i] = dad[R];\n\t\telse if(L !== -1 && dad[L] !== L) dad[i] = dad[L];\n\t}\n\n\tfor(i=1; i < pl; ++i) {\n\t\tif(FI[i].type === 0 /* unknown */) continue;\n\t\tj = i;\n\t\tif(j != dad[j]) do {\n\t\t\tj = dad[j];\n\t\t\tFP[i] = FP[j] + \"/\" + FP[i];\n\t\t} while (j !== 0 && -1 !== dad[j] && j != dad[j]);\n\t\tdad[i] = -1;\n\t}\n\n\tFP[0] += \"/\";\n\tfor(i=1; i < pl; ++i) {\n\t\tif(FI[i].type !== 2 /* stream */) FP[i] += \"/\";\n\t}\n}\n\nfunction get_mfat_entry(entry/*:CFBEntry*/, payload/*:RawBytes*/, mini/*:?RawBytes*/)/*:CFBlob*/ {\n\tvar start = entry.start, size = entry.size;\n\t//return (payload.slice(start*MSSZ, start*MSSZ + size)/*:any*/);\n\tvar o = [];\n\tvar idx = start;\n\twhile(mini && size > 0 && idx >= 0) {\n\t\to.push(payload.slice(idx * MSSZ, idx * MSSZ + MSSZ));\n\t\tsize -= MSSZ;\n\t\tidx = __readInt32LE(mini, idx * 4);\n\t}\n\tif(o.length === 0) return (new_buf(0)/*:any*/);\n\treturn (bconcat(o).slice(0, entry.size)/*:any*/);\n}\n\n/** Chase down the rest of the DIFAT chain to build a comprehensive list\n    DIFAT chains by storing the next sector number as the last 32 bits */\nfunction sleuth_fat(idx/*:number*/, cnt/*:number*/, sectors/*:Array<RawBytes>*/, ssz/*:number*/, fat_addrs)/*:void*/ {\n\tvar q/*:number*/ = ENDOFCHAIN;\n\tif(idx === ENDOFCHAIN) {\n\t\tif(cnt !== 0) throw new Error(\"DIFAT chain shorter than expected\");\n\t} else if(idx !== -1 /*FREESECT*/) {\n\t\tvar sector = sectors[idx], m = (ssz>>>2)-1;\n\t\tif(!sector) return;\n\t\tfor(var i = 0; i < m; ++i) {\n\t\t\tif((q = __readInt32LE(sector,i*4)) === ENDOFCHAIN) break;\n\t\t\tfat_addrs.push(q);\n\t\t}\n\t\tsleuth_fat(__readInt32LE(sector,ssz-4),cnt - 1, sectors, ssz, fat_addrs);\n\t}\n}\n\n/** Follow the linked list of sectors for a given starting point */\nfunction get_sector_list(sectors/*:Array<RawBytes>*/, start/*:number*/, fat_addrs/*:Array<number>*/, ssz/*:number*/, chkd/*:?Array<boolean>*/)/*:SectorEntry*/ {\n\tvar buf/*:Array<number>*/ = [], buf_chain/*:Array<any>*/ = [];\n\tif(!chkd) chkd = [];\n\tvar modulus = ssz - 1, j = 0, jj = 0;\n\tfor(j=start; j>=0;) {\n\t\tchkd[j] = true;\n\t\tbuf[buf.length] = j;\n\t\tbuf_chain.push(sectors[j]);\n\t\tvar addr = fat_addrs[Math.floor(j*4/ssz)];\n\t\tjj = ((j*4) & modulus);\n\t\tif(ssz < 4 + jj) throw new Error(\"FAT boundary crossed: \" + j + \" 4 \"+ssz);\n\t\tif(!sectors[addr]) break;\n\t\tj = __readInt32LE(sectors[addr], jj);\n\t}\n\treturn {nodes: buf, data:__toBuffer([buf_chain])};\n}\n\n/** Chase down the sector linked lists */\nfunction make_sector_list(sectors/*:Array<RawBytes>*/, dir_start/*:number*/, fat_addrs/*:Array<number>*/, ssz/*:number*/)/*:SectorList*/ {\n\tvar sl = sectors.length, sector_list/*:SectorList*/ = ([]/*:any*/);\n\tvar chkd/*:Array<boolean>*/ = [], buf/*:Array<number>*/ = [], buf_chain/*:Array<RawBytes>*/ = [];\n\tvar modulus = ssz - 1, i=0, j=0, k=0, jj=0;\n\tfor(i=0; i < sl; ++i) {\n\t\tbuf = ([]/*:Array<number>*/);\n\t\tk = (i + dir_start); if(k >= sl) k-=sl;\n\t\tif(chkd[k]) continue;\n\t\tbuf_chain = [];\n\t\tvar seen = [];\n\t\tfor(j=k; j>=0;) {\n\t\t\tseen[j] = true;\n\t\t\tchkd[j] = true;\n\t\t\tbuf[buf.length] = j;\n\t\t\tbuf_chain.push(sectors[j]);\n\t\t\tvar addr/*:number*/ = fat_addrs[Math.floor(j*4/ssz)];\n\t\t\tjj = ((j*4) & modulus);\n\t\t\tif(ssz < 4 + jj) throw new Error(\"FAT boundary crossed: \" + j + \" 4 \"+ssz);\n\t\t\tif(!sectors[addr]) break;\n\t\t\tj = __readInt32LE(sectors[addr], jj);\n\t\t\tif(seen[j]) break;\n\t\t}\n\t\tsector_list[k] = ({nodes: buf, data:__toBuffer([buf_chain])}/*:SectorEntry*/);\n\t}\n\treturn sector_list;\n}\n\n/* [MS-CFB] 2.6.1 Compound File Directory Entry */\nfunction read_directory(dir_start/*:number*/, sector_list/*:SectorList*/, sectors/*:Array<RawBytes>*/, Paths/*:Array<string>*/, nmfs, files, FileIndex, mini) {\n\tvar minifat_store = 0, pl = (Paths.length?2:0);\n\tvar sector = sector_list[dir_start].data;\n\tvar i = 0, namelen = 0, name;\n\tfor(; i < sector.length; i+= 128) {\n\t\tvar blob/*:CFBlob*/ = /*::(*/sector.slice(i, i+128)/*:: :any)*/;\n\t\tprep_blob(blob, 64);\n\t\tnamelen = blob.read_shift(2);\n\t\tname = __utf16le(blob,0,namelen-pl);\n\t\tPaths.push(name);\n\t\tvar o/*:CFBEntry*/ = ({\n\t\t\tname:  name,\n\t\t\ttype:  blob.read_shift(1),\n\t\t\tcolor: blob.read_shift(1),\n\t\t\tL:     blob.read_shift(4, 'i'),\n\t\t\tR:     blob.read_shift(4, 'i'),\n\t\t\tC:     blob.read_shift(4, 'i'),\n\t\t\tclsid: blob.read_shift(16),\n\t\t\tstate: blob.read_shift(4, 'i'),\n\t\t\tstart: 0,\n\t\t\tsize: 0\n\t\t});\n\t\tvar ctime/*:number*/ = blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2);\n\t\tif(ctime !== 0) o.ct = read_date(blob, blob.l-8);\n\t\tvar mtime/*:number*/ = blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2);\n\t\tif(mtime !== 0) o.mt = read_date(blob, blob.l-8);\n\t\to.start = blob.read_shift(4, 'i');\n\t\to.size = blob.read_shift(4, 'i');\n\t\tif(o.size < 0 && o.start < 0) { o.size = o.type = 0; o.start = ENDOFCHAIN; o.name = \"\"; }\n\t\tif(o.type === 5) { /* root */\n\t\t\tminifat_store = o.start;\n\t\t\tif(nmfs > 0 && minifat_store !== ENDOFCHAIN) sector_list[minifat_store].name = \"!StreamData\";\n\t\t\t/*minifat_size = o.size;*/\n\t\t} else if(o.size >= 4096 /* MSCSZ */) {\n\t\t\to.storage = 'fat';\n\t\t\tif(sector_list[o.start] === undefined) sector_list[o.start] = get_sector_list(sectors, o.start, sector_list.fat_addrs, sector_list.ssz);\n\t\t\tsector_list[o.start].name = o.name;\n\t\t\to.content = (sector_list[o.start].data.slice(0,o.size)/*:any*/);\n\t\t} else {\n\t\t\to.storage = 'minifat';\n\t\t\tif(o.size < 0) o.size = 0;\n\t\t\telse if(minifat_store !== ENDOFCHAIN && o.start !== ENDOFCHAIN && sector_list[minifat_store]) {\n\t\t\t\to.content = get_mfat_entry(o, sector_list[minifat_store].data, (sector_list[mini]||{}).data);\n\t\t\t}\n\t\t}\n\t\tif(o.content) prep_blob(o.content, 0);\n\t\tfiles[name] = o;\n\t\tFileIndex.push(o);\n\t}\n}\n\nfunction read_date(blob/*:RawBytes|CFBlob*/, offset/*:number*/)/*:Date*/ {\n\treturn new Date(( ( (__readUInt32LE(blob,offset+4)/1e7)*Math.pow(2,32)+__readUInt32LE(blob,offset)/1e7 ) - 11644473600)*1000);\n}\n\nfunction read_file(filename/*:string*/, options/*:CFBReadOpts*/) {\n\tget_fs();\n\treturn parse(fs.readFileSync(filename), options);\n}\n\nfunction read(blob/*:RawBytes|string*/, options/*:CFBReadOpts*/) {\n\tvar type = options && options.type;\n\tif(!type) {\n\t\tif(has_buf && Buffer.isBuffer(blob)) type = \"buffer\";\n\t}\n\tswitch(type || \"base64\") {\n\t\tcase \"file\": /*:: if(typeof blob !== 'string') throw \"Must pass a filename when type='file'\"; */return read_file(blob, options);\n\t\tcase \"base64\": /*:: if(typeof blob !== 'string') throw \"Must pass a base64-encoded binary string when type='file'\"; */return parse(s2a(Base64_decode(blob)), options);\n\t\tcase \"binary\": /*:: if(typeof blob !== 'string') throw \"Must pass a binary string when type='file'\"; */return parse(s2a(blob), options);\n\t}\n\treturn parse(/*::typeof blob == 'string' ? new Buffer(blob, 'utf-8') : */blob, options);\n}\n\nfunction init_cfb(cfb/*:CFBContainer*/, opts/*:?any*/)/*:void*/ {\n\tvar o = opts || {}, root = o.root || \"Root Entry\";\n\tif(!cfb.FullPaths) cfb.FullPaths = [];\n\tif(!cfb.FileIndex) cfb.FileIndex = [];\n\tif(cfb.FullPaths.length !== cfb.FileIndex.length) throw new Error(\"inconsistent CFB structure\");\n\tif(cfb.FullPaths.length === 0) {\n\t\tcfb.FullPaths[0] = root + \"/\";\n\t\tcfb.FileIndex[0] = ({ name: root, type: 5 }/*:any*/);\n\t}\n\tif(o.CLSID) cfb.FileIndex[0].clsid = o.CLSID;\n\tseed_cfb(cfb);\n}\nfunction seed_cfb(cfb/*:CFBContainer*/)/*:void*/ {\n\tvar nm = \"\\u0001Sh33tJ5\";\n\tif(CFB.find(cfb, \"/\" + nm)) return;\n\tvar p = new_buf(4); p[0] = 55; p[1] = p[3] = 50; p[2] = 54;\n\tcfb.FileIndex.push(({ name: nm, type: 2, content:p, size:4, L:69, R:69, C:69 }/*:any*/));\n\tcfb.FullPaths.push(cfb.FullPaths[0] + nm);\n\trebuild_cfb(cfb);\n}\nfunction rebuild_cfb(cfb/*:CFBContainer*/, f/*:?boolean*/)/*:void*/ {\n\tinit_cfb(cfb);\n\tvar gc = false, s = false;\n\tfor(var i = cfb.FullPaths.length - 1; i >= 0; --i) {\n\t\tvar _file = cfb.FileIndex[i];\n\t\tswitch(_file.type) {\n\t\t\tcase 0:\n\t\t\t\tif(s) gc = true;\n\t\t\t\telse { cfb.FileIndex.pop(); cfb.FullPaths.pop(); }\n\t\t\t\tbreak;\n\t\t\tcase 1: case 2: case 5:\n\t\t\t\ts = true;\n\t\t\t\tif(isNaN(_file.R * _file.L * _file.C)) gc = true;\n\t\t\t\tif(_file.R > -1 && _file.L > -1 && _file.R == _file.L) gc = true;\n\t\t\t\tbreak;\n\t\t\tdefault: gc = true; break;\n\t\t}\n\t}\n\tif(!gc && !f) return;\n\n\tvar now = new Date(1987, 1, 19), j = 0;\n\t// Track which names exist\n\tvar fullPaths = Object.create ? Object.create(null) : {};\n\tvar data/*:Array<[string, CFBEntry]>*/ = [];\n\tfor(i = 0; i < cfb.FullPaths.length; ++i) {\n\t\tfullPaths[cfb.FullPaths[i]] = true;\n\t\tif(cfb.FileIndex[i].type === 0) continue;\n\t\tdata.push([cfb.FullPaths[i], cfb.FileIndex[i]]);\n\t}\n\tfor(i = 0; i < data.length; ++i) {\n\t\tvar dad = dirname(data[i][0]);\n\t\ts = fullPaths[dad];\n\t\tif(!s) {\n\t\t\tdata.push([dad, ({\n\t\t\t\tname: filename(dad).replace(\"/\",\"\"),\n\t\t\t\ttype: 1,\n\t\t\t\tclsid: HEADER_CLSID,\n\t\t\t\tct: now, mt: now,\n\t\t\t\tcontent: null\n\t\t\t}/*:any*/)]);\n\t\t\t// Add name to set\n\t\t\tfullPaths[dad] = true;\n\t\t}\n\t}\n\n\tdata.sort(function(x,y) { return namecmp(x[0], y[0]); });\n\tcfb.FullPaths = []; cfb.FileIndex = [];\n\tfor(i = 0; i < data.length; ++i) { cfb.FullPaths[i] = data[i][0]; cfb.FileIndex[i] = data[i][1]; }\n\tfor(i = 0; i < data.length; ++i) {\n\t\tvar elt = cfb.FileIndex[i];\n\t\tvar nm = cfb.FullPaths[i];\n\n\t\telt.name =  filename(nm).replace(\"/\",\"\");\n\t\telt.L = elt.R = elt.C = -(elt.color = 1);\n\t\telt.size = elt.content ? elt.content.length : 0;\n\t\telt.start = 0;\n\t\telt.clsid = (elt.clsid || HEADER_CLSID);\n\t\tif(i === 0) {\n\t\t\telt.C = data.length > 1 ? 1 : -1;\n\t\t\telt.size = 0;\n\t\t\telt.type = 5;\n\t\t} else if(nm.slice(-1) == \"/\") {\n\t\t\tfor(j=i+1;j < data.length; ++j) if(dirname(cfb.FullPaths[j])==nm) break;\n\t\t\telt.C = j >= data.length ? -1 : j;\n\t\t\tfor(j=i+1;j < data.length; ++j) if(dirname(cfb.FullPaths[j])==dirname(nm)) break;\n\t\t\telt.R = j >= data.length ? -1 : j;\n\t\t\telt.type = 1;\n\t\t} else {\n\t\t\tif(dirname(cfb.FullPaths[i+1]||\"\") == dirname(nm)) elt.R = i + 1;\n\t\t\telt.type = 2;\n\t\t}\n\t}\n\n}\n\nfunction _write(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:RawBytes|string*/ {\n\tvar _opts = options || {};\n\t/* MAD is order-sensitive, skip rebuild and sort */\n\tif(_opts.fileType == 'mad') return write_mad(cfb, _opts);\n\trebuild_cfb(cfb);\n\tswitch(_opts.fileType) {\n\t\tcase 'zip': return write_zip(cfb, _opts);\n\t\t//case 'mad': return write_mad(cfb, _opts);\n\t}\n\tvar L = (function(cfb/*:CFBContainer*/)/*:Array<number>*/{\n\t\tvar mini_size = 0, fat_size = 0;\n\t\tfor(var i = 0; i < cfb.FileIndex.length; ++i) {\n\t\t\tvar file = cfb.FileIndex[i];\n\t\t\tif(!file.content) continue;\n\t\t\t/*:: if(file.content == null) throw new Error(\"unreachable\"); */\n\t\t\tvar flen = file.content.length;\n\t\t\tif(flen > 0){\n\t\t\t\tif(flen < 0x1000) mini_size += (flen + 0x3F) >> 6;\n\t\t\t\telse fat_size += (flen + 0x01FF) >> 9;\n\t\t\t}\n\t\t}\n\t\tvar dir_cnt = (cfb.FullPaths.length +3) >> 2;\n\t\tvar mini_cnt = (mini_size + 7) >> 3;\n\t\tvar mfat_cnt = (mini_size + 0x7F) >> 7;\n\t\tvar fat_base = mini_cnt + fat_size + dir_cnt + mfat_cnt;\n\t\tvar fat_cnt = (fat_base + 0x7F) >> 7;\n\t\tvar difat_cnt = fat_cnt <= 109 ? 0 : Math.ceil((fat_cnt-109)/0x7F);\n\t\twhile(((fat_base + fat_cnt + difat_cnt + 0x7F) >> 7) > fat_cnt) difat_cnt = ++fat_cnt <= 109 ? 0 : Math.ceil((fat_cnt-109)/0x7F);\n\t\tvar L =  [1, difat_cnt, fat_cnt, mfat_cnt, dir_cnt, fat_size, mini_size, 0];\n\t\tcfb.FileIndex[0].size = mini_size << 6;\n\t\tL[7] = (cfb.FileIndex[0].start=L[0]+L[1]+L[2]+L[3]+L[4]+L[5])+((L[6]+7) >> 3);\n\t\treturn L;\n\t})(cfb);\n\tvar o = new_buf(L[7] << 9);\n\tvar i = 0, T = 0;\n\t{\n\t\tfor(i = 0; i < 8; ++i) o.write_shift(1, HEADER_SIG[i]);\n\t\tfor(i = 0; i < 8; ++i) o.write_shift(2, 0);\n\t\to.write_shift(2, 0x003E);\n\t\to.write_shift(2, 0x0003);\n\t\to.write_shift(2, 0xFFFE);\n\t\to.write_shift(2, 0x0009);\n\t\to.write_shift(2, 0x0006);\n\t\tfor(i = 0; i < 3; ++i) o.write_shift(2, 0);\n\t\to.write_shift(4, 0);\n\t\to.write_shift(4, L[2]);\n\t\to.write_shift(4, L[0] + L[1] + L[2] + L[3] - 1);\n\t\to.write_shift(4, 0);\n\t\to.write_shift(4, 1<<12);\n\t\to.write_shift(4, L[3] ? L[0] + L[1] + L[2] - 1: ENDOFCHAIN);\n\t\to.write_shift(4, L[3]);\n\t\to.write_shift(-4, L[1] ? L[0] - 1: ENDOFCHAIN);\n\t\to.write_shift(4, L[1]);\n\t\tfor(i = 0; i < 109; ++i) o.write_shift(-4, i < L[2] ? L[1] + i : -1);\n\t}\n\tif(L[1]) {\n\t\tfor(T = 0; T < L[1]; ++T) {\n\t\t\tfor(; i < 236 + T * 127; ++i) o.write_shift(-4, i < L[2] ? L[1] + i : -1);\n\t\t\to.write_shift(-4, T === L[1] - 1 ? ENDOFCHAIN : T + 1);\n\t\t}\n\t}\n\tvar chainit = function(w/*:number*/)/*:void*/ {\n\t\tfor(T += w; i<T-1; ++i) o.write_shift(-4, i+1);\n\t\tif(w) { ++i; o.write_shift(-4, ENDOFCHAIN); }\n\t};\n\tT = i = 0;\n\tfor(T+=L[1]; i<T; ++i) o.write_shift(-4, consts.DIFSECT);\n\tfor(T+=L[2]; i<T; ++i) o.write_shift(-4, consts.FATSECT);\n\tchainit(L[3]);\n\tchainit(L[4]);\n\tvar j/*:number*/ = 0, flen/*:number*/ = 0;\n\tvar file/*:CFBEntry*/ = cfb.FileIndex[0];\n\tfor(; j < cfb.FileIndex.length; ++j) {\n\t\tfile = cfb.FileIndex[j];\n\t\tif(!file.content) continue;\n\t\t/*:: if(file.content == null) throw new Error(\"unreachable\"); */\n\t\tflen = file.content.length;\n\t\tif(flen < 0x1000) continue;\n\t\tfile.start = T;\n\t\tchainit((flen + 0x01FF) >> 9);\n\t}\n\tchainit((L[6] + 7) >> 3);\n\twhile(o.l & 0x1FF) o.write_shift(-4, consts.ENDOFCHAIN);\n\tT = i = 0;\n\tfor(j = 0; j < cfb.FileIndex.length; ++j) {\n\t\tfile = cfb.FileIndex[j];\n\t\tif(!file.content) continue;\n\t\t/*:: if(file.content == null) throw new Error(\"unreachable\"); */\n\t\tflen = file.content.length;\n\t\tif(!flen || flen >= 0x1000) continue;\n\t\tfile.start = T;\n\t\tchainit((flen + 0x3F) >> 6);\n\t}\n\twhile(o.l & 0x1FF) o.write_shift(-4, consts.ENDOFCHAIN);\n\tfor(i = 0; i < L[4]<<2; ++i) {\n\t\tvar nm = cfb.FullPaths[i];\n\t\tif(!nm || nm.length === 0) {\n\t\t\tfor(j = 0; j < 17; ++j) o.write_shift(4, 0);\n\t\t\tfor(j = 0; j < 3; ++j) o.write_shift(4, -1);\n\t\t\tfor(j = 0; j < 12; ++j) o.write_shift(4, 0);\n\t\t\tcontinue;\n\t\t}\n\t\tfile = cfb.FileIndex[i];\n\t\tif(i === 0) file.start = file.size ? file.start - 1 : ENDOFCHAIN;\n\t\tvar _nm/*:string*/ = (i === 0 && _opts.root) || file.name;\n\t\tflen = 2*(_nm.length+1);\n\t\to.write_shift(64, _nm, \"utf16le\");\n\t\to.write_shift(2, flen);\n\t\to.write_shift(1, file.type);\n\t\to.write_shift(1, file.color);\n\t\to.write_shift(-4, file.L);\n\t\to.write_shift(-4, file.R);\n\t\to.write_shift(-4, file.C);\n\t\tif(!file.clsid) for(j = 0; j < 4; ++j) o.write_shift(4, 0);\n\t\telse o.write_shift(16, file.clsid, \"hex\");\n\t\to.write_shift(4, file.state || 0);\n\t\to.write_shift(4, 0); o.write_shift(4, 0);\n\t\to.write_shift(4, 0); o.write_shift(4, 0);\n\t\to.write_shift(4, file.start);\n\t\to.write_shift(4, file.size); o.write_shift(4, 0);\n\t}\n\tfor(i = 1; i < cfb.FileIndex.length; ++i) {\n\t\tfile = cfb.FileIndex[i];\n\t\t/*:: if(!file.content) throw new Error(\"unreachable\"); */\n\t\tif(file.size >= 0x1000) {\n\t\t\to.l = (file.start+1) << 9;\n\t\t\tif (has_buf && Buffer.isBuffer(file.content)) {\n\t\t\t\tfile.content.copy(o, o.l, 0, file.size);\n\t\t\t\t// o is a 0-filled Buffer so just set next offset\n\t\t\t\to.l += (file.size + 511) & -512;\n\t\t\t} else {\n\t\t\t\tfor(j = 0; j < file.size; ++j) o.write_shift(1, file.content[j]);\n\t\t\t\tfor(; j & 0x1FF; ++j) o.write_shift(1, 0);\n\t\t\t}\n\t\t}\n\t}\n\tfor(i = 1; i < cfb.FileIndex.length; ++i) {\n\t\tfile = cfb.FileIndex[i];\n\t\t/*:: if(!file.content) throw new Error(\"unreachable\"); */\n\t\tif(file.size > 0 && file.size < 0x1000) {\n\t\t\tif (has_buf && Buffer.isBuffer(file.content)) {\n\t\t\t\tfile.content.copy(o, o.l, 0, file.size);\n\t\t\t\t// o is a 0-filled Buffer so just set next offset\n\t\t\t\to.l += (file.size + 63) & -64;\n\t\t\t} else {\n\t\t\t\tfor(j = 0; j < file.size; ++j) o.write_shift(1, file.content[j]);\n\t\t\t\tfor(; j & 0x3F; ++j) o.write_shift(1, 0);\n\t\t\t}\n\t\t}\n\t}\n\tif (has_buf) {\n\t\to.l = o.length;\n\t} else {\n\t\t// When using Buffer, already 0-filled\n\t\twhile(o.l < o.length) o.write_shift(1, 0);\n\t}\n\treturn o;\n}\n/* [MS-CFB] 2.6.4 (Unicode 3.0.1 case conversion) */\nfunction find(cfb/*:CFBContainer*/, path/*:string*/)/*:?CFBEntry*/ {\n\tvar UCFullPaths/*:Array<string>*/ = cfb.FullPaths.map(function(x) { return x.toUpperCase(); });\n\tvar UCPaths/*:Array<string>*/ = UCFullPaths.map(function(x) { var y = x.split(\"/\"); return y[y.length - (x.slice(-1) == \"/\" ? 2 : 1)]; });\n\tvar k/*:boolean*/ = false;\n\tif(path.charCodeAt(0) === 47 /* \"/\" */) { k = true; path = UCFullPaths[0].slice(0, -1) + path; }\n\telse k = path.indexOf(\"/\") !== -1;\n\tvar UCPath/*:string*/ = path.toUpperCase();\n\tvar w/*:number*/ = k === true ? UCFullPaths.indexOf(UCPath) : UCPaths.indexOf(UCPath);\n\tif(w !== -1) return cfb.FileIndex[w];\n\n\tvar m = !UCPath.match(chr1);\n\tUCPath = UCPath.replace(chr0,'');\n\tif(m) UCPath = UCPath.replace(chr1,'!');\n\tfor(w = 0; w < UCFullPaths.length; ++w) {\n\t\tif((m ? UCFullPaths[w].replace(chr1,'!') : UCFullPaths[w]).replace(chr0,'') == UCPath) return cfb.FileIndex[w];\n\t\tif((m ? UCPaths[w].replace(chr1,'!') : UCPaths[w]).replace(chr0,'') == UCPath) return cfb.FileIndex[w];\n\t}\n\treturn null;\n}\n/** CFB Constants */\nvar MSSZ = 64; /* Mini Sector Size = 1<<6 */\n//var MSCSZ = 4096; /* Mini Stream Cutoff Size */\n/* 2.1 Compound File Sector Numbers and Types */\nvar ENDOFCHAIN = -2;\n/* 2.2 Compound File Header */\nvar HEADER_SIGNATURE = 'd0cf11e0a1b11ae1';\nvar HEADER_SIG = [0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1];\nvar HEADER_CLSID = '00000000000000000000000000000000';\nvar consts = {\n\t/* 2.1 Compund File Sector Numbers and Types */\n\tMAXREGSECT: -6,\n\tDIFSECT: -4,\n\tFATSECT: -3,\n\tENDOFCHAIN: ENDOFCHAIN,\n\tFREESECT: -1,\n\t/* 2.2 Compound File Header */\n\tHEADER_SIGNATURE: HEADER_SIGNATURE,\n\tHEADER_MINOR_VERSION: '3e00',\n\tMAXREGSID: -6,\n\tNOSTREAM: -1,\n\tHEADER_CLSID: HEADER_CLSID,\n\t/* 2.6.1 Compound File Directory Entry */\n\tEntryTypes: ['unknown','storage','stream','lockbytes','property','root']\n};\n\nfunction write_file(cfb/*:CFBContainer*/, filename/*:string*/, options/*:CFBWriteOpts*/)/*:void*/ {\n\tget_fs();\n\tvar o = _write(cfb, options);\n\t/*:: if(typeof Buffer == 'undefined' || !Buffer.isBuffer(o) || !(o instanceof Buffer)) throw new Error(\"unreachable\"); */\n\tfs.writeFileSync(filename, o);\n}\n\nfunction a2s(o/*:RawBytes*/)/*:string*/ {\n\tvar out = new Array(o.length);\n\tfor(var i = 0; i < o.length; ++i) out[i] = String.fromCharCode(o[i]);\n\treturn out.join(\"\");\n}\n\nfunction write(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:RawBytes|string*/ {\n\tvar o = _write(cfb, options);\n\tswitch(options && options.type || \"buffer\") {\n\t\tcase \"file\": get_fs(); fs.writeFileSync(options.filename, (o/*:any*/)); return o;\n\t\tcase \"binary\": return typeof o == \"string\" ? o : a2s(o);\n\t\tcase \"base64\": return Base64_encode(typeof o == \"string\" ? o : a2s(o));\n\t\tcase \"buffer\": if(has_buf) return Buffer.isBuffer(o) ? o : Buffer_from(o);\n\t\t\t/* falls through */\n\t\tcase \"array\": return typeof o == \"string\" ? s2a(o) : o;\n\t}\n\treturn o;\n}\n/* node < 8.1 zlib does not expose bytesRead, so default to pure JS */\nvar _zlib;\nfunction use_zlib(zlib) { try {\n\tvar InflateRaw = zlib.InflateRaw;\n\tvar InflRaw = new InflateRaw();\n\tInflRaw._processChunk(new Uint8Array([3, 0]), InflRaw._finishFlushFlag);\n\tif(InflRaw.bytesRead) _zlib = zlib;\n\telse throw new Error(\"zlib does not expose bytesRead\");\n} catch(e) {console.error(\"cannot use native zlib: \" + (e.message || e)); } }\n\nfunction _inflateRawSync(payload, usz) {\n\tif(!_zlib) return _inflate(payload, usz);\n\tvar InflateRaw = _zlib.InflateRaw;\n\tvar InflRaw = new InflateRaw();\n\tvar out = InflRaw._processChunk(payload.slice(payload.l), InflRaw._finishFlushFlag);\n\tpayload.l += InflRaw.bytesRead;\n\treturn out;\n}\n\nfunction _deflateRawSync(payload) {\n\treturn _zlib ? _zlib.deflateRawSync(payload) : _deflate(payload);\n}\nvar CLEN_ORDER = [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ];\n\n/*  LEN_ID = [ 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285 ]; */\nvar LEN_LN = [   3,   4,   5,   6,   7,   8,   9,  10,  11,  13 , 15,  17,  19,  23,  27,  31,  35,  43,  51,  59,  67,  83,  99, 115, 131, 163, 195, 227, 258 ];\n\n/*  DST_ID = [  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13,  14,  15,  16,  17,  18,  19,   20,   21,   22,   23,   24,   25,   26,    27,    28,    29 ]; */\nvar DST_LN = [  1,  2,  3,  4,  5,  7,  9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577 ];\n\nfunction bit_swap_8(n) { var t = (((((n<<1)|(n<<11)) & 0x22110) | (((n<<5)|(n<<15)) & 0x88440))); return ((t>>16) | (t>>8) |t)&0xFF; }\n\nvar use_typed_arrays = typeof Uint8Array !== 'undefined';\n\nvar bitswap8 = use_typed_arrays ? new Uint8Array(1<<8) : [];\nfor(var q = 0; q < (1<<8); ++q) bitswap8[q] = bit_swap_8(q);\n\nfunction bit_swap_n(n, b) {\n\tvar rev = bitswap8[n & 0xFF];\n\tif(b <= 8) return rev >>> (8-b);\n\trev = (rev << 8) | bitswap8[(n>>8)&0xFF];\n\tif(b <= 16) return rev >>> (16-b);\n\trev = (rev << 8) | bitswap8[(n>>16)&0xFF];\n\treturn rev >>> (24-b);\n}\n\n/* helpers for unaligned bit reads */\nfunction read_bits_2(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 6 ? 0 : buf[h+1]<<8))>>>w)& 0x03; }\nfunction read_bits_3(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 5 ? 0 : buf[h+1]<<8))>>>w)& 0x07; }\nfunction read_bits_4(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 4 ? 0 : buf[h+1]<<8))>>>w)& 0x0F; }\nfunction read_bits_5(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 3 ? 0 : buf[h+1]<<8))>>>w)& 0x1F; }\nfunction read_bits_7(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 1 ? 0 : buf[h+1]<<8))>>>w)& 0x7F; }\n\n/* works up to n = 3 * 8 + 1 = 25 */\nfunction read_bits_n(buf, bl, n) {\n\tvar w = (bl&7), h = (bl>>>3), f = ((1<<n)-1);\n\tvar v = buf[h] >>> w;\n\tif(n < 8 - w) return v & f;\n\tv |= buf[h+1]<<(8-w);\n\tif(n < 16 - w) return v & f;\n\tv |= buf[h+2]<<(16-w);\n\tif(n < 24 - w) return v & f;\n\tv |= buf[h+3]<<(24-w);\n\treturn v & f;\n}\n\n/* helpers for unaligned bit writes */\nfunction write_bits_3(buf, bl, v) { var w = bl & 7, h = bl >>> 3;\n\tif(w <= 5) buf[h] |= (v & 7) << w;\n\telse {\n\t\tbuf[h] |= (v << w) & 0xFF;\n\t\tbuf[h+1] = (v&7) >> (8-w);\n\t}\n\treturn bl + 3;\n}\n\nfunction write_bits_1(buf, bl, v) {\n\tvar w = bl & 7, h = bl >>> 3;\n\tv = (v&1) << w;\n\tbuf[h] |= v;\n\treturn bl + 1;\n}\nfunction write_bits_8(buf, bl, v) {\n\tvar w = bl & 7, h = bl >>> 3;\n\tv <<= w;\n\tbuf[h] |=  v & 0xFF; v >>>= 8;\n\tbuf[h+1] = v;\n\treturn bl + 8;\n}\nfunction write_bits_16(buf, bl, v) {\n\tvar w = bl & 7, h = bl >>> 3;\n\tv <<= w;\n\tbuf[h] |=  v & 0xFF; v >>>= 8;\n\tbuf[h+1] = v & 0xFF;\n\tbuf[h+2] = v >>> 8;\n\treturn bl + 16;\n}\n\n/* until ArrayBuffer#realloc is a thing, fake a realloc */\nfunction realloc(b, sz/*:number*/) {\n\tvar L = b.length, M = 2*L > sz ? 2*L : sz + 5, i = 0;\n\tif(L >= sz) return b;\n\tif(has_buf) {\n\t\tvar o = new_unsafe_buf(M);\n\t\t// $FlowIgnore\n\t\tif(b.copy) b.copy(o);\n\t\telse for(; i < b.length; ++i) o[i] = b[i];\n\t\treturn o;\n\t} else if(use_typed_arrays) {\n\t\tvar a = new Uint8Array(M);\n\t\tif(a.set) a.set(b);\n\t\telse for(; i < L; ++i) a[i] = b[i];\n\t\treturn a;\n\t}\n\tb.length = M;\n\treturn b;\n}\n\n/* zero-filled arrays for older browsers */\nfunction zero_fill_array(n) {\n\tvar o = new Array(n);\n\tfor(var i = 0; i < n; ++i) o[i] = 0;\n\treturn o;\n}\n\n/* build tree (used for literals and lengths) */\nfunction build_tree(clens, cmap, MAX/*:number*/)/*:number*/ {\n\tvar maxlen = 1, w = 0, i = 0, j = 0, ccode = 0, L = clens.length;\n\n\tvar bl_count  = use_typed_arrays ? new Uint16Array(32) : zero_fill_array(32);\n\tfor(i = 0; i < 32; ++i) bl_count[i] = 0;\n\n\tfor(i = L; i < MAX; ++i) clens[i] = 0;\n\tL = clens.length;\n\n\tvar ctree = use_typed_arrays ? new Uint16Array(L) : zero_fill_array(L); // []\n\n\t/* build code tree */\n\tfor(i = 0; i < L; ++i) {\n\t\tbl_count[(w = clens[i])]++;\n\t\tif(maxlen < w) maxlen = w;\n\t\tctree[i] = 0;\n\t}\n\tbl_count[0] = 0;\n\tfor(i = 1; i <= maxlen; ++i) bl_count[i+16] = (ccode = (ccode + bl_count[i-1])<<1);\n\tfor(i = 0; i < L; ++i) {\n\t\tccode = clens[i];\n\t\tif(ccode != 0) ctree[i] = bl_count[ccode+16]++;\n\t}\n\n\t/* cmap[maxlen + 4 bits] = (off&15) + (lit<<4) reverse mapping */\n\tvar cleni = 0;\n\tfor(i = 0; i < L; ++i) {\n\t\tcleni = clens[i];\n\t\tif(cleni != 0) {\n\t\t\tccode = bit_swap_n(ctree[i], maxlen)>>(maxlen-cleni);\n\t\t\tfor(j = (1<<(maxlen + 4 - cleni)) - 1; j>=0; --j)\n\t\t\t\tcmap[ccode|(j<<cleni)] = (cleni&15) | (i<<4);\n\t\t}\n\t}\n\treturn maxlen;\n}\n\n/* Fixed Huffman */\nvar fix_lmap = use_typed_arrays ? new Uint16Array(512) : zero_fill_array(512);\nvar fix_dmap = use_typed_arrays ? new Uint16Array(32)  : zero_fill_array(32);\nif(!use_typed_arrays) {\n\tfor(var i = 0; i < 512; ++i) fix_lmap[i] = 0;\n\tfor(i = 0; i < 32; ++i) fix_dmap[i] = 0;\n}\n(function() {\n\tvar dlens/*:Array<number>*/ = [];\n\tvar i = 0;\n\tfor(;i<32; i++) dlens.push(5);\n\tbuild_tree(dlens, fix_dmap, 32);\n\n\tvar clens/*:Array<number>*/ = [];\n\ti = 0;\n\tfor(; i<=143; i++) clens.push(8);\n\tfor(; i<=255; i++) clens.push(9);\n\tfor(; i<=279; i++) clens.push(7);\n\tfor(; i<=287; i++) clens.push(8);\n\tbuild_tree(clens, fix_lmap, 288);\n})();var _deflateRaw = /*#__PURE__*/(function _deflateRawIIFE() {\n\tvar DST_LN_RE = use_typed_arrays ? new Uint8Array(0x8000) : [];\n\tvar j = 0, k = 0;\n\tfor(; j < DST_LN.length - 1; ++j) {\n\t\tfor(; k < DST_LN[j+1]; ++k) DST_LN_RE[k] = j;\n\t}\n\tfor(;k < 32768; ++k) DST_LN_RE[k] = 29;\n\n\tvar LEN_LN_RE = use_typed_arrays ? new Uint8Array(0x103) : [];\n\tfor(j = 0, k = 0; j < LEN_LN.length - 1; ++j) {\n\t\tfor(; k < LEN_LN[j+1]; ++k) LEN_LN_RE[k] = j;\n\t}\n\n\tfunction write_stored(data, out) {\n\t\tvar boff = 0;\n\t\twhile(boff < data.length) {\n\t\t\tvar L = Math.min(0xFFFF, data.length - boff);\n\t\t\tvar h = boff + L == data.length;\n\t\t\tout.write_shift(1, +h);\n\t\t\tout.write_shift(2, L);\n\t\t\tout.write_shift(2, (~L) & 0xFFFF);\n\t\t\twhile(L-- > 0) out[out.l++] = data[boff++];\n\t\t}\n\t\treturn out.l;\n\t}\n\n\t/* Fixed Huffman */\n\tfunction write_huff_fixed(data, out) {\n\t\tvar bl = 0;\n\t\tvar boff = 0;\n\t\tvar addrs = use_typed_arrays ? new Uint16Array(0x8000) : [];\n\t\twhile(boff < data.length) {\n\t\t\tvar L = /* data.length - boff; */ Math.min(0xFFFF, data.length - boff);\n\n\t\t\t/* write a stored block for short data */\n\t\t\tif(L < 10) {\n\t\t\t\tbl = write_bits_3(out, bl, +!!(boff + L == data.length)); // jshint ignore:line\n\t\t\t\tif(bl & 7) bl += 8 - (bl & 7);\n\t\t\t\tout.l = (bl / 8) | 0;\n\t\t\t\tout.write_shift(2, L);\n\t\t\t\tout.write_shift(2, (~L) & 0xFFFF);\n\t\t\t\twhile(L-- > 0) out[out.l++] = data[boff++];\n\t\t\t\tbl = out.l * 8;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tbl = write_bits_3(out, bl, +!!(boff + L == data.length) + 2); // jshint ignore:line\n\t\t\tvar hash = 0;\n\t\t\twhile(L-- > 0) {\n\t\t\t\tvar d = data[boff];\n\t\t\t\thash = ((hash << 5) ^ d) & 0x7FFF;\n\n\t\t\t\tvar match = -1, mlen = 0;\n\n\t\t\t\tif((match = addrs[hash])) {\n\t\t\t\t\tmatch |= boff & ~0x7FFF;\n\t\t\t\t\tif(match > boff) match -= 0x8000;\n\t\t\t\t\tif(match < boff) while(data[match + mlen] == data[boff + mlen] && mlen < 250) ++mlen;\n\t\t\t\t}\n\n\t\t\t\tif(mlen > 2) {\n\t\t\t\t\t/* Copy Token  */\n\t\t\t\t\td = LEN_LN_RE[mlen];\n\t\t\t\t\tif(d <= 22) bl = write_bits_8(out, bl, bitswap8[d+1]>>1) - 1;\n\t\t\t\t\telse {\n\t\t\t\t\t\twrite_bits_8(out, bl, 3);\n\t\t\t\t\t\tbl += 5;\n\t\t\t\t\t\twrite_bits_8(out, bl, bitswap8[d-23]>>5);\n\t\t\t\t\t\tbl += 3;\n\t\t\t\t\t}\n\t\t\t\t\tvar len_eb = (d < 8) ? 0 : ((d - 4)>>2);\n\t\t\t\t\tif(len_eb > 0) {\n\t\t\t\t\t\twrite_bits_16(out, bl, mlen - LEN_LN[d]);\n\t\t\t\t\t\tbl += len_eb;\n\t\t\t\t\t}\n\n\t\t\t\t\td = DST_LN_RE[boff - match];\n\t\t\t\t\tbl = write_bits_8(out, bl, bitswap8[d]>>3);\n\t\t\t\t\tbl -= 3;\n\n\t\t\t\t\tvar dst_eb = d < 4 ? 0 : (d-2)>>1;\n\t\t\t\t\tif(dst_eb > 0) {\n\t\t\t\t\t\twrite_bits_16(out, bl, boff - match - DST_LN[d]);\n\t\t\t\t\t\tbl += dst_eb;\n\t\t\t\t\t}\n\t\t\t\t\tfor(var q = 0; q < mlen; ++q) {\n\t\t\t\t\t\taddrs[hash] = boff & 0x7FFF;\n\t\t\t\t\t\thash = ((hash << 5) ^ data[boff]) & 0x7FFF;\n\t\t\t\t\t\t++boff;\n\t\t\t\t\t}\n\t\t\t\t\tL-= mlen - 1;\n\t\t\t\t} else {\n\t\t\t\t\t/* Literal Token */\n\t\t\t\t\tif(d <= 143) d = d + 48;\n\t\t\t\t\telse bl = write_bits_1(out, bl, 1);\n\t\t\t\t\tbl = write_bits_8(out, bl, bitswap8[d]);\n\t\t\t\t\taddrs[hash] = boff & 0x7FFF;\n\t\t\t\t\t++boff;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbl = write_bits_8(out, bl, 0) - 1;\n\t\t}\n\t\tout.l = ((bl + 7)/8)|0;\n\t\treturn out.l;\n\t}\n\treturn function _deflateRaw(data, out) {\n\t\tif(data.length < 8) return write_stored(data, out);\n\t\treturn write_huff_fixed(data, out);\n\t};\n})();\n\nfunction _deflate(data) {\n\tvar buf = new_buf(50+Math.floor(data.length*1.1));\n\tvar off = _deflateRaw(data, buf);\n\treturn buf.slice(0, off);\n}\n/* modified inflate function also moves original read head */\n\nvar dyn_lmap = use_typed_arrays ? new Uint16Array(32768) : zero_fill_array(32768);\nvar dyn_dmap = use_typed_arrays ? new Uint16Array(32768) : zero_fill_array(32768);\nvar dyn_cmap = use_typed_arrays ? new Uint16Array(128)   : zero_fill_array(128);\nvar dyn_len_1 = 1, dyn_len_2 = 1;\n\n/* 5.5.3 Expanding Huffman Codes */\nfunction dyn(data, boff/*:number*/) {\n\t/* nomenclature from RFC1951 refers to bit values; these are offset by the implicit constant */\n\tvar _HLIT = read_bits_5(data, boff) + 257; boff += 5;\n\tvar _HDIST = read_bits_5(data, boff) + 1; boff += 5;\n\tvar _HCLEN = read_bits_4(data, boff) + 4; boff += 4;\n\tvar w = 0;\n\n\t/* grab and store code lengths */\n\tvar clens = use_typed_arrays ? new Uint8Array(19) : zero_fill_array(19);\n\tvar ctree = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n\tvar maxlen = 1;\n\tvar bl_count =  use_typed_arrays ? new Uint8Array(8) : zero_fill_array(8);\n\tvar next_code = use_typed_arrays ? new Uint8Array(8) : zero_fill_array(8);\n\tvar L = clens.length; /* 19 */\n\tfor(var i = 0; i < _HCLEN; ++i) {\n\t\tclens[CLEN_ORDER[i]] = w = read_bits_3(data, boff);\n\t\tif(maxlen < w) maxlen = w;\n\t\tbl_count[w]++;\n\t\tboff += 3;\n\t}\n\n\t/* build code tree */\n\tvar ccode = 0;\n\tbl_count[0] = 0;\n\tfor(i = 1; i <= maxlen; ++i) next_code[i] = ccode = (ccode + bl_count[i-1])<<1;\n\tfor(i = 0; i < L; ++i) if((ccode = clens[i]) != 0) ctree[i] = next_code[ccode]++;\n\t/* cmap[7 bits from stream] = (off&7) + (lit<<3) */\n\tvar cleni = 0;\n\tfor(i = 0; i < L; ++i) {\n\t\tcleni = clens[i];\n\t\tif(cleni != 0) {\n\t\t\tccode = bitswap8[ctree[i]]>>(8-cleni);\n\t\t\tfor(var j = (1<<(7-cleni))-1; j>=0; --j) dyn_cmap[ccode|(j<<cleni)] = (cleni&7) | (i<<3);\n\t\t}\n\t}\n\n\t/* read literal and dist codes at once */\n\tvar hcodes/*:Array<number>*/ = [];\n\tmaxlen = 1;\n\tfor(; hcodes.length < _HLIT + _HDIST;) {\n\t\tccode = dyn_cmap[read_bits_7(data, boff)];\n\t\tboff += ccode & 7;\n\t\tswitch((ccode >>>= 3)) {\n\t\t\tcase 16:\n\t\t\t\tw = 3 + read_bits_2(data, boff); boff += 2;\n\t\t\t\tccode = hcodes[hcodes.length - 1];\n\t\t\t\twhile(w-- > 0) hcodes.push(ccode);\n\t\t\t\tbreak;\n\t\t\tcase 17:\n\t\t\t\tw = 3 + read_bits_3(data, boff); boff += 3;\n\t\t\t\twhile(w-- > 0) hcodes.push(0);\n\t\t\t\tbreak;\n\t\t\tcase 18:\n\t\t\t\tw = 11 + read_bits_7(data, boff); boff += 7;\n\t\t\t\twhile(w -- > 0) hcodes.push(0);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\thcodes.push(ccode);\n\t\t\t\tif(maxlen < ccode) maxlen = ccode;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/* build literal / length trees */\n\tvar h1 = hcodes.slice(0, _HLIT), h2 = hcodes.slice(_HLIT);\n\tfor(i = _HLIT; i < 286; ++i) h1[i] = 0;\n\tfor(i = _HDIST; i < 30; ++i) h2[i] = 0;\n\tdyn_len_1 = build_tree(h1, dyn_lmap, 286);\n\tdyn_len_2 = build_tree(h2, dyn_dmap, 30);\n\treturn boff;\n}\n\n/* return [ data, bytesRead ] */\nfunction inflate(data, usz/*:number*/) {\n\t/* shortcircuit for empty buffer [0x03, 0x00] */\n\tif(data[0] == 3 && !(data[1] & 0x3)) { return [new_raw_buf(usz), 2]; }\n\n\t/* bit offset */\n\tvar boff = 0;\n\n\t/* header includes final bit and type bits */\n\tvar header = 0;\n\n\tvar outbuf = new_unsafe_buf(usz ? usz : (1<<18));\n\tvar woff = 0;\n\tvar OL = outbuf.length>>>0;\n\tvar max_len_1 = 0, max_len_2 = 0;\n\n\twhile((header&1) == 0) {\n\t\theader = read_bits_3(data, boff); boff += 3;\n\t\tif((header >>> 1) == 0) {\n\t\t\t/* Stored block */\n\t\t\tif(boff & 7) boff += 8 - (boff&7);\n\t\t\t/* 2 bytes sz, 2 bytes bit inverse */\n\t\t\tvar sz = data[boff>>>3] | data[(boff>>>3)+1]<<8;\n\t\t\tboff += 32;\n\t\t\t/* push sz bytes */\n\t\t\tif(sz > 0) {\n\t\t\t\tif(!usz && OL < woff + sz) { outbuf = realloc(outbuf, woff + sz); OL = outbuf.length; }\n\t\t\t\twhile(sz-- > 0) { outbuf[woff++] = data[boff>>>3]; boff += 8; }\n\t\t\t}\n\t\t\tcontinue;\n\t\t} else if((header >> 1) == 1) {\n\t\t\t/* Fixed Huffman */\n\t\t\tmax_len_1 = 9; max_len_2 = 5;\n\t\t} else {\n\t\t\t/* Dynamic Huffman */\n\t\t\tboff = dyn(data, boff);\n\t\t\tmax_len_1 = dyn_len_1; max_len_2 = dyn_len_2;\n\t\t}\n\t\tfor(;;) { // while(true) is apparently out of vogue in modern JS circles\n\t\t\tif(!usz && (OL < woff + 32767)) { outbuf = realloc(outbuf, woff + 32767); OL = outbuf.length; }\n\t\t\t/* ingest code and move read head */\n\t\t\tvar bits = read_bits_n(data, boff, max_len_1);\n\t\t\tvar code = (header>>>1) == 1 ? fix_lmap[bits] : dyn_lmap[bits];\n\t\t\tboff += code & 15; code >>>= 4;\n\t\t\t/* 0-255 are literals, 256 is end of block token, 257+ are copy tokens */\n\t\t\tif(((code>>>8)&0xFF) === 0) outbuf[woff++] = code;\n\t\t\telse if(code == 256) break;\n\t\t\telse {\n\t\t\t\tcode -= 257;\n\t\t\t\tvar len_eb = (code < 8) ? 0 : ((code-4)>>2); if(len_eb > 5) len_eb = 0;\n\t\t\t\tvar tgt = woff + LEN_LN[code];\n\t\t\t\t/* length extra bits */\n\t\t\t\tif(len_eb > 0) {\n\t\t\t\t\ttgt += read_bits_n(data, boff, len_eb);\n\t\t\t\t\tboff += len_eb;\n\t\t\t\t}\n\n\t\t\t\t/* dist code */\n\t\t\t\tbits = read_bits_n(data, boff, max_len_2);\n\t\t\t\tcode = (header>>>1) == 1 ? fix_dmap[bits] : dyn_dmap[bits];\n\t\t\t\tboff += code & 15; code >>>= 4;\n\t\t\t\tvar dst_eb = (code < 4 ? 0 : (code-2)>>1);\n\t\t\t\tvar dst = DST_LN[code];\n\t\t\t\t/* dist extra bits */\n\t\t\t\tif(dst_eb > 0) {\n\t\t\t\t\tdst += read_bits_n(data, boff, dst_eb);\n\t\t\t\t\tboff += dst_eb;\n\t\t\t\t}\n\n\t\t\t\t/* in the common case, manual byte copy is faster than TA set / Buffer copy */\n\t\t\t\tif(!usz && OL < tgt) { outbuf = realloc(outbuf, tgt + 100); OL = outbuf.length; }\n\t\t\t\twhile(woff < tgt) { outbuf[woff] = outbuf[woff - dst]; ++woff; }\n\t\t\t}\n\t\t}\n\t}\n\tif(usz) return [outbuf, (boff+7)>>>3];\n\treturn [outbuf.slice(0, woff), (boff+7)>>>3];\n}\n\nfunction _inflate(payload, usz) {\n\tvar data = payload.slice(payload.l||0);\n\tvar out = inflate(data, usz);\n\tpayload.l += out[1];\n\treturn out[0];\n}\n\nfunction warn_or_throw(wrn, msg) {\n\tif(wrn) { if(typeof console !== 'undefined') console.error(msg); }\n\telse throw new Error(msg);\n}\n\nfunction parse_zip(file/*:RawBytes*/, options/*:CFBReadOpts*/)/*:CFBContainer*/ {\n\tvar blob/*:CFBlob*/ = /*::(*/file/*:: :any)*/;\n\tprep_blob(blob, 0);\n\n\tvar FileIndex/*:CFBFileIndex*/ = [], FullPaths/*:Array<string>*/ = [];\n\tvar o = {\n\t\tFileIndex: FileIndex,\n\t\tFullPaths: FullPaths\n\t};\n\tinit_cfb(o, { root: options.root });\n\n\t/* find end of central directory, start just after signature */\n\tvar i = blob.length - 4;\n\twhile((blob[i] != 0x50 || blob[i+1] != 0x4b || blob[i+2] != 0x05 || blob[i+3] != 0x06) && i >= 0) --i;\n\tblob.l = i + 4;\n\n\t/* parse end of central directory */\n\tblob.l += 4;\n\tvar fcnt = blob.read_shift(2);\n\tblob.l += 6;\n\tvar start_cd = blob.read_shift(4);\n\n\t/* parse central directory */\n\tblob.l = start_cd;\n\n\tfor(i = 0; i < fcnt; ++i) {\n\t\t/* trust local file header instead of CD entry */\n\t\tblob.l += 20;\n\t\tvar csz = blob.read_shift(4);\n\t\tvar usz = blob.read_shift(4);\n\t\tvar namelen = blob.read_shift(2);\n\t\tvar efsz = blob.read_shift(2);\n\t\tvar fcsz = blob.read_shift(2);\n\t\tblob.l += 8;\n\t\tvar offset = blob.read_shift(4);\n\t\tvar EF = parse_extra_field(/*::(*/blob.slice(blob.l+namelen, blob.l+namelen+efsz)/*:: :any)*/);\n\t\tblob.l += namelen + efsz + fcsz;\n\n\t\tvar L = blob.l;\n\t\tblob.l = offset + 4;\n\t\tparse_local_file(blob, csz, usz, o, EF);\n\t\tblob.l = L;\n\t}\n\treturn o;\n}\n\n\n/* head starts just after local file header signature */\nfunction parse_local_file(blob/*:CFBlob*/, csz/*:number*/, usz/*:number*/, o/*:CFBContainer*/, EF) {\n\t/* [local file header] */\n\tblob.l += 2;\n\tvar flags = blob.read_shift(2);\n\tvar meth = blob.read_shift(2);\n\tvar date = parse_dos_date(blob);\n\n\tif(flags & 0x2041) throw new Error(\"Unsupported ZIP encryption\");\n\tvar crc32 = blob.read_shift(4);\n\tvar _csz = blob.read_shift(4);\n\tvar _usz = blob.read_shift(4);\n\n\tvar namelen = blob.read_shift(2);\n\tvar efsz = blob.read_shift(2);\n\n\t// TODO: flags & (1<<11) // UTF8\n\tvar name = \"\"; for(var i = 0; i < namelen; ++i) name += String.fromCharCode(blob[blob.l++]);\n\tif(efsz) {\n\t\tvar ef = parse_extra_field(/*::(*/blob.slice(blob.l, blob.l + efsz)/*:: :any)*/);\n\t\tif((ef[0x5455]||{}).mt) date = ef[0x5455].mt;\n\t\tif(((EF||{})[0x5455]||{}).mt) date = EF[0x5455].mt;\n\t}\n\tblob.l += efsz;\n\n\t/* [encryption header] */\n\n\t/* [file data] */\n\tvar data = blob.slice(blob.l, blob.l + _csz);\n\tswitch(meth) {\n\t\tcase 8: data = _inflateRawSync(blob, _usz); break;\n\t\tcase 0: break; // TODO: scan for magic number\n\t\tdefault: throw new Error(\"Unsupported ZIP Compression method \" + meth);\n\t}\n\n\t/* [data descriptor] */\n\tvar wrn = false;\n\tif(flags & 8) {\n\t\tcrc32 = blob.read_shift(4);\n\t\tif(crc32 == 0x08074b50) { crc32 = blob.read_shift(4); wrn = true; }\n\t\t_csz = blob.read_shift(4);\n\t\t_usz = blob.read_shift(4);\n\t}\n\n\tif(_csz != csz) warn_or_throw(wrn, \"Bad compressed size: \" + csz + \" != \" + _csz);\n\tif(_usz != usz) warn_or_throw(wrn, \"Bad uncompressed size: \" + usz + \" != \" + _usz);\n\t//var _crc32 = CRC32.buf(data, 0);\n\t//if((crc32>>0) != (_crc32>>0)) warn_or_throw(wrn, \"Bad CRC32 checksum: \" + crc32 + \" != \" + _crc32);\n\tcfb_add(o, name, data, {unsafe: true, mt: date});\n}\nfunction write_zip(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:RawBytes*/ {\n\tvar _opts = options || {};\n\tvar out = [], cdirs = [];\n\tvar o/*:CFBlob*/ = new_buf(1);\n\tvar method = (_opts.compression ? 8 : 0), flags = 0;\n\tvar desc = false;\n\tif(desc) flags |= 8;\n\tvar i = 0, j = 0;\n\n\tvar start_cd = 0, fcnt = 0;\n\tvar root = cfb.FullPaths[0], fp = root, fi = cfb.FileIndex[0];\n\tvar crcs = [];\n\tvar sz_cd = 0;\n\n\tfor(i = 1; i < cfb.FullPaths.length; ++i) {\n\t\tfp = cfb.FullPaths[i].slice(root.length); fi = cfb.FileIndex[i];\n\t\tif(!fi.size || !fi.content || fp == \"\\u0001Sh33tJ5\") continue;\n\t\tvar start = start_cd;\n\n\t\t/* TODO: CP437 filename */\n\t\tvar namebuf = new_buf(fp.length);\n\t\tfor(j = 0; j < fp.length; ++j) namebuf.write_shift(1, fp.charCodeAt(j) & 0x7F);\n\t\tnamebuf = namebuf.slice(0, namebuf.l);\n\t\tcrcs[fcnt] = CRC32.buf(/*::((*/fi.content/*::||[]):any)*/, 0);\n\n\t\tvar outbuf = fi.content/*::||[]*/;\n\t\tif(method == 8) outbuf = _deflateRawSync(outbuf);\n\n\t\t/* local file header */\n\t\to = new_buf(30);\n\t\to.write_shift(4, 0x04034b50);\n\t\to.write_shift(2, 20);\n\t\to.write_shift(2, flags);\n\t\to.write_shift(2, method);\n\t\t/* TODO: last mod file time/date */\n\t\tif(fi.mt) write_dos_date(o, fi.mt);\n\t\telse o.write_shift(4, 0);\n\t\to.write_shift(-4, (flags & 8) ? 0 : crcs[fcnt]);\n\t\to.write_shift(4,  (flags & 8) ? 0 : outbuf.length);\n\t\to.write_shift(4,  (flags & 8) ? 0 : /*::(*/fi.content/*::||[])*/.length);\n\t\to.write_shift(2, namebuf.length);\n\t\to.write_shift(2, 0);\n\n\t\tstart_cd += o.length;\n\t\tout.push(o);\n\t\tstart_cd += namebuf.length;\n\t\tout.push(namebuf);\n\n\t\t/* TODO: extra fields? */\n\n\t\t/* TODO: encryption header ? */\n\n\t\tstart_cd += outbuf.length;\n\t\tout.push(outbuf);\n\n\t\t/* data descriptor */\n\t\tif(flags & 8) {\n\t\t\to = new_buf(12);\n\t\t\to.write_shift(-4, crcs[fcnt]);\n\t\t\to.write_shift(4, outbuf.length);\n\t\t\to.write_shift(4, /*::(*/fi.content/*::||[])*/.length);\n\t\t\tstart_cd += o.l;\n\t\t\tout.push(o);\n\t\t}\n\n\t\t/* central directory */\n\t\to = new_buf(46);\n\t\to.write_shift(4, 0x02014b50);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 20);\n\t\to.write_shift(2, flags);\n\t\to.write_shift(2, method);\n\t\to.write_shift(4, 0); /* TODO: last mod file time/date */\n\t\to.write_shift(-4, crcs[fcnt]);\n\n\t\to.write_shift(4, outbuf.length);\n\t\to.write_shift(4, /*::(*/fi.content/*::||[])*/.length);\n\t\to.write_shift(2, namebuf.length);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(4, 0);\n\t\to.write_shift(4, start);\n\n\t\tsz_cd += o.l;\n\t\tcdirs.push(o);\n\t\tsz_cd += namebuf.length;\n\t\tcdirs.push(namebuf);\n\t\t++fcnt;\n\t}\n\n\t/* end of central directory */\n\to = new_buf(22);\n\to.write_shift(4, 0x06054b50);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, fcnt);\n\to.write_shift(2, fcnt);\n\to.write_shift(4, sz_cd);\n\to.write_shift(4, start_cd);\n\to.write_shift(2, 0);\n\n\treturn bconcat(([bconcat((out/*:any*/)), bconcat(cdirs), o]/*:any*/));\n}\nvar ContentTypeMap = ({\n\t\"htm\": \"text/html\",\n\t\"xml\": \"text/xml\",\n\n\t\"gif\": \"image/gif\",\n\t\"jpg\": \"image/jpeg\",\n\t\"png\": \"image/png\",\n\n\t\"mso\": \"application/x-mso\",\n\t\"thmx\": \"application/vnd.ms-officetheme\",\n\t\"sh33tj5\": \"application/octet-stream\"\n}/*:any*/);\n\nfunction get_content_type(fi/*:CFBEntry*/, fp/*:string*/)/*:string*/ {\n\tif(fi.ctype) return fi.ctype;\n\n\tvar ext = fi.name || \"\", m = ext.match(/\\.([^\\.]+)$/);\n\tif(m && ContentTypeMap[m[1]]) return ContentTypeMap[m[1]];\n\n\tif(fp) {\n\t\tm = (ext = fp).match(/[\\.\\\\]([^\\.\\\\])+$/);\n\t\tif(m && ContentTypeMap[m[1]]) return ContentTypeMap[m[1]];\n\t}\n\n\treturn \"application/octet-stream\";\n}\n\n/* 76 character chunks TODO: intertwine encoding */\nfunction write_base64_76(bstr/*:string*/)/*:string*/ {\n\tvar data = Base64_encode(bstr);\n\tvar o = [];\n\tfor(var i = 0; i < data.length; i+= 76) o.push(data.slice(i, i+76));\n\treturn o.join(\"\\r\\n\") + \"\\r\\n\";\n}\n\n/*\nRules for QP:\n\t- escape =## applies for all non-display characters and literal \"=\"\n\t- space or tab at end of line must be encoded\n\t- \\r\\n newlines can be preserved, but bare \\r and \\n must be escaped\n\t- lines must not exceed 76 characters, use soft breaks =\\r\\n\n\nTODO: Some files from word appear to write line extensions with bare equals:\n\n```\n<table class=3DMsoTableGrid border=3D1 cellspacing=3D0 cellpadding=3D0 width=\n=\"70%\"\n```\n*/\nfunction write_quoted_printable(text/*:string*/)/*:string*/ {\n\tvar encoded = text.replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7E-\\xFF=]/g, function(c) {\n\t\tvar w = c.charCodeAt(0).toString(16).toUpperCase();\n\t\treturn \"=\" + (w.length == 1 ? \"0\" + w : w);\n\t});\n\n\tencoded = encoded.replace(/ $/mg, \"=20\").replace(/\\t$/mg, \"=09\");\n\n\tif(encoded.charAt(0) == \"\\n\") encoded = \"=0D\" + encoded.slice(1);\n\tencoded = encoded.replace(/\\r(?!\\n)/mg, \"=0D\").replace(/\\n\\n/mg, \"\\n=0A\").replace(/([^\\r\\n])\\n/mg, \"$1=0A\");\n\n\tvar o/*:Array<string>*/ = [], split = encoded.split(\"\\r\\n\");\n\tfor(var si = 0; si < split.length; ++si) {\n\t\tvar str = split[si];\n\t\tif(str.length == 0) { o.push(\"\"); continue; }\n\t\tfor(var i = 0; i < str.length;) {\n\t\t\tvar end = 76;\n\t\t\tvar tmp = str.slice(i, i + end);\n\t\t\tif(tmp.charAt(end - 1) == \"=\") end --;\n\t\t\telse if(tmp.charAt(end - 2) == \"=\") end -= 2;\n\t\t\telse if(tmp.charAt(end - 3) == \"=\") end -= 3;\n\t\t\ttmp = str.slice(i, i + end);\n\t\t\ti += end;\n\t\t\tif(i < str.length) tmp += \"=\";\n\t\t\to.push(tmp);\n\t\t}\n\t}\n\n\treturn o.join(\"\\r\\n\");\n}\nfunction parse_quoted_printable(data/*:Array<string>*/)/*:RawBytes*/ {\n\tvar o = [];\n\n\t/* unify long lines */\n\tfor(var di = 0; di < data.length; ++di) {\n\t\tvar line = data[di];\n\t\twhile(di <= data.length && line.charAt(line.length - 1) == \"=\") line = line.slice(0, line.length - 1) + data[++di];\n\t\to.push(line);\n\t}\n\n\t/* decode */\n\tfor(var oi = 0; oi < o.length; ++oi) o[oi] = o[oi].replace(/[=][0-9A-Fa-f]{2}/g, function($$) { return String.fromCharCode(parseInt($$.slice(1), 16)); });\n\treturn s2a(o.join(\"\\r\\n\"));\n}\n\n\nfunction parse_mime(cfb/*:CFBContainer*/, data/*:Array<string>*/, root/*:string*/)/*:void*/ {\n\tvar fname = \"\", cte = \"\", ctype = \"\", fdata;\n\tvar di = 0;\n\tfor(;di < 10; ++di) {\n\t\tvar line = data[di];\n\t\tif(!line || line.match(/^\\s*$/)) break;\n\t\tvar m = line.match(/^(.*?):\\s*([^\\s].*)$/);\n\t\tif(m) switch(m[1].toLowerCase()) {\n\t\t\tcase \"content-location\": fname = m[2].trim(); break;\n\t\t\tcase \"content-type\": ctype = m[2].trim(); break;\n\t\t\tcase \"content-transfer-encoding\": cte = m[2].trim(); break;\n\t\t}\n\t}\n\t++di;\n\tswitch(cte.toLowerCase()) {\n\t\tcase 'base64': fdata = s2a(Base64_decode(data.slice(di).join(\"\"))); break;\n\t\tcase 'quoted-printable': fdata = parse_quoted_printable(data.slice(di)); break;\n\t\tdefault: throw new Error(\"Unsupported Content-Transfer-Encoding \" + cte);\n\t}\n\tvar file = cfb_add(cfb, fname.slice(root.length), fdata, {unsafe: true});\n\tif(ctype) file.ctype = ctype;\n}\n\nfunction parse_mad(file/*:RawBytes*/, options/*:CFBReadOpts*/)/*:CFBContainer*/ {\n\tif(a2s(file.slice(0,13)).toLowerCase() != \"mime-version:\") throw new Error(\"Unsupported MAD header\");\n\tvar root = (options && options.root || \"\");\n\t// $FlowIgnore\n\tvar data = (has_buf && Buffer.isBuffer(file) ? file.toString(\"binary\") : a2s(file)).split(\"\\r\\n\");\n\tvar di = 0, row = \"\";\n\n\t/* if root is not specified, scan for the common prefix */\n\tfor(di = 0; di < data.length; ++di) {\n\t\trow = data[di];\n\t\tif(!/^Content-Location:/i.test(row)) continue;\n\t\trow = row.slice(row.indexOf(\"file\"));\n\t\tif(!root) root = row.slice(0, row.lastIndexOf(\"/\") + 1);\n\t\tif(row.slice(0, root.length) == root) continue;\n\t\twhile(root.length > 0) {\n\t\t\troot = root.slice(0, root.length - 1);\n\t\t\troot = root.slice(0, root.lastIndexOf(\"/\") + 1);\n\t\t\tif(row.slice(0,root.length) == root) break;\n\t\t}\n\t}\n\n\tvar mboundary = (data[1] || \"\").match(/boundary=\"(.*?)\"/);\n\tif(!mboundary) throw new Error(\"MAD cannot find boundary\");\n\tvar boundary = \"--\" + (mboundary[1] || \"\");\n\n\tvar FileIndex/*:CFBFileIndex*/ = [], FullPaths/*:Array<string>*/ = [];\n\tvar o = {\n\t\tFileIndex: FileIndex,\n\t\tFullPaths: FullPaths\n\t};\n\tinit_cfb(o);\n\tvar start_di, fcnt = 0;\n\tfor(di = 0; di < data.length; ++di) {\n\t\tvar line = data[di];\n\t\tif(line !== boundary && line !== boundary + \"--\") continue;\n\t\tif(fcnt++) parse_mime(o, data.slice(start_di, di), root);\n\t\tstart_di = di;\n\t}\n\treturn o;\n}\n\nfunction write_mad(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:string*/ {\n\tvar opts = options || {};\n\tvar boundary = opts.boundary || \"SheetJS\";\n\tboundary = '------=' + boundary;\n\n\tvar out = [\n\t\t'MIME-Version: 1.0',\n\t\t'Content-Type: multipart/related; boundary=\"' + boundary.slice(2) + '\"',\n\t\t'',\n\t\t'',\n\t\t''\n\t];\n\n\tvar root = cfb.FullPaths[0], fp = root, fi = cfb.FileIndex[0];\n\tfor(var i = 1; i < cfb.FullPaths.length; ++i) {\n\t\tfp = cfb.FullPaths[i].slice(root.length);\n\t\tfi = cfb.FileIndex[i];\n\t\tif(!fi.size || !fi.content || fp == \"\\u0001Sh33tJ5\") continue;\n\n\t\t/* Normalize filename */\n\t\tfp = fp.replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7E-\\xFF]/g, function(c) {\n\t\t\treturn \"_x\" + c.charCodeAt(0).toString(16) + \"_\";\n\t\t}).replace(/[\\u0080-\\uFFFF]/g, function(u) {\n\t\t\treturn \"_u\" + u.charCodeAt(0).toString(16) + \"_\";\n\t\t});\n\n\t\t/* Extract content as binary string */\n\t\tvar ca = fi.content;\n\t\t// $FlowIgnore\n\t\tvar cstr = has_buf && Buffer.isBuffer(ca) ? ca.toString(\"binary\") : a2s(ca);\n\n\t\t/* 4/5 of first 1024 chars ascii -> quoted printable, else base64 */\n\t\tvar dispcnt = 0, L = Math.min(1024, cstr.length), cc = 0;\n\t\tfor(var csl = 0; csl <= L; ++csl) if((cc=cstr.charCodeAt(csl)) >= 0x20 && cc < 0x80) ++dispcnt;\n\t\tvar qp = dispcnt >= L * 4 / 5;\n\n\t\tout.push(boundary);\n\t\tout.push('Content-Location: ' + (opts.root || 'file:///C:/SheetJS/') + fp);\n\t\tout.push('Content-Transfer-Encoding: ' + (qp ? 'quoted-printable' : 'base64'));\n\t\tout.push('Content-Type: ' + get_content_type(fi, fp));\n\t\tout.push('');\n\n\t\tout.push(qp ? write_quoted_printable(cstr) : write_base64_76(cstr));\n\t}\n\tout.push(boundary + '--\\r\\n');\n\treturn out.join(\"\\r\\n\");\n}\nfunction cfb_new(opts/*:?any*/)/*:CFBContainer*/ {\n\tvar o/*:CFBContainer*/ = ({}/*:any*/);\n\tinit_cfb(o, opts);\n\treturn o;\n}\n\nfunction cfb_add(cfb/*:CFBContainer*/, name/*:string*/, content/*:?RawBytes*/, opts/*:?any*/)/*:CFBEntry*/ {\n\tvar unsafe = opts && opts.unsafe;\n\tif(!unsafe) init_cfb(cfb);\n\tvar file = !unsafe && CFB.find(cfb, name);\n\tif(!file) {\n\t\tvar fpath/*:string*/ = cfb.FullPaths[0];\n\t\tif(name.slice(0, fpath.length) == fpath) fpath = name;\n\t\telse {\n\t\t\tif(fpath.slice(-1) != \"/\") fpath += \"/\";\n\t\t\tfpath = (fpath + name).replace(\"//\",\"/\");\n\t\t}\n\t\tfile = ({name: filename(name), type: 2}/*:any*/);\n\t\tcfb.FileIndex.push(file);\n\t\tcfb.FullPaths.push(fpath);\n\t\tif(!unsafe) CFB.utils.cfb_gc(cfb);\n\t}\n\t/*:: if(!file) throw new Error(\"unreachable\"); */\n\tfile.content = (content/*:any*/);\n\tfile.size = content ? content.length : 0;\n\tif(opts) {\n\t\tif(opts.CLSID) file.clsid = opts.CLSID;\n\t\tif(opts.mt) file.mt = opts.mt;\n\t\tif(opts.ct) file.ct = opts.ct;\n\t}\n\treturn file;\n}\n\nfunction cfb_del(cfb/*:CFBContainer*/, name/*:string*/)/*:boolean*/ {\n\tinit_cfb(cfb);\n\tvar file = CFB.find(cfb, name);\n\tif(file) for(var j = 0; j < cfb.FileIndex.length; ++j) if(cfb.FileIndex[j] == file) {\n\t\tcfb.FileIndex.splice(j, 1);\n\t\tcfb.FullPaths.splice(j, 1);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction cfb_mov(cfb/*:CFBContainer*/, old_name/*:string*/, new_name/*:string*/)/*:boolean*/ {\n\tinit_cfb(cfb);\n\tvar file = CFB.find(cfb, old_name);\n\tif(file) for(var j = 0; j < cfb.FileIndex.length; ++j) if(cfb.FileIndex[j] == file) {\n\t\tcfb.FileIndex[j].name = filename(new_name);\n\t\tcfb.FullPaths[j] = new_name;\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction cfb_gc(cfb/*:CFBContainer*/)/*:void*/ { rebuild_cfb(cfb, true); }\n\nexports.find = find;\nexports.read = read;\nexports.parse = parse;\nexports.write = write;\nexports.writeFile = write_file;\nexports.utils = {\n\tcfb_new: cfb_new,\n\tcfb_add: cfb_add,\n\tcfb_del: cfb_del,\n\tcfb_mov: cfb_mov,\n\tcfb_gc: cfb_gc,\n\tReadShift: ReadShift,\n\tCheckField: CheckField,\n\tprep_blob: prep_blob,\n\tbconcat: bconcat,\n\tuse_zlib: use_zlib,\n\t_deflateRaw: _deflate,\n\t_inflateRaw: _inflate,\n\tconsts: consts\n};\n\nreturn exports;\n})();\n\nlet _fs = void 0;\nfunction set_fs(fs) { _fs = fs; }\nexport { set_fs };\n\n/* normalize data for blob ctor */\nfunction blobify(data) {\n\tif(typeof data === \"string\") return s2ab(data);\n\tif(Array.isArray(data)) return a2u(data);\n\treturn data;\n}\n/* write or download file */\nfunction write_dl(fname/*:string*/, payload/*:any*/, enc/*:?string*/) {\n\t/*global IE_SaveFile, Blob, navigator, saveAs, document, File, chrome */\n\tif(typeof _fs !== 'undefined' && _fs.writeFileSync) return enc ? _fs.writeFileSync(fname, payload, enc) : _fs.writeFileSync(fname, payload);\n\tif(typeof Deno !== 'undefined') {\n\t\t/* in this spot, it's safe to assume typed arrays and TextEncoder/TextDecoder exist */\n\t\tif(enc && typeof payload == \"string\") switch(enc) {\n\t\t\tcase \"utf8\": payload = new TextEncoder(enc).encode(payload); break;\n\t\t\tcase \"binary\": payload = s2ab(payload); break;\n\t\t\t/* TODO: binary equivalent */\n\t\t\tdefault: throw new Error(\"Unsupported encoding \" + enc);\n\t\t}\n\t\treturn Deno.writeFileSync(fname, payload);\n\t}\n\tvar data = (enc == \"utf8\") ? utf8write(payload) : payload;\n\t/*:: declare var IE_SaveFile: any; */\n\tif(typeof IE_SaveFile !== 'undefined') return IE_SaveFile(data, fname);\n\tif(typeof Blob !== 'undefined') {\n\t\tvar blob = new Blob([blobify(data)], {type:\"application/octet-stream\"});\n\t\t/*:: declare var navigator: any; */\n\t\tif(typeof navigator !== 'undefined' && navigator.msSaveBlob) return navigator.msSaveBlob(blob, fname);\n\t\t/*:: declare var saveAs: any; */\n\t\tif(typeof saveAs !== 'undefined') return saveAs(blob, fname);\n\t\tif(typeof URL !== 'undefined' && typeof document !== 'undefined' && document.createElement && URL.createObjectURL) {\n\t\t\tvar url = URL.createObjectURL(blob);\n\t\t\t/*:: declare var chrome: any; */\n\t\t\tif(typeof chrome === 'object' && typeof (chrome.downloads||{}).download == \"function\") {\n\t\t\t\tif(URL.revokeObjectURL && typeof setTimeout !== 'undefined') setTimeout(function() { URL.revokeObjectURL(url); }, 60000);\n\t\t\t\treturn chrome.downloads.download({ url: url, filename: fname, saveAs: true});\n\t\t\t}\n\t\t\tvar a = document.createElement(\"a\");\n\t\t\tif(a.download != null) {\n\t\t\t\t/*:: if(document.body == null) throw new Error(\"unreachable\"); */\n\t\t\t\ta.download = fname; a.href = url; document.body.appendChild(a); a.click();\n\t\t\t\t/*:: if(document.body == null) throw new Error(\"unreachable\"); */ document.body.removeChild(a);\n\t\t\t\tif(URL.revokeObjectURL && typeof setTimeout !== 'undefined') setTimeout(function() { URL.revokeObjectURL(url); }, 60000);\n\t\t\t\treturn url;\n\t\t\t}\n\t\t}\n\t}\n\t// $FlowIgnore\n\tif(typeof $ !== 'undefined' && typeof File !== 'undefined' && typeof Folder !== 'undefined') try { // extendscript\n\t\t// $FlowIgnore\n\t\tvar out = File(fname); out.open(\"w\"); out.encoding = \"binary\";\n\t\tif(Array.isArray(payload)) payload = a2s(payload);\n\t\tout.write(payload); out.close(); return payload;\n\t} catch(e) { if(!e.message || !e.message.match(/onstruct/)) throw e; }\n\tthrow new Error(\"cannot save file \" + fname);\n}\n\n/* read binary data from file */\nfunction read_binary(path/*:string*/) {\n\tif(typeof _fs !== 'undefined') return _fs.readFileSync(path);\n\tif(typeof Deno !== 'undefined') return Deno.readFileSync(path);\n\t// $FlowIgnore\n\tif(typeof $ !== 'undefined' && typeof File !== 'undefined' && typeof Folder !== 'undefined') try { // extendscript\n\t\t// $FlowIgnore\n\t\tvar infile = File(path); infile.open(\"r\"); infile.encoding = \"binary\";\n\t\tvar data = infile.read(); infile.close();\n\t\treturn data;\n\t} catch(e) { if(!e.message || !e.message.match(/onstruct/)) throw e; }\n\tthrow new Error(\"Cannot access file \" + path);\n}\nfunction keys(o/*:any*/)/*:Array<any>*/ {\n\tvar ks = Object.keys(o), o2 = [];\n\tfor(var i = 0; i < ks.length; ++i) if(Object.prototype.hasOwnProperty.call(o, ks[i])) o2.push(ks[i]);\n\treturn o2;\n}\n\nfunction evert_key(obj/*:any*/, key/*:string*/)/*:EvertType*/ {\n\tvar o = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) if(o[obj[K[i]][key]] == null) o[obj[K[i]][key]] = K[i];\n\treturn o;\n}\n\nfunction evert(obj/*:any*/)/*:EvertType*/ {\n\tvar o = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) o[obj[K[i]]] = K[i];\n\treturn o;\n}\n\nfunction evert_num(obj/*:any*/)/*:EvertNumType*/ {\n\tvar o = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) o[obj[K[i]]] = parseInt(K[i],10);\n\treturn o;\n}\n\nfunction evert_arr(obj/*:any*/)/*:EvertArrType*/ {\n\tvar o/*:EvertArrType*/ = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) {\n\t\tif(o[obj[K[i]]] == null) o[obj[K[i]]] = [];\n\t\to[obj[K[i]]].push(K[i]);\n\t}\n\treturn o;\n}\n\nvar basedate = /*#__PURE__*/new Date(1899, 11, 30, 0, 0, 0); // 2209161600000\nfunction datenum(v/*:Date*/, date1904/*:?boolean*/)/*:number*/ {\n\tvar epoch = /*#__PURE__*/v.getTime();\n\tif(date1904) epoch -= 1462*24*60*60*1000;\n\tvar dnthresh = /*#__PURE__*/basedate.getTime() + (/*#__PURE__*/v.getTimezoneOffset() - /*#__PURE__*/basedate.getTimezoneOffset()) * 60000;\n\treturn (epoch - dnthresh) / (24 * 60 * 60 * 1000);\n}\nvar refdate = /*#__PURE__*/new Date();\nvar dnthresh = /*#__PURE__*/basedate.getTime() + (/*#__PURE__*/refdate.getTimezoneOffset() - /*#__PURE__*/basedate.getTimezoneOffset()) * 60000;\nvar refoffset = /*#__PURE__*/refdate.getTimezoneOffset();\nfunction numdate(v/*:number*/)/*:Date*/ {\n\tvar out = new Date();\n\tout.setTime(v * 24 * 60 * 60 * 1000 + dnthresh);\n\tif (out.getTimezoneOffset() !== refoffset) {\n\t\tout.setTime(out.getTime() + (out.getTimezoneOffset() - refoffset) * 60000);\n\t}\n\treturn out;\n}\n\n/* ISO 8601 Duration */\nfunction parse_isodur(s) {\n\tvar sec = 0, mt = 0, time = false;\n\tvar m = s.match(/P([0-9\\.]+Y)?([0-9\\.]+M)?([0-9\\.]+D)?T([0-9\\.]+H)?([0-9\\.]+M)?([0-9\\.]+S)?/);\n\tif(!m) throw new Error(\"|\" + s + \"| is not an ISO8601 Duration\");\n\tfor(var i = 1; i != m.length; ++i) {\n\t\tif(!m[i]) continue;\n\t\tmt = 1;\n\t\tif(i > 3) time = true;\n\t\tswitch(m[i].slice(m[i].length-1)) {\n\t\t\tcase 'Y':\n\t\t\t\tthrow new Error(\"Unsupported ISO Duration Field: \" + m[i].slice(m[i].length-1));\n\t\t\tcase 'D': mt *= 24;\n\t\t\t\t/* falls through */\n\t\t\tcase 'H': mt *= 60;\n\t\t\t\t/* falls through */\n\t\t\tcase 'M':\n\t\t\t\tif(!time) throw new Error(\"Unsupported ISO Duration Field: M\");\n\t\t\t\telse mt *= 60;\n\t\t\t\t/* falls through */\n\t\t\tcase 'S': break;\n\t\t}\n\t\tsec += mt * parseInt(m[i], 10);\n\t}\n\treturn sec;\n}\n\nvar good_pd_date_1 = /*#__PURE__*/new Date('2017-02-19T19:06:09.000Z');\nvar good_pd_date = /*#__PURE__*/isNaN(/*#__PURE__*/good_pd_date_1.getFullYear()) ? /*#__PURE__*/new Date('2/19/17') : good_pd_date_1;\nvar good_pd = /*#__PURE__*/good_pd_date.getFullYear() == 2017;\n/* parses a date as a local date */\nfunction parseDate(str/*:string|Date*/, fixdate/*:?number*/)/*:Date*/ {\n\tvar d = new Date(str);\n\tif(good_pd) {\n\t\t/*:: if(fixdate == null) fixdate = 0; */\n\t\tif(fixdate > 0) d.setTime(d.getTime() + d.getTimezoneOffset() * 60 * 1000);\n\t\telse if(fixdate < 0) d.setTime(d.getTime() - d.getTimezoneOffset() * 60 * 1000);\n\t\treturn d;\n\t}\n\tif(str instanceof Date) return str;\n\tif(good_pd_date.getFullYear() == 1917 && !isNaN(d.getFullYear())) {\n\t\tvar s = d.getFullYear();\n\t\tif(str.indexOf(\"\" + s) > -1) return d;\n\t\td.setFullYear(d.getFullYear() + 100); return d;\n\t}\n\tvar n = str.match(/\\d+/g)||[\"2017\",\"2\",\"19\",\"0\",\"0\",\"0\"];\n\tvar out = new Date(+n[0], +n[1] - 1, +n[2], (+n[3]||0), (+n[4]||0), (+n[5]||0));\n\tif(str.indexOf(\"Z\") > -1) out = new Date(out.getTime() - out.getTimezoneOffset() * 60 * 1000);\n\treturn out;\n}\n\nfunction cc2str(arr/*:Array<number>*/, debomit)/*:string*/ {\n\tif(has_buf && Buffer.isBuffer(arr)) {\n\t\tif(debomit) {\n\t\t\tif(arr[0] == 0xFF && arr[1] == 0xFE) return utf8write(arr.slice(2).toString(\"utf16le\"));\n\t\t\tif(arr[1] == 0xFE && arr[2] == 0xFF) return utf8write(utf16beread(arr.slice(2).toString(\"binary\")));\n\t\t}\n\t\treturn arr.toString(\"binary\");\n\t}\n\n\tif(typeof TextDecoder !== \"undefined\") try {\n\t\tif(debomit) {\n\t\t\tif(arr[0] == 0xFF && arr[1] == 0xFE) return utf8write(new TextDecoder(\"utf-16le\").decode(arr.slice(2)));\n\t\t\tif(arr[0] == 0xFE && arr[1] == 0xFF) return utf8write(new TextDecoder(\"utf-16be\").decode(arr.slice(2)));\n\t\t}\n\t\tvar rev = {\n\t\t\t\"\\u20ac\": \"\\x80\", \"\\u201a\": \"\\x82\", \"\\u0192\": \"\\x83\", \"\\u201e\": \"\\x84\",\n\t\t\t\"\\u2026\": \"\\x85\", \"\\u2020\": \"\\x86\", \"\\u2021\": \"\\x87\", \"\\u02c6\": \"\\x88\",\n\t\t\t\"\\u2030\": \"\\x89\", \"\\u0160\": \"\\x8a\", \"\\u2039\": \"\\x8b\", \"\\u0152\": \"\\x8c\",\n\t\t\t\"\\u017d\": \"\\x8e\", \"\\u2018\": \"\\x91\", \"\\u2019\": \"\\x92\", \"\\u201c\": \"\\x93\",\n\t\t\t\"\\u201d\": \"\\x94\", \"\\u2022\": \"\\x95\", \"\\u2013\": \"\\x96\", \"\\u2014\": \"\\x97\",\n\t\t\t\"\\u02dc\": \"\\x98\", \"\\u2122\": \"\\x99\", \"\\u0161\": \"\\x9a\", \"\\u203a\": \"\\x9b\",\n\t\t\t\"\\u0153\": \"\\x9c\", \"\\u017e\": \"\\x9e\", \"\\u0178\": \"\\x9f\"\n\t\t};\n\t\tif(Array.isArray(arr)) arr = new Uint8Array(arr);\n\t\treturn new TextDecoder(\"latin1\").decode(arr).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g, function(c) { return rev[c] || c; });\n\t} catch(e) {}\n\n\tvar o = [];\n\tfor(var i = 0; i != arr.length; ++i) o.push(String.fromCharCode(arr[i]));\n\treturn o.join(\"\");\n}\n\nfunction dup(o/*:any*/)/*:any*/ {\n\tif(typeof JSON != 'undefined' && !Array.isArray(o)) return JSON.parse(JSON.stringify(o));\n\tif(typeof o != 'object' || o == null) return o;\n\tif(o instanceof Date) return new Date(o.getTime());\n\tvar out = {};\n\tfor(var k in o) if(Object.prototype.hasOwnProperty.call(o, k)) out[k] = dup(o[k]);\n\treturn out;\n}\n\nfunction fill(c/*:string*/,l/*:number*/)/*:string*/ { var o = \"\"; while(o.length < l) o+=c; return o; }\n\n/* TODO: stress test */\nfunction fuzzynum(s/*:string*/)/*:number*/ {\n\tvar v/*:number*/ = Number(s);\n\tif(!isNaN(v)) return isFinite(v) ? v : NaN;\n\tif(!/\\d/.test(s)) return v;\n\tvar wt = 1;\n\tvar ss = s.replace(/([\\d]),([\\d])/g,\"$1$2\").replace(/[$]/g,\"\").replace(/[%]/g, function() { wt *= 100; return \"\";});\n\tif(!isNaN(v = Number(ss))) return v / wt;\n\tss = ss.replace(/[(](.*)[)]/,function($$, $1) { wt = -wt; return $1;});\n\tif(!isNaN(v = Number(ss))) return v / wt;\n\treturn v;\n}\nvar lower_months = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\nfunction fuzzydate(s/*:string*/)/*:Date*/ {\n\tvar o = new Date(s), n = new Date(NaN);\n\tvar y = o.getYear(), m = o.getMonth(), d = o.getDate();\n\tif(isNaN(d)) return n;\n\tvar lower = s.toLowerCase();\n\tif(lower.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)) {\n\t\tlower = lower.replace(/[^a-z]/g,\"\").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,\"\");\n\t\tif(lower.length > 3 && lower_months.indexOf(lower) == -1) return n;\n\t} else if(lower.match(/[a-z]/)) return n;\n\tif(y < 0 || y > 8099) return n;\n\tif((m > 0 || d > 1) && y != 101) return o;\n\tif(s.match(/[^-0-9:,\\/\\\\]/)) return n;\n\treturn o;\n}\n\nvar split_regex = /*#__PURE__*/(function() {\n\tvar safe_split_regex = \"abacaba\".split(/(:?b)/i).length == 5;\n\treturn function split_regex(str/*:string*/, re, def/*:string*/)/*:Array<string>*/ {\n\t\tif(safe_split_regex || typeof re == \"string\") return str.split(re);\n\t\tvar p = str.split(re), o = [p[0]];\n\t\tfor(var i = 1; i < p.length; ++i) { o.push(def); o.push(p[i]); }\n\t\treturn o;\n\t};\n})();\nfunction getdatastr(data)/*:?string*/ {\n\tif(!data) return null;\n\tif(data.content && data.type) return cc2str(data.content, true);\n\tif(data.data) return debom(data.data);\n\tif(data.asNodeBuffer && has_buf) return debom(data.asNodeBuffer().toString('binary'));\n\tif(data.asBinary) return debom(data.asBinary());\n\tif(data._data && data._data.getContent) return debom(cc2str(Array.prototype.slice.call(data._data.getContent(),0)));\n\treturn null;\n}\n\nfunction getdatabin(data) {\n\tif(!data) return null;\n\tif(data.data) return char_codes(data.data);\n\tif(data.asNodeBuffer && has_buf) return data.asNodeBuffer();\n\tif(data._data && data._data.getContent) {\n\t\tvar o = data._data.getContent();\n\t\tif(typeof o == \"string\") return char_codes(o);\n\t\treturn Array.prototype.slice.call(o);\n\t}\n\tif(data.content && data.type) return data.content;\n\treturn null;\n}\n\nfunction getdata(data) { return (data && data.name.slice(-4) === \".bin\") ? getdatabin(data) : getdatastr(data); }\n\n/* Part 2 Section 10.1.2 \"Mapping Content Types\" Names are case-insensitive */\n/* OASIS does not comment on filename case sensitivity */\nfunction safegetzipfile(zip, file/*:string*/) {\n\tvar k = zip.FullPaths || keys(zip.files);\n\tvar f = file.toLowerCase().replace(/[\\/]/g, '\\\\'), g = f.replace(/\\\\/g,'\\/');\n\tfor(var i=0; i<k.length; ++i) {\n\t\tvar n = k[i].replace(/^Root Entry[\\/]/,\"\").toLowerCase();\n\t\tif(f == n || g == n) return zip.files ? zip.files[k[i]] : zip.FileIndex[i];\n\t}\n\treturn null;\n}\n\nfunction getzipfile(zip, file/*:string*/) {\n\tvar o = safegetzipfile(zip, file);\n\tif(o == null) throw new Error(\"Cannot find file \" + file + \" in zip\");\n\treturn o;\n}\n\nfunction getzipdata(zip, file/*:string*/, safe/*:?boolean*/)/*:any*/ {\n\tif(!safe) return getdata(getzipfile(zip, file));\n\tif(!file) return null;\n\ttry { return getzipdata(zip, file); } catch(e) { return null; }\n}\n\nfunction getzipstr(zip, file/*:string*/, safe/*:?boolean*/)/*:?string*/ {\n\tif(!safe) return getdatastr(getzipfile(zip, file));\n\tif(!file) return null;\n\ttry { return getzipstr(zip, file); } catch(e) { return null; }\n}\n\nfunction getzipbin(zip, file/*:string*/, safe/*:?boolean*/)/*:any*/ {\n\tif(!safe) return getdatabin(getzipfile(zip, file));\n\tif(!file) return null;\n\ttry { return getzipbin(zip, file); } catch(e) { return null; }\n}\n\nfunction zipentries(zip) {\n\tvar k = zip.FullPaths || keys(zip.files), o = [];\n\tfor(var i = 0; i < k.length; ++i) if(k[i].slice(-1) != '/') o.push(k[i].replace(/^Root Entry[\\/]/, \"\"));\n\treturn o.sort();\n}\n\nfunction zip_add_file(zip, path, content) {\n\tif(zip.FullPaths) {\n\t\tif(typeof content == \"string\") {\n\t\t\tvar res;\n\t\t\tif(has_buf) res = Buffer_from(content);\n\t\t\t/* TODO: investigate performance in Edge 13 */\n\t\t\t//else if(typeof TextEncoder !== \"undefined\") res = new TextEncoder().encode(content);\n\t\t\telse res = utf8decode(content);\n\t\t\treturn CFB.utils.cfb_add(zip, path, res);\n\t\t}\n\t\tCFB.utils.cfb_add(zip, path, content);\n\t}\n\telse zip.file(path, content);\n}\n\nfunction zip_new() { return CFB.utils.cfb_new(); }\n\nfunction zip_read(d, o) {\n\tswitch(o.type) {\n\t\tcase \"base64\": return CFB.read(d, { type: \"base64\" });\n\t\tcase \"binary\": return CFB.read(d, { type: \"binary\" });\n\t\tcase \"buffer\": case \"array\": return CFB.read(d, { type: \"buffer\" });\n\t}\n\tthrow new Error(\"Unrecognized type \" + o.type);\n}\n\nfunction resolve_path(path/*:string*/, base/*:string*/)/*:string*/ {\n\tif(path.charAt(0) == \"/\") return path.slice(1);\n\tvar result = base.split('/');\n\tif(base.slice(-1) != \"/\") result.pop(); // folder path\n\tvar target = path.split('/');\n\twhile (target.length !== 0) {\n\t\tvar step = target.shift();\n\t\tif (step === '..') result.pop();\n\t\telse if (step !== '.') result.push(step);\n\t}\n\treturn result.join('/');\n}\nvar XML_HEADER = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n';\nvar attregexg=/([^\"\\s?>\\/]+)\\s*=\\s*((?:\")([^\"]*)(?:\")|(?:')([^']*)(?:')|([^'\">\\s]+))/g;\nvar tagregex1=/<[\\/\\?]?[a-zA-Z0-9:_-]+(?:\\s+[^\"\\s?>\\/]+\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^'\">\\s=]+))*\\s*[\\/\\?]?>/mg, tagregex2 = /<[^>]*>/g;\nvar tagregex = /*#__PURE__*/XML_HEADER.match(tagregex1) ? tagregex1 : tagregex2;\nvar nsregex=/<\\w*:/, nsregex2 = /<(\\/?)\\w+:/;\nfunction parsexmltag(tag/*:string*/, skip_root/*:?boolean*/, skip_LC/*:?boolean*/)/*:any*/ {\n\tvar z = ({}/*:any*/);\n\tvar eq = 0, c = 0;\n\tfor(; eq !== tag.length; ++eq) if((c = tag.charCodeAt(eq)) === 32 || c === 10 || c === 13) break;\n\tif(!skip_root) z[0] = tag.slice(0, eq);\n\tif(eq === tag.length) return z;\n\tvar m = tag.match(attregexg), j=0, v=\"\", i=0, q=\"\", cc=\"\", quot = 1;\n\tif(m) for(i = 0; i != m.length; ++i) {\n\t\tcc = m[i];\n\t\tfor(c=0; c != cc.length; ++c) if(cc.charCodeAt(c) === 61) break;\n\t\tq = cc.slice(0,c).trim();\n\t\twhile(cc.charCodeAt(c+1) == 32) ++c;\n\t\tquot = ((eq=cc.charCodeAt(c+1)) == 34 || eq == 39) ? 1 : 0;\n\t\tv = cc.slice(c+1+quot, cc.length-quot);\n\t\tfor(j=0;j!=q.length;++j) if(q.charCodeAt(j) === 58) break;\n\t\tif(j===q.length) {\n\t\t\tif(q.indexOf(\"_\") > 0) q = q.slice(0, q.indexOf(\"_\")); // from ods\n\t\t\tz[q] = v;\n\t\t\tif(!skip_LC) z[q.toLowerCase()] = v;\n\t\t}\n\t\telse {\n\t\t\tvar k = (j===5 && q.slice(0,5)===\"xmlns\"?\"xmlns\":\"\")+q.slice(j+1);\n\t\t\tif(z[k] && q.slice(j-3,j) == \"ext\") continue; // from ods\n\t\t\tz[k] = v;\n\t\t\tif(!skip_LC) z[k.toLowerCase()] = v;\n\t\t}\n\t}\n\treturn z;\n}\nfunction strip_ns(x/*:string*/)/*:string*/ { return x.replace(nsregex2, \"<$1\"); }\n\nvar encodings = {\n\t'&quot;': '\"',\n\t'&apos;': \"'\",\n\t'&gt;': '>',\n\t'&lt;': '<',\n\t'&amp;': '&'\n};\nvar rencoding = /*#__PURE__*/evert(encodings);\n//var rencstr = \"&<>'\\\"\".split(\"\");\n\n// TODO: CP remap (need to read file version to determine OS)\nvar unescapexml/*:StringConv*/ = /*#__PURE__*/(function() {\n\t/* 22.4.2.4 bstr (Basic String) */\n\tvar encregex = /&(?:quot|apos|gt|lt|amp|#x?([\\da-fA-F]+));/ig, coderegex = /_x([\\da-fA-F]{4})_/ig;\n\treturn function unescapexml(text/*:string*/)/*:string*/ {\n\t\tvar s = text + '', i = s.indexOf(\"<![CDATA[\");\n\t\tif(i == -1) return s.replace(encregex, function($$, $1) { return encodings[$$]||String.fromCharCode(parseInt($1,$$.indexOf(\"x\")>-1?16:10))||$$; }).replace(coderegex,function(m,c) {return String.fromCharCode(parseInt(c,16));});\n\t\tvar j = s.indexOf(\"]]>\");\n\t\treturn unescapexml(s.slice(0, i)) + s.slice(i+9,j) + unescapexml(s.slice(j+3));\n\t};\n})();\n\nvar decregex=/[&<>'\"]/g, charegex = /[\\u0000-\\u0008\\u000b-\\u001f]/g;\nfunction escapexml(text/*:string*/)/*:string*/{\n\tvar s = text + '';\n\treturn s.replace(decregex, function(y) { return rencoding[y]; }).replace(charegex,function(s) { return \"_x\" + (\"000\"+s.charCodeAt(0).toString(16)).slice(-4) + \"_\";});\n}\nfunction escapexmltag(text/*:string*/)/*:string*/{ return escapexml(text).replace(/ /g,\"_x0020_\"); }\n\nvar htmlcharegex = /[\\u0000-\\u001f]/g;\nfunction escapehtml(text/*:string*/)/*:string*/{\n\tvar s = text + '';\n\treturn s.replace(decregex, function(y) { return rencoding[y]; }).replace(/\\n/g, \"<br/>\").replace(htmlcharegex,function(s) { return \"&#x\" + (\"000\"+s.charCodeAt(0).toString(16)).slice(-4) + \";\"; });\n}\n\nfunction escapexlml(text/*:string*/)/*:string*/{\n\tvar s = text + '';\n\treturn s.replace(decregex, function(y) { return rencoding[y]; }).replace(htmlcharegex,function(s) { return \"&#x\" + (s.charCodeAt(0).toString(16)).toUpperCase() + \";\"; });\n}\n\n/* TODO: handle codepages */\nvar xlml_fixstr/*:StringConv*/ = /*#__PURE__*/(function() {\n\tvar entregex = /&#(\\d+);/g;\n\tfunction entrepl($$/*:string*/,$1/*:string*/)/*:string*/ { return String.fromCharCode(parseInt($1,10)); }\n\treturn function xlml_fixstr(str/*:string*/)/*:string*/ { return str.replace(entregex,entrepl); };\n})();\nfunction xlml_unfixstr(str/*:string*/)/*:string*/ { return str.replace(/(\\r\\n|[\\r\\n])/g,\"\\&#10;\"); }\n\nfunction parsexmlbool(value/*:any*/)/*:boolean*/ {\n\tswitch(value) {\n\t\tcase 1: case true: case '1': case 'true': case 'TRUE': return true;\n\t\t/* case '0': case 'false': case 'FALSE':*/\n\t\tdefault: return false;\n\t}\n}\n\nfunction utf8reada(orig/*:string*/)/*:string*/ {\n\tvar out = \"\", i = 0, c = 0, d = 0, e = 0, f = 0, w = 0;\n\twhile (i < orig.length) {\n\t\tc = orig.charCodeAt(i++);\n\t\tif (c < 128) { out += String.fromCharCode(c); continue; }\n\t\td = orig.charCodeAt(i++);\n\t\tif (c>191 && c<224) { f = ((c & 31) << 6); f |= (d & 63); out += String.fromCharCode(f); continue; }\n\t\te = orig.charCodeAt(i++);\n\t\tif (c < 240) { out += String.fromCharCode(((c & 15) << 12) | ((d & 63) << 6) | (e & 63)); continue; }\n\t\tf = orig.charCodeAt(i++);\n\t\tw = (((c & 7) << 18) | ((d & 63) << 12) | ((e & 63) << 6) | (f & 63))-65536;\n\t\tout += String.fromCharCode(0xD800 + ((w>>>10)&1023));\n\t\tout += String.fromCharCode(0xDC00 + (w&1023));\n\t}\n\treturn out;\n}\n\nfunction utf8readb(data) {\n\tvar out = new_raw_buf(2*data.length), w, i, j = 1, k = 0, ww=0, c;\n\tfor(i = 0; i < data.length; i+=j) {\n\t\tj = 1;\n\t\tif((c=data.charCodeAt(i)) < 128) w = c;\n\t\telse if(c < 224) { w = (c&31)*64+(data.charCodeAt(i+1)&63); j=2; }\n\t\telse if(c < 240) { w=(c&15)*4096+(data.charCodeAt(i+1)&63)*64+(data.charCodeAt(i+2)&63); j=3; }\n\t\telse { j = 4;\n\t\t\tw = (c & 7)*262144+(data.charCodeAt(i+1)&63)*4096+(data.charCodeAt(i+2)&63)*64+(data.charCodeAt(i+3)&63);\n\t\t\tw -= 65536; ww = 0xD800 + ((w>>>10)&1023); w = 0xDC00 + (w&1023);\n\t\t}\n\t\tif(ww !== 0) { out[k++] = ww&255; out[k++] = ww>>>8; ww = 0; }\n\t\tout[k++] = w%256; out[k++] = w>>>8;\n\t}\n\treturn out.slice(0,k).toString('ucs2');\n}\n\nfunction utf8readc(data) { return Buffer_from(data, 'binary').toString('utf8'); }\n\nvar utf8corpus = \"foo bar baz\\u00e2\\u0098\\u0083\\u00f0\\u009f\\u008d\\u00a3\";\nvar utf8read = has_buf && (/*#__PURE__*/utf8readc(utf8corpus) == /*#__PURE__*/utf8reada(utf8corpus) && utf8readc || /*#__PURE__*/utf8readb(utf8corpus) == /*#__PURE__*/utf8reada(utf8corpus) && utf8readb) || utf8reada;\n\nvar utf8write/*:StringConv*/ = has_buf ? function(data) { return Buffer_from(data, 'utf8').toString(\"binary\"); } : function(orig/*:string*/)/*:string*/ {\n\tvar out/*:Array<string>*/ = [], i = 0, c = 0, d = 0;\n\twhile(i < orig.length) {\n\t\tc = orig.charCodeAt(i++);\n\t\tswitch(true) {\n\t\t\tcase c < 128: out.push(String.fromCharCode(c)); break;\n\t\t\tcase c < 2048:\n\t\t\t\tout.push(String.fromCharCode(192 + (c >> 6)));\n\t\t\t\tout.push(String.fromCharCode(128 + (c & 63)));\n\t\t\t\tbreak;\n\t\t\tcase c >= 55296 && c < 57344:\n\t\t\t\tc -= 55296; d = orig.charCodeAt(i++) - 56320 + (c<<10);\n\t\t\t\tout.push(String.fromCharCode(240 + ((d >>18) & 7)));\n\t\t\t\tout.push(String.fromCharCode(144 + ((d >>12) & 63)));\n\t\t\t\tout.push(String.fromCharCode(128 + ((d >> 6) & 63)));\n\t\t\t\tout.push(String.fromCharCode(128 + (d & 63)));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tout.push(String.fromCharCode(224 + (c >> 12)));\n\t\t\t\tout.push(String.fromCharCode(128 + ((c >> 6) & 63)));\n\t\t\t\tout.push(String.fromCharCode(128 + (c & 63)));\n\t\t}\n\t}\n\treturn out.join(\"\");\n};\n\n// matches <foo>...</foo> extracts content\nvar matchtag = /*#__PURE__*/(function() {\n\tvar mtcache/*:{[k:string]:RegExp}*/ = ({}/*:any*/);\n\treturn function matchtag(f/*:string*/,g/*:?string*/)/*:RegExp*/ {\n\t\tvar t = f+\"|\"+(g||\"\");\n\t\tif(mtcache[t]) return mtcache[t];\n\t\treturn (mtcache[t] = new RegExp('<(?:\\\\w+:)?'+f+'(?: xml:space=\"preserve\")?(?:[^>]*)>([\\\\s\\\\S]*?)</(?:\\\\w+:)?'+f+'>',((g||\"\")/*:any*/)));\n\t};\n})();\n\nvar htmldecode/*:{(s:string):string}*/ = /*#__PURE__*/(function() {\n\tvar entities/*:Array<[RegExp, string]>*/ = [\n\t\t['nbsp', ' '], ['middot', '·'],\n\t\t['quot', '\"'], ['apos', \"'\"], ['gt',   '>'], ['lt',   '<'], ['amp',  '&']\n\t].map(function(x/*:[string, string]*/) { return [new RegExp('&' + x[0] + ';', \"ig\"), x[1]]; });\n\treturn function htmldecode(str/*:string*/)/*:string*/ {\n\t\tvar o = str\n\t\t\t\t// Remove new lines and spaces from start of content\n\t\t\t\t.replace(/^[\\t\\n\\r ]+/, \"\")\n\t\t\t\t// Remove new lines and spaces from end of content\n\t\t\t\t.replace(/[\\t\\n\\r ]+$/,\"\")\n\t\t\t\t// Added line which removes any white space characters after and before html tags\n\t\t\t\t.replace(/>\\s+/g,\">\").replace(/\\s+</g,\"<\")\n\t\t\t\t// Replace remaining new lines and spaces with space\n\t\t\t\t.replace(/[\\t\\n\\r ]+/g, \" \")\n\t\t\t\t// Replace <br> tags with new lines\n\t\t\t\t.replace(/<\\s*[bB][rR]\\s*\\/?>/g,\"\\n\")\n\t\t\t\t// Strip HTML elements\n\t\t\t\t.replace(/<[^>]*>/g,\"\");\n\t\tfor(var i = 0; i < entities.length; ++i) o = o.replace(entities[i][0], entities[i][1]);\n\t\treturn o;\n\t};\n})();\n\nvar vtregex = /*#__PURE__*/(function(){ var vt_cache = {};\n\treturn function vt_regex(bt) {\n\t\tif(vt_cache[bt] !== undefined) return vt_cache[bt];\n\t\treturn (vt_cache[bt] = new RegExp(\"<(?:vt:)?\" + bt + \">([\\\\s\\\\S]*?)</(?:vt:)?\" + bt + \">\", 'g') );\n};})();\nvar vtvregex = /<\\/?(?:vt:)?variant>/g, vtmregex = /<(?:vt:)([^>]*)>([\\s\\S]*)</;\nfunction parseVector(data/*:string*/, opts)/*:Array<{v:string,t:string}>*/ {\n\tvar h = parsexmltag(data);\n\n\tvar matches/*:Array<string>*/ = data.match(vtregex(h.baseType))||[];\n\tvar res/*:Array<any>*/ = [];\n\tif(matches.length != h.size) {\n\t\tif(opts.WTF) throw new Error(\"unexpected vector length \" + matches.length + \" != \" + h.size);\n\t\treturn res;\n\t}\n\tmatches.forEach(function(x/*:string*/) {\n\t\tvar v = x.replace(vtvregex,\"\").match(vtmregex);\n\t\tif(v) res.push({v:utf8read(v[2]), t:v[1]});\n\t});\n\treturn res;\n}\n\nvar wtregex = /(^\\s|\\s$|\\n)/;\nfunction writetag(f/*:string*/,g/*:string*/)/*:string*/ { return '<' + f + (g.match(wtregex)?' xml:space=\"preserve\"' : \"\") + '>' + g + '</' + f + '>'; }\n\nfunction wxt_helper(h)/*:string*/ { return keys(h).map(function(k) { return \" \" + k + '=\"' + h[k] + '\"';}).join(\"\"); }\nfunction writextag(f/*:string*/,g/*:?string*/,h) { return '<' + f + ((h != null) ? wxt_helper(h) : \"\") + ((g != null) ? (g.match(wtregex)?' xml:space=\"preserve\"' : \"\") + '>' + g + '</' + f : \"/\") + '>';}\n\nfunction write_w3cdtf(d/*:Date*/, t/*:?boolean*/)/*:string*/ { try { return d.toISOString().replace(/\\.\\d*/,\"\"); } catch(e) { if(t) throw e; } return \"\"; }\n\nfunction write_vt(s, xlsx/*:?boolean*/)/*:string*/ {\n\tswitch(typeof s) {\n\t\tcase 'string':\n\t\t\tvar o = writextag('vt:lpwstr', escapexml(s));\n\t\t\tif(xlsx) o = o.replace(/&quot;/g, \"_x0022_\");\n\t\t\treturn o;\n\t\tcase 'number': return writextag((s|0)==s?'vt:i4':'vt:r8', escapexml(String(s)));\n\t\tcase 'boolean': return writextag('vt:bool',s?'true':'false');\n\t}\n\tif(s instanceof Date) return writextag('vt:filetime', write_w3cdtf(s));\n\tthrow new Error(\"Unable to serialize \" + s);\n}\n\nfunction xlml_normalize(d)/*:string*/ {\n\tif(has_buf &&/*::typeof Buffer !== \"undefined\" && d != null && d instanceof Buffer &&*/ Buffer.isBuffer(d)) return d.toString('utf8');\n\tif(typeof d === 'string') return d;\n\t/* duktape */\n\tif(typeof Uint8Array !== 'undefined' && d instanceof Uint8Array) return utf8read(a2s(ab2a(d)));\n\tthrow new Error(\"Bad input format: expected Buffer or string\");\n}\n/* UOS uses CJK in tags */\nvar xlmlregex = /<(\\/?)([^\\s?><!\\/:]*:|)([^\\s?<>:\\/]+)(?:[\\s?:\\/][^>]*)?>/mg;\n//var xlmlregex = /<(\\/?)([a-z0-9]*:|)(\\w+)[^>]*>/mg;\n\nvar XMLNS = ({\n\tCORE_PROPS: 'http://schemas.openxmlformats.org/package/2006/metadata/core-properties',\n\tCUST_PROPS: \"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties\",\n\tEXT_PROPS: \"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\",\n\tCT: 'http://schemas.openxmlformats.org/package/2006/content-types',\n\tRELS: 'http://schemas.openxmlformats.org/package/2006/relationships',\n\tTCMNT: 'http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments',\n\t'dc': 'http://purl.org/dc/elements/1.1/',\n\t'dcterms': 'http://purl.org/dc/terms/',\n\t'dcmitype': 'http://purl.org/dc/dcmitype/',\n\t'mx': 'http://schemas.microsoft.com/office/mac/excel/2008/main',\n\t'r': 'http://schemas.openxmlformats.org/officeDocument/2006/relationships',\n\t'sjs': 'http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties',\n\t'vt': 'http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes',\n\t'xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n\t'xsd': 'http://www.w3.org/2001/XMLSchema'\n}/*:any*/);\n\nvar XMLNS_main = [\n\t'http://schemas.openxmlformats.org/spreadsheetml/2006/main',\n\t'http://purl.oclc.org/ooxml/spreadsheetml/main',\n\t'http://schemas.microsoft.com/office/excel/2006/main',\n\t'http://schemas.microsoft.com/office/excel/2006/2'\n];\n\nvar XLMLNS = ({\n\t'o':    'urn:schemas-microsoft-com:office:office',\n\t'x':    'urn:schemas-microsoft-com:office:excel',\n\t'ss':   'urn:schemas-microsoft-com:office:spreadsheet',\n\t'dt':   'uuid:C2F41010-65B3-11d1-A29F-00AA00C14882',\n\t'mv':   'http://macVmlSchemaUri',\n\t'v':    'urn:schemas-microsoft-com:vml',\n\t'html': 'http://www.w3.org/TR/REC-html40'\n}/*:any*/);\nfunction read_double_le(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ {\n\tvar s = 1 - 2 * (b[idx + 7] >>> 7);\n\tvar e = ((b[idx + 7] & 0x7f) << 4) + ((b[idx + 6] >>> 4) & 0x0f);\n\tvar m = (b[idx+6]&0x0f);\n\tfor(var i = 5; i >= 0; --i) m = m * 256 + b[idx + i];\n\tif(e == 0x7ff) return m == 0 ? (s * Infinity) : NaN;\n\tif(e == 0) e = -1022;\n\telse { e -= 1023; m += Math.pow(2,52); }\n\treturn s * Math.pow(2, e - 52) * m;\n}\n\nfunction write_double_le(b/*:RawBytes|CFBlob*/, v/*:number*/, idx/*:number*/) {\n\tvar bs = ((((v < 0) || (1/v == -Infinity)) ? 1 : 0) << 7), e = 0, m = 0;\n\tvar av = bs ? (-v) : v;\n\tif(!isFinite(av)) { e = 0x7ff; m = isNaN(v) ? 0x6969 : 0; }\n\telse if(av == 0) e = m = 0;\n\telse {\n\t\te = Math.floor(Math.log(av) / Math.LN2);\n\t\tm = av * Math.pow(2, 52 - e);\n\t\tif((e <= -1023) && (!isFinite(m) || (m < Math.pow(2,52)))) { e = -1022; }\n\t\telse { m -= Math.pow(2,52); e+=1023; }\n\t}\n\tfor(var i = 0; i <= 5; ++i, m/=256) b[idx + i] = m & 0xff;\n\tb[idx + 6] = ((e & 0x0f) << 4) | (m & 0xf);\n\tb[idx + 7] = (e >> 4) | bs;\n}\n\nvar ___toBuffer = function(bufs/*:Array<Array<RawBytes> >*/)/*:RawBytes*/ { var x=[],w=10240; for(var i=0;i<bufs[0].length;++i) if(bufs[0][i]) for(var j=0,L=bufs[0][i].length;j<L;j+=w) x.push.apply(x, bufs[0][i].slice(j,j+w)); return x; };\nvar __toBuffer = has_buf ? function(bufs) { return (bufs[0].length > 0 && Buffer.isBuffer(bufs[0][0])) ? Buffer.concat(bufs[0].map(function(x) { return Buffer.isBuffer(x) ? x : Buffer_from(x); })) : ___toBuffer(bufs);} : ___toBuffer;\n\nvar ___utf16le = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/)/*:string*/ { var ss/*:Array<string>*/=[]; for(var i=s; i<e; i+=2) ss.push(String.fromCharCode(__readUInt16LE(b,i))); return ss.join(\"\").replace(chr0,''); };\nvar __utf16le = has_buf ? function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/)/*:string*/ { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___utf16le(b,s,e); return b.toString('utf16le',s,e).replace(chr0,'')/*.replace(chr1,'!')*/; } : ___utf16le;\n\nvar ___hexlify = function(b/*:RawBytes|CFBlob*/,s/*:number*/,l/*:number*/)/*:string*/ { var ss/*:Array<string>*/=[]; for(var i=s; i<s+l; ++i) ss.push((\"0\" + b[i].toString(16)).slice(-2)); return ss.join(\"\"); };\nvar __hexlify = has_buf ? function(b/*:RawBytes|CFBlob*/,s/*:number*/,l/*:number*/)/*:string*/ { return Buffer.isBuffer(b)/*:: && b instanceof Buffer*/ ? b.toString('hex',s,s+l) : ___hexlify(b,s,l); } : ___hexlify;\n\nvar ___utf8 = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/) { var ss=[]; for(var i=s; i<e; i++) ss.push(String.fromCharCode(__readUInt8(b,i))); return ss.join(\"\"); };\nvar __utf8 = has_buf ? function utf8_b(b/*:RawBytes|CFBlob*/, s/*:number*/, e/*:number*/) { return (Buffer.isBuffer(b)/*:: && (b instanceof Buffer)*/) ? b.toString('utf8',s,e) : ___utf8(b,s,e); } : ___utf8;\n\nvar ___lpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : \"\";};\nvar __lpstr = ___lpstr;\n\nvar ___cpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : \"\";};\nvar __cpstr = ___cpstr;\n\nvar ___lpwstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = 2*__readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : \"\";};\nvar __lpwstr = ___lpwstr;\n\nvar ___lpp4 = function lpp4_(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf16le(b, i+4,i+4+len) : \"\";};\nvar __lpp4 = ___lpp4;\n\nvar ___8lpp4 = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len) : \"\";};\nvar __8lpp4 = ___8lpp4;\n\nvar ___double = function(b/*:RawBytes|CFBlob*/, idx/*:number*/) { return read_double_le(b, idx);};\nvar __double = ___double;\n\nvar is_buf = function is_buf_a(a) { return Array.isArray(a) || (typeof Uint8Array !== \"undefined\" && a instanceof Uint8Array); };\n\nif(has_buf/*:: && typeof Buffer !== 'undefined'*/) {\n\t__lpstr = function lpstr_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___lpstr(b, i); var len = b.readUInt32LE(i); return len > 0 ? b.toString('utf8',i+4,i+4+len-1) : \"\";};\n\t__cpstr = function cpstr_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___cpstr(b, i); var len = b.readUInt32LE(i); return len > 0 ? b.toString('utf8',i+4,i+4+len-1) : \"\";};\n\t__lpwstr = function lpwstr_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___lpwstr(b, i); var len = 2*b.readUInt32LE(i); return b.toString('utf16le',i+4,i+4+len-1);};\n\t__lpp4 = function lpp4_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___lpp4(b, i); var len = b.readUInt32LE(i); return b.toString('utf16le',i+4,i+4+len);};\n\t__8lpp4 = function lpp4_8b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___8lpp4(b, i); var len = b.readUInt32LE(i); return b.toString('utf8',i+4,i+4+len);};\n\t__double = function double_(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(Buffer.isBuffer(b)/*::&& b instanceof Buffer*/) return b.readDoubleLE(i); return ___double(b,i); };\n\tis_buf = function is_buf_b(a) { return Buffer.isBuffer(a) || Array.isArray(a) || (typeof Uint8Array !== \"undefined\" && a instanceof Uint8Array); };\n}\n\n/* from js-xls */\nfunction cpdoit() {\n\t__utf16le = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/) { return $cptable.utils.decode(1200, b.slice(s,e)).replace(chr0, ''); };\n\t__utf8 = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/) { return $cptable.utils.decode(65001, b.slice(s,e)); };\n\t__lpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(current_ansi, b.slice(i+4, i+4+len-1)) : \"\";};\n\t__cpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(current_codepage, b.slice(i+4, i+4+len-1)) : \"\";};\n\t__lpwstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = 2*__readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(1200, b.slice(i+4,i+4+len-1)) : \"\";};\n\t__lpp4 = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(1200, b.slice(i+4,i+4+len)) : \"\";};\n\t__8lpp4 = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(65001, b.slice(i+4,i+4+len)) : \"\";};\n}\nif(typeof $cptable !== 'undefined') cpdoit();\n\nvar __readUInt8 = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return b[idx]; };\nvar __readUInt16LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return (b[idx+1]*(1<<8))+b[idx]; };\nvar __readInt16LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { var u = (b[idx+1]*(1<<8))+b[idx]; return (u < 0x8000) ? u : ((0xffff - u + 1) * -1); };\nvar __readUInt32LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return b[idx+3]*(1<<24)+(b[idx+2]<<16)+(b[idx+1]<<8)+b[idx]; };\nvar __readInt32LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return (b[idx+3]<<24)|(b[idx+2]<<16)|(b[idx+1]<<8)|b[idx]; };\nvar __readInt32BE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return (b[idx]<<24)|(b[idx+1]<<16)|(b[idx+2]<<8)|b[idx+3]; };\n\nfunction ReadShift(size/*:number*/, t/*:?string*/)/*:number|string*/ {\n\tvar o=\"\", oI/*:: :number = 0*/, oR, oo=[], w, vv, i, loc;\n\tswitch(t) {\n\t\tcase 'dbcs':\n\t\t\tloc = this.l;\n\t\t\tif(has_buf && Buffer.isBuffer(this)) o = this.slice(this.l, this.l+2*size).toString(\"utf16le\");\n\t\t\telse for(i = 0; i < size; ++i) { o+=String.fromCharCode(__readUInt16LE(this, loc)); loc+=2; }\n\t\t\tsize *= 2;\n\t\t\tbreak;\n\n\t\tcase 'utf8': o = __utf8(this, this.l, this.l + size); break;\n\t\tcase 'utf16le': size *= 2; o = __utf16le(this, this.l, this.l + size); break;\n\n\t\tcase 'wstr':\n\t\t\tif(typeof $cptable !== 'undefined') o = $cptable.utils.decode(current_codepage, this.slice(this.l, this.l+2*size));\n\t\t\telse return ReadShift.call(this, size, 'dbcs');\n\t\t\tsize = 2 * size; break;\n\n\t\t/* [MS-OLEDS] 2.1.4 LengthPrefixedAnsiString */\n\t\tcase 'lpstr-ansi': o = __lpstr(this, this.l); size = 4 + __readUInt32LE(this, this.l); break;\n\t\tcase 'lpstr-cp': o = __cpstr(this, this.l); size = 4 + __readUInt32LE(this, this.l); break;\n\t\t/* [MS-OLEDS] 2.1.5 LengthPrefixedUnicodeString */\n\t\tcase 'lpwstr': o = __lpwstr(this, this.l); size = 4 + 2 * __readUInt32LE(this, this.l); break;\n\t\t/* [MS-OFFCRYPTO] 2.1.2 Length-Prefixed Padded Unicode String (UNICODE-LP-P4) */\n\t\tcase 'lpp4': size = 4 +  __readUInt32LE(this, this.l); o = __lpp4(this, this.l); if(size & 0x02) size += 2; break;\n\t\t/* [MS-OFFCRYPTO] 2.1.3 Length-Prefixed UTF-8 String (UTF-8-LP-P4) */\n\t\tcase '8lpp4': size = 4 +  __readUInt32LE(this, this.l); o = __8lpp4(this, this.l); if(size & 0x03) size += 4 - (size & 0x03); break;\n\n\t\tcase 'cstr': size = 0; o = \"\";\n\t\t\twhile((w=__readUInt8(this, this.l + size++))!==0) oo.push(_getchar(w));\n\t\t\to = oo.join(\"\"); break;\n\t\tcase '_wstr': size = 0; o = \"\";\n\t\t\twhile((w=__readUInt16LE(this,this.l +size))!==0){oo.push(_getchar(w));size+=2;}\n\t\t\tsize+=2; o = oo.join(\"\"); break;\n\n\t\t/* sbcs and dbcs support continue records in the SST way TODO codepages */\n\t\tcase 'dbcs-cont': o = \"\"; loc = this.l;\n\t\t\tfor(i = 0; i < size; ++i) {\n\t\t\t\tif(this.lens && this.lens.indexOf(loc) !== -1) {\n\t\t\t\t\tw = __readUInt8(this, loc);\n\t\t\t\t\tthis.l = loc + 1;\n\t\t\t\t\tvv = ReadShift.call(this, size-i, w ? 'dbcs-cont' : 'sbcs-cont');\n\t\t\t\t\treturn oo.join(\"\") + vv;\n\t\t\t\t}\n\t\t\t\too.push(_getchar(__readUInt16LE(this, loc)));\n\t\t\t\tloc+=2;\n\t\t\t} o = oo.join(\"\"); size *= 2; break;\n\n\t\tcase 'cpstr':\n\t\t\tif(typeof $cptable !== 'undefined') {\n\t\t\t\to = $cptable.utils.decode(current_codepage, this.slice(this.l, this.l + size));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t/* falls through */\n\t\tcase 'sbcs-cont': o = \"\"; loc = this.l;\n\t\t\tfor(i = 0; i != size; ++i) {\n\t\t\t\tif(this.lens && this.lens.indexOf(loc) !== -1) {\n\t\t\t\t\tw = __readUInt8(this, loc);\n\t\t\t\t\tthis.l = loc + 1;\n\t\t\t\t\tvv = ReadShift.call(this, size-i, w ? 'dbcs-cont' : 'sbcs-cont');\n\t\t\t\t\treturn oo.join(\"\") + vv;\n\t\t\t\t}\n\t\t\t\too.push(_getchar(__readUInt8(this, loc)));\n\t\t\t\tloc+=1;\n\t\t\t} o = oo.join(\"\"); break;\n\n\t\tdefault:\n\tswitch(size) {\n\t\tcase 1: oI = __readUInt8(this, this.l); this.l++; return oI;\n\t\tcase 2: oI = (t === 'i' ? __readInt16LE : __readUInt16LE)(this, this.l); this.l += 2; return oI;\n\t\tcase 4: case -4:\n\t\t\tif(t === 'i' || ((this[this.l+3] & 0x80)===0)) { oI = ((size > 0) ? __readInt32LE : __readInt32BE)(this, this.l); this.l += 4; return oI; }\n\t\t\telse { oR = __readUInt32LE(this, this.l); this.l += 4; } return oR;\n\t\tcase 8: case -8:\n\t\t\tif(t === 'f') {\n\t\t\t\tif(size == 8) oR = __double(this, this.l);\n\t\t\t\telse oR = __double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]], 0);\n\t\t\t\tthis.l += 8; return oR;\n\t\t\t} else size = 8;\n\t\t/* falls through */\n\t\tcase 16: o = __hexlify(this, this.l, size); break;\n\t}}\n\tthis.l+=size; return o;\n}\n\nvar __writeUInt32LE = function(b/*:RawBytes|CFBlob*/, val/*:number*/, idx/*:number*/)/*:void*/ { b[idx] = (val & 0xFF); b[idx+1] = ((val >>> 8) & 0xFF); b[idx+2] = ((val >>> 16) & 0xFF); b[idx+3] = ((val >>> 24) & 0xFF); };\nvar __writeInt32LE  = function(b/*:RawBytes|CFBlob*/, val/*:number*/, idx/*:number*/)/*:void*/ { b[idx] = (val & 0xFF); b[idx+1] = ((val >> 8) & 0xFF); b[idx+2] = ((val >> 16) & 0xFF); b[idx+3] = ((val >> 24) & 0xFF); };\nvar __writeUInt16LE = function(b/*:RawBytes|CFBlob*/, val/*:number*/, idx/*:number*/)/*:void*/ { b[idx] = (val & 0xFF); b[idx+1] = ((val >>> 8) & 0xFF); };\n\nfunction WriteShift(t/*:number*/, val/*:string|number*/, f/*:?string*/)/*:any*/ {\n\tvar size = 0, i = 0;\n\tif(f === 'dbcs') {\n\t\t/*:: if(typeof val !== 'string') throw new Error(\"unreachable\"); */\n\t\tfor(i = 0; i != val.length; ++i) __writeUInt16LE(this, val.charCodeAt(i), this.l + 2 * i);\n\t\tsize = 2 * val.length;\n\t} else if(f === 'sbcs') {\n\t\tif(typeof $cptable !== 'undefined' && current_ansi == 874) {\n\t\t\t/* TODO: use tables directly, don't encode */\n\t\t\t/*:: if(typeof val !== \"string\") throw new Error(\"unreachable\"); */\n\t\t\tfor(i = 0; i != val.length; ++i) {\n\t\t\t\tvar cppayload = $cptable.utils.encode(current_ansi, val.charAt(i));\n\t\t\t\tthis[this.l + i] = cppayload[0];\n\t\t\t}\n\t\t} else {\n\t\t\t/*:: if(typeof val !== 'string') throw new Error(\"unreachable\"); */\n\t\t\tval = val.replace(/[^\\x00-\\x7F]/g, \"_\");\n\t\t\t/*:: if(typeof val !== 'string') throw new Error(\"unreachable\"); */\n\t\t\tfor(i = 0; i != val.length; ++i) this[this.l + i] = (val.charCodeAt(i) & 0xFF);\n\t\t}\n\t\tsize = val.length;\n\t} else if(f === 'hex') {\n\t\tfor(; i < t; ++i) {\n\t\t\t/*:: if(typeof val !== \"string\") throw new Error(\"unreachable\"); */\n\t\t\tthis[this.l++] = (parseInt(val.slice(2*i, 2*i+2), 16)||0);\n\t\t} return this;\n\t} else if(f === 'utf16le') {\n\t\t\t/*:: if(typeof val !== \"string\") throw new Error(\"unreachable\"); */\n\t\t\tvar end/*:number*/ = Math.min(this.l + t, this.length);\n\t\t\tfor(i = 0; i < Math.min(val.length, t); ++i) {\n\t\t\t\tvar cc = val.charCodeAt(i);\n\t\t\t\tthis[this.l++] = (cc & 0xff);\n\t\t\t\tthis[this.l++] = (cc >> 8);\n\t\t\t}\n\t\t\twhile(this.l < end) this[this.l++] = 0;\n\t\t\treturn this;\n\t} else /*:: if(typeof val === 'number') */ switch(t) {\n\t\tcase  1: size = 1; this[this.l] = val&0xFF; break;\n\t\tcase  2: size = 2; this[this.l] = val&0xFF; val >>>= 8; this[this.l+1] = val&0xFF; break;\n\t\tcase  3: size = 3; this[this.l] = val&0xFF; val >>>= 8; this[this.l+1] = val&0xFF; val >>>= 8; this[this.l+2] = val&0xFF; break;\n\t\tcase  4: size = 4; __writeUInt32LE(this, val, this.l); break;\n\t\tcase  8: size = 8; if(f === 'f') { write_double_le(this, val, this.l); break; }\n\t\t/* falls through */\n\t\tcase 16: break;\n\t\tcase -4: size = 4; __writeInt32LE(this, val, this.l); break;\n\t}\n\tthis.l += size; return this;\n}\n\nfunction CheckField(hexstr/*:string*/, fld/*:string*/)/*:void*/ {\n\tvar m = __hexlify(this,this.l,hexstr.length>>1);\n\tif(m !== hexstr) throw new Error(fld + 'Expected ' + hexstr + ' saw ' + m);\n\tthis.l += hexstr.length>>1;\n}\n\nfunction prep_blob(blob, pos/*:number*/)/*:void*/ {\n\tblob.l = pos;\n\tblob.read_shift = /*::(*/ReadShift/*:: :any)*/;\n\tblob.chk = CheckField;\n\tblob.write_shift = WriteShift;\n}\n\nfunction parsenoop(blob, length/*:: :number, opts?:any */) { blob.l += length; }\n\nfunction new_buf(sz/*:number*/)/*:Block*/ {\n\tvar o = new_raw_buf(sz);\n\tprep_blob(o, 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.1.4 Record */\nfunction recordhopper(data, cb/*:RecordHopperCB*/, opts/*:?any*/) {\n\tif(!data) return;\n\tvar tmpbyte, cntbyte, length;\n\tprep_blob(data, data.l || 0);\n\tvar L = data.length, RT = 0, tgt = 0;\n\twhile(data.l < L) {\n\t\tRT = data.read_shift(1);\n\t\tif(RT & 0x80) RT = (RT & 0x7F) + ((data.read_shift(1) & 0x7F)<<7);\n\t\tvar R = XLSBRecordEnum[RT] || XLSBRecordEnum[0xFFFF];\n\t\ttmpbyte = data.read_shift(1);\n\t\tlength = tmpbyte & 0x7F;\n\t\tfor(cntbyte = 1; cntbyte <4 && (tmpbyte & 0x80); ++cntbyte) length += ((tmpbyte = data.read_shift(1)) & 0x7F)<<(7*cntbyte);\n\t\ttgt = data.l + length;\n\t\tvar d = R.f && R.f(data, length, opts);\n\t\tdata.l = tgt;\n\t\tif(cb(d, R, RT)) return;\n\t}\n}\n\n/* control buffer usage for fixed-length buffers */\nfunction buf_array()/*:BufArray*/ {\n\tvar bufs/*:Array<Block>*/ = [], blksz = has_buf ? 256 : 2048;\n\tvar newblk = function ba_newblk(sz/*:number*/)/*:Block*/ {\n\t\tvar o/*:Block*/ = (new_buf(sz)/*:any*/);\n\t\tprep_blob(o, 0);\n\t\treturn o;\n\t};\n\n\tvar curbuf/*:Block*/ = newblk(blksz);\n\n\tvar endbuf = function ba_endbuf() {\n\t\tif(!curbuf) return;\n\t\tif(curbuf.length > curbuf.l) { curbuf = curbuf.slice(0, curbuf.l); curbuf.l = curbuf.length; }\n\t\tif(curbuf.length > 0) bufs.push(curbuf);\n\t\tcurbuf = null;\n\t};\n\n\tvar next = function ba_next(sz/*:number*/)/*:Block*/ {\n\t\tif(curbuf && (sz < (curbuf.length - curbuf.l))) return curbuf;\n\t\tendbuf();\n\t\treturn (curbuf = newblk(Math.max(sz+1, blksz)));\n\t};\n\n\tvar end = function ba_end() {\n\t\tendbuf();\n\t\treturn bconcat(bufs);\n\t};\n\n\tvar push = function ba_push(buf) { endbuf(); curbuf = buf; if(curbuf.l == null) curbuf.l = curbuf.length; next(blksz); };\n\n\treturn ({ next:next, push:push, end:end, _bufs:bufs }/*:any*/);\n}\n\nfunction write_record(ba/*:BufArray*/, type/*:number*/, payload, length/*:?number*/) {\n\tvar t/*:number*/ = +type, l;\n\tif(isNaN(t)) return; // TODO: throw something here?\n\tif(!length) length = XLSBRecordEnum[t].p || (payload||[]).length || 0;\n\tl = 1 + (t >= 0x80 ? 1 : 0) + 1/* + length*/;\n\tif(length >= 0x80) ++l; if(length >= 0x4000) ++l; if(length >= 0x200000) ++l;\n\tvar o = ba.next(l);\n\tif(t <= 0x7F) o.write_shift(1, t);\n\telse {\n\t\to.write_shift(1, (t & 0x7F) + 0x80);\n\t\to.write_shift(1, (t >> 7));\n\t}\n\tfor(var i = 0; i != 4; ++i) {\n\t\tif(length >= 0x80) { o.write_shift(1, (length & 0x7F)+0x80); length >>= 7; }\n\t\telse { o.write_shift(1, length); break; }\n\t}\n\tif(/*:: length != null &&*/length > 0 && is_buf(payload)) ba.push(payload);\n}\n/* XLS ranges enforced */\nfunction shift_cell_xls(cell/*:CellAddress*/, tgt/*:any*/, opts/*:?any*/)/*:CellAddress*/ {\n\tvar out = dup(cell);\n\tif(tgt.s) {\n\t\tif(out.cRel) out.c += tgt.s.c;\n\t\tif(out.rRel) out.r += tgt.s.r;\n\t} else {\n\t\tif(out.cRel) out.c += tgt.c;\n\t\tif(out.rRel) out.r += tgt.r;\n\t}\n\tif(!opts || opts.biff < 12) {\n\t\twhile(out.c >= 0x100) out.c -= 0x100;\n\t\twhile(out.r >= 0x10000) out.r -= 0x10000;\n\t}\n\treturn out;\n}\n\nfunction shift_range_xls(cell, range, opts) {\n\tvar out = dup(cell);\n\tout.s = shift_cell_xls(out.s, range.s, opts);\n\tout.e = shift_cell_xls(out.e, range.s, opts);\n\treturn out;\n}\n\nfunction encode_cell_xls(c/*:CellAddress*/, biff/*:number*/)/*:string*/ {\n\tif(c.cRel && c.c < 0) { c = dup(c); while(c.c < 0) c.c += (biff > 8) ? 0x4000 : 0x100; }\n\tif(c.rRel && c.r < 0) { c = dup(c); while(c.r < 0) c.r += (biff > 8) ? 0x100000 : ((biff > 5) ? 0x10000 : 0x4000); }\n\tvar s = encode_cell(c);\n\tif(!c.cRel && c.cRel != null) s = fix_col(s);\n\tif(!c.rRel && c.rRel != null) s = fix_row(s);\n\treturn s;\n}\n\nfunction encode_range_xls(r, opts)/*:string*/ {\n\tif(r.s.r == 0 && !r.s.rRel) {\n\t\tif(r.e.r == (opts.biff >= 12 ? 0xFFFFF : (opts.biff >= 8 ? 0x10000 : 0x4000)) && !r.e.rRel) {\n\t\t\treturn (r.s.cRel ? \"\" : \"$\") + encode_col(r.s.c) + \":\" + (r.e.cRel ? \"\" : \"$\") + encode_col(r.e.c);\n\t\t}\n\t}\n\tif(r.s.c == 0 && !r.s.cRel) {\n\t\tif(r.e.c == (opts.biff >= 12 ? 0x3FFF : 0xFF) && !r.e.cRel) {\n\t\t\treturn (r.s.rRel ? \"\" : \"$\") + encode_row(r.s.r) + \":\" + (r.e.rRel ? \"\" : \"$\") + encode_row(r.e.r);\n\t\t}\n\t}\n\treturn encode_cell_xls(r.s, opts.biff) + \":\" + encode_cell_xls(r.e, opts.biff);\n}\nfunction decode_row(rowstr/*:string*/)/*:number*/ { return parseInt(unfix_row(rowstr),10) - 1; }\nfunction encode_row(row/*:number*/)/*:string*/ { return \"\" + (row + 1); }\nfunction fix_row(cstr/*:string*/)/*:string*/ { return cstr.replace(/([A-Z]|^)(\\d+)$/,\"$1$$$2\"); }\nfunction unfix_row(cstr/*:string*/)/*:string*/ { return cstr.replace(/\\$(\\d+)$/,\"$1\"); }\n\nfunction decode_col(colstr/*:string*/)/*:number*/ { var c = unfix_col(colstr), d = 0, i = 0; for(; i !== c.length; ++i) d = 26*d + c.charCodeAt(i) - 64; return d - 1; }\nfunction encode_col(col/*:number*/)/*:string*/ { if(col < 0) throw new Error(\"invalid column \" + col); var s=\"\"; for(++col; col; col=Math.floor((col-1)/26)) s = String.fromCharCode(((col-1)%26) + 65) + s; return s; }\nfunction fix_col(cstr/*:string*/)/*:string*/ { return cstr.replace(/^([A-Z])/,\"$$$1\"); }\nfunction unfix_col(cstr/*:string*/)/*:string*/ { return cstr.replace(/^\\$([A-Z])/,\"$1\"); }\n\nfunction split_cell(cstr/*:string*/)/*:Array<string>*/ { return cstr.replace(/(\\$?[A-Z]*)(\\$?\\d*)/,\"$1,$2\").split(\",\"); }\n//function decode_cell(cstr/*:string*/)/*:CellAddress*/ { var splt = split_cell(cstr); return { c:decode_col(splt[0]), r:decode_row(splt[1]) }; }\nfunction decode_cell(cstr/*:string*/)/*:CellAddress*/ {\n\tvar R = 0, C = 0;\n\tfor(var i = 0; i < cstr.length; ++i) {\n\t\tvar cc = cstr.charCodeAt(i);\n\t\tif(cc >= 48 && cc <= 57) R = 10 * R + (cc - 48);\n\t\telse if(cc >= 65 && cc <= 90) C = 26 * C + (cc - 64);\n\t}\n\treturn { c: C - 1, r:R - 1 };\n}\n//function encode_cell(cell/*:CellAddress*/)/*:string*/ { return encode_col(cell.c) + encode_row(cell.r); }\nfunction encode_cell(cell/*:CellAddress*/)/*:string*/ {\n\tvar col = cell.c + 1;\n\tvar s=\"\";\n\tfor(; col; col=((col-1)/26)|0) s = String.fromCharCode(((col-1)%26) + 65) + s;\n\treturn s + (cell.r + 1);\n}\nfunction decode_range(range/*:string*/)/*:Range*/ {\n\tvar idx = range.indexOf(\":\");\n\tif(idx == -1) return { s: decode_cell(range), e: decode_cell(range) };\n\treturn { s: decode_cell(range.slice(0, idx)), e: decode_cell(range.slice(idx + 1)) };\n}\n/*# if only one arg, it is assumed to be a Range.  If 2 args, both are cell addresses */\nfunction encode_range(cs/*:CellAddrSpec|Range*/,ce/*:?CellAddrSpec*/)/*:string*/ {\n\tif(typeof ce === 'undefined' || typeof ce === 'number') {\n/*:: if(!(cs instanceof Range)) throw \"unreachable\"; */\n\t\treturn encode_range(cs.s, cs.e);\n\t}\n/*:: if((cs instanceof Range)) throw \"unreachable\"; */\n\tif(typeof cs !== 'string') cs = encode_cell((cs/*:any*/));\n\tif(typeof ce !== 'string') ce = encode_cell((ce/*:any*/));\n/*:: if(typeof cs !== 'string') throw \"unreachable\"; */\n/*:: if(typeof ce !== 'string') throw \"unreachable\"; */\n\treturn cs == ce ? cs : cs + \":\" + ce;\n}\n\nfunction safe_decode_range(range/*:string*/)/*:Range*/ {\n\tvar o = {s:{c:0,r:0},e:{c:0,r:0}};\n\tvar idx = 0, i = 0, cc = 0;\n\tvar len = range.length;\n\tfor(idx = 0; i < len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-64) < 1 || cc > 26) break;\n\t\tidx = 26*idx + cc;\n\t}\n\to.s.c = --idx;\n\n\tfor(idx = 0; i < len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-48) < 0 || cc > 9) break;\n\t\tidx = 10*idx + cc;\n\t}\n\to.s.r = --idx;\n\n\tif(i === len || cc != 10) { o.e.c=o.s.c; o.e.r=o.s.r; return o; }\n\t++i;\n\n\tfor(idx = 0; i != len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-64) < 1 || cc > 26) break;\n\t\tidx = 26*idx + cc;\n\t}\n\to.e.c = --idx;\n\n\tfor(idx = 0; i != len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-48) < 0 || cc > 9) break;\n\t\tidx = 10*idx + cc;\n\t}\n\to.e.r = --idx;\n\treturn o;\n}\n\nfunction safe_format_cell(cell/*:Cell*/, v/*:any*/) {\n\tvar q = (cell.t == 'd' && v instanceof Date);\n\tif(cell.z != null) try { return (cell.w = SSF_format(cell.z, q ? datenum(v) : v)); } catch(e) { }\n\ttry { return (cell.w = SSF_format((cell.XF||{}).numFmtId||(q ? 14 : 0),  q ? datenum(v) : v)); } catch(e) { return ''+v; }\n}\n\nfunction format_cell(cell/*:Cell*/, v/*:any*/, o/*:any*/) {\n\tif(cell == null || cell.t == null || cell.t == 'z') return \"\";\n\tif(cell.w !== undefined) return cell.w;\n\tif(cell.t == 'd' && !cell.z && o && o.dateNF) cell.z = o.dateNF;\n\tif(cell.t == \"e\") return BErr[cell.v] || cell.v;\n\tif(v == undefined) return safe_format_cell(cell, cell.v);\n\treturn safe_format_cell(cell, v);\n}\n\nfunction sheet_to_workbook(sheet/*:Worksheet*/, opts)/*:Workbook*/ {\n\tvar n = opts && opts.sheet ? opts.sheet : \"Sheet1\";\n\tvar sheets = {}; sheets[n] = sheet;\n\treturn { SheetNames: [n], Sheets: sheets };\n}\n\nfunction sheet_add_aoa(_ws/*:?Worksheet*/, data/*:AOA*/, opts/*:?any*/)/*:Worksheet*/ {\n\tvar o = opts || {};\n\tvar dense = _ws ? Array.isArray(_ws) : o.dense;\n\tif(DENSE != null && dense == null) dense = DENSE;\n\tvar ws/*:Worksheet*/ = _ws || (dense ? ([]/*:any*/) : ({}/*:any*/));\n\tvar _R = 0, _C = 0;\n\tif(ws && o.origin != null) {\n\t\tif(typeof o.origin == 'number') _R = o.origin;\n\t\telse {\n\t\t\tvar _origin/*:CellAddress*/ = typeof o.origin == \"string\" ? decode_cell(o.origin) : o.origin;\n\t\t\t_R = _origin.r; _C = _origin.c;\n\t\t}\n\t\tif(!ws[\"!ref\"]) ws[\"!ref\"] = \"A1:A1\";\n\t}\n\tvar range/*:Range*/ = ({s: {c:10000000, r:10000000}, e: {c:0, r:0}}/*:any*/);\n\tif(ws['!ref']) {\n\t\tvar _range = safe_decode_range(ws['!ref']);\n\t\trange.s.c = _range.s.c;\n\t\trange.s.r = _range.s.r;\n\t\trange.e.c = Math.max(range.e.c, _range.e.c);\n\t\trange.e.r = Math.max(range.e.r, _range.e.r);\n\t\tif(_R == -1) range.e.r = _R = _range.e.r + 1;\n\t}\n\tfor(var R = 0; R != data.length; ++R) {\n\t\tif(!data[R]) continue;\n\t\tif(!Array.isArray(data[R])) throw new Error(\"aoa_to_sheet expects an array of arrays\");\n\t\tfor(var C = 0; C != data[R].length; ++C) {\n\t\t\tif(typeof data[R][C] === 'undefined') continue;\n\t\t\tvar cell/*:Cell*/ = ({v: data[R][C] }/*:any*/);\n\t\t\tvar __R = _R + R, __C = _C + C;\n\t\t\tif(range.s.r > __R) range.s.r = __R;\n\t\t\tif(range.s.c > __C) range.s.c = __C;\n\t\t\tif(range.e.r < __R) range.e.r = __R;\n\t\t\tif(range.e.c < __C) range.e.c = __C;\n\t\t\tif(data[R][C] && typeof data[R][C] === 'object' && !Array.isArray(data[R][C]) && !(data[R][C] instanceof Date)) cell = data[R][C];\n\t\t\telse {\n\t\t\t\tif(Array.isArray(cell.v)) { cell.f = data[R][C][1]; cell.v = cell.v[0]; }\n\t\t\t\tif(cell.v === null) {\n\t\t\t\t\tif(cell.f) cell.t = 'n';\n\t\t\t\t\telse if(o.nullError) { cell.t = 'e'; cell.v = 0; }\n\t\t\t\t\telse if(!o.sheetStubs) continue;\n\t\t\t\t\telse cell.t = 'z';\n\t\t\t\t}\n\t\t\t\telse if(typeof cell.v === 'number') cell.t = 'n';\n\t\t\t\telse if(typeof cell.v === 'boolean') cell.t = 'b';\n\t\t\t\telse if(cell.v instanceof Date) {\n\t\t\t\t\tcell.z = o.dateNF || table_fmt[14];\n\t\t\t\t\tif(o.cellDates) { cell.t = 'd'; cell.w = SSF_format(cell.z, datenum(cell.v)); }\n\t\t\t\t\telse { cell.t = 'n'; cell.v = datenum(cell.v); cell.w = SSF_format(cell.z, cell.v); }\n\t\t\t\t}\n\t\t\t\telse cell.t = 's';\n\t\t\t}\n\t\t\tif(dense) {\n\t\t\t\tif(!ws[__R]) ws[__R] = [];\n\t\t\t\tif(ws[__R][__C] && ws[__R][__C].z) cell.z = ws[__R][__C].z;\n\t\t\t\tws[__R][__C] = cell;\n\t\t\t} else {\n\t\t\t\tvar cell_ref = encode_cell(({c:__C,r:__R}/*:any*/));\n\t\t\t\tif(ws[cell_ref] && ws[cell_ref].z) cell.z = ws[cell_ref].z;\n\t\t\t\tws[cell_ref] = cell;\n\t\t\t}\n\t\t}\n\t}\n\tif(range.s.c < 10000000) ws['!ref'] = encode_range(range);\n\treturn ws;\n}\nfunction aoa_to_sheet(data/*:AOA*/, opts/*:?any*/)/*:Worksheet*/ { return sheet_add_aoa(null, data, opts); }\n\nfunction parse_Int32LE(data) {\n\treturn data.read_shift(4, 'i');\n}\nfunction write_UInt32LE(x/*:number*/, o) {\n\tif (!o) o = new_buf(4);\n\to.write_shift(4, x);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.168 */\nfunction parse_XLWideString(data/*::, length*/)/*:string*/ {\n\tvar cchCharacters = data.read_shift(4);\n\treturn cchCharacters === 0 ? \"\" : data.read_shift(cchCharacters, 'dbcs');\n}\nfunction write_XLWideString(data/*:string*/, o) {\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(4 + 2 * data.length); }\n\to.write_shift(4, data.length);\n\tif (data.length > 0) o.write_shift(0, data, 'dbcs');\n\treturn _null ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.5.91 */\n//function parse_LPWideString(data/*::, length*/)/*:string*/ {\n//\tvar cchCharacters = data.read_shift(2);\n//\treturn cchCharacters === 0 ? \"\" : data.read_shift(cchCharacters, \"utf16le\");\n//}\n\n/* [MS-XLSB] 2.5.143 */\nfunction parse_StrRun(data) {\n\treturn { ich: data.read_shift(2), ifnt: data.read_shift(2) };\n}\nfunction write_StrRun(run, o) {\n\tif (!o) o = new_buf(4);\n\to.write_shift(2, run.ich || 0);\n\to.write_shift(2, run.ifnt || 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.121 */\nfunction parse_RichStr(data, length/*:number*/)/*:XLString*/ {\n\tvar start = data.l;\n\tvar flags = data.read_shift(1);\n\tvar str = parse_XLWideString(data);\n\tvar rgsStrRun = [];\n\tvar z = ({ t: str, h: str }/*:any*/);\n\tif ((flags & 1) !== 0) { /* fRichStr */\n\t\t/* TODO: formatted string */\n\t\tvar dwSizeStrRun = data.read_shift(4);\n\t\tfor (var i = 0; i != dwSizeStrRun; ++i) rgsStrRun.push(parse_StrRun(data));\n\t\tz.r = rgsStrRun;\n\t}\n\telse z.r = [{ ich: 0, ifnt: 0 }];\n\t//if((flags & 2) !== 0) { /* fExtStr */\n\t//\t/* TODO: phonetic string */\n\t//}\n\tdata.l = start + length;\n\treturn z;\n}\nfunction write_RichStr(str/*:XLString*/, o/*:?Block*/)/*:Block*/ {\n\t/* TODO: formatted string */\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(15 + 4 * str.t.length); }\n\to.write_shift(1, 0);\n\twrite_XLWideString(str.t, o);\n\treturn _null ? o.slice(0, o.l) : o;\n}\n/* [MS-XLSB] 2.4.328 BrtCommentText (RichStr w/1 run) */\nvar parse_BrtCommentText = parse_RichStr;\nfunction write_BrtCommentText(str/*:XLString*/, o/*:?Block*/)/*:Block*/ {\n\t/* TODO: formatted string */\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(23 + 4 * str.t.length); }\n\to.write_shift(1, 1);\n\twrite_XLWideString(str.t, o);\n\to.write_shift(4, 1);\n\twrite_StrRun({ ich: 0, ifnt: 0 }, o);\n\treturn _null ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.5.9 */\nfunction parse_XLSBCell(data)/*:any*/ {\n\tvar col = data.read_shift(4);\n\tvar iStyleRef = data.read_shift(2);\n\tiStyleRef += data.read_shift(1) << 16;\n\tdata.l++; //var fPhShow = data.read_shift(1);\n\treturn { c: col, iStyleRef: iStyleRef };\n}\nfunction write_XLSBCell(cell/*:any*/, o/*:?Block*/) {\n\tif (o == null) o = new_buf(8);\n\to.write_shift(-4, cell.c);\n\to.write_shift(3, cell.iStyleRef || cell.s);\n\to.write_shift(1, 0); /* fPhShow */\n\treturn o;\n}\n\n/* Short XLSB Cell does not include column */\nfunction parse_XLSBShortCell(data)/*:any*/ {\n\tvar iStyleRef = data.read_shift(2);\n\tiStyleRef += data.read_shift(1) <<16;\n\tdata.l++; //var fPhShow = data.read_shift(1);\n\treturn { c:-1, iStyleRef: iStyleRef };\n}\nfunction write_XLSBShortCell(cell/*:any*/, o/*:?Block*/) {\n\tif(o == null) o = new_buf(4);\n\to.write_shift(3, cell.iStyleRef || cell.s);\n\to.write_shift(1, 0); /* fPhShow */\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.21 */\nvar parse_XLSBCodeName = parse_XLWideString;\nvar write_XLSBCodeName = write_XLWideString;\n\n/* [MS-XLSB] 2.5.166 */\nfunction parse_XLNullableWideString(data/*::, length*/)/*:string*/ {\n\tvar cchCharacters = data.read_shift(4);\n\treturn cchCharacters === 0 || cchCharacters === 0xFFFFFFFF ? \"\" : data.read_shift(cchCharacters, 'dbcs');\n}\nfunction write_XLNullableWideString(data/*:string*/, o) {\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(127); }\n\to.write_shift(4, data.length > 0 ? data.length : 0xFFFFFFFF);\n\tif (data.length > 0) o.write_shift(0, data, 'dbcs');\n\treturn _null ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.5.165 */\nvar parse_XLNameWideString = parse_XLWideString;\n//var write_XLNameWideString = write_XLWideString;\n\n/* [MS-XLSB] 2.5.114 */\nvar parse_RelID = parse_XLNullableWideString;\nvar write_RelID = write_XLNullableWideString;\n\n\n/* [MS-XLS] 2.5.217 ; [MS-XLSB] 2.5.122 */\nfunction parse_RkNumber(data)/*:number*/ {\n\tvar b = data.slice(data.l, data.l + 4);\n\tvar fX100 = (b[0] & 1), fInt = (b[0] & 2);\n\tdata.l += 4;\n\tvar RK = fInt === 0 ? __double([0, 0, 0, 0, (b[0] & 0xFC), b[1], b[2], b[3]], 0) : __readInt32LE(b, 0) >> 2;\n\treturn fX100 ? (RK / 100) : RK;\n}\nfunction write_RkNumber(data/*:number*/, o) {\n\tif (o == null) o = new_buf(4);\n\tvar fX100 = 0, fInt = 0, d100 = data * 100;\n\tif ((data == (data | 0)) && (data >= -(1 << 29)) && (data < (1 << 29))) { fInt = 1; }\n\telse if ((d100 == (d100 | 0)) && (d100 >= -(1 << 29)) && (d100 < (1 << 29))) { fInt = 1; fX100 = 1; }\n\tif (fInt) o.write_shift(-4, ((fX100 ? d100 : data) << 2) + (fX100 + 2));\n\telse throw new Error(\"unsupported RkNumber \" + data); // TODO\n}\n\n\n/* [MS-XLSB] 2.5.117 RfX */\nfunction parse_RfX(data /*::, length*/)/*:Range*/ {\n\tvar cell/*:Range*/ = ({ s: {}, e: {} }/*:any*/);\n\tcell.s.r = data.read_shift(4);\n\tcell.e.r = data.read_shift(4);\n\tcell.s.c = data.read_shift(4);\n\tcell.e.c = data.read_shift(4);\n\treturn cell;\n}\nfunction write_RfX(r/*:Range*/, o) {\n\tif (!o) o = new_buf(16);\n\to.write_shift(4, r.s.r);\n\to.write_shift(4, r.e.r);\n\to.write_shift(4, r.s.c);\n\to.write_shift(4, r.e.c);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.153 UncheckedRfX */\nvar parse_UncheckedRfX = parse_RfX;\nvar write_UncheckedRfX = write_RfX;\n\n/* [MS-XLSB] 2.5.155 UncheckedSqRfX */\n//function parse_UncheckedSqRfX(data) {\n//\tvar cnt = data.read_shift(4);\n//\tvar out = [];\n//\tfor(var i = 0; i < cnt; ++i) {\n//\t\tvar rng = parse_UncheckedRfX(data);\n//\t\tout.push(encode_range(rng));\n//\t}\n//\treturn out.join(\",\");\n//}\n//function write_UncheckedSqRfX(sqrfx/*:string*/) {\n//\tvar parts = sqrfx.split(/\\s*,\\s*/);\n//\tvar o = new_buf(4); o.write_shift(4, parts.length);\n//\tvar out = [o];\n//\tparts.forEach(function(rng) {\n//\t\tout.push(write_UncheckedRfX(safe_decode_range(rng)));\n//\t});\n//\treturn bconcat(out);\n//}\n\n/* [MS-XLS] 2.5.342 ; [MS-XLSB] 2.5.171 */\n/* TODO: error checking, NaN and Infinity values are not valid Xnum */\nfunction parse_Xnum(data/*::, length*/) {\n\tif(data.length - data.l < 8) throw \"XLS Xnum Buffer underflow\";\n\treturn data.read_shift(8, 'f');\n}\nfunction write_Xnum(data, o) { return (o || new_buf(8)).write_shift(8, data, 'f'); }\n\n/* [MS-XLSB] 2.4.324 BrtColor */\nfunction parse_BrtColor(data/*::, length*/) {\n\tvar out = {};\n\tvar d = data.read_shift(1);\n\n\t//var fValidRGB = d & 1;\n\tvar xColorType = d >>> 1;\n\n\tvar index = data.read_shift(1);\n\tvar nTS = data.read_shift(2, 'i');\n\tvar bR = data.read_shift(1);\n\tvar bG = data.read_shift(1);\n\tvar bB = data.read_shift(1);\n\tdata.l++; //var bAlpha = data.read_shift(1);\n\n\tswitch (xColorType) {\n\t\tcase 0: out.auto = 1; break;\n\t\tcase 1:\n\t\t\tout.index = index;\n\t\t\tvar icv = XLSIcv[index];\n\t\t\t/* automatic pseudo index 81 */\n\t\t\tif (icv) out.rgb = rgb2Hex(icv);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\t/* if(!fValidRGB) throw new Error(\"invalid\"); */\n\t\t\tout.rgb = rgb2Hex([bR, bG, bB]);\n\t\t\tbreak;\n\t\tcase 3: out.theme = index; break;\n\t}\n\tif (nTS != 0) out.tint = nTS > 0 ? nTS / 32767 : nTS / 32768;\n\n\treturn out;\n}\nfunction write_BrtColor(color, o) {\n\tif (!o) o = new_buf(8);\n\tif (!color || color.auto) { o.write_shift(4, 0); o.write_shift(4, 0); return o; }\n\tif (color.index != null) {\n\t\to.write_shift(1, 0x02);\n\t\to.write_shift(1, color.index);\n\t} else if (color.theme != null) {\n\t\to.write_shift(1, 0x06);\n\t\to.write_shift(1, color.theme);\n\t} else {\n\t\to.write_shift(1, 0x05);\n\t\to.write_shift(1, 0);\n\t}\n\tvar nTS = color.tint || 0;\n\tif (nTS > 0) nTS *= 32767;\n\telse if (nTS < 0) nTS *= 32768;\n\to.write_shift(2, nTS);\n\tif (!color.rgb || color.theme != null) {\n\t\to.write_shift(2, 0);\n\t\to.write_shift(1, 0);\n\t\to.write_shift(1, 0);\n\t} else {\n\t\tvar rgb = (color.rgb || 'FFFFFF');\n\t\tif (typeof rgb == 'number') rgb = (\"000000\" + rgb.toString(16)).slice(-6);\n\t\to.write_shift(1, parseInt(rgb.slice(0, 2), 16));\n\t\to.write_shift(1, parseInt(rgb.slice(2, 4), 16));\n\t\to.write_shift(1, parseInt(rgb.slice(4, 6), 16));\n\t\to.write_shift(1, 0xFF);\n\t}\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.52 */\nfunction parse_FontFlags(data/*::, length, opts*/) {\n\tvar d = data.read_shift(1);\n\tdata.l++;\n\tvar out = {\n\t\tfBold: d & 0x01,\n\t\tfItalic: d & 0x02,\n\t\tfUnderline: d & 0x04,\n\t\tfStrikeout: d & 0x08,\n\t\tfOutline: d & 0x10,\n\t\tfShadow: d & 0x20,\n\t\tfCondense: d & 0x40,\n\t\tfExtend: d & 0x80\n\t};\n\treturn out;\n}\nfunction write_FontFlags(font, o) {\n\tif (!o) o = new_buf(2);\n\tvar grbit =\n\t\t(font.italic ? 0x02 : 0) |\n\t\t(font.strike ? 0x08 : 0) |\n\t\t(font.outline ? 0x10 : 0) |\n\t\t(font.shadow ? 0x20 : 0) |\n\t\t(font.condense ? 0x40 : 0) |\n\t\t(font.extend ? 0x80 : 0);\n\to.write_shift(1, grbit);\n\to.write_shift(1, 0);\n\treturn o;\n}\n\n/* [MS-OLEDS] 2.3.1 and 2.3.2 */\nfunction parse_ClipboardFormatOrString(o, w/*:number*/)/*:string*/ {\n\t// $FlowIgnore\n\tvar ClipFmt = { 2: \"BITMAP\", 3: \"METAFILEPICT\", 8: \"DIB\", 14: \"ENHMETAFILE\" };\n\tvar m/*:number*/ = o.read_shift(4);\n\tswitch (m) {\n\t\tcase 0x00000000: return \"\";\n\t\tcase 0xffffffff: case 0xfffffffe: return ClipFmt[o.read_shift(4)] || \"\";\n\t}\n\tif (m > 0x190) throw new Error(\"Unsupported Clipboard: \" + m.toString(16));\n\to.l -= 4;\n\treturn o.read_shift(0, w == 1 ? \"lpstr\" : \"lpwstr\");\n}\nfunction parse_ClipboardFormatOrAnsiString(o) { return parse_ClipboardFormatOrString(o, 1); }\nfunction parse_ClipboardFormatOrUnicodeString(o) { return parse_ClipboardFormatOrString(o, 2); }\n\n/* [MS-OLEPS] 2.2 PropertyType */\n// Note: some tree shakers cannot handle VT_VECTOR | $CONST, hence extra vars\n//var VT_EMPTY    = 0x0000;\n//var VT_NULL     = 0x0001;\nvar VT_I2       = 0x0002;\nvar VT_I4       = 0x0003;\n//var VT_R4       = 0x0004;\n//var VT_R8       = 0x0005;\n//var VT_CY       = 0x0006;\n//var VT_DATE     = 0x0007;\n//var VT_BSTR     = 0x0008;\n//var VT_ERROR    = 0x000A;\nvar VT_BOOL     = 0x000B;\nvar VT_VARIANT  = 0x000C;\n//var VT_DECIMAL  = 0x000E;\n//var VT_I1       = 0x0010;\n//var VT_UI1      = 0x0011;\n//var VT_UI2      = 0x0012;\nvar VT_UI4      = 0x0013;\n//var VT_I8       = 0x0014;\n//var VT_UI8      = 0x0015;\n//var VT_INT      = 0x0016;\n//var VT_UINT     = 0x0017;\nvar VT_LPSTR    = 0x001E;\n//var VT_LPWSTR   = 0x001F;\nvar VT_FILETIME = 0x0040;\nvar VT_BLOB     = 0x0041;\n//var VT_STREAM   = 0x0042;\n//var VT_STORAGE  = 0x0043;\n//var VT_STREAMED_Object  = 0x0044;\n//var VT_STORED_Object    = 0x0045;\n//var VT_BLOB_Object      = 0x0046;\nvar VT_CF       = 0x0047;\n//var VT_CLSID    = 0x0048;\n//var VT_VERSIONED_STREAM = 0x0049;\nvar VT_VECTOR   = 0x1000;\nvar VT_VECTOR_VARIANT = 0x100C;\nvar VT_VECTOR_LPSTR   = 0x101E;\n//var VT_ARRAY    = 0x2000;\n\nvar VT_STRING   = 0x0050; // 2.3.3.1.11 VtString\nvar VT_USTR     = 0x0051; // 2.3.3.1.12 VtUnalignedString\nvar VT_CUSTOM   = [VT_STRING, VT_USTR];\n\n/* [MS-OSHARED] 2.3.3.2.2.1 Document Summary Information PIDDSI */\nvar DocSummaryPIDDSI = {\n\t/*::[*/0x01/*::]*/: { n: 'CodePage', t: VT_I2 },\n\t/*::[*/0x02/*::]*/: { n: 'Category', t: VT_STRING },\n\t/*::[*/0x03/*::]*/: { n: 'PresentationFormat', t: VT_STRING },\n\t/*::[*/0x04/*::]*/: { n: 'ByteCount', t: VT_I4 },\n\t/*::[*/0x05/*::]*/: { n: 'LineCount', t: VT_I4 },\n\t/*::[*/0x06/*::]*/: { n: 'ParagraphCount', t: VT_I4 },\n\t/*::[*/0x07/*::]*/: { n: 'SlideCount', t: VT_I4 },\n\t/*::[*/0x08/*::]*/: { n: 'NoteCount', t: VT_I4 },\n\t/*::[*/0x09/*::]*/: { n: 'HiddenCount', t: VT_I4 },\n\t/*::[*/0x0a/*::]*/: { n: 'MultimediaClipCount', t: VT_I4 },\n\t/*::[*/0x0b/*::]*/: { n: 'ScaleCrop', t: VT_BOOL },\n\t/*::[*/0x0c/*::]*/: { n: 'HeadingPairs', t: VT_VECTOR_VARIANT /* VT_VECTOR | VT_VARIANT */ },\n\t/*::[*/0x0d/*::]*/: { n: 'TitlesOfParts', t: VT_VECTOR_LPSTR /* VT_VECTOR | VT_LPSTR */ },\n\t/*::[*/0x0e/*::]*/: { n: 'Manager', t: VT_STRING },\n\t/*::[*/0x0f/*::]*/: { n: 'Company', t: VT_STRING },\n\t/*::[*/0x10/*::]*/: { n: 'LinksUpToDate', t: VT_BOOL },\n\t/*::[*/0x11/*::]*/: { n: 'CharacterCount', t: VT_I4 },\n\t/*::[*/0x13/*::]*/: { n: 'SharedDoc', t: VT_BOOL },\n\t/*::[*/0x16/*::]*/: { n: 'HyperlinksChanged', t: VT_BOOL },\n\t/*::[*/0x17/*::]*/: { n: 'AppVersion', t: VT_I4, p: 'version' },\n\t/*::[*/0x18/*::]*/: { n: 'DigSig', t: VT_BLOB },\n\t/*::[*/0x1A/*::]*/: { n: 'ContentType', t: VT_STRING },\n\t/*::[*/0x1B/*::]*/: { n: 'ContentStatus', t: VT_STRING },\n\t/*::[*/0x1C/*::]*/: { n: 'Language', t: VT_STRING },\n\t/*::[*/0x1D/*::]*/: { n: 'Version', t: VT_STRING },\n\t/*::[*/0xFF/*::]*/: {},\n\t/* [MS-OLEPS] 2.18 */\n\t/*::[*/0x80000000/*::]*/: { n: 'Locale', t: VT_UI4 },\n\t/*::[*/0x80000003/*::]*/: { n: 'Behavior', t: VT_UI4 },\n\t/*::[*/0x72627262/*::]*/: {}\n};\n\n/* [MS-OSHARED] 2.3.3.2.1.1 Summary Information Property Set PIDSI */\nvar SummaryPIDSI = {\n\t/*::[*/0x01/*::]*/: { n: 'CodePage', t: VT_I2 },\n\t/*::[*/0x02/*::]*/: { n: 'Title', t: VT_STRING },\n\t/*::[*/0x03/*::]*/: { n: 'Subject', t: VT_STRING },\n\t/*::[*/0x04/*::]*/: { n: 'Author', t: VT_STRING },\n\t/*::[*/0x05/*::]*/: { n: 'Keywords', t: VT_STRING },\n\t/*::[*/0x06/*::]*/: { n: 'Comments', t: VT_STRING },\n\t/*::[*/0x07/*::]*/: { n: 'Template', t: VT_STRING },\n\t/*::[*/0x08/*::]*/: { n: 'LastAuthor', t: VT_STRING },\n\t/*::[*/0x09/*::]*/: { n: 'RevNumber', t: VT_STRING },\n\t/*::[*/0x0A/*::]*/: { n: 'EditTime', t: VT_FILETIME },\n\t/*::[*/0x0B/*::]*/: { n: 'LastPrinted', t: VT_FILETIME },\n\t/*::[*/0x0C/*::]*/: { n: 'CreatedDate', t: VT_FILETIME },\n\t/*::[*/0x0D/*::]*/: { n: 'ModifiedDate', t: VT_FILETIME },\n\t/*::[*/0x0E/*::]*/: { n: 'PageCount', t: VT_I4 },\n\t/*::[*/0x0F/*::]*/: { n: 'WordCount', t: VT_I4 },\n\t/*::[*/0x10/*::]*/: { n: 'CharCount', t: VT_I4 },\n\t/*::[*/0x11/*::]*/: { n: 'Thumbnail', t: VT_CF },\n\t/*::[*/0x12/*::]*/: { n: 'Application', t: VT_STRING },\n\t/*::[*/0x13/*::]*/: { n: 'DocSecurity', t: VT_I4 },\n\t/*::[*/0xFF/*::]*/: {},\n\t/* [MS-OLEPS] 2.18 */\n\t/*::[*/0x80000000/*::]*/: { n: 'Locale', t: VT_UI4 },\n\t/*::[*/0x80000003/*::]*/: { n: 'Behavior', t: VT_UI4 },\n\t/*::[*/0x72627262/*::]*/: {}\n};\n\n/* [MS-XLS] 2.4.63 Country/Region codes */\nvar CountryEnum = {\n\t/*::[*/0x0001/*::]*/: \"US\", // United States\n\t/*::[*/0x0002/*::]*/: \"CA\", // Canada\n\t/*::[*/0x0003/*::]*/: \"\", // Latin America (except Brazil)\n\t/*::[*/0x0007/*::]*/: \"RU\", // Russia\n\t/*::[*/0x0014/*::]*/: \"EG\", // Egypt\n\t/*::[*/0x001E/*::]*/: \"GR\", // Greece\n\t/*::[*/0x001F/*::]*/: \"NL\", // Netherlands\n\t/*::[*/0x0020/*::]*/: \"BE\", // Belgium\n\t/*::[*/0x0021/*::]*/: \"FR\", // France\n\t/*::[*/0x0022/*::]*/: \"ES\", // Spain\n\t/*::[*/0x0024/*::]*/: \"HU\", // Hungary\n\t/*::[*/0x0027/*::]*/: \"IT\", // Italy\n\t/*::[*/0x0029/*::]*/: \"CH\", // Switzerland\n\t/*::[*/0x002B/*::]*/: \"AT\", // Austria\n\t/*::[*/0x002C/*::]*/: \"GB\", // United Kingdom\n\t/*::[*/0x002D/*::]*/: \"DK\", // Denmark\n\t/*::[*/0x002E/*::]*/: \"SE\", // Sweden\n\t/*::[*/0x002F/*::]*/: \"NO\", // Norway\n\t/*::[*/0x0030/*::]*/: \"PL\", // Poland\n\t/*::[*/0x0031/*::]*/: \"DE\", // Germany\n\t/*::[*/0x0034/*::]*/: \"MX\", // Mexico\n\t/*::[*/0x0037/*::]*/: \"BR\", // Brazil\n\t/*::[*/0x003d/*::]*/: \"AU\", // Australia\n\t/*::[*/0x0040/*::]*/: \"NZ\", // New Zealand\n\t/*::[*/0x0042/*::]*/: \"TH\", // Thailand\n\t/*::[*/0x0051/*::]*/: \"JP\", // Japan\n\t/*::[*/0x0052/*::]*/: \"KR\", // Korea\n\t/*::[*/0x0054/*::]*/: \"VN\", // Viet Nam\n\t/*::[*/0x0056/*::]*/: \"CN\", // China\n\t/*::[*/0x005A/*::]*/: \"TR\", // Turkey\n\t/*::[*/0x0069/*::]*/: \"JS\", // Ramastan\n\t/*::[*/0x00D5/*::]*/: \"DZ\", // Algeria\n\t/*::[*/0x00D8/*::]*/: \"MA\", // Morocco\n\t/*::[*/0x00DA/*::]*/: \"LY\", // Libya\n\t/*::[*/0x015F/*::]*/: \"PT\", // Portugal\n\t/*::[*/0x0162/*::]*/: \"IS\", // Iceland\n\t/*::[*/0x0166/*::]*/: \"FI\", // Finland\n\t/*::[*/0x01A4/*::]*/: \"CZ\", // Czech Republic\n\t/*::[*/0x0376/*::]*/: \"TW\", // Taiwan\n\t/*::[*/0x03C1/*::]*/: \"LB\", // Lebanon\n\t/*::[*/0x03C2/*::]*/: \"JO\", // Jordan\n\t/*::[*/0x03C3/*::]*/: \"SY\", // Syria\n\t/*::[*/0x03C4/*::]*/: \"IQ\", // Iraq\n\t/*::[*/0x03C5/*::]*/: \"KW\", // Kuwait\n\t/*::[*/0x03C6/*::]*/: \"SA\", // Saudi Arabia\n\t/*::[*/0x03CB/*::]*/: \"AE\", // United Arab Emirates\n\t/*::[*/0x03CC/*::]*/: \"IL\", // Israel\n\t/*::[*/0x03CE/*::]*/: \"QA\", // Qatar\n\t/*::[*/0x03D5/*::]*/: \"IR\", // Iran\n\t/*::[*/0xFFFF/*::]*/: \"US\"  // United States\n};\n\n/* [MS-XLS] 2.5.127 */\nvar XLSFillPattern = [\n\tnull,\n\t'solid',\n\t'mediumGray',\n\t'darkGray',\n\t'lightGray',\n\t'darkHorizontal',\n\t'darkVertical',\n\t'darkDown',\n\t'darkUp',\n\t'darkGrid',\n\t'darkTrellis',\n\t'lightHorizontal',\n\t'lightVertical',\n\t'lightDown',\n\t'lightUp',\n\t'lightGrid',\n\t'lightTrellis',\n\t'gray125',\n\t'gray0625'\n];\n\nfunction rgbify(arr/*:Array<number>*/)/*:Array<[number, number, number]>*/ { return arr.map(function(x) { return [(x>>16)&255,(x>>8)&255,x&255]; }); }\n\n/* [MS-XLS] 2.5.161 */\n/* [MS-XLSB] 2.5.75 Icv */\nvar _XLSIcv = /*#__PURE__*/ rgbify([\n\t/* Color Constants */\n\t0x000000,\n\t0xFFFFFF,\n\t0xFF0000,\n\t0x00FF00,\n\t0x0000FF,\n\t0xFFFF00,\n\t0xFF00FF,\n\t0x00FFFF,\n\n\t/* Overridable Defaults */\n\t0x000000,\n\t0xFFFFFF,\n\t0xFF0000,\n\t0x00FF00,\n\t0x0000FF,\n\t0xFFFF00,\n\t0xFF00FF,\n\t0x00FFFF,\n\n\t0x800000,\n\t0x008000,\n\t0x000080,\n\t0x808000,\n\t0x800080,\n\t0x008080,\n\t0xC0C0C0,\n\t0x808080,\n\t0x9999FF,\n\t0x993366,\n\t0xFFFFCC,\n\t0xCCFFFF,\n\t0x660066,\n\t0xFF8080,\n\t0x0066CC,\n\t0xCCCCFF,\n\n\t0x000080,\n\t0xFF00FF,\n\t0xFFFF00,\n\t0x00FFFF,\n\t0x800080,\n\t0x800000,\n\t0x008080,\n\t0x0000FF,\n\t0x00CCFF,\n\t0xCCFFFF,\n\t0xCCFFCC,\n\t0xFFFF99,\n\t0x99CCFF,\n\t0xFF99CC,\n\t0xCC99FF,\n\t0xFFCC99,\n\n\t0x3366FF,\n\t0x33CCCC,\n\t0x99CC00,\n\t0xFFCC00,\n\t0xFF9900,\n\t0xFF6600,\n\t0x666699,\n\t0x969696,\n\t0x003366,\n\t0x339966,\n\t0x003300,\n\t0x333300,\n\t0x993300,\n\t0x993366,\n\t0x333399,\n\t0x333333,\n\n\t/* Other entries to appease BIFF8/12 */\n\t0xFFFFFF, /* 0x40 icvForeground ?? */\n\t0x000000, /* 0x41 icvBackground ?? */\n\t0x000000, /* 0x42 icvFrame ?? */\n\t0x000000, /* 0x43 icv3D ?? */\n\t0x000000, /* 0x44 icv3DText ?? */\n\t0x000000, /* 0x45 icv3DHilite ?? */\n\t0x000000, /* 0x46 icv3DShadow ?? */\n\t0x000000, /* 0x47 icvHilite ?? */\n\t0x000000, /* 0x48 icvCtlText ?? */\n\t0x000000, /* 0x49 icvCtlScrl ?? */\n\t0x000000, /* 0x4A icvCtlInv ?? */\n\t0x000000, /* 0x4B icvCtlBody ?? */\n\t0x000000, /* 0x4C icvCtlFrame ?? */\n\t0x000000, /* 0x4D icvCtlFore ?? */\n\t0x000000, /* 0x4E icvCtlBack ?? */\n\t0x000000, /* 0x4F icvCtlNeutral */\n\t0x000000, /* 0x50 icvInfoBk ?? */\n\t0x000000 /* 0x51 icvInfoText ?? */\n]);\nvar XLSIcv = /*#__PURE__*/dup(_XLSIcv);\n\n/* [MS-XLSB] 2.5.97.2 */\nvar BErr = {\n\t/*::[*/0x00/*::]*/: \"#NULL!\",\n\t/*::[*/0x07/*::]*/: \"#DIV/0!\",\n\t/*::[*/0x0F/*::]*/: \"#VALUE!\",\n\t/*::[*/0x17/*::]*/: \"#REF!\",\n\t/*::[*/0x1D/*::]*/: \"#NAME?\",\n\t/*::[*/0x24/*::]*/: \"#NUM!\",\n\t/*::[*/0x2A/*::]*/: \"#N/A\",\n\t/*::[*/0x2B/*::]*/: \"#GETTING_DATA\",\n\t/*::[*/0xFF/*::]*/: \"#WTF?\"\n};\n//var RBErr = evert_num(BErr);\nvar RBErr = {\n\t\"#NULL!\":        0x00,\n\t\"#DIV/0!\":       0x07,\n\t\"#VALUE!\":       0x0F,\n\t\"#REF!\":         0x17,\n\t\"#NAME?\":        0x1D,\n\t\"#NUM!\":         0x24,\n\t\"#N/A\":          0x2A,\n\t\"#GETTING_DATA\": 0x2B,\n\t\"#WTF?\":         0xFF\n};\n\n/* Parts enumerated in OPC spec, MS-XLSB and MS-XLSX */\n/* 12.3 Part Summary <SpreadsheetML> */\n/* 14.2 Part Summary <DrawingML> */\n/* [MS-XLSX] 2.1 Part Enumerations ; [MS-XLSB] 2.1.7 Part Enumeration */\nvar ct2type/*{[string]:string}*/ = ({\n\t/* Workbook */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\": \"workbooks\",\n\t\"application/vnd.ms-excel.sheet.macroEnabled.main+xml\": \"workbooks\",\n\t\"application/vnd.ms-excel.sheet.binary.macroEnabled.main\": \"workbooks\",\n\t\"application/vnd.ms-excel.addin.macroEnabled.main+xml\": \"workbooks\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml\": \"workbooks\",\n\n\t/* Worksheet */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\": \"sheets\",\n\t\"application/vnd.ms-excel.worksheet\": \"sheets\",\n\t\"application/vnd.ms-excel.binIndexWs\": \"TODO\", /* Binary Index */\n\n\t/* Chartsheet */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml\": \"charts\",\n\t\"application/vnd.ms-excel.chartsheet\": \"charts\",\n\n\t/* Macrosheet */\n\t\"application/vnd.ms-excel.macrosheet+xml\": \"macros\",\n\t\"application/vnd.ms-excel.macrosheet\": \"macros\",\n\t\"application/vnd.ms-excel.intlmacrosheet\": \"TODO\",\n\t\"application/vnd.ms-excel.binIndexMs\": \"TODO\", /* Binary Index */\n\n\t/* Dialogsheet */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml\": \"dialogs\",\n\t\"application/vnd.ms-excel.dialogsheet\": \"dialogs\",\n\n\t/* Shared Strings */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\": \"strs\",\n\t\"application/vnd.ms-excel.sharedStrings\": \"strs\",\n\n\t/* Styles */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\": \"styles\",\n\t\"application/vnd.ms-excel.styles\": \"styles\",\n\n\t/* File Properties */\n\t\"application/vnd.openxmlformats-package.core-properties+xml\": \"coreprops\",\n\t\"application/vnd.openxmlformats-officedocument.custom-properties+xml\": \"custprops\",\n\t\"application/vnd.openxmlformats-officedocument.extended-properties+xml\": \"extprops\",\n\n\t/* Custom Data Properties */\n\t\"application/vnd.openxmlformats-officedocument.customXmlProperties+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty\": \"TODO\",\n\n\t/* Comments */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\": \"comments\",\n\t\"application/vnd.ms-excel.comments\": \"comments\",\n\t\"application/vnd.ms-excel.threadedcomments+xml\": \"threadedcomments\",\n\t\"application/vnd.ms-excel.person+xml\": \"people\",\n\n\t/* Metadata (Stock/Geography and Dynamic Array) */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml\": \"metadata\",\n\t\"application/vnd.ms-excel.sheetMetadata\": \"metadata\",\n\n\t/* PivotTable */\n\t\"application/vnd.ms-excel.pivotTable\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml\": \"TODO\",\n\n\t/* Chart Objects */\n\t\"application/vnd.openxmlformats-officedocument.drawingml.chart+xml\": \"TODO\",\n\n\t/* Chart Colors */\n\t\"application/vnd.ms-office.chartcolorstyle+xml\": \"TODO\",\n\n\t/* Chart Style */\n\t\"application/vnd.ms-office.chartstyle+xml\": \"TODO\",\n\n\t/* Chart Advanced */\n\t\"application/vnd.ms-office.chartex+xml\": \"TODO\",\n\n\t/* Calculation Chain */\n\t\"application/vnd.ms-excel.calcChain\": \"calcchains\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml\": \"calcchains\",\n\n\t/* Printer Settings */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings\": \"TODO\",\n\n\t/* ActiveX */\n\t\"application/vnd.ms-office.activeX\": \"TODO\",\n\t\"application/vnd.ms-office.activeX+xml\": \"TODO\",\n\n\t/* Custom Toolbars */\n\t\"application/vnd.ms-excel.attachedToolbars\": \"TODO\",\n\n\t/* External Data Connections */\n\t\"application/vnd.ms-excel.connections\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml\": \"TODO\",\n\n\t/* External Links */\n\t\"application/vnd.ms-excel.externalLink\": \"links\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml\": \"links\",\n\n\t/* PivotCache */\n\t\"application/vnd.ms-excel.pivotCacheDefinition\": \"TODO\",\n\t\"application/vnd.ms-excel.pivotCacheRecords\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml\": \"TODO\",\n\n\t/* Query Table */\n\t\"application/vnd.ms-excel.queryTable\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml\": \"TODO\",\n\n\t/* Shared Workbook */\n\t\"application/vnd.ms-excel.userNames\": \"TODO\",\n\t\"application/vnd.ms-excel.revisionHeaders\": \"TODO\",\n\t\"application/vnd.ms-excel.revisionLog\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml\": \"TODO\",\n\n\t/* Single Cell Table */\n\t\"application/vnd.ms-excel.tableSingleCells\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml\": \"TODO\",\n\n\t/* Slicer */\n\t\"application/vnd.ms-excel.slicer\": \"TODO\",\n\t\"application/vnd.ms-excel.slicerCache\": \"TODO\",\n\t\"application/vnd.ms-excel.slicer+xml\": \"TODO\",\n\t\"application/vnd.ms-excel.slicerCache+xml\": \"TODO\",\n\n\t/* Sort Map */\n\t\"application/vnd.ms-excel.wsSortMap\": \"TODO\",\n\n\t/* Table */\n\t\"application/vnd.ms-excel.table\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml\": \"TODO\",\n\n\t/* Themes */\n\t\"application/vnd.openxmlformats-officedocument.theme+xml\": \"themes\",\n\n\t/* Theme Override */\n\t\"application/vnd.openxmlformats-officedocument.themeOverride+xml\": \"TODO\",\n\n\t/* Timeline */\n\t\"application/vnd.ms-excel.Timeline+xml\": \"TODO\", /* verify */\n\t\"application/vnd.ms-excel.TimelineCache+xml\": \"TODO\", /* verify */\n\n\t/* VBA */\n\t\"application/vnd.ms-office.vbaProject\": \"vba\",\n\t\"application/vnd.ms-office.vbaProjectSignature\": \"TODO\",\n\n\t/* Volatile Dependencies */\n\t\"application/vnd.ms-office.volatileDependencies\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml\": \"TODO\",\n\n\t/* Control Properties */\n\t\"application/vnd.ms-excel.controlproperties+xml\": \"TODO\",\n\n\t/* Data Model */\n\t\"application/vnd.openxmlformats-officedocument.model+data\": \"TODO\",\n\n\t/* Survey */\n\t\"application/vnd.ms-excel.Survey+xml\": \"TODO\",\n\n\t/* Drawing */\n\t\"application/vnd.openxmlformats-officedocument.drawing+xml\": \"drawings\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml\": \"TODO\",\n\n\t/* VML */\n\t\"application/vnd.openxmlformats-officedocument.vmlDrawing\": \"TODO\",\n\n\t\"application/vnd.openxmlformats-package.relationships+xml\": \"rels\",\n\t\"application/vnd.openxmlformats-officedocument.oleObject\": \"TODO\",\n\n\t/* Image */\n\t\"image/png\": \"TODO\",\n\n\t\"sheet\": \"js\"\n}/*:any*/);\n\nvar CT_LIST = {\n\t\tworkbooks: {\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\",\n\t\t\txlsm: \"application/vnd.ms-excel.sheet.macroEnabled.main+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.sheet.binary.macroEnabled.main\",\n\t\t\txlam: \"application/vnd.ms-excel.addin.macroEnabled.main+xml\",\n\t\t\txltx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml\"\n\t\t},\n\t\tstrs: { /* Shared Strings */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.sharedStrings\"\n\t\t},\n\t\tcomments: { /* Comments */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.comments\"\n\t\t},\n\t\tsheets: { /* Worksheet */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.worksheet\"\n\t\t},\n\t\tcharts: { /* Chartsheet */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.chartsheet\"\n\t\t},\n\t\tdialogs: { /* Dialogsheet */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.dialogsheet\"\n\t\t},\n\t\tmacros: { /* Macrosheet (Excel 4.0 Macros) */\n\t\t\txlsx: \"application/vnd.ms-excel.macrosheet+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.macrosheet\"\n\t\t},\n\t\tmetadata: { /* Metadata (Stock/Geography and Dynamic Array) */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.sheetMetadata\"\n\t\t},\n\t\tstyles: { /* Styles */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.styles\"\n\t\t}\n};\n\nfunction new_ct()/*:any*/ {\n\treturn ({\n\t\tworkbooks:[], sheets:[], charts:[], dialogs:[], macros:[],\n\t\trels:[], strs:[], comments:[], threadedcomments:[], links:[],\n\t\tcoreprops:[], extprops:[], custprops:[], themes:[], styles:[],\n\t\tcalcchains:[], vba: [], drawings: [], metadata: [], people:[],\n\t\tTODO:[], xmlns: \"\" }/*:any*/);\n}\n\nfunction parse_ct(data/*:?string*/) {\n\tvar ct = new_ct();\n\tif(!data || !data.match) return ct;\n\tvar ctext = {};\n\t(data.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(y[0].replace(nsregex,\"<\")) {\n\t\t\tcase '<?xml': break;\n\t\t\tcase '<Types': ct.xmlns = y['xmlns' + (y[0].match(/<(\\w+):/)||[\"\",\"\"])[1] ]; break;\n\t\t\tcase '<Default': ctext[y.Extension] = y.ContentType; break;\n\t\t\tcase '<Override':\n\t\t\t\tif(ct[ct2type[y.ContentType]] !== undefined) ct[ct2type[y.ContentType]].push(y.PartName);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\tif(ct.xmlns !== XMLNS.CT) throw new Error(\"Unknown Namespace: \" + ct.xmlns);\n\tct.calcchain = ct.calcchains.length > 0 ? ct.calcchains[0] : \"\";\n\tct.sst = ct.strs.length > 0 ? ct.strs[0] : \"\";\n\tct.style = ct.styles.length > 0 ? ct.styles[0] : \"\";\n\tct.defaults = ctext;\n\tdelete ct.calcchains;\n\treturn ct;\n}\n\nfunction write_ct(ct, opts)/*:string*/ {\n\tvar type2ct/*{[string]:Array<string>}*/ = evert_arr(ct2type);\n\n\tvar o/*:Array<string>*/ = [], v;\n\to[o.length] = (XML_HEADER);\n\to[o.length] = writextag('Types', null, {\n\t\t'xmlns': XMLNS.CT,\n\t\t'xmlns:xsd': XMLNS.xsd,\n\t\t'xmlns:xsi': XMLNS.xsi\n\t});\n\n\to = o.concat([\n\t\t['xml', 'application/xml'],\n\t\t['bin', 'application/vnd.ms-excel.sheet.binary.macroEnabled.main'],\n\t\t['vml', 'application/vnd.openxmlformats-officedocument.vmlDrawing'],\n\t\t['data', 'application/vnd.openxmlformats-officedocument.model+data'],\n\t\t/* from test files */\n\t\t['bmp', 'image/bmp'],\n\t\t['png', 'image/png'],\n\t\t['gif', 'image/gif'],\n\t\t['emf', 'image/x-emf'],\n\t\t['wmf', 'image/x-wmf'],\n\t\t['jpg', 'image/jpeg'], ['jpeg', 'image/jpeg'],\n\t\t['tif', 'image/tiff'], ['tiff', 'image/tiff'],\n\t\t['pdf', 'application/pdf'],\n\t\t['rels', 'application/vnd.openxmlformats-package.relationships+xml']\n\t].map(function(x) {\n\t\treturn writextag('Default', null, {'Extension':x[0], 'ContentType': x[1]});\n\t}));\n\n\t/* only write first instance */\n\tvar f1 = function(w) {\n\t\tif(ct[w] && ct[w].length > 0) {\n\t\t\tv = ct[w][0];\n\t\t\to[o.length] = (writextag('Override', null, {\n\t\t\t\t'PartName': (v[0] == '/' ? \"\":\"/\") + v,\n\t\t\t\t'ContentType': CT_LIST[w][opts.bookType] || CT_LIST[w]['xlsx']\n\t\t\t}));\n\t\t}\n\t};\n\n\t/* book type-specific */\n\tvar f2 = function(w) {\n\t\t(ct[w]||[]).forEach(function(v) {\n\t\t\to[o.length] = (writextag('Override', null, {\n\t\t\t\t'PartName': (v[0] == '/' ? \"\":\"/\") + v,\n\t\t\t\t'ContentType': CT_LIST[w][opts.bookType] || CT_LIST[w]['xlsx']\n\t\t\t}));\n\t\t});\n\t};\n\n\t/* standard type */\n\tvar f3 = function(t) {\n\t\t(ct[t]||[]).forEach(function(v) {\n\t\t\to[o.length] = (writextag('Override', null, {\n\t\t\t\t'PartName': (v[0] == '/' ? \"\":\"/\") + v,\n\t\t\t\t'ContentType': type2ct[t][0]\n\t\t\t}));\n\t\t});\n\t};\n\n\tf1('workbooks');\n\tf2('sheets');\n\tf2('charts');\n\tf3('themes');\n\t['strs', 'styles'].forEach(f1);\n\t['coreprops', 'extprops', 'custprops'].forEach(f3);\n\tf3('vba');\n\tf3('comments');\n\tf3('threadedcomments');\n\tf3('drawings');\n\tf2('metadata');\n\tf3('people');\n\tif(o.length>2){ o[o.length] = ('</Types>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* 9.3 Relationships */\nvar RELS = ({\n\tWB: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",\n\tSHEET: \"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",\n\tHLINK: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\",\n\tVML: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing\",\n\tXPATH: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath\",\n\tXMISS: \"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing\",\n\tXLINK: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink\",\n\tCXML: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml\",\n\tCXMLP: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps\",\n\tCMNT: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments\",\n\tCORE_PROPS: \"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\",\n\tEXT_PROPS: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties',\n\tCUST_PROPS: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties',\n\tSST: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\",\n\tSTY: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\",\n\tTHEME: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme\",\n\tCHART: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart\",\n\tCHARTEX: \"http://schemas.microsoft.com/office/2014/relationships/chartEx\",\n\tCS: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet\",\n\tWS: [\n\t\t\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\",\n\t\t\"http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet\"\n\t],\n\tDS: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet\",\n\tMS: \"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet\",\n\tIMG: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\",\n\tDRAW: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing\",\n\tXLMETA: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata\",\n\tTCMNT: \"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment\",\n\tPEOPLE: \"http://schemas.microsoft.com/office/2017/10/relationships/person\",\n\tVBA: \"http://schemas.microsoft.com/office/2006/relationships/vbaProject\"\n}/*:any*/);\n\n\n/* 9.3.3 Representing Relationships */\nfunction get_rels_path(file/*:string*/)/*:string*/ {\n\tvar n = file.lastIndexOf(\"/\");\n\treturn file.slice(0,n+1) + '_rels/' + file.slice(n+1) + \".rels\";\n}\n\nfunction parse_rels(data/*:?string*/, currentFilePath/*:string*/) {\n\tvar rels = {\"!id\":{}};\n\tif (!data) return rels;\n\tif (currentFilePath.charAt(0) !== '/') {\n\t\tcurrentFilePath = '/'+currentFilePath;\n\t}\n\tvar hash = {};\n\n\t(data.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\t/* 9.3.2.2 OPC_Relationships */\n\t\tif (y[0] === '<Relationship') {\n\t\t\tvar rel = {}; rel.Type = y.Type; rel.Target = y.Target; rel.Id = y.Id; if(y.TargetMode) rel.TargetMode = y.TargetMode;\n\t\t\tvar canonictarget = y.TargetMode === 'External' ? y.Target : resolve_path(y.Target, currentFilePath);\n\t\t\trels[canonictarget] = rel;\n\t\t\thash[y.Id] = rel;\n\t\t}\n\t});\n\trels[\"!id\"] = hash;\n\treturn rels;\n}\n\n\n/* TODO */\nfunction write_rels(rels)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('Relationships', null, {\n\t\t//'xmlns:ns0': XMLNS.RELS,\n\t\t'xmlns': XMLNS.RELS\n\t})];\n\tkeys(rels['!id']).forEach(function(rid) {\n\t\to[o.length] = (writextag('Relationship', null, rels['!id'][rid]));\n\t});\n\tif(o.length>2){ o[o.length] = ('</Relationships>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\nfunction add_rels(rels, rId/*:number*/, f, type, relobj, targetmode/*:?string*/)/*:number*/ {\n\tif(!relobj) relobj = {};\n\tif(!rels['!id']) rels['!id'] = {};\n\tif(!rels['!idx']) rels['!idx'] = 1;\n\tif(rId < 0) for(rId = rels['!idx']; rels['!id']['rId' + rId]; ++rId){/* empty */}\n\trels['!idx'] = rId + 1;\n\trelobj.Id = 'rId' + rId;\n\trelobj.Type = type;\n\trelobj.Target = f;\n\tif(targetmode) relobj.TargetMode = targetmode;\n\telse if([RELS.HLINK, RELS.XPATH, RELS.XMISS].indexOf(relobj.Type) > -1) relobj.TargetMode = \"External\";\n\tif(rels['!id'][relobj.Id]) throw new Error(\"Cannot rewrite rId \" + rId);\n\trels['!id'][relobj.Id] = relobj;\n\trels[('/' + relobj.Target).replace(\"//\",\"/\")] = relobj;\n\treturn rId;\n}\n/* Open Document Format for Office Applications (OpenDocument) Version 1.2 */\n/* Part 3 Section 4 Manifest File */\nvar CT_ODS = \"application/vnd.oasis.opendocument.spreadsheet\";\nfunction parse_manifest(d, opts) {\n\tvar str = xlml_normalize(d);\n\tvar Rn;\n\tvar FEtag;\n\twhile((Rn = xlmlregex.exec(str))) switch(Rn[3]) {\n\t\tcase 'manifest': break; // 4.2 <manifest:manifest>\n\t\tcase 'file-entry': // 4.3 <manifest:file-entry>\n\t\t\tFEtag = parsexmltag(Rn[0], false);\n\t\t\tif(FEtag.path == '/' && FEtag.type !== CT_ODS) throw new Error(\"This OpenDocument is not a spreadsheet\");\n\t\t\tbreak;\n\t\tcase 'encryption-data': // 4.4 <manifest:encryption-data>\n\t\tcase 'algorithm': // 4.5 <manifest:algorithm>\n\t\tcase 'start-key-generation': // 4.6 <manifest:start-key-generation>\n\t\tcase 'key-derivation': // 4.7 <manifest:key-derivation>\n\t\t\tthrow new Error(\"Unsupported ODS Encryption\");\n\t\tdefault: if(opts && opts.WTF) throw Rn;\n\t}\n}\n\nfunction write_manifest(manifest/*:Array<Array<string> >*/)/*:string*/ {\n\tvar o = [XML_HEADER];\n\to.push('<manifest:manifest xmlns:manifest=\"urn:oasis:names:tc:opendocument:xmlns:manifest:1.0\" manifest:version=\"1.2\">\\n');\n\to.push('  <manifest:file-entry manifest:full-path=\"/\" manifest:version=\"1.2\" manifest:media-type=\"application/vnd.oasis.opendocument.spreadsheet\"/>\\n');\n\tfor(var i = 0; i < manifest.length; ++i) o.push('  <manifest:file-entry manifest:full-path=\"' + manifest[i][0] + '\" manifest:media-type=\"' + manifest[i][1] + '\"/>\\n');\n\to.push('</manifest:manifest>');\n\treturn o.join(\"\");\n}\n\n/* Part 3 Section 6 Metadata Manifest File */\nfunction write_rdf_type(file/*:string*/, res/*:string*/, tag/*:?string*/) {\n\treturn [\n\t\t'  <rdf:Description rdf:about=\"' + file + '\">\\n',\n\t\t'    <rdf:type rdf:resource=\"http://docs.oasis-open.org/ns/office/1.2/meta/' + (tag || \"odf\") + '#' + res + '\"/>\\n',\n\t\t'  </rdf:Description>\\n'\n\t].join(\"\");\n}\nfunction write_rdf_has(base/*:string*/, file/*:string*/) {\n\treturn [\n\t\t'  <rdf:Description rdf:about=\"' + base + '\">\\n',\n\t\t'    <ns0:hasPart xmlns:ns0=\"http://docs.oasis-open.org/ns/office/1.2/meta/pkg#\" rdf:resource=\"' + file + '\"/>\\n',\n\t\t'  </rdf:Description>\\n'\n\t].join(\"\");\n}\nfunction write_rdf(rdf) {\n\tvar o = [XML_HEADER];\n\to.push('<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\\n');\n\tfor(var i = 0; i != rdf.length; ++i) {\n\t\to.push(write_rdf_type(rdf[i][0], rdf[i][1]));\n\t\to.push(write_rdf_has(\"\",rdf[i][0]));\n\t}\n\to.push(write_rdf_type(\"\",\"Document\", \"pkg\"));\n\to.push('</rdf:RDF>');\n\treturn o.join(\"\");\n}\n/* TODO: pull properties */\nfunction write_meta_ods(/*:: wb: Workbook, opts: any*/)/*:string*/ {\n\treturn '<office:document-meta xmlns:office=\"urn:oasis:names:tc:opendocument:xmlns:office:1.0\" xmlns:meta=\"urn:oasis:names:tc:opendocument:xmlns:meta:1.0\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" office:version=\"1.2\"><office:meta><meta:generator>Sheet' + 'JS ' + XLSX.version + '</meta:generator></office:meta></office:document-meta>';\n}\n\n/* ECMA-376 Part II 11.1 Core Properties Part */\n/* [MS-OSHARED] 2.3.3.2.[1-2].1 (PIDSI/PIDDSI) */\nvar CORE_PROPS/*:Array<Array<string> >*/ = [\n\t[\"cp:category\", \"Category\"],\n\t[\"cp:contentStatus\", \"ContentStatus\"],\n\t[\"cp:keywords\", \"Keywords\"],\n\t[\"cp:lastModifiedBy\", \"LastAuthor\"],\n\t[\"cp:lastPrinted\", \"LastPrinted\"],\n\t[\"cp:revision\", \"RevNumber\"],\n\t[\"cp:version\", \"Version\"],\n\t[\"dc:creator\", \"Author\"],\n\t[\"dc:description\", \"Comments\"],\n\t[\"dc:identifier\", \"Identifier\"],\n\t[\"dc:language\", \"Language\"],\n\t[\"dc:subject\", \"Subject\"],\n\t[\"dc:title\", \"Title\"],\n\t[\"dcterms:created\", \"CreatedDate\", 'date'],\n\t[\"dcterms:modified\", \"ModifiedDate\", 'date']\n];\n\nvar CORE_PROPS_REGEX/*:Array<RegExp>*/ = /*#__PURE__*/(function() {\n\tvar r = new Array(CORE_PROPS.length);\n\tfor(var i = 0; i < CORE_PROPS.length; ++i) {\n\t\tvar f = CORE_PROPS[i];\n\t\tvar g = \"(?:\"+ f[0].slice(0,f[0].indexOf(\":\")) +\":)\"+ f[0].slice(f[0].indexOf(\":\")+1);\n\t\tr[i] = new RegExp(\"<\" + g + \"[^>]*>([\\\\s\\\\S]*?)<\\/\" + g + \">\");\n\t}\n\treturn r;\n})();\n\nfunction parse_core_props(data) {\n\tvar p = {};\n\tdata = utf8read(data);\n\n\tfor(var i = 0; i < CORE_PROPS.length; ++i) {\n\t\tvar f = CORE_PROPS[i], cur = data.match(CORE_PROPS_REGEX[i]);\n\t\tif(cur != null && cur.length > 0) p[f[1]] = unescapexml(cur[1]);\n\t\tif(f[2] === 'date' && p[f[1]]) p[f[1]] = parseDate(p[f[1]]);\n\t}\n\n\treturn p;\n}\n\nfunction cp_doit(f, g, h, o, p) {\n\tif(p[f] != null || g == null || g === \"\") return;\n\tp[f] = g;\n\tg = escapexml(g);\n\to[o.length] = (h ? writextag(f,g,h) : writetag(f,g));\n}\n\nfunction write_core_props(cp, _opts) {\n\tvar opts = _opts || {};\n\tvar o = [XML_HEADER, writextag('cp:coreProperties', null, {\n\t\t//'xmlns': XMLNS.CORE_PROPS,\n\t\t'xmlns:cp': XMLNS.CORE_PROPS,\n\t\t'xmlns:dc': XMLNS.dc,\n\t\t'xmlns:dcterms': XMLNS.dcterms,\n\t\t'xmlns:dcmitype': XMLNS.dcmitype,\n\t\t'xmlns:xsi': XMLNS.xsi\n\t})], p = {};\n\tif(!cp && !opts.Props) return o.join(\"\");\n\n\tif(cp) {\n\t\tif(cp.CreatedDate != null) cp_doit(\"dcterms:created\", typeof cp.CreatedDate === \"string\" ? cp.CreatedDate : write_w3cdtf(cp.CreatedDate, opts.WTF), {\"xsi:type\":\"dcterms:W3CDTF\"}, o, p);\n\t\tif(cp.ModifiedDate != null) cp_doit(\"dcterms:modified\", typeof cp.ModifiedDate === \"string\" ? cp.ModifiedDate : write_w3cdtf(cp.ModifiedDate, opts.WTF), {\"xsi:type\":\"dcterms:W3CDTF\"}, o, p);\n\t}\n\n\tfor(var i = 0; i != CORE_PROPS.length; ++i) {\n\t\tvar f = CORE_PROPS[i];\n\t\tvar v = opts.Props && opts.Props[f[1]] != null ? opts.Props[f[1]] : cp ? cp[f[1]] : null;\n\t\tif(v === true) v = \"1\";\n\t\telse if(v === false) v = \"0\";\n\t\telse if(typeof v == \"number\") v = String(v);\n\t\tif(v != null) cp_doit(f[0], v, null, o, p);\n\t}\n\tif(o.length>2){ o[o.length] = ('</cp:coreProperties>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* 15.2.12.3 Extended File Properties Part */\n/* [MS-OSHARED] 2.3.3.2.[1-2].1 (PIDSI/PIDDSI) */\nvar EXT_PROPS/*:Array<Array<string> >*/ = [\n\t[\"Application\", \"Application\", \"string\"],\n\t[\"AppVersion\", \"AppVersion\", \"string\"],\n\t[\"Company\", \"Company\", \"string\"],\n\t[\"DocSecurity\", \"DocSecurity\", \"string\"],\n\t[\"Manager\", \"Manager\", \"string\"],\n\t[\"HyperlinksChanged\", \"HyperlinksChanged\", \"bool\"],\n\t[\"SharedDoc\", \"SharedDoc\", \"bool\"],\n\t[\"LinksUpToDate\", \"LinksUpToDate\", \"bool\"],\n\t[\"ScaleCrop\", \"ScaleCrop\", \"bool\"],\n\t[\"HeadingPairs\", \"HeadingPairs\", \"raw\"],\n\t[\"TitlesOfParts\", \"TitlesOfParts\", \"raw\"]\n];\n\nvar PseudoPropsPairs = [\n\t\"Worksheets\",  \"SheetNames\",\n\t\"NamedRanges\", \"DefinedNames\",\n\t\"Chartsheets\", \"ChartNames\"\n];\nfunction load_props_pairs(HP/*:string|Array<Array<any>>*/, TOP, props, opts) {\n\tvar v = [];\n\tif(typeof HP == \"string\") v = parseVector(HP, opts);\n\telse for(var j = 0; j < HP.length; ++j) v = v.concat(HP[j].map(function(hp) { return {v:hp}; }));\n\tvar parts = (typeof TOP == \"string\") ? parseVector(TOP, opts).map(function (x) { return x.v; }) : TOP;\n\tvar idx = 0, len = 0;\n\tif(parts.length > 0) for(var i = 0; i !== v.length; i += 2) {\n\t\tlen = +(v[i+1].v);\n\t\tswitch(v[i].v) {\n\t\t\tcase \"Worksheets\":\n\t\t\tcase \"工作表\":\n\t\t\tcase \"Листы\":\n\t\t\tcase \"أوراق العمل\":\n\t\t\tcase \"ワークシート\":\n\t\t\tcase \"גליונות עבודה\":\n\t\t\tcase \"Arbeitsblätter\":\n\t\t\tcase \"Çalışma Sayfaları\":\n\t\t\tcase \"Feuilles de calcul\":\n\t\t\tcase \"Fogli di lavoro\":\n\t\t\tcase \"Folhas de cálculo\":\n\t\t\tcase \"Planilhas\":\n\t\t\tcase \"Regneark\":\n\t\t\tcase \"Hojas de cálculo\":\n\t\t\tcase \"Werkbladen\":\n\t\t\t\tprops.Worksheets = len;\n\t\t\t\tprops.SheetNames = parts.slice(idx, idx + len);\n\t\t\t\tbreak;\n\n\t\t\tcase \"Named Ranges\":\n\t\t\tcase \"Rangos con nombre\":\n\t\t\tcase \"名前付き一覧\":\n\t\t\tcase \"Benannte Bereiche\":\n\t\t\tcase \"Navngivne områder\":\n\t\t\t\tprops.NamedRanges = len;\n\t\t\t\tprops.DefinedNames = parts.slice(idx, idx + len);\n\t\t\t\tbreak;\n\n\t\t\tcase \"Charts\":\n\t\t\tcase \"Diagramme\":\n\t\t\t\tprops.Chartsheets = len;\n\t\t\t\tprops.ChartNames = parts.slice(idx, idx + len);\n\t\t\t\tbreak;\n\t\t}\n\t\tidx += len;\n\t}\n}\n\nfunction parse_ext_props(data, p, opts) {\n\tvar q = {}; if(!p) p = {};\n\tdata = utf8read(data);\n\n\tEXT_PROPS.forEach(function(f) {\n\t\tvar xml = (data.match(matchtag(f[0]))||[])[1];\n\t\tswitch(f[2]) {\n\t\t\tcase \"string\": if(xml) p[f[1]] = unescapexml(xml); break;\n\t\t\tcase \"bool\": p[f[1]] = xml === \"true\"; break;\n\t\t\tcase \"raw\":\n\t\t\t\tvar cur = data.match(new RegExp(\"<\" + f[0] + \"[^>]*>([\\\\s\\\\S]*?)<\\/\" + f[0] + \">\"));\n\t\t\t\tif(cur && cur.length > 0) q[f[1]] = cur[1];\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(q.HeadingPairs && q.TitlesOfParts) load_props_pairs(q.HeadingPairs, q.TitlesOfParts, p, opts);\n\n\treturn p;\n}\n\nfunction write_ext_props(cp/*::, opts*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [], W = writextag;\n\tif(!cp) cp = {};\n\tcp.Application = \"SheetJS\";\n\to[o.length] = (XML_HEADER);\n\to[o.length] = (writextag('Properties', null, {\n\t\t'xmlns': XMLNS.EXT_PROPS,\n\t\t'xmlns:vt': XMLNS.vt\n\t}));\n\n\tEXT_PROPS.forEach(function(f) {\n\t\tif(cp[f[1]] === undefined) return;\n\t\tvar v;\n\t\tswitch(f[2]) {\n\t\t\tcase 'string': v = escapexml(String(cp[f[1]])); break;\n\t\t\tcase 'bool': v = cp[f[1]] ? 'true' : 'false'; break;\n\t\t}\n\t\tif(v !== undefined) o[o.length] = (W(f[0], v));\n\t});\n\n\t/* TODO: HeadingPairs, TitlesOfParts */\n\to[o.length] = (W('HeadingPairs', W('vt:vector', W('vt:variant', '<vt:lpstr>Worksheets</vt:lpstr>')+W('vt:variant', W('vt:i4', String(cp.Worksheets))), {size:2, baseType:\"variant\"})));\n\to[o.length] = (W('TitlesOfParts', W('vt:vector', cp.SheetNames.map(function(s) { return \"<vt:lpstr>\" + escapexml(s) + \"</vt:lpstr>\"; }).join(\"\"), {size: cp.Worksheets, baseType:\"lpstr\"})));\n\tif(o.length>2){ o[o.length] = ('</Properties>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* 15.2.12.2 Custom File Properties Part */\nvar custregex = /<[^>]+>[^<]*/g;\nfunction parse_cust_props(data/*:string*/, opts) {\n\tvar p = {}, name = \"\";\n\tvar m = data.match(custregex);\n\tif(m) for(var i = 0; i != m.length; ++i) {\n\t\tvar x = m[i], y = parsexmltag(x);\n\t\tswitch(y[0]) {\n\t\t\tcase '<?xml': break;\n\t\t\tcase '<Properties': break;\n\t\t\tcase '<property': name = unescapexml(y.name); break;\n\t\t\tcase '</property>': name = null; break;\n\t\t\tdefault: if (x.indexOf('<vt:') === 0) {\n\t\t\t\tvar toks = x.split('>');\n\t\t\t\tvar type = toks[0].slice(4), text = toks[1];\n\t\t\t\t/* 22.4.2.32 (CT_Variant). Omit the binary types from 22.4 (Variant Types) */\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase 'lpstr': case 'bstr': case 'lpwstr':\n\t\t\t\t\t\tp[name] = unescapexml(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bool':\n\t\t\t\t\t\tp[name] = parsexmlbool(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'i1': case 'i2': case 'i4': case 'i8': case 'int': case 'uint':\n\t\t\t\t\t\tp[name] = parseInt(text, 10);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'r4': case 'r8': case 'decimal':\n\t\t\t\t\t\tp[name] = parseFloat(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'filetime': case 'date':\n\t\t\t\t\t\tp[name] = parseDate(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'cy': case 'error':\n\t\t\t\t\t\tp[name] = unescapexml(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(type.slice(-1) == '/') break;\n\t\t\t\t\t\tif(opts.WTF && typeof console !== 'undefined') console.warn('Unexpected', x, type, toks);\n\t\t\t\t}\n\t\t\t} else if(x.slice(0,2) === \"</\") {/* empty */\n\t\t\t} else if(opts.WTF) throw new Error(x);\n\t\t}\n\t}\n\treturn p;\n}\n\nfunction write_cust_props(cp/*::, opts*/)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('Properties', null, {\n\t\t'xmlns': XMLNS.CUST_PROPS,\n\t\t'xmlns:vt': XMLNS.vt\n\t})];\n\tif(!cp) return o.join(\"\");\n\tvar pid = 1;\n\tkeys(cp).forEach(function custprop(k) { ++pid;\n\t\to[o.length] = (writextag('property', write_vt(cp[k], true), {\n\t\t\t'fmtid': '{D5CDD505-2E9C-101B-9397-08002B2CF9AE}',\n\t\t\t'pid': pid,\n\t\t\t'name': escapexml(k)\n\t\t}));\n\t});\n\tif(o.length>2){ o[o.length] = '</Properties>'; o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* Common Name -> XLML Name */\nvar XLMLDocPropsMap = {\n\tTitle: 'Title',\n\tSubject: 'Subject',\n\tAuthor: 'Author',\n\tKeywords: 'Keywords',\n\tComments: 'Description',\n\tLastAuthor: 'LastAuthor',\n\tRevNumber: 'Revision',\n\tApplication: 'AppName',\n\t/* TotalTime: 'TotalTime', */\n\tLastPrinted: 'LastPrinted',\n\tCreatedDate: 'Created',\n\tModifiedDate: 'LastSaved',\n\t/* Pages */\n\t/* Words */\n\t/* Characters */\n\tCategory: 'Category',\n\t/* PresentationFormat */\n\tManager: 'Manager',\n\tCompany: 'Company',\n\t/* Guid */\n\t/* HyperlinkBase */\n\t/* Bytes */\n\t/* Lines */\n\t/* Paragraphs */\n\t/* CharactersWithSpaces */\n\tAppVersion: 'Version',\n\n\tContentStatus: 'ContentStatus', /* NOTE: missing from schema */\n\tIdentifier: 'Identifier', /* NOTE: missing from schema */\n\tLanguage: 'Language' /* NOTE: missing from schema */\n};\nvar evert_XLMLDPM;\n\nfunction xlml_set_prop(Props, tag/*:string*/, val) {\n\tif(!evert_XLMLDPM) evert_XLMLDPM = evert(XLMLDocPropsMap);\n\ttag = evert_XLMLDPM[tag] || tag;\n\tProps[tag] = val;\n}\n\nfunction xlml_write_docprops(Props, opts) {\n\tvar o/*:Array<string>*/ = [];\n\tkeys(XLMLDocPropsMap).map(function(m) {\n\t\tfor(var i = 0; i < CORE_PROPS.length; ++i) if(CORE_PROPS[i][1] == m) return CORE_PROPS[i];\n\t\tfor(i = 0; i < EXT_PROPS.length; ++i) if(EXT_PROPS[i][1] == m) return EXT_PROPS[i];\n\t\tthrow m;\n\t}).forEach(function(p) {\n\t\tif(Props[p[1]] == null) return;\n\t\tvar m = opts && opts.Props && opts.Props[p[1]] != null ? opts.Props[p[1]] : Props[p[1]];\n\t\tswitch(p[2]) {\n\t\t\tcase 'date': m = new Date(m).toISOString().replace(/\\.\\d*Z/,\"Z\"); break;\n\t\t}\n\t\tif(typeof m == 'number') m = String(m);\n\t\telse if(m === true || m === false) { m = m ? \"1\" : \"0\"; }\n\t\telse if(m instanceof Date) m = new Date(m).toISOString().replace(/\\.\\d*Z/,\"\");\n\t\to.push(writetag(XLMLDocPropsMap[p[1]] || p[1], m));\n\t});\n\treturn writextag('DocumentProperties', o.join(\"\"), {xmlns:XLMLNS.o });\n}\nfunction xlml_write_custprops(Props, Custprops/*::, opts*/) {\n\tvar BLACKLIST = [\"Worksheets\",\"SheetNames\"];\n\tvar T = 'CustomDocumentProperties';\n\tvar o/*:Array<string>*/ = [];\n\tif(Props) keys(Props).forEach(function(k) {\n\t\t/*:: if(!Props) return; */\n\t\tif(!Object.prototype.hasOwnProperty.call(Props, k)) return;\n\t\tfor(var i = 0; i < CORE_PROPS.length; ++i) if(k == CORE_PROPS[i][1]) return;\n\t\tfor(i = 0; i < EXT_PROPS.length; ++i) if(k == EXT_PROPS[i][1]) return;\n\t\tfor(i = 0; i < BLACKLIST.length; ++i) if(k == BLACKLIST[i]) return;\n\n\t\tvar m = Props[k];\n\t\tvar t = \"string\";\n\t\tif(typeof m == 'number') { t = \"float\"; m = String(m); }\n\t\telse if(m === true || m === false) { t = \"boolean\"; m = m ? \"1\" : \"0\"; }\n\t\telse m = String(m);\n\t\to.push(writextag(escapexmltag(k), m, {\"dt:dt\":t}));\n\t});\n\tif(Custprops) keys(Custprops).forEach(function(k) {\n\t\t/*:: if(!Custprops) return; */\n\t\tif(!Object.prototype.hasOwnProperty.call(Custprops, k)) return;\n\t\tif(Props && Object.prototype.hasOwnProperty.call(Props, k)) return;\n\t\tvar m = Custprops[k];\n\t\tvar t = \"string\";\n\t\tif(typeof m == 'number') { t = \"float\"; m = String(m); }\n\t\telse if(m === true || m === false) { t = \"boolean\"; m = m ? \"1\" : \"0\"; }\n\t\telse if(m instanceof Date) { t = \"dateTime.tz\"; m = m.toISOString(); }\n\t\telse m = String(m);\n\t\to.push(writextag(escapexmltag(k), m, {\"dt:dt\":t}));\n\t});\n\treturn '<' + T + ' xmlns=\"' + XLMLNS.o + '\">' + o.join(\"\") + '</' + T + '>';\n}\n/* [MS-DTYP] 2.3.3 FILETIME */\n/* [MS-OLEDS] 2.1.3 FILETIME (Packet Version) */\n/* [MS-OLEPS] 2.8 FILETIME (Packet Version) */\nfunction parse_FILETIME(blob) {\n\tvar dwLowDateTime = blob.read_shift(4), dwHighDateTime = blob.read_shift(4);\n\treturn new Date(((dwHighDateTime/1e7*Math.pow(2,32) + dwLowDateTime/1e7) - 11644473600)*1000).toISOString().replace(/\\.000/,\"\");\n}\nfunction write_FILETIME(time/*:string|Date*/) {\n\tvar date = (typeof time == \"string\") ? new Date(Date.parse(time)) : time;\n\tvar t = date.getTime() / 1000 + 11644473600;\n\tvar l = t % Math.pow(2,32), h = (t - l) / Math.pow(2,32);\n\tl *= 1e7; h *= 1e7;\n\tvar w = (l / Math.pow(2,32)) | 0;\n\tif(w > 0) { l = l % Math.pow(2,32); h += w; }\n\tvar o = new_buf(8); o.write_shift(4, l); o.write_shift(4, h); return o;\n}\n\n/* [MS-OSHARED] 2.3.3.1.4 Lpstr */\nfunction parse_lpstr(blob, type, pad/*:?number*/) {\n\tvar start = blob.l;\n\tvar str = blob.read_shift(0, 'lpstr-cp');\n\tif(pad) while((blob.l - start) & 3) ++blob.l;\n\treturn str;\n}\n\n/* [MS-OSHARED] 2.3.3.1.6 Lpwstr */\nfunction parse_lpwstr(blob, type, pad) {\n\tvar str = blob.read_shift(0, 'lpwstr');\n\tif(pad) blob.l += (4 - ((str.length+1) & 3)) & 3;\n\treturn str;\n}\n\n\n/* [MS-OSHARED] 2.3.3.1.11 VtString */\n/* [MS-OSHARED] 2.3.3.1.12 VtUnalignedString */\nfunction parse_VtStringBase(blob, stringType, pad) {\n\tif(stringType === 0x1F /*VT_LPWSTR*/) return parse_lpwstr(blob);\n\treturn parse_lpstr(blob, stringType, pad);\n}\n\nfunction parse_VtString(blob, t/*:number*/, pad/*:?boolean*/) { return parse_VtStringBase(blob, t, pad === false ? 0: 4); }\nfunction parse_VtUnalignedString(blob, t/*:number*/) { if(!t) throw new Error(\"VtUnalignedString must have positive length\"); return parse_VtStringBase(blob, t, 0); }\n\n/* [MS-OSHARED] 2.3.3.1.7 VtVecLpwstrValue */\nfunction parse_VtVecLpwstrValue(blob)/*:Array<string>*/ {\n\tvar length = blob.read_shift(4);\n\tvar ret/*:Array<string>*/ = [];\n\tfor(var i = 0; i != length; ++i) {\n\t\tvar start = blob.l;\n\t\tret[i] = blob.read_shift(0, 'lpwstr').replace(chr0,'');\n\t\tif((blob.l - start) & 0x02) blob.l += 2;\n\t}\n\treturn ret;\n}\n\n/* [MS-OSHARED] 2.3.3.1.9 VtVecUnalignedLpstrValue */\nfunction parse_VtVecUnalignedLpstrValue(blob)/*:Array<string>*/ {\n\tvar length = blob.read_shift(4);\n\tvar ret/*:Array<string>*/ = [];\n\tfor(var i = 0; i != length; ++i) ret[i] = blob.read_shift(0, 'lpstr-cp').replace(chr0,'');\n\treturn ret;\n}\n\n\n/* [MS-OSHARED] 2.3.3.1.13 VtHeadingPair */\nfunction parse_VtHeadingPair(blob) {\n\tvar start = blob.l;\n\tvar headingString = parse_TypedPropertyValue(blob, VT_USTR);\n\tif(blob[blob.l] == 0x00 && blob[blob.l+1] == 0x00 && ((blob.l - start) & 0x02)) blob.l += 2;\n\tvar headerParts = parse_TypedPropertyValue(blob, VT_I4);\n\treturn [headingString, headerParts];\n}\n\n/* [MS-OSHARED] 2.3.3.1.14 VtVecHeadingPairValue */\nfunction parse_VtVecHeadingPairValue(blob) {\n\tvar cElements = blob.read_shift(4);\n\tvar out = [];\n\tfor(var i = 0; i < cElements / 2; ++i) out.push(parse_VtHeadingPair(blob));\n\treturn out;\n}\n\n/* [MS-OLEPS] 2.18.1 Dictionary (uses 2.17, 2.16) */\nfunction parse_dictionary(blob,CodePage) {\n\tvar cnt = blob.read_shift(4);\n\tvar dict/*:{[number]:string}*/ = ({}/*:any*/);\n\tfor(var j = 0; j != cnt; ++j) {\n\t\tvar pid = blob.read_shift(4);\n\t\tvar len = blob.read_shift(4);\n\t\tdict[pid] = blob.read_shift(len, (CodePage === 0x4B0 ?'utf16le':'utf8')).replace(chr0,'').replace(chr1,'!');\n\t\tif(CodePage === 0x4B0 && (len % 2)) blob.l += 2;\n\t}\n\tif(blob.l & 3) blob.l = (blob.l>>2+1)<<2;\n\treturn dict;\n}\n\n/* [MS-OLEPS] 2.9 BLOB */\nfunction parse_BLOB(blob) {\n\tvar size = blob.read_shift(4);\n\tvar bytes = blob.slice(blob.l,blob.l+size);\n\tblob.l += size;\n\tif((size & 3) > 0) blob.l += (4 - (size & 3)) & 3;\n\treturn bytes;\n}\n\n/* [MS-OLEPS] 2.11 ClipboardData */\nfunction parse_ClipboardData(blob) {\n\t// TODO\n\tvar o = {};\n\to.Size = blob.read_shift(4);\n\t//o.Format = blob.read_shift(4);\n\tblob.l += o.Size + 3 - (o.Size - 1) % 4;\n\treturn o;\n}\n\n/* [MS-OLEPS] 2.15 TypedPropertyValue */\nfunction parse_TypedPropertyValue(blob, type/*:number*/, _opts)/*:any*/ {\n\tvar t = blob.read_shift(2), ret, opts = _opts||{};\n\tblob.l += 2;\n\tif(type !== VT_VARIANT)\n\tif(t !== type && VT_CUSTOM.indexOf(type)===-1 && !((type & 0xFFFE) == 0x101E && (t & 0xFFFE) == 0x101E)) throw new Error('Expected type ' + type + ' saw ' + t);\n\tswitch(type === VT_VARIANT ? t : type) {\n\t\tcase 0x02 /*VT_I2*/: ret = blob.read_shift(2, 'i'); if(!opts.raw) blob.l += 2; return ret;\n\t\tcase 0x03 /*VT_I4*/: ret = blob.read_shift(4, 'i'); return ret;\n\t\tcase 0x0B /*VT_BOOL*/: return blob.read_shift(4) !== 0x0;\n\t\tcase 0x13 /*VT_UI4*/: ret = blob.read_shift(4); return ret;\n\t\tcase 0x1E /*VT_LPSTR*/: return parse_lpstr(blob, t, 4).replace(chr0,'');\n\t\tcase 0x1F /*VT_LPWSTR*/: return parse_lpwstr(blob);\n\t\tcase 0x40 /*VT_FILETIME*/: return parse_FILETIME(blob);\n\t\tcase 0x41 /*VT_BLOB*/: return parse_BLOB(blob);\n\t\tcase 0x47 /*VT_CF*/: return parse_ClipboardData(blob);\n\t\tcase 0x50 /*VT_STRING*/: return parse_VtString(blob, t, !opts.raw).replace(chr0,'');\n\t\tcase 0x51 /*VT_USTR*/: return parse_VtUnalignedString(blob, t/*, 4*/).replace(chr0,'');\n\t\tcase 0x100C /*VT_VECTOR|VT_VARIANT*/: return parse_VtVecHeadingPairValue(blob);\n\t\tcase 0x101E /*VT_VECTOR|VT_LPSTR*/:\n\t\tcase 0x101F /*VT_VECTOR|VT_LPWSTR*/:\n\t\t\treturn t == 0x101F ? parse_VtVecLpwstrValue(blob) : parse_VtVecUnalignedLpstrValue(blob);\n\t\tdefault: throw new Error(\"TypedPropertyValue unrecognized type \" + type + \" \" + t);\n\t}\n}\nfunction write_TypedPropertyValue(type/*:number*/, value) {\n\tvar o = new_buf(4), p = new_buf(4);\n\to.write_shift(4, type == 0x50 ? 0x1F : type);\n\tswitch(type) {\n\t\tcase 0x03 /*VT_I4*/: p.write_shift(-4, value); break;\n\t\tcase 0x05 /*VT_I4*/: p = new_buf(8); p.write_shift(8, value, 'f'); break;\n\t\tcase 0x0B /*VT_BOOL*/: p.write_shift(4, value ? 0x01 : 0x00); break;\n\t\tcase 0x40 /*VT_FILETIME*/: /*:: if(typeof value !== \"string\" && !(value instanceof Date)) throw \"unreachable\"; */ p = write_FILETIME(value); break;\n\t\tcase 0x1F /*VT_LPWSTR*/:\n\t\tcase 0x50 /*VT_STRING*/:\n\t\t\t/*:: if(typeof value !== \"string\") throw \"unreachable\"; */\n\t\t\tp = new_buf(4 + 2 * (value.length + 1) + (value.length % 2 ? 0 : 2));\n\t\t\tp.write_shift(4, value.length + 1);\n\t\t\tp.write_shift(0, value, \"dbcs\");\n\t\t\twhile(p.l != p.length) p.write_shift(1, 0);\n\t\t\tbreak;\n\t\tdefault: throw new Error(\"TypedPropertyValue unrecognized type \" + type + \" \" + value);\n\t}\n\treturn bconcat([o, p]);\n}\n\n/* [MS-OLEPS] 2.20 PropertySet */\nfunction parse_PropertySet(blob, PIDSI) {\n\tvar start_addr = blob.l;\n\tvar size = blob.read_shift(4);\n\tvar NumProps = blob.read_shift(4);\n\tvar Props = [], i = 0;\n\tvar CodePage = 0;\n\tvar Dictionary = -1, DictObj/*:{[number]:string}*/ = ({}/*:any*/);\n\tfor(i = 0; i != NumProps; ++i) {\n\t\tvar PropID = blob.read_shift(4);\n\t\tvar Offset = blob.read_shift(4);\n\t\tProps[i] = [PropID, Offset + start_addr];\n\t}\n\tProps.sort(function(x,y) { return x[1] - y[1]; });\n\tvar PropH = {};\n\tfor(i = 0; i != NumProps; ++i) {\n\t\tif(blob.l !== Props[i][1]) {\n\t\t\tvar fail = true;\n\t\t\tif(i>0 && PIDSI) switch(PIDSI[Props[i-1][0]].t) {\n\t\t\t\tcase 0x02 /*VT_I2*/: if(blob.l+2 === Props[i][1]) { blob.l+=2; fail = false; } break;\n\t\t\t\tcase 0x50 /*VT_STRING*/: if(blob.l <= Props[i][1]) { blob.l=Props[i][1]; fail = false; } break;\n\t\t\t\tcase 0x100C /*VT_VECTOR|VT_VARIANT*/: if(blob.l <= Props[i][1]) { blob.l=Props[i][1]; fail = false; } break;\n\t\t\t}\n\t\t\tif((!PIDSI||i==0) && blob.l <= Props[i][1]) { fail=false; blob.l = Props[i][1]; }\n\t\t\tif(fail) throw new Error(\"Read Error: Expected address \" + Props[i][1] + ' at ' + blob.l + ' :' + i);\n\t\t}\n\t\tif(PIDSI) {\n\t\t\tvar piddsi = PIDSI[Props[i][0]];\n\t\t\tPropH[piddsi.n] = parse_TypedPropertyValue(blob, piddsi.t, {raw:true});\n\t\t\tif(piddsi.p === 'version') PropH[piddsi.n] = String(PropH[piddsi.n] >> 16) + \".\" + (\"0000\" + String(PropH[piddsi.n] & 0xFFFF)).slice(-4);\n\t\t\tif(piddsi.n == \"CodePage\") switch(PropH[piddsi.n]) {\n\t\t\t\tcase 0: PropH[piddsi.n] = 1252;\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 874:\n\t\t\t\tcase 932:\n\t\t\t\tcase 936:\n\t\t\t\tcase 949:\n\t\t\t\tcase 950:\n\t\t\t\tcase 1250:\n\t\t\t\tcase 1251:\n\t\t\t\tcase 1253:\n\t\t\t\tcase 1254:\n\t\t\t\tcase 1255:\n\t\t\t\tcase 1256:\n\t\t\t\tcase 1257:\n\t\t\t\tcase 1258:\n\t\t\t\tcase 10000:\n\t\t\t\tcase 1200:\n\t\t\t\tcase 1201:\n\t\t\t\tcase 1252:\n\t\t\t\tcase 65000: case -536:\n\t\t\t\tcase 65001: case -535:\n\t\t\t\t\tset_cp(CodePage = (PropH[piddsi.n]>>>0) & 0xFFFF); break;\n\t\t\t\tdefault: throw new Error(\"Unsupported CodePage: \" + PropH[piddsi.n]);\n\t\t\t}\n\t\t} else {\n\t\t\tif(Props[i][0] === 0x1) {\n\t\t\t\tCodePage = PropH.CodePage = (parse_TypedPropertyValue(blob, VT_I2)/*:number*/);\n\t\t\t\tset_cp(CodePage);\n\t\t\t\tif(Dictionary !== -1) {\n\t\t\t\t\tvar oldpos = blob.l;\n\t\t\t\t\tblob.l = Props[Dictionary][1];\n\t\t\t\t\tDictObj = parse_dictionary(blob,CodePage);\n\t\t\t\t\tblob.l = oldpos;\n\t\t\t\t}\n\t\t\t} else if(Props[i][0] === 0) {\n\t\t\t\tif(CodePage === 0) { Dictionary = i; blob.l = Props[i+1][1]; continue; }\n\t\t\t\tDictObj = parse_dictionary(blob,CodePage);\n\t\t\t} else {\n\t\t\t\tvar name = DictObj[Props[i][0]];\n\t\t\t\tvar val;\n\t\t\t\t/* [MS-OSHARED] 2.3.3.2.3.1.2 + PROPVARIANT */\n\t\t\t\tswitch(blob[blob.l]) {\n\t\t\t\t\tcase 0x41 /*VT_BLOB*/: blob.l += 4; val = parse_BLOB(blob); break;\n\t\t\t\t\tcase 0x1E /*VT_LPSTR*/: blob.l += 4; val = parse_VtString(blob, blob[blob.l-4]).replace(/\\u0000+$/,\"\"); break;\n\t\t\t\t\tcase 0x1F /*VT_LPWSTR*/: blob.l += 4; val = parse_VtString(blob, blob[blob.l-4]).replace(/\\u0000+$/,\"\"); break;\n\t\t\t\t\tcase 0x03 /*VT_I4*/: blob.l += 4; val = blob.read_shift(4, 'i'); break;\n\t\t\t\t\tcase 0x13 /*VT_UI4*/: blob.l += 4; val = blob.read_shift(4); break;\n\t\t\t\t\tcase 0x05 /*VT_R8*/: blob.l += 4; val = blob.read_shift(8, 'f'); break;\n\t\t\t\t\tcase 0x0B /*VT_BOOL*/: blob.l += 4; val = parsebool(blob, 4); break;\n\t\t\t\t\tcase 0x40 /*VT_FILETIME*/: blob.l += 4; val = parseDate(parse_FILETIME(blob)); break;\n\t\t\t\t\tdefault: throw new Error(\"unparsed value: \" + blob[blob.l]);\n\t\t\t\t}\n\t\t\t\tPropH[name] = val;\n\t\t\t}\n\t\t}\n\t}\n\tblob.l = start_addr + size; /* step ahead to skip padding */\n\treturn PropH;\n}\nvar XLSPSSkip = [ \"CodePage\", \"Thumbnail\", \"_PID_LINKBASE\", \"_PID_HLINKS\", \"SystemIdentifier\", \"FMTID\" ]; //.concat(PseudoPropsPairs);\nfunction guess_property_type(val/*:any*/)/*:number*/ {\n\tswitch(typeof val) {\n\t\tcase \"boolean\": return 0x0B;\n\t\tcase \"number\": return ((val|0)==val) ? 0x03 : 0x05;\n\t\tcase \"string\": return 0x1F;\n\t\tcase \"object\": if(val instanceof Date) return 0x40; break;\n\t}\n\treturn -1;\n}\nfunction write_PropertySet(entries, RE, PIDSI) {\n\tvar hdr = new_buf(8), piao = [], prop = [];\n\tvar sz = 8, i = 0;\n\n\tvar pr = new_buf(8), pio = new_buf(8);\n\tpr.write_shift(4, 0x0002);\n\tpr.write_shift(4, 0x04B0);\n\tpio.write_shift(4, 0x0001);\n\tprop.push(pr); piao.push(pio);\n\tsz += 8 + pr.length;\n\n\tif(!RE) {\n\t\tpio = new_buf(8);\n\t\tpio.write_shift(4, 0);\n\t\tpiao.unshift(pio);\n\n\t\tvar bufs = [new_buf(4)];\n\t\tbufs[0].write_shift(4, entries.length);\n\t\tfor(i = 0; i < entries.length; ++i) {\n\t\t\tvar value = entries[i][0];\n\t\t\tpr = new_buf(4 + 4 + 2 * (value.length + 1) + (value.length % 2 ? 0 : 2));\n\t\t\tpr.write_shift(4, i+2);\n\t\t\tpr.write_shift(4, value.length + 1);\n\t\t\tpr.write_shift(0, value, \"dbcs\");\n\t\t\twhile(pr.l != pr.length) pr.write_shift(1, 0);\n\t\t\tbufs.push(pr);\n\t\t}\n\t\tpr = bconcat(bufs);\n\t\tprop.unshift(pr);\n\t\tsz += 8 + pr.length;\n\t}\n\n\tfor(i = 0; i < entries.length; ++i) {\n\t\tif(RE && !RE[entries[i][0]]) continue;\n\t\tif(XLSPSSkip.indexOf(entries[i][0]) > -1 || PseudoPropsPairs.indexOf(entries[i][0]) > -1) continue;\n\t\tif(entries[i][1] == null) continue;\n\n\t\tvar val = entries[i][1], idx = 0;\n\t\tif(RE) {\n\t\t\tidx = +RE[entries[i][0]];\n\t\t\tvar pinfo = (PIDSI/*:: || {}*/)[idx]/*:: || {} */;\n\t\t\tif(pinfo.p == \"version\" && typeof val == \"string\") {\n\t\t\t\t/*:: if(typeof val !== \"string\") throw \"unreachable\"; */\n\t\t\t\tvar arr = val.split(\".\");\n\t\t\t\tval = ((+arr[0])<<16) + ((+arr[1])||0);\n\t\t\t}\n\t\t\tpr = write_TypedPropertyValue(pinfo.t, val);\n\t\t} else {\n\t\t\tvar T = guess_property_type(val);\n\t\t\tif(T == -1) { T = 0x1F; val = String(val); }\n\t\t\tpr = write_TypedPropertyValue(T, val);\n\t\t}\n\t\tprop.push(pr);\n\n\t\tpio = new_buf(8);\n\t\tpio.write_shift(4, !RE ? 2+i : idx);\n\t\tpiao.push(pio);\n\n\t\tsz += 8 + pr.length;\n\t}\n\n\tvar w = 8 * (prop.length + 1);\n\tfor(i = 0; i < prop.length; ++i) { piao[i].write_shift(4, w); w += prop[i].length; }\n\thdr.write_shift(4, sz);\n\thdr.write_shift(4, prop.length);\n\treturn bconcat([hdr].concat(piao).concat(prop));\n}\n\n/* [MS-OLEPS] 2.21 PropertySetStream */\nfunction parse_PropertySetStream(file, PIDSI, clsid) {\n\tvar blob = file.content;\n\tif(!blob) return ({}/*:any*/);\n\tprep_blob(blob, 0);\n\n\tvar NumSets, FMTID0, FMTID1, Offset0, Offset1 = 0;\n\tblob.chk('feff', 'Byte Order: ');\n\n\t/*var vers = */blob.read_shift(2); // TODO: check version\n\tvar SystemIdentifier = blob.read_shift(4);\n\tvar CLSID = blob.read_shift(16);\n\tif(CLSID !== CFB.utils.consts.HEADER_CLSID && CLSID !== clsid) throw new Error(\"Bad PropertySet CLSID \" + CLSID);\n\tNumSets = blob.read_shift(4);\n\tif(NumSets !== 1 && NumSets !== 2) throw new Error(\"Unrecognized #Sets: \" + NumSets);\n\tFMTID0 = blob.read_shift(16); Offset0 = blob.read_shift(4);\n\n\tif(NumSets === 1 && Offset0 !== blob.l) throw new Error(\"Length mismatch: \" + Offset0 + \" !== \" + blob.l);\n\telse if(NumSets === 2) { FMTID1 = blob.read_shift(16); Offset1 = blob.read_shift(4); }\n\tvar PSet0 = parse_PropertySet(blob, PIDSI);\n\n\tvar rval = ({ SystemIdentifier: SystemIdentifier }/*:any*/);\n\tfor(var y in PSet0) rval[y] = PSet0[y];\n\t//rval.blob = blob;\n\trval.FMTID = FMTID0;\n\t//rval.PSet0 = PSet0;\n\tif(NumSets === 1) return rval;\n\tif(Offset1 - blob.l == 2) blob.l += 2;\n\tif(blob.l !== Offset1) throw new Error(\"Length mismatch 2: \" + blob.l + \" !== \" + Offset1);\n\tvar PSet1;\n\ttry { PSet1 = parse_PropertySet(blob, null); } catch(e) {/* empty */}\n\tfor(y in PSet1) rval[y] = PSet1[y];\n\trval.FMTID = [FMTID0, FMTID1]; // TODO: verify FMTID0/1\n\treturn rval;\n}\nfunction write_PropertySetStream(entries, clsid, RE, PIDSI/*:{[key:string|number]:any}*/, entries2/*:?any*/, clsid2/*:?any*/) {\n\tvar hdr = new_buf(entries2 ? 68 : 48);\n\tvar bufs = [hdr];\n\thdr.write_shift(2, 0xFFFE);\n\thdr.write_shift(2, 0x0000); /* TODO: type 1 props */\n\thdr.write_shift(4, 0x32363237);\n\thdr.write_shift(16, CFB.utils.consts.HEADER_CLSID, \"hex\");\n\thdr.write_shift(4, (entries2 ? 2 : 1));\n\thdr.write_shift(16, clsid, \"hex\");\n\thdr.write_shift(4, (entries2 ? 68 : 48));\n\tvar ps0 = write_PropertySet(entries, RE, PIDSI);\n\tbufs.push(ps0);\n\n\tif(entries2) {\n\t\tvar ps1 = write_PropertySet(entries2, null, null);\n\t\thdr.write_shift(16, clsid2, \"hex\");\n\t\thdr.write_shift(4, 68 + ps0.length);\n\t\tbufs.push(ps1);\n\t}\n\treturn bconcat(bufs);\n}\n\nfunction parsenoop2(blob, length) { blob.read_shift(length); return null; }\nfunction writezeroes(n, o) { if(!o) o=new_buf(n); for(var j=0; j<n; ++j) o.write_shift(1, 0); return o; }\n\nfunction parslurp(blob, length, cb) {\n\tvar arr = [], target = blob.l + length;\n\twhile(blob.l < target) arr.push(cb(blob, target - blob.l));\n\tif(target !== blob.l) throw new Error(\"Slurp error\");\n\treturn arr;\n}\n\nfunction parsebool(blob, length/*:number*/) { return blob.read_shift(length) === 0x1; }\nfunction writebool(v/*:any*/, o) { if(!o) o=new_buf(2); o.write_shift(2, +!!v); return o; }\n\nfunction parseuint16(blob/*::, length:?number, opts:?any*/) { return blob.read_shift(2, 'u'); }\nfunction writeuint16(v/*:number*/, o) { if(!o) o=new_buf(2); o.write_shift(2, v); return o; }\nfunction parseuint16a(blob, length/*:: :?number, opts:?any*/) { return parslurp(blob,length,parseuint16);}\n\n/* --- 2.5 Structures --- */\n\n/* [MS-XLS] 2.5.10 Bes (boolean or error) */\nfunction parse_Bes(blob/*::, length*/) {\n\tvar v = blob.read_shift(1), t = blob.read_shift(1);\n\treturn t === 0x01 ? v : v === 0x01;\n}\nfunction write_Bes(v, t/*:string*/, o) {\n\tif(!o) o = new_buf(2);\n\to.write_shift(1, ((t == 'e') ? +v : +!!v));\n\to.write_shift(1, ((t == 'e') ? 1 : 0));\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.240 ShortXLUnicodeString */\nfunction parse_ShortXLUnicodeString(blob, length, opts) {\n\tvar cch = blob.read_shift(opts && opts.biff >= 12 ? 2 : 1);\n\tvar encoding = 'sbcs-cont';\n\tvar cp = current_codepage;\n\tif(opts && opts.biff >= 8) current_codepage = 1200;\n\tif(!opts || opts.biff == 8 ) {\n\t\tvar fHighByte = blob.read_shift(1);\n\t\tif(fHighByte) { encoding = 'dbcs-cont'; }\n\t} else if(opts.biff == 12) {\n\t\tencoding = 'wstr';\n\t}\n\tif(opts.biff >= 2 && opts.biff <= 5) encoding = 'cpstr';\n\tvar o = cch ? blob.read_shift(cch, encoding) : \"\";\n\tcurrent_codepage = cp;\n\treturn o;\n}\n\n/* 2.5.293 XLUnicodeRichExtendedString */\nfunction parse_XLUnicodeRichExtendedString(blob) {\n\tvar cp = current_codepage;\n\tcurrent_codepage = 1200;\n\tvar cch = blob.read_shift(2), flags = blob.read_shift(1);\n\tvar /*fHighByte = flags & 0x1,*/ fExtSt = flags & 0x4, fRichSt = flags & 0x8;\n\tvar width = 1 + (flags & 0x1); // 0x0 -> utf8, 0x1 -> dbcs\n\tvar cRun = 0, cbExtRst;\n\tvar z = {};\n\tif(fRichSt) cRun = blob.read_shift(2);\n\tif(fExtSt) cbExtRst = blob.read_shift(4);\n\tvar encoding = width == 2 ? 'dbcs-cont' : 'sbcs-cont';\n\tvar msg = cch === 0 ? \"\" : blob.read_shift(cch, encoding);\n\tif(fRichSt) blob.l += 4 * cRun; //TODO: parse this\n\tif(fExtSt) blob.l += cbExtRst; //TODO: parse this\n\tz.t = msg;\n\tif(!fRichSt) { z.raw = \"<t>\" + z.t + \"</t>\"; z.r = z.t; }\n\tcurrent_codepage = cp;\n\treturn z;\n}\nfunction write_XLUnicodeRichExtendedString(xlstr/*:: :XLString, opts*/) {\n\tvar str = (xlstr.t||\"\"), nfmts = 1;\n\n\tvar hdr = new_buf(3 + (nfmts > 1 ? 2 : 0));\n\thdr.write_shift(2, str.length);\n\thdr.write_shift(1, (nfmts > 1 ? 0x08 : 0x00) | 0x01);\n\tif(nfmts > 1) hdr.write_shift(2, nfmts);\n\n\tvar otext = new_buf(2 * str.length);\n\totext.write_shift(2 * str.length, str, 'utf16le');\n\n\tvar out = [hdr, otext];\n\n\treturn bconcat(out);\n}\n\n/* 2.5.296 XLUnicodeStringNoCch */\nfunction parse_XLUnicodeStringNoCch(blob, cch, opts) {\n\tvar retval;\n\tif(opts) {\n\t\tif(opts.biff >= 2 && opts.biff <= 5) return blob.read_shift(cch, 'cpstr');\n\t\tif(opts.biff >= 12) return blob.read_shift(cch, 'dbcs-cont');\n\t}\n\tvar fHighByte = blob.read_shift(1);\n\tif(fHighByte===0) { retval = blob.read_shift(cch, 'sbcs-cont'); }\n\telse { retval = blob.read_shift(cch, 'dbcs-cont'); }\n\treturn retval;\n}\n\n/* 2.5.294 XLUnicodeString */\nfunction parse_XLUnicodeString(blob, length, opts) {\n\tvar cch = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\tif(cch === 0) { blob.l++; return \"\"; }\n\treturn parse_XLUnicodeStringNoCch(blob, cch, opts);\n}\n/* BIFF5 override */\nfunction parse_XLUnicodeString2(blob, length, opts) {\n\tif(opts.biff > 5) return parse_XLUnicodeString(blob, length, opts);\n\tvar cch = blob.read_shift(1);\n\tif(cch === 0) { blob.l++; return \"\"; }\n\treturn blob.read_shift(cch, (opts.biff <= 4 || !blob.lens ) ? 'cpstr' : 'sbcs-cont');\n}\n/* TODO: BIFF5 and lower, codepage awareness */\nfunction write_XLUnicodeString(str, opts, o) {\n\tif(!o) o = new_buf(3 + 2 * str.length);\n\to.write_shift(2, str.length);\n\to.write_shift(1, 1);\n\to.write_shift(31, str, 'utf16le');\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.61 ControlInfo */\nfunction parse_ControlInfo(blob/*::, length, opts*/) {\n\tvar flags = blob.read_shift(1);\n\tblob.l++;\n\tvar accel = blob.read_shift(2);\n\tblob.l += 2;\n\treturn [flags, accel];\n}\n\n/* [MS-OSHARED] 2.3.7.6 URLMoniker TODO: flags */\nfunction parse_URLMoniker(blob/*::, length, opts*/) {\n\tvar len = blob.read_shift(4), start = blob.l;\n\tvar extra = false;\n\tif(len > 24) {\n\t\t/* look ahead */\n\t\tblob.l += len - 24;\n\t\tif(blob.read_shift(16) === \"795881f43b1d7f48af2c825dc4852763\") extra = true;\n\t\tblob.l = start;\n\t}\n\tvar url = blob.read_shift((extra?len-24:len)>>1, 'utf16le').replace(chr0,\"\");\n\tif(extra) blob.l += 24;\n\treturn url;\n}\n\n/* [MS-OSHARED] 2.3.7.8 FileMoniker TODO: all fields */\nfunction parse_FileMoniker(blob/*::, length*/) {\n\tvar cAnti = blob.read_shift(2);\n\tvar preamble = \"\"; while(cAnti-- > 0) preamble += \"../\";\n\tvar ansiPath = blob.read_shift(0, 'lpstr-ansi');\n\tblob.l += 2; //var endServer = blob.read_shift(2);\n\tif(blob.read_shift(2) != 0xDEAD) throw new Error(\"Bad FileMoniker\");\n\tvar sz = blob.read_shift(4);\n\tif(sz === 0) return preamble + ansiPath.replace(/\\\\/g,\"/\");\n\tvar bytes = blob.read_shift(4);\n\tif(blob.read_shift(2) != 3) throw new Error(\"Bad FileMoniker\");\n\tvar unicodePath = blob.read_shift(bytes>>1, 'utf16le').replace(chr0,\"\");\n\treturn preamble + unicodePath;\n}\n\n/* [MS-OSHARED] 2.3.7.2 HyperlinkMoniker TODO: all the monikers */\nfunction parse_HyperlinkMoniker(blob, length) {\n\tvar clsid = blob.read_shift(16); length -= 16;\n\tswitch(clsid) {\n\t\tcase \"e0c9ea79f9bace118c8200aa004ba90b\": return parse_URLMoniker(blob, length);\n\t\tcase \"0303000000000000c000000000000046\": return parse_FileMoniker(blob, length);\n\t\tdefault: throw new Error(\"Unsupported Moniker \" + clsid);\n\t}\n}\n\n/* [MS-OSHARED] 2.3.7.9 HyperlinkString */\nfunction parse_HyperlinkString(blob/*::, length*/) {\n\tvar len = blob.read_shift(4);\n\tvar o = len > 0 ? blob.read_shift(len, 'utf16le').replace(chr0, \"\") : \"\";\n\treturn o;\n}\nfunction write_HyperlinkString(str/*:string*/, o) {\n\tif(!o) o = new_buf(6 + str.length * 2);\n\to.write_shift(4, 1 + str.length);\n\tfor(var i = 0; i < str.length; ++i) o.write_shift(2, str.charCodeAt(i));\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-OSHARED] 2.3.7.1 Hyperlink Object */\nfunction parse_Hyperlink(blob, length)/*:Hyperlink*/ {\n\tvar end = blob.l + length;\n\tvar sVer = blob.read_shift(4);\n\tif(sVer !== 2) throw new Error(\"Unrecognized streamVersion: \" + sVer);\n\tvar flags = blob.read_shift(2);\n\tblob.l += 2;\n\tvar displayName, targetFrameName, moniker, oleMoniker, Loc=\"\", guid, fileTime;\n\tif(flags & 0x0010) displayName = parse_HyperlinkString(blob, end - blob.l);\n\tif(flags & 0x0080) targetFrameName = parse_HyperlinkString(blob, end - blob.l);\n\tif((flags & 0x0101) === 0x0101) moniker = parse_HyperlinkString(blob, end - blob.l);\n\tif((flags & 0x0101) === 0x0001) oleMoniker = parse_HyperlinkMoniker(blob, end - blob.l);\n\tif(flags & 0x0008) Loc = parse_HyperlinkString(blob, end - blob.l);\n\tif(flags & 0x0020) guid = blob.read_shift(16);\n\tif(flags & 0x0040) fileTime = parse_FILETIME(blob/*, 8*/);\n\tblob.l = end;\n\tvar target = targetFrameName||moniker||oleMoniker||\"\";\n\tif(target && Loc) target+=\"#\"+Loc;\n\tif(!target) target = \"#\" + Loc;\n\tif((flags & 0x0002) && target.charAt(0) == \"/\" && target.charAt(1) != \"/\") target = \"file://\" + target;\n\tvar out = ({Target:target}/*:any*/);\n\tif(guid) out.guid = guid;\n\tif(fileTime) out.time = fileTime;\n\tif(displayName) out.Tooltip = displayName;\n\treturn out;\n}\nfunction write_Hyperlink(hl) {\n\tvar out = new_buf(512), i = 0;\n\tvar Target = hl.Target;\n\tif(Target.slice(0,7) == \"file://\") Target = Target.slice(7);\n\tvar hashidx = Target.indexOf(\"#\");\n\tvar F = hashidx > -1 ? 0x1f : 0x17;\n\tswitch(Target.charAt(0)) { case \"#\": F=0x1c; break; case \".\": F&=~2; break; }\n\tout.write_shift(4,2); out.write_shift(4, F);\n\tvar data = [8,6815827,6619237,4849780,83]; for(i = 0; i < data.length; ++i) out.write_shift(4, data[i]);\n\tif(F == 0x1C) {\n\t\tTarget = Target.slice(1);\n\t\twrite_HyperlinkString(Target, out);\n\t} else if(F & 0x02) {\n\t\tdata = \"e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b\".split(\" \");\n\t\tfor(i = 0; i < data.length; ++i) out.write_shift(1, parseInt(data[i], 16));\n\t\tvar Pretarget = hashidx > -1 ? Target.slice(0, hashidx) : Target;\n\t\tout.write_shift(4, 2*(Pretarget.length + 1));\n\t\tfor(i = 0; i < Pretarget.length; ++i) out.write_shift(2, Pretarget.charCodeAt(i));\n\t\tout.write_shift(2, 0);\n\t\tif(F & 0x08) write_HyperlinkString(hashidx > -1 ? Target.slice(hashidx+1): \"\", out);\n\t} else {\n\t\tdata = \"03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46\".split(\" \");\n\t\tfor(i = 0; i < data.length; ++i) out.write_shift(1, parseInt(data[i], 16));\n\t\tvar P = 0;\n\t\twhile(Target.slice(P*3,P*3+3)==\"../\"||Target.slice(P*3,P*3+3)==\"..\\\\\") ++P;\n\t\tout.write_shift(2, P);\n\t\tout.write_shift(4, Target.length - 3 * P + 1);\n\t\tfor(i = 0; i < Target.length - 3 * P; ++i) out.write_shift(1, Target.charCodeAt(i + 3 * P) & 0xFF);\n\t\tout.write_shift(1, 0);\n\t\tout.write_shift(2, 0xFFFF);\n\t\tout.write_shift(2, 0xDEAD);\n\t\tfor(i = 0; i < 6; ++i) out.write_shift(4, 0);\n\t}\n\treturn out.slice(0, out.l);\n}\n\n/* 2.5.178 LongRGBA */\nfunction parse_LongRGBA(blob/*::, length*/) { var r = blob.read_shift(1), g = blob.read_shift(1), b = blob.read_shift(1), a = blob.read_shift(1); return [r,g,b,a]; }\n\n/* 2.5.177 LongRGB */\nfunction parse_LongRGB(blob, length) { var x = parse_LongRGBA(blob, length); x[3] = 0; return x; }\n\n\n/* [MS-XLS] 2.5.19 */\nfunction parse_XLSCell(blob/*::, length*/)/*:Cell*/ {\n\tvar rw = blob.read_shift(2); // 0-indexed\n\tvar col = blob.read_shift(2);\n\tvar ixfe = blob.read_shift(2);\n\treturn ({r:rw, c:col, ixfe:ixfe}/*:any*/);\n}\nfunction write_XLSCell(R/*:number*/, C/*:number*/, ixfe/*:?number*/, o) {\n\tif(!o) o = new_buf(6);\n\to.write_shift(2, R);\n\to.write_shift(2, C);\n\to.write_shift(2, ixfe||0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.134 */\nfunction parse_frtHeader(blob) {\n\tvar rt = blob.read_shift(2);\n\tvar flags = blob.read_shift(2); // TODO: parse these flags\n\tblob.l += 8;\n\treturn {type: rt, flags: flags};\n}\n\n\n\nfunction parse_OptXLUnicodeString(blob, length, opts) { return length === 0 ? \"\" : parse_XLUnicodeString2(blob, length, opts); }\n\n/* [MS-XLS] 2.5.344 */\nfunction parse_XTI(blob, length, opts) {\n\tvar w = opts.biff > 8 ? 4 : 2;\n\tvar iSupBook = blob.read_shift(w), itabFirst = blob.read_shift(w,'i'), itabLast = blob.read_shift(w,'i');\n\treturn [iSupBook, itabFirst, itabLast];\n}\n\n/* [MS-XLS] 2.5.218 */\nfunction parse_RkRec(blob) {\n\tvar ixfe = blob.read_shift(2);\n\tvar RK = parse_RkNumber(blob);\n\treturn [ixfe, RK];\n}\n\n/* [MS-XLS] 2.5.1 */\nfunction parse_AddinUdf(blob, length, opts) {\n\tblob.l += 4; length -= 4;\n\tvar l = blob.l + length;\n\tvar udfName = parse_ShortXLUnicodeString(blob, length, opts);\n\tvar cb = blob.read_shift(2);\n\tl -= blob.l;\n\tif(cb !== l) throw new Error(\"Malformed AddinUdf: padding = \" + l + \" != \" + cb);\n\tblob.l += cb;\n\treturn udfName;\n}\n\n/* [MS-XLS] 2.5.209 TODO: Check sizes */\nfunction parse_Ref8U(blob/*::, length*/) {\n\tvar rwFirst = blob.read_shift(2);\n\tvar rwLast = blob.read_shift(2);\n\tvar colFirst = blob.read_shift(2);\n\tvar colLast = blob.read_shift(2);\n\treturn {s:{c:colFirst, r:rwFirst}, e:{c:colLast,r:rwLast}};\n}\nfunction write_Ref8U(r/*:Range*/, o) {\n\tif(!o) o = new_buf(8);\n\to.write_shift(2, r.s.r);\n\to.write_shift(2, r.e.r);\n\to.write_shift(2, r.s.c);\n\to.write_shift(2, r.e.c);\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.211 */\nfunction parse_RefU(blob/*::, length*/) {\n\tvar rwFirst = blob.read_shift(2);\n\tvar rwLast = blob.read_shift(2);\n\tvar colFirst = blob.read_shift(1);\n\tvar colLast = blob.read_shift(1);\n\treturn {s:{c:colFirst, r:rwFirst}, e:{c:colLast,r:rwLast}};\n}\n\n/* [MS-XLS] 2.5.207 */\nvar parse_Ref = parse_RefU;\n\n/* [MS-XLS] 2.5.143 */\nfunction parse_FtCmo(blob/*::, length*/) {\n\tblob.l += 4;\n\tvar ot = blob.read_shift(2);\n\tvar id = blob.read_shift(2);\n\tvar flags = blob.read_shift(2);\n\tblob.l+=12;\n\treturn [id, ot, flags];\n}\n\n/* [MS-XLS] 2.5.149 */\nfunction parse_FtNts(blob) {\n\tvar out = {};\n\tblob.l += 4;\n\tblob.l += 16; // GUID TODO\n\tout.fSharedNote = blob.read_shift(2);\n\tblob.l += 4;\n\treturn out;\n}\n\n/* [MS-XLS] 2.5.142 */\nfunction parse_FtCf(blob) {\n\tvar out = {};\n\tblob.l += 4;\n\tblob.cf = blob.read_shift(2);\n\treturn out;\n}\n\n/* [MS-XLS] 2.5.140 - 2.5.154 and friends */\nfunction parse_FtSkip(blob) { blob.l += 2; blob.l += blob.read_shift(2); }\nvar FtTab = {\n\t/*::[*/0x00/*::]*/: parse_FtSkip,      /* FtEnd */\n\t/*::[*/0x04/*::]*/: parse_FtSkip,      /* FtMacro */\n\t/*::[*/0x05/*::]*/: parse_FtSkip,      /* FtButton */\n\t/*::[*/0x06/*::]*/: parse_FtSkip,      /* FtGmo */\n\t/*::[*/0x07/*::]*/: parse_FtCf,        /* FtCf */\n\t/*::[*/0x08/*::]*/: parse_FtSkip,      /* FtPioGrbit */\n\t/*::[*/0x09/*::]*/: parse_FtSkip,      /* FtPictFmla */\n\t/*::[*/0x0A/*::]*/: parse_FtSkip,      /* FtCbls */\n\t/*::[*/0x0B/*::]*/: parse_FtSkip,      /* FtRbo */\n\t/*::[*/0x0C/*::]*/: parse_FtSkip,      /* FtSbs */\n\t/*::[*/0x0D/*::]*/: parse_FtNts,       /* FtNts */\n\t/*::[*/0x0E/*::]*/: parse_FtSkip,      /* FtSbsFmla */\n\t/*::[*/0x0F/*::]*/: parse_FtSkip,      /* FtGboData */\n\t/*::[*/0x10/*::]*/: parse_FtSkip,      /* FtEdoData */\n\t/*::[*/0x11/*::]*/: parse_FtSkip,      /* FtRboData */\n\t/*::[*/0x12/*::]*/: parse_FtSkip,      /* FtCblsData */\n\t/*::[*/0x13/*::]*/: parse_FtSkip,      /* FtLbsData */\n\t/*::[*/0x14/*::]*/: parse_FtSkip,      /* FtCblsFmla */\n\t/*::[*/0x15/*::]*/: parse_FtCmo\n};\nfunction parse_FtArray(blob, length/*::, ot*/) {\n\tvar tgt = blob.l + length;\n\tvar fts = [];\n\twhile(blob.l < tgt) {\n\t\tvar ft = blob.read_shift(2);\n\t\tblob.l-=2;\n\t\ttry {\n\t\t\tfts.push(FtTab[ft](blob, tgt - blob.l));\n\t\t} catch(e) { blob.l = tgt; return fts; }\n\t}\n\tif(blob.l != tgt) blob.l = tgt; //throw new Error(\"bad Object Ft-sequence\");\n\treturn fts;\n}\n\n/* --- 2.4 Records --- */\n\n/* [MS-XLS] 2.4.21 */\nfunction parse_BOF(blob, length) {\n\tvar o = {BIFFVer:0, dt:0};\n\to.BIFFVer = blob.read_shift(2); length -= 2;\n\tif(length >= 2) { o.dt = blob.read_shift(2); blob.l -= 2; }\n\tswitch(o.BIFFVer) {\n\t\tcase 0x0600: /* BIFF8 */\n\t\tcase 0x0500: /* BIFF5 */\n\t\tcase 0x0400: /* BIFF4 */\n\t\tcase 0x0300: /* BIFF3 */\n\t\tcase 0x0200: /* BIFF2 */\n\t\tcase 0x0002: case 0x0007: /* BIFF2 */\n\t\t\tbreak;\n\t\tdefault: if(length > 6) throw new Error(\"Unexpected BIFF Ver \" + o.BIFFVer);\n\t}\n\n\tblob.read_shift(length);\n\treturn o;\n}\nfunction write_BOF(wb/*:Workbook*/, t/*:number*/, o) {\n\tvar h = 0x0600, w = 16;\n\tswitch(o.bookType) {\n\t\tcase 'biff8': break;\n\t\tcase 'biff5': h = 0x0500; w = 8; break;\n\t\tcase 'biff4': h = 0x0004; w = 6; break;\n\t\tcase 'biff3': h = 0x0003; w = 6; break;\n\t\tcase 'biff2': h = 0x0002; w = 4; break;\n\t\tcase 'xla': break;\n\t\tdefault: throw new Error(\"unsupported BIFF version\");\n\t}\n\tvar out = new_buf(w);\n\tout.write_shift(2, h);\n\tout.write_shift(2, t);\n\tif(w > 4) out.write_shift(2, 0x7262);\n\tif(w > 6) out.write_shift(2, 0x07CD);\n\tif(w > 8) {\n\t\tout.write_shift(2, 0xC009);\n\t\tout.write_shift(2, 0x0001);\n\t\tout.write_shift(2, 0x0706);\n\t\tout.write_shift(2, 0x0000);\n\t}\n\treturn out;\n}\n\n\n/* [MS-XLS] 2.4.146 */\nfunction parse_InterfaceHdr(blob, length) {\n\tif(length === 0) return 0x04b0;\n\tif((blob.read_shift(2))!==0x04b0){/* empty */}\n\treturn 0x04b0;\n}\n\n\n/* [MS-XLS] 2.4.349 */\nfunction parse_WriteAccess(blob, length, opts) {\n\tif(opts.enc) { blob.l += length; return \"\"; }\n\tvar l = blob.l;\n\t// TODO: make sure XLUnicodeString doesnt overrun\n\tvar UserName = parse_XLUnicodeString2(blob, 0, opts);\n\tblob.read_shift(length + l - blob.l);\n\treturn UserName;\n}\nfunction write_WriteAccess(s/*:string*/, opts) {\n\tvar b8 = !opts || opts.biff == 8;\n\tvar o = new_buf(b8 ? 112 : 54);\n\to.write_shift(opts.biff == 8 ? 2 : 1, 7);\n\tif(b8) o.write_shift(1, 0);\n\to.write_shift(4, 0x33336853);\n\to.write_shift(4, (0x00534A74 | (b8 ? 0 : 0x20000000)));\n\twhile(o.l < o.length) o.write_shift(1, (b8 ? 0 : 32));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.351 */\nfunction parse_WsBool(blob, length, opts) {\n\tvar flags = opts && opts.biff == 8 || length == 2 ? blob.read_shift(2) : (blob.l += length, 0);\n\treturn { fDialog: flags & 0x10, fBelow: flags & 0x40, fRight: flags & 0x80 };\n}\n\n/* [MS-XLS] 2.4.28 */\nfunction parse_BoundSheet8(blob, length, opts) {\n\tvar pos = blob.read_shift(4);\n\tvar hidden = blob.read_shift(1) & 0x03;\n\tvar dt = blob.read_shift(1);\n\tswitch(dt) {\n\t\tcase 0: dt = 'Worksheet'; break;\n\t\tcase 1: dt = 'Macrosheet'; break;\n\t\tcase 2: dt = 'Chartsheet'; break;\n\t\tcase 6: dt = 'VBAModule'; break;\n\t}\n\tvar name = parse_ShortXLUnicodeString(blob, 0, opts);\n\tif(name.length === 0) name = \"Sheet1\";\n\treturn { pos:pos, hs:hidden, dt:dt, name:name };\n}\nfunction write_BoundSheet8(data, opts) {\n\tvar w = (!opts || opts.biff >= 8 ? 2 : 1);\n\tvar o = new_buf(8 + w * data.name.length);\n\to.write_shift(4, data.pos);\n\to.write_shift(1, data.hs || 0);\n\to.write_shift(1, data.dt);\n\to.write_shift(1, data.name.length);\n\tif(opts.biff >= 8) o.write_shift(1, 1);\n\to.write_shift(w * data.name.length, data.name, opts.biff < 8 ? 'sbcs' : 'utf16le');\n\tvar out = o.slice(0, o.l);\n\tout.l = o.l; return out;\n}\n\n/* [MS-XLS] 2.4.265 TODO */\nfunction parse_SST(blob, length)/*:SST*/ {\n\tvar end = blob.l + length;\n\tvar cnt = blob.read_shift(4);\n\tvar ucnt = blob.read_shift(4);\n\tvar strs/*:SST*/ = ([]/*:any*/);\n\tfor(var i = 0; i != ucnt && blob.l < end; ++i) {\n\t\tstrs.push(parse_XLUnicodeRichExtendedString(blob));\n\t}\n\tstrs.Count = cnt; strs.Unique = ucnt;\n\treturn strs;\n}\nfunction write_SST(sst, opts) {\n\tvar header = new_buf(8);\n\theader.write_shift(4, sst.Count);\n\theader.write_shift(4, sst.Unique);\n\tvar strs = [];\n\tfor(var j = 0; j < sst.length; ++j) strs[j] = write_XLUnicodeRichExtendedString(sst[j], opts);\n\tvar o = bconcat([header].concat(strs));\n\t/*::(*/o/*:: :any)*/.parts = [header.length].concat(strs.map(function(str) { return str.length; }));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.107 */\nfunction parse_ExtSST(blob, length) {\n\tvar extsst = {};\n\textsst.dsst = blob.read_shift(2);\n\tblob.l += length-2;\n\treturn extsst;\n}\n\n\n/* [MS-XLS] 2.4.221 TODO: check BIFF2-4 */\nfunction parse_Row(blob) {\n\tvar z = ({}/*:any*/);\n\tz.r = blob.read_shift(2);\n\tz.c = blob.read_shift(2);\n\tz.cnt = blob.read_shift(2) - z.c;\n\tvar miyRw = blob.read_shift(2);\n\tblob.l += 4; // reserved(2), unused(2)\n\tvar flags = blob.read_shift(1); // various flags\n\tblob.l += 3; // reserved(8), ixfe(12), flags(4)\n\tif(flags & 0x07) z.level = flags & 0x07;\n\t// collapsed: flags & 0x10\n\tif(flags & 0x20) z.hidden = true;\n\tif(flags & 0x40) z.hpt = miyRw / 20;\n\treturn z;\n}\n\n\n/* [MS-XLS] 2.4.125 */\nfunction parse_ForceFullCalculation(blob) {\n\tvar header = parse_frtHeader(blob);\n\tif(header.type != 0x08A3) throw new Error(\"Invalid Future Record \" + header.type);\n\tvar fullcalc = blob.read_shift(4);\n\treturn fullcalc !== 0x0;\n}\n\n\n\n\n\n/* [MS-XLS] 2.4.215 rt */\nfunction parse_RecalcId(blob) {\n\tblob.read_shift(2);\n\treturn blob.read_shift(4);\n}\n\n/* [MS-XLS] 2.4.87 */\nfunction parse_DefaultRowHeight(blob, length, opts) {\n\tvar f = 0;\n\tif(!(opts && opts.biff == 2)) {\n\t\tf = blob.read_shift(2);\n\t}\n\tvar miyRw = blob.read_shift(2);\n\tif((opts && opts.biff == 2)) {\n\t\tf = 1 - (miyRw >> 15); miyRw &= 0x7fff;\n\t}\n\tvar fl = {Unsynced:f&1,DyZero:(f&2)>>1,ExAsc:(f&4)>>2,ExDsc:(f&8)>>3};\n\treturn [fl, miyRw];\n}\n\n/* [MS-XLS] 2.4.345 TODO */\nfunction parse_Window1(blob) {\n\tvar xWn = blob.read_shift(2), yWn = blob.read_shift(2), dxWn = blob.read_shift(2), dyWn = blob.read_shift(2);\n\tvar flags = blob.read_shift(2), iTabCur = blob.read_shift(2), iTabFirst = blob.read_shift(2);\n\tvar ctabSel = blob.read_shift(2), wTabRatio = blob.read_shift(2);\n\treturn { Pos: [xWn, yWn], Dim: [dxWn, dyWn], Flags: flags, CurTab: iTabCur,\n\t\tFirstTab: iTabFirst, Selected: ctabSel, TabRatio: wTabRatio };\n}\nfunction write_Window1(/*::opts*/) {\n\tvar o = new_buf(18);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0x7260);\n\to.write_shift(2, 0x44c0);\n\to.write_shift(2, 0x38);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 1);\n\to.write_shift(2, 0x01f4);\n\treturn o;\n}\n/* [MS-XLS] 2.4.346 TODO */\nfunction parse_Window2(blob, length, opts) {\n\tif(opts && opts.biff >= 2 && opts.biff < 5) return {};\n\tvar f = blob.read_shift(2);\n\treturn { RTL: f & 0x40 };\n}\nfunction write_Window2(view) {\n\tvar o = new_buf(18), f = 0x6b6;\n\tif(view && view.RTL) f |= 0x40;\n\to.write_shift(2, f);\n\to.write_shift(4, 0);\n\to.write_shift(4, 64);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.189 TODO */\nfunction parse_Pane(/*blob, length, opts*/) {\n}\n\n/* [MS-XLS] 2.4.122 TODO */\nfunction parse_Font(blob, length, opts) {\n\tvar o/*:any*/ = {\n\t\tdyHeight: blob.read_shift(2),\n\t\tfl: blob.read_shift(2)\n\t};\n\tswitch((opts && opts.biff) || 8) {\n\t\tcase 2: break;\n\t\tcase 3: case 4: blob.l += 2; break;\n\t\tdefault: blob.l += 10; break;\n\t}\n\to.name = parse_ShortXLUnicodeString(blob, 0, opts);\n\treturn o;\n}\nfunction write_Font(data, opts) {\n\tvar name = data.name || \"Arial\";\n\tvar b5 = (opts && (opts.biff == 5)), w = (b5 ? (15 + name.length) : (16 + 2 * name.length));\n\tvar o = new_buf(w);\n\to.write_shift(2, (data.sz || 12) * 20);\n\to.write_shift(4, 0);\n\to.write_shift(2, 400);\n\to.write_shift(4, 0);\n\to.write_shift(2, 0);\n\to.write_shift(1, name.length);\n\tif(!b5) o.write_shift(1, 1);\n\to.write_shift((b5 ? 1 : 2) * name.length, name, (b5 ? \"sbcs\" : \"utf16le\"));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.149 */\nfunction parse_LabelSst(blob) {\n\tvar cell = parse_XLSCell(blob);\n\tcell.isst = blob.read_shift(4);\n\treturn cell;\n}\nfunction write_LabelSst(R/*:number*/, C/*:number*/, v/*:number*/, os/*:number*/ /*::, opts*/) {\n\tvar o = new_buf(10);\n\twrite_XLSCell(R, C, os, o);\n\to.write_shift(4, v);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.148 */\nfunction parse_Label(blob, length, opts) {\n\tif(opts.biffguess && opts.biff == 2) opts.biff = 5;\n\tvar target = blob.l + length;\n\tvar cell = parse_XLSCell(blob, 6);\n\tif(opts.biff == 2) blob.l++;\n\tvar str = parse_XLUnicodeString(blob, target - blob.l, opts);\n\tcell.val = str;\n\treturn cell;\n}\nfunction write_Label(R/*:number*/, C/*:number*/, v/*:string*/, os/*:number*/, opts) {\n\tvar b8 = !opts || opts.biff == 8;\n\tvar o = new_buf(6 + 2 + (+b8) + (1 + b8) * v.length);\n\twrite_XLSCell(R, C, os, o);\n\to.write_shift(2, v.length);\n\tif(b8) o.write_shift(1, 1);\n\to.write_shift((1 + b8) * v.length, v, b8 ? 'utf16le' : 'sbcs');\n\treturn o;\n}\n\n\n/* [MS-XLS] 2.4.126 Number Formats */\nfunction parse_Format(blob, length, opts) {\n\tvar numFmtId = blob.read_shift(2);\n\tvar fmtstr = parse_XLUnicodeString2(blob, 0, opts);\n\treturn [numFmtId, fmtstr];\n}\nfunction write_Format(i/*:number*/, f/*:string*/, opts, o) {\n\tvar b5 = (opts && (opts.biff == 5));\n\tif(!o) o = new_buf(b5 ? (3 + f.length) : (5 + 2 * f.length));\n\to.write_shift(2, i);\n\to.write_shift((b5 ? 1 : 2), f.length);\n\tif(!b5) o.write_shift(1, 1);\n\to.write_shift((b5 ? 1 : 2) * f.length, f, (b5 ? 'sbcs' : 'utf16le'));\n\tvar out = (o.length > o.l) ? o.slice(0, o.l) : o;\n\tif(out.l == null) out.l = out.length;\n\treturn out;\n}\nvar parse_BIFF2Format = parse_XLUnicodeString2;\n\n/* [MS-XLS] 2.4.90 */\nfunction parse_Dimensions(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar w = opts.biff == 8 || !opts.biff ? 4 : 2;\n\tvar r = blob.read_shift(w), R = blob.read_shift(w);\n\tvar c = blob.read_shift(2), C = blob.read_shift(2);\n\tblob.l = end;\n\treturn {s: {r:r, c:c}, e: {r:R, c:C}};\n}\nfunction write_Dimensions(range, opts) {\n\tvar w = opts.biff == 8 || !opts.biff ? 4 : 2;\n\tvar o = new_buf(2*w + 6);\n\to.write_shift(w, range.s.r);\n\to.write_shift(w, range.e.r + 1);\n\to.write_shift(2, range.s.c);\n\to.write_shift(2, range.e.c + 1);\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.220 */\nfunction parse_RK(blob) {\n\tvar rw = blob.read_shift(2), col = blob.read_shift(2);\n\tvar rkrec = parse_RkRec(blob);\n\treturn {r:rw, c:col, ixfe:rkrec[0], rknum:rkrec[1]};\n}\n\n/* [MS-XLS] 2.4.175 */\nfunction parse_MulRk(blob, length) {\n\tvar target = blob.l + length - 2;\n\tvar rw = blob.read_shift(2), col = blob.read_shift(2);\n\tvar rkrecs = [];\n\twhile(blob.l < target) rkrecs.push(parse_RkRec(blob));\n\tif(blob.l !== target) throw new Error(\"MulRK read error\");\n\tvar lastcol = blob.read_shift(2);\n\tif(rkrecs.length != lastcol - col + 1) throw new Error(\"MulRK length mismatch\");\n\treturn {r:rw, c:col, C:lastcol, rkrec:rkrecs};\n}\n/* [MS-XLS] 2.4.174 */\nfunction parse_MulBlank(blob, length) {\n\tvar target = blob.l + length - 2;\n\tvar rw = blob.read_shift(2), col = blob.read_shift(2);\n\tvar ixfes = [];\n\twhile(blob.l < target) ixfes.push(blob.read_shift(2));\n\tif(blob.l !== target) throw new Error(\"MulBlank read error\");\n\tvar lastcol = blob.read_shift(2);\n\tif(ixfes.length != lastcol - col + 1) throw new Error(\"MulBlank length mismatch\");\n\treturn {r:rw, c:col, C:lastcol, ixfe:ixfes};\n}\n\n/* [MS-XLS] 2.5.20 2.5.249 TODO: interpret values here */\nfunction parse_CellStyleXF(blob, length, style, opts) {\n\tvar o = {};\n\tvar a = blob.read_shift(4), b = blob.read_shift(4);\n\tvar c = blob.read_shift(4), d = blob.read_shift(2);\n\to.patternType = XLSFillPattern[c >> 26];\n\n\tif(!opts.cellStyles) return o;\n\to.alc = a & 0x07;\n\to.fWrap = (a >> 3) & 0x01;\n\to.alcV = (a >> 4) & 0x07;\n\to.fJustLast = (a >> 7) & 0x01;\n\to.trot = (a >> 8) & 0xFF;\n\to.cIndent = (a >> 16) & 0x0F;\n\to.fShrinkToFit = (a >> 20) & 0x01;\n\to.iReadOrder = (a >> 22) & 0x02;\n\to.fAtrNum = (a >> 26) & 0x01;\n\to.fAtrFnt = (a >> 27) & 0x01;\n\to.fAtrAlc = (a >> 28) & 0x01;\n\to.fAtrBdr = (a >> 29) & 0x01;\n\to.fAtrPat = (a >> 30) & 0x01;\n\to.fAtrProt = (a >> 31) & 0x01;\n\n\to.dgLeft = b & 0x0F;\n\to.dgRight = (b >> 4) & 0x0F;\n\to.dgTop = (b >> 8) & 0x0F;\n\to.dgBottom = (b >> 12) & 0x0F;\n\to.icvLeft = (b >> 16) & 0x7F;\n\to.icvRight = (b >> 23) & 0x7F;\n\to.grbitDiag = (b >> 30) & 0x03;\n\n\to.icvTop = c & 0x7F;\n\to.icvBottom = (c >> 7) & 0x7F;\n\to.icvDiag = (c >> 14) & 0x7F;\n\to.dgDiag = (c >> 21) & 0x0F;\n\n\to.icvFore = d & 0x7F;\n\to.icvBack = (d >> 7) & 0x7F;\n\to.fsxButton = (d >> 14) & 0x01;\n\treturn o;\n}\n//function parse_CellXF(blob, length, opts) {return parse_CellStyleXF(blob,length,0, opts);}\n//function parse_StyleXF(blob, length, opts) {return parse_CellStyleXF(blob,length,1, opts);}\n\n/* [MS-XLS] 2.4.353 TODO: actually do this right */\nfunction parse_XF(blob, length, opts) {\n\tvar o = {};\n\to.ifnt = blob.read_shift(2); o.numFmtId = blob.read_shift(2); o.flags = blob.read_shift(2);\n\to.fStyle = (o.flags >> 2) & 0x01;\n\tlength -= 6;\n\to.data = parse_CellStyleXF(blob, length, o.fStyle, opts);\n\treturn o;\n}\nfunction write_XF(data, ixfeP, opts, o) {\n\tvar b5 = (opts && (opts.biff == 5));\n\tif(!o) o = new_buf(b5 ? 16 : 20);\n\to.write_shift(2, 0);\n\tif(data.style) {\n\t\to.write_shift(2, (data.numFmtId||0));\n\t\to.write_shift(2, 0xFFF4);\n\t} else {\n\t\to.write_shift(2, (data.numFmtId||0));\n\t\to.write_shift(2, (ixfeP<<4));\n\t}\n\tvar f = 0;\n\tif(data.numFmtId > 0 && b5) f |= 0x0400;\n\to.write_shift(4, f);\n\to.write_shift(4, 0);\n\tif(!b5) o.write_shift(4, 0);\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.134 */\nfunction parse_Guts(blob) {\n\tblob.l += 4;\n\tvar out = [blob.read_shift(2), blob.read_shift(2)];\n\tif(out[0] !== 0) out[0]--;\n\tif(out[1] !== 0) out[1]--;\n\tif(out[0] > 7 || out[1] > 7) throw new Error(\"Bad Gutters: \" + out.join(\"|\"));\n\treturn out;\n}\nfunction write_Guts(guts/*:Array<number>*/) {\n\tvar o = new_buf(8);\n\to.write_shift(4, 0);\n\to.write_shift(2, guts[0] ? guts[0] + 1 : 0);\n\to.write_shift(2, guts[1] ? guts[1] + 1 : 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.24 */\nfunction parse_BoolErr(blob, length, opts) {\n\tvar cell = parse_XLSCell(blob, 6);\n\tif(opts.biff == 2 || length == 9) ++blob.l;\n\tvar val = parse_Bes(blob, 2);\n\tcell.val = val;\n\tcell.t = (val === true || val === false) ? 'b' : 'e';\n\treturn cell;\n}\nfunction write_BoolErr(R/*:number*/, C/*:number*/, v, os/*:number*/, opts, t/*:string*/) {\n\tvar o = new_buf(8);\n\twrite_XLSCell(R, C, os, o);\n\twrite_Bes(v, t, o);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.180 Number */\nfunction parse_Number(blob, length, opts) {\n\tif(opts.biffguess && opts.biff == 2) opts.biff = 5;\n\tvar cell = parse_XLSCell(blob, 6);\n\tvar xnum = parse_Xnum(blob, 8);\n\tcell.val = xnum;\n\treturn cell;\n}\nfunction write_Number(R/*:number*/, C/*:number*/, v, os/*:: :number, opts*/) {\n\tvar o = new_buf(14);\n\twrite_XLSCell(R, C, os, o);\n\twrite_Xnum(v, o);\n\treturn o;\n}\n\nvar parse_XLHeaderFooter = parse_OptXLUnicodeString; // TODO: parse 2.4.136\n\n/* [MS-XLS] 2.4.271 */\nfunction parse_SupBook(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar ctab = blob.read_shift(2);\n\tvar cch = blob.read_shift(2);\n\topts.sbcch = cch;\n\tif(cch == 0x0401 || cch == 0x3A01) return [cch, ctab];\n\tif(cch < 0x01 || cch >0xff) throw new Error(\"Unexpected SupBook type: \"+cch);\n\tvar virtPath = parse_XLUnicodeStringNoCch(blob, cch);\n\t/* TODO: 2.5.277 Virtual Path */\n\tvar rgst = [];\n\twhile(end > blob.l) rgst.push(parse_XLUnicodeString(blob));\n\treturn [cch, ctab, virtPath, rgst];\n}\n\n/* [MS-XLS] 2.4.105 TODO */\nfunction parse_ExternName(blob, length, opts) {\n\tvar flags = blob.read_shift(2);\n\tvar body;\n\tvar o = ({\n\t\tfBuiltIn: flags & 0x01,\n\t\tfWantAdvise: (flags >>> 1) & 0x01,\n\t\tfWantPict: (flags >>> 2) & 0x01,\n\t\tfOle: (flags >>> 3) & 0x01,\n\t\tfOleLink: (flags >>> 4) & 0x01,\n\t\tcf: (flags >>> 5) & 0x3FF,\n\t\tfIcon: flags >>> 15 & 0x01\n\t}/*:any*/);\n\tif(opts.sbcch === 0x3A01) body = parse_AddinUdf(blob, length-2, opts);\n\t//else throw new Error(\"unsupported SupBook cch: \" + opts.sbcch);\n\to.body = body || blob.read_shift(length-2);\n\tif(typeof body === \"string\") o.Name = body;\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.150 TODO */\nvar XLSLblBuiltIn = [\n\t\"_xlnm.Consolidate_Area\",\n\t\"_xlnm.Auto_Open\",\n\t\"_xlnm.Auto_Close\",\n\t\"_xlnm.Extract\",\n\t\"_xlnm.Database\",\n\t\"_xlnm.Criteria\",\n\t\"_xlnm.Print_Area\",\n\t\"_xlnm.Print_Titles\",\n\t\"_xlnm.Recorder\",\n\t\"_xlnm.Data_Form\",\n\t\"_xlnm.Auto_Activate\",\n\t\"_xlnm.Auto_Deactivate\",\n\t\"_xlnm.Sheet_Title\",\n\t\"_xlnm._FilterDatabase\"\n];\nfunction parse_Lbl(blob, length, opts) {\n\tvar target = blob.l + length;\n\tvar flags = blob.read_shift(2);\n\tvar chKey = blob.read_shift(1);\n\tvar cch = blob.read_shift(1);\n\tvar cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\tvar itab = 0;\n\tif(!opts || opts.biff >= 5) {\n\t\tif(opts.biff != 5) blob.l += 2;\n\t\titab = blob.read_shift(2);\n\t\tif(opts.biff == 5) blob.l += 2;\n\t\tblob.l += 4;\n\t}\n\tvar name = parse_XLUnicodeStringNoCch(blob, cch, opts);\n\tif(flags & 0x20) name = XLSLblBuiltIn[name.charCodeAt(0)];\n\tvar npflen = target - blob.l; if(opts && opts.biff == 2) --npflen;\n\t/*jshint -W018 */\n\tvar rgce = (target == blob.l || cce === 0 || !(npflen > 0)) ? [] : parse_NameParsedFormula(blob, npflen, opts, cce);\n\t/*jshint +W018 */\n\treturn {\n\t\tchKey: chKey,\n\t\tName: name,\n\t\titab: itab,\n\t\trgce: rgce\n\t};\n}\n\n/* [MS-XLS] 2.4.106 TODO: verify filename encoding */\nfunction parse_ExternSheet(blob, length, opts) {\n\tif(opts.biff < 8) return parse_BIFF5ExternSheet(blob, length, opts);\n\tvar o = [], target = blob.l + length, len = blob.read_shift(opts.biff > 8 ? 4 : 2);\n\twhile(len-- !== 0) o.push(parse_XTI(blob, opts.biff > 8 ? 12 : 6, opts));\n\t\t// [iSupBook, itabFirst, itabLast];\n\tif(blob.l != target) throw new Error(\"Bad ExternSheet: \" + blob.l + \" != \" + target);\n\treturn o;\n}\nfunction parse_BIFF5ExternSheet(blob, length, opts) {\n\tif(blob[blob.l + 1] == 0x03) blob[blob.l]++;\n\tvar o = parse_ShortXLUnicodeString(blob, length, opts);\n\treturn o.charCodeAt(0) == 0x03 ? o.slice(1) : o;\n}\n\n/* [MS-XLS] 2.4.176 TODO: check older biff */\nfunction parse_NameCmt(blob, length, opts) {\n\tif(opts.biff < 8) { blob.l += length; return; }\n\tvar cchName = blob.read_shift(2);\n\tvar cchComment = blob.read_shift(2);\n\tvar name = parse_XLUnicodeStringNoCch(blob, cchName, opts);\n\tvar comment = parse_XLUnicodeStringNoCch(blob, cchComment, opts);\n\treturn [name, comment];\n}\n\n/* [MS-XLS] 2.4.260 */\nfunction parse_ShrFmla(blob, length, opts) {\n\tvar ref = parse_RefU(blob, 6);\n\tblob.l++;\n\tvar cUse = blob.read_shift(1);\n\tlength -= 8;\n\treturn [parse_SharedParsedFormula(blob, length, opts), cUse, ref];\n}\n\n/* [MS-XLS] 2.4.4 TODO */\nfunction parse_Array(blob, length, opts) {\n\tvar ref = parse_Ref(blob, 6);\n\t/* TODO: fAlwaysCalc */\n\tswitch(opts.biff) {\n\t\tcase 2: blob.l ++; length -= 7; break;\n\t\tcase 3: case 4: blob.l += 2; length -= 8; break;\n\t\tdefault: blob.l += 6; length -= 12;\n\t}\n\treturn [ref, parse_ArrayParsedFormula(blob, length, opts, ref)];\n}\n\n/* [MS-XLS] 2.4.173 */\nfunction parse_MTRSettings(blob) {\n\tvar fMTREnabled = blob.read_shift(4) !== 0x00;\n\tvar fUserSetThreadCount = blob.read_shift(4) !== 0x00;\n\tvar cUserThreadCount = blob.read_shift(4);\n\treturn [fMTREnabled, fUserSetThreadCount, cUserThreadCount];\n}\n\n/* [MS-XLS] 2.5.186 TODO: BIFF5 */\nfunction parse_NoteSh(blob, length, opts) {\n\tif(opts.biff < 8) return;\n\tvar row = blob.read_shift(2), col = blob.read_shift(2);\n\tvar flags = blob.read_shift(2), idObj = blob.read_shift(2);\n\tvar stAuthor = parse_XLUnicodeString2(blob, 0, opts);\n\tif(opts.biff < 8) blob.read_shift(1);\n\treturn [{r:row,c:col}, stAuthor, idObj, flags];\n}\n\n/* [MS-XLS] 2.4.179 */\nfunction parse_Note(blob, length, opts) {\n\t/* TODO: Support revisions */\n\treturn parse_NoteSh(blob, length, opts);\n}\n\n/* [MS-XLS] 2.4.168 */\nfunction parse_MergeCells(blob, length)/*:Array<Range>*/ {\n\tvar merges/*:Array<Range>*/ = [];\n\tvar cmcs = blob.read_shift(2);\n\twhile (cmcs--) merges.push(parse_Ref8U(blob,length));\n\treturn merges;\n}\nfunction write_MergeCells(merges/*:Array<Range>*/) {\n\tvar o = new_buf(2 + merges.length * 8);\n\to.write_shift(2, merges.length);\n\tfor(var i = 0; i < merges.length; ++i) write_Ref8U(merges[i], o);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.181 TODO: parse all the things! */\nfunction parse_Obj(blob, length, opts) {\n\tif(opts && opts.biff < 8) return parse_BIFF5Obj(blob, length, opts);\n\tvar cmo = parse_FtCmo(blob, 22); // id, ot, flags\n\tvar fts = parse_FtArray(blob, length-22, cmo[1]);\n\treturn { cmo: cmo, ft:fts };\n}\n/* from older spec */\nvar parse_BIFF5OT = {\n0x08: function(blob, length) {\n\tvar tgt = blob.l + length;\n\tblob.l += 10; // todo\n\tvar cf = blob.read_shift(2);\n\tblob.l += 4;\n\tblob.l += 2; //var cbPictFmla = blob.read_shift(2);\n\tblob.l += 2;\n\tblob.l += 2; //var grbit = blob.read_shift(2);\n\tblob.l += 4;\n\tvar cchName = blob.read_shift(1);\n\tblob.l += cchName; // TODO: stName\n\tblob.l = tgt; // TODO: fmla\n\treturn { fmt:cf };\n}\n};\n\nfunction parse_BIFF5Obj(blob, length, opts) {\n\tblob.l += 4; //var cnt = blob.read_shift(4);\n\tvar ot = blob.read_shift(2);\n\tvar id = blob.read_shift(2);\n\tvar grbit = blob.read_shift(2);\n\tblob.l += 2; //var colL = blob.read_shift(2);\n\tblob.l += 2; //var dxL = blob.read_shift(2);\n\tblob.l += 2; //var rwT = blob.read_shift(2);\n\tblob.l += 2; //var dyT = blob.read_shift(2);\n\tblob.l += 2; //var colR = blob.read_shift(2);\n\tblob.l += 2; //var dxR = blob.read_shift(2);\n\tblob.l += 2; //var rwB = blob.read_shift(2);\n\tblob.l += 2; //var dyB = blob.read_shift(2);\n\tblob.l += 2; //var cbMacro = blob.read_shift(2);\n\tblob.l += 6;\n\tlength -= 36;\n\tvar fts = [];\n\tfts.push((parse_BIFF5OT[ot]||parsenoop)(blob, length, opts));\n\treturn { cmo: [id, ot, grbit], ft:fts };\n}\n\n/* [MS-XLS] 2.4.329 TODO: parse properly */\nfunction parse_TxO(blob, length, opts) {\n\tvar s = blob.l;\n\tvar texts = \"\";\ntry {\n\tblob.l += 4;\n\tvar ot = (opts.lastobj||{cmo:[0,0]}).cmo[1];\n\tvar controlInfo; // eslint-disable-line no-unused-vars\n\tif([0,5,7,11,12,14].indexOf(ot) == -1) blob.l += 6;\n\telse controlInfo = parse_ControlInfo(blob, 6, opts); // eslint-disable-line no-unused-vars\n\tvar cchText = blob.read_shift(2);\n\t/*var cbRuns = */blob.read_shift(2);\n\t/*var ifntEmpty = */parseuint16(blob, 2);\n\tvar len = blob.read_shift(2);\n\tblob.l += len;\n\t//var fmla = parse_ObjFmla(blob, s + length - blob.l);\n\n\tfor(var i = 1; i < blob.lens.length-1; ++i) {\n\t\tif(blob.l-s != blob.lens[i]) throw new Error(\"TxO: bad continue record\");\n\t\tvar hdr = blob[blob.l];\n\t\tvar t = parse_XLUnicodeStringNoCch(blob, blob.lens[i+1]-blob.lens[i]-1);\n\t\ttexts += t;\n\t\tif(texts.length >= (hdr ? cchText : 2*cchText)) break;\n\t}\n\tif(texts.length !== cchText && texts.length !== cchText*2) {\n\t\tthrow new Error(\"cchText: \" + cchText + \" != \" + texts.length);\n\t}\n\n\tblob.l = s + length;\n\t/* [MS-XLS] 2.5.272 TxORuns */\n//\tvar rgTxoRuns = [];\n//\tfor(var j = 0; j != cbRuns/8-1; ++j) blob.l += 8;\n//\tvar cchText2 = blob.read_shift(2);\n//\tif(cchText2 !== cchText) throw new Error(\"TxOLastRun mismatch: \" + cchText2 + \" \" + cchText);\n//\tblob.l += 6;\n//\tif(s + length != blob.l) throw new Error(\"TxO \" + (s + length) + \", at \" + blob.l);\n\treturn { t: texts };\n} catch(e) { blob.l = s + length; return { t: texts }; }\n}\n\n/* [MS-XLS] 2.4.140 */\nfunction parse_HLink(blob, length) {\n\tvar ref = parse_Ref8U(blob, 8);\n\tblob.l += 16; /* CLSID */\n\tvar hlink = parse_Hyperlink(blob, length-24);\n\treturn [ref, hlink];\n}\nfunction write_HLink(hl) {\n\tvar O = new_buf(24);\n\tvar ref = decode_cell(hl[0]);\n\tO.write_shift(2, ref.r); O.write_shift(2, ref.r);\n\tO.write_shift(2, ref.c); O.write_shift(2, ref.c);\n\tvar clsid = \"d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b\".split(\" \");\n\tfor(var i = 0; i < 16; ++i) O.write_shift(1, parseInt(clsid[i], 16));\n\treturn bconcat([O, write_Hyperlink(hl[1])]);\n}\n\n\n/* [MS-XLS] 2.4.141 */\nfunction parse_HLinkTooltip(blob, length) {\n\tblob.read_shift(2);\n\tvar ref = parse_Ref8U(blob, 8);\n\tvar wzTooltip = blob.read_shift((length-10)/2, 'dbcs-cont');\n\twzTooltip = wzTooltip.replace(chr0,\"\");\n\treturn [ref, wzTooltip];\n}\nfunction write_HLinkTooltip(hl) {\n\tvar TT = hl[1].Tooltip;\n\tvar O = new_buf(10 + 2 * (TT.length + 1));\n\tO.write_shift(2, 0x0800);\n\tvar ref = decode_cell(hl[0]);\n\tO.write_shift(2, ref.r); O.write_shift(2, ref.r);\n\tO.write_shift(2, ref.c); O.write_shift(2, ref.c);\n\tfor(var i = 0; i < TT.length; ++i) O.write_shift(2, TT.charCodeAt(i));\n\tO.write_shift(2, 0);\n\treturn O;\n}\n\n/* [MS-XLS] 2.4.63 */\nfunction parse_Country(blob)/*:[string|number, string|number]*/ {\n\tvar o = [0,0], d;\n\td = blob.read_shift(2); o[0] = CountryEnum[d] || d;\n\td = blob.read_shift(2); o[1] = CountryEnum[d] || d;\n\treturn o;\n}\nfunction write_Country(o) {\n\tif(!o) o = new_buf(4);\n\to.write_shift(2, 0x01);\n\to.write_shift(2, 0x01);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.50 ClrtClient */\nfunction parse_ClrtClient(blob) {\n\tvar ccv = blob.read_shift(2);\n\tvar o = [];\n\twhile(ccv-->0) o.push(parse_LongRGB(blob, 8));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.188 */\nfunction parse_Palette(blob) {\n\tvar ccv = blob.read_shift(2);\n\tvar o = [];\n\twhile(ccv-->0) o.push(parse_LongRGB(blob, 8));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.354 */\nfunction parse_XFCRC(blob) {\n\tblob.l += 2;\n\tvar o = {cxfs:0, crc:0};\n\to.cxfs = blob.read_shift(2);\n\to.crc = blob.read_shift(4);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.53 TODO: parse flags */\n/* [MS-XLSB] 2.4.323 TODO: parse flags */\nfunction parse_ColInfo(blob, length, opts) {\n\tif(!opts.cellStyles) return parsenoop(blob, length);\n\tvar w = opts && opts.biff >= 12 ? 4 : 2;\n\tvar colFirst = blob.read_shift(w);\n\tvar colLast = blob.read_shift(w);\n\tvar coldx = blob.read_shift(w);\n\tvar ixfe = blob.read_shift(w);\n\tvar flags = blob.read_shift(2);\n\tif(w == 2) blob.l += 2;\n\tvar o = ({s:colFirst, e:colLast, w:coldx, ixfe:ixfe, flags:flags}/*:any*/);\n\tif(opts.biff >= 5 || !opts.biff) o.level = (flags >> 8) & 0x7;\n\treturn o;\n}\nfunction write_ColInfo(col, idx) {\n\tvar o = new_buf(12);\n\to.write_shift(2, idx);\n\to.write_shift(2, idx);\n\to.write_shift(2, col.width * 256);\n\to.write_shift(2, 0);\n\tvar f = 0;\n\tif(col.hidden) f |= 1;\n\to.write_shift(1, f);\n\tf = col.level || 0;\n\to.write_shift(1, f);\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.257 */\nfunction parse_Setup(blob, length) {\n\tvar o = {};\n\tif(length < 32) return o;\n\tblob.l += 16;\n\to.header = parse_Xnum(blob, 8);\n\to.footer = parse_Xnum(blob, 8);\n\tblob.l += 2;\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.261 */\nfunction parse_ShtProps(blob, length, opts) {\n\tvar def = {area:false};\n\tif(opts.biff != 5) { blob.l += length; return def; }\n\tvar d = blob.read_shift(1); blob.l += 3;\n\tif((d & 0x10)) def.area = true;\n\treturn def;\n}\n\n/* [MS-XLS] 2.4.241 */\nfunction write_RRTabId(n/*:number*/) {\n\tvar out = new_buf(2 * n);\n\tfor(var i = 0; i < n; ++i) out.write_shift(2, i+1);\n\treturn out;\n}\n\nvar parse_Blank = parse_XLSCell; /* [MS-XLS] 2.4.20 Just the cell */\nvar parse_Scl = parseuint16a; /* [MS-XLS] 2.4.247 num, den */\nvar parse_String = parse_XLUnicodeString; /* [MS-XLS] 2.4.268 */\n\n/* --- Specific to versions before BIFF8 --- */\nfunction parse_ImData(blob) {\n\tvar cf = blob.read_shift(2);\n\tvar env = blob.read_shift(2);\n\tvar lcb = blob.read_shift(4);\n\tvar o = {fmt:cf, env:env, len:lcb, data:blob.slice(blob.l,blob.l+lcb)};\n\tblob.l += lcb;\n\treturn o;\n}\n\n/* BIFF2_??? where ??? is the name from [XLS] */\nfunction parse_BIFF2STR(blob, length, opts) {\n\tif(opts.biffguess && opts.biff == 5) opts.biff = 2;\n\tvar cell = parse_XLSCell(blob, 6);\n\t++blob.l;\n\tvar str = parse_XLUnicodeString2(blob, length-7, opts);\n\tcell.t = 'str';\n\tcell.val = str;\n\treturn cell;\n}\n\nfunction parse_BIFF2NUM(blob/*::, length*/) {\n\tvar cell = parse_XLSCell(blob, 6);\n\t++blob.l;\n\tvar num = parse_Xnum(blob, 8);\n\tcell.t = 'n';\n\tcell.val = num;\n\treturn cell;\n}\nfunction write_BIFF2NUM(r/*:number*/, c/*:number*/, val/*:number*/) {\n\tvar out = new_buf(15);\n\twrite_BIFF2Cell(out, r, c);\n\tout.write_shift(8, val, 'f');\n\treturn out;\n}\n\nfunction parse_BIFF2INT(blob) {\n\tvar cell = parse_XLSCell(blob, 6);\n\t++blob.l;\n\tvar num = blob.read_shift(2);\n\tcell.t = 'n';\n\tcell.val = num;\n\treturn cell;\n}\nfunction write_BIFF2INT(r/*:number*/, c/*:number*/, val/*:number*/) {\n\tvar out = new_buf(9);\n\twrite_BIFF2Cell(out, r, c);\n\tout.write_shift(2, val);\n\treturn out;\n}\n\nfunction parse_BIFF2STRING(blob) {\n\tvar cch = blob.read_shift(1);\n\tif(cch === 0) { blob.l++; return \"\"; }\n\treturn blob.read_shift(cch, 'sbcs-cont');\n}\n\n/* TODO: convert to BIFF8 font struct */\nfunction parse_BIFF2FONTXTRA(blob, length) {\n\tblob.l += 6; // unknown\n\tblob.l += 2; // font weight \"bls\"\n\tblob.l += 1; // charset\n\tblob.l += 3; // unknown\n\tblob.l += 1; // font family\n\tblob.l += length - 13;\n}\n\n/* TODO: parse rich text runs */\nfunction parse_RString(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar cell = parse_XLSCell(blob, 6);\n\tvar cch = blob.read_shift(2);\n\tvar str = parse_XLUnicodeStringNoCch(blob, cch, opts);\n\tblob.l = end;\n\tcell.t = 'str';\n\tcell.val = str;\n\treturn cell;\n}\n/* from js-harb (C) 2014-present  SheetJS */\nvar DBF_SUPPORTED_VERSIONS = [0x02, 0x03, 0x30, 0x31, 0x83, 0x8B, 0x8C, 0xF5];\nvar DBF = /*#__PURE__*/(function() {\nvar dbf_codepage_map = {\n\t/* Code Pages Supported by Visual FoxPro */\n\t/*::[*/0x01/*::]*/:   437,           /*::[*/0x02/*::]*/:   850,\n\t/*::[*/0x03/*::]*/:  1252,           /*::[*/0x04/*::]*/: 10000,\n\t/*::[*/0x64/*::]*/:   852,           /*::[*/0x65/*::]*/:   866,\n\t/*::[*/0x66/*::]*/:   865,           /*::[*/0x67/*::]*/:   861,\n\t/*::[*/0x68/*::]*/:   895,           /*::[*/0x69/*::]*/:   620,\n\t/*::[*/0x6A/*::]*/:   737,           /*::[*/0x6B/*::]*/:   857,\n\t/*::[*/0x78/*::]*/:   950,           /*::[*/0x79/*::]*/:   949,\n\t/*::[*/0x7A/*::]*/:   936,           /*::[*/0x7B/*::]*/:   932,\n\t/*::[*/0x7C/*::]*/:   874,           /*::[*/0x7D/*::]*/:  1255,\n\t/*::[*/0x7E/*::]*/:  1256,           /*::[*/0x96/*::]*/: 10007,\n\t/*::[*/0x97/*::]*/: 10029,           /*::[*/0x98/*::]*/: 10006,\n\t/*::[*/0xC8/*::]*/:  1250,           /*::[*/0xC9/*::]*/:  1251,\n\t/*::[*/0xCA/*::]*/:  1254,           /*::[*/0xCB/*::]*/:  1253,\n\n\t/* shapefile DBF extension */\n\t/*::[*/0x00/*::]*/: 20127,           /*::[*/0x08/*::]*/:   865,\n\t/*::[*/0x09/*::]*/:   437,           /*::[*/0x0A/*::]*/:   850,\n\t/*::[*/0x0B/*::]*/:   437,           /*::[*/0x0D/*::]*/:   437,\n\t/*::[*/0x0E/*::]*/:   850,           /*::[*/0x0F/*::]*/:   437,\n\t/*::[*/0x10/*::]*/:   850,           /*::[*/0x11/*::]*/:   437,\n\t/*::[*/0x12/*::]*/:   850,           /*::[*/0x13/*::]*/:   932,\n\t/*::[*/0x14/*::]*/:   850,           /*::[*/0x15/*::]*/:   437,\n\t/*::[*/0x16/*::]*/:   850,           /*::[*/0x17/*::]*/:   865,\n\t/*::[*/0x18/*::]*/:   437,           /*::[*/0x19/*::]*/:   437,\n\t/*::[*/0x1A/*::]*/:   850,           /*::[*/0x1B/*::]*/:   437,\n\t/*::[*/0x1C/*::]*/:   863,           /*::[*/0x1D/*::]*/:   850,\n\t/*::[*/0x1F/*::]*/:   852,           /*::[*/0x22/*::]*/:   852,\n\t/*::[*/0x23/*::]*/:   852,           /*::[*/0x24/*::]*/:   860,\n\t/*::[*/0x25/*::]*/:   850,           /*::[*/0x26/*::]*/:   866,\n\t/*::[*/0x37/*::]*/:   850,           /*::[*/0x40/*::]*/:   852,\n\t/*::[*/0x4D/*::]*/:   936,           /*::[*/0x4E/*::]*/:   949,\n\t/*::[*/0x4F/*::]*/:   950,           /*::[*/0x50/*::]*/:   874,\n\t/*::[*/0x57/*::]*/:  1252,           /*::[*/0x58/*::]*/:  1252,\n\t/*::[*/0x59/*::]*/:  1252,           /*::[*/0x6C/*::]*/:   863,\n\t/*::[*/0x86/*::]*/:   737,           /*::[*/0x87/*::]*/:   852,\n\t/*::[*/0x88/*::]*/:   857,           /*::[*/0xCC/*::]*/:  1257,\n\n\t/*::[*/0xFF/*::]*/: 16969\n};\nvar dbf_reverse_map = evert({\n\t/*::[*/0x01/*::]*/:   437,           /*::[*/0x02/*::]*/:   850,\n\t/*::[*/0x03/*::]*/:  1252,           /*::[*/0x04/*::]*/: 10000,\n\t/*::[*/0x64/*::]*/:   852,           /*::[*/0x65/*::]*/:   866,\n\t/*::[*/0x66/*::]*/:   865,           /*::[*/0x67/*::]*/:   861,\n\t/*::[*/0x68/*::]*/:   895,           /*::[*/0x69/*::]*/:   620,\n\t/*::[*/0x6A/*::]*/:   737,           /*::[*/0x6B/*::]*/:   857,\n\t/*::[*/0x78/*::]*/:   950,           /*::[*/0x79/*::]*/:   949,\n\t/*::[*/0x7A/*::]*/:   936,           /*::[*/0x7B/*::]*/:   932,\n\t/*::[*/0x7C/*::]*/:   874,           /*::[*/0x7D/*::]*/:  1255,\n\t/*::[*/0x7E/*::]*/:  1256,           /*::[*/0x96/*::]*/: 10007,\n\t/*::[*/0x97/*::]*/: 10029,           /*::[*/0x98/*::]*/: 10006,\n\t/*::[*/0xC8/*::]*/:  1250,           /*::[*/0xC9/*::]*/:  1251,\n\t/*::[*/0xCA/*::]*/:  1254,           /*::[*/0xCB/*::]*/:  1253,\n\t/*::[*/0x00/*::]*/: 20127\n});\n/* TODO: find an actual specification */\nfunction dbf_to_aoa(buf, opts)/*:AOA*/ {\n\tvar out/*:AOA*/ = [];\n\tvar d/*:Block*/ = (new_raw_buf(1)/*:any*/);\n\tswitch(opts.type) {\n\t\tcase 'base64': d = s2a(Base64_decode(buf)); break;\n\t\tcase 'binary': d = s2a(buf); break;\n\t\tcase 'buffer':\n\t\tcase 'array': d = buf; break;\n\t}\n\tprep_blob(d, 0);\n\n\t/* header */\n\tvar ft = d.read_shift(1);\n\tvar memo = !!(ft & 0x88);\n\tvar vfp = false, l7 = false;\n\tswitch(ft) {\n\t\tcase 0x02: break; // dBASE II\n\t\tcase 0x03: break; // dBASE III\n\t\tcase 0x30: vfp = true; memo = true; break; // VFP\n\t\tcase 0x31: vfp = true; memo = true; break; // VFP with autoincrement\n\t\t// 0x43 dBASE IV SQL table files\n\t\t// 0x63 dBASE IV SQL system files\n\t\tcase 0x83: break; // dBASE III with memo\n\t\tcase 0x8B: break; // dBASE IV with memo\n\t\tcase 0x8C: l7 = true; break; // dBASE Level 7 with memo\n\t\t// case 0xCB dBASE IV SQL table files with memo\n\t\tcase 0xF5: break; // FoxPro 2.x with memo\n\t\t// case 0xFB FoxBASE\n\t\tdefault: throw new Error(\"DBF Unsupported Version: \" + ft.toString(16));\n\t}\n\n\tvar nrow = 0, fpos = 0x0209;\n\tif(ft == 0x02) nrow = d.read_shift(2);\n\td.l += 3; // dBASE II stores DDMMYY date, others use YYMMDD\n\tif(ft != 0x02) nrow = d.read_shift(4);\n\tif(nrow > 1048576) nrow = 1e6;\n\n\tif(ft != 0x02) fpos = d.read_shift(2); // header length\n\tvar rlen = d.read_shift(2); // record length\n\n\tvar /*flags = 0,*/ current_cp = opts.codepage || 1252;\n\tif(ft != 0x02) { // 20 reserved bytes\n\t\td.l+=16;\n\t\t/*flags = */d.read_shift(1);\n\t\t//if(memo && ((flags & 0x02) === 0)) throw new Error(\"DBF Flags \" + flags.toString(16) + \" ft \" + ft.toString(16));\n\n\t\t/* codepage present in FoxPro and dBASE Level 7 */\n\t\tif(d[d.l] !== 0) current_cp = dbf_codepage_map[d[d.l]];\n\t\td.l+=1;\n\n\t\td.l+=2;\n\t}\n\tif(l7) d.l += 36; // Level 7: 32 byte \"Language driver name\", 4 byte reserved\n\n/*:: type DBFField = { name:string; len:number; type:string; } */\n\tvar fields/*:Array<DBFField>*/ = [], field/*:DBFField*/ = ({}/*:any*/);\n\tvar hend = Math.min(d.length, (ft == 0x02 ? 0x209 : (fpos - 10 - (vfp ? 264 : 0))));\n\tvar ww = l7 ? 32 : 11;\n\twhile(d.l < hend && d[d.l] != 0x0d) {\n\t\tfield = ({}/*:any*/);\n\t\tfield.name = $cptable.utils.decode(current_cp, d.slice(d.l, d.l+ww)).replace(/[\\u0000\\r\\n].*$/g,\"\");\n\t\td.l += ww;\n\t\tfield.type = String.fromCharCode(d.read_shift(1));\n\t\tif(ft != 0x02 && !l7) field.offset = d.read_shift(4);\n\t\tfield.len = d.read_shift(1);\n\t\tif(ft == 0x02) field.offset = d.read_shift(2);\n\t\tfield.dec = d.read_shift(1);\n\t\tif(field.name.length) fields.push(field);\n\t\tif(ft != 0x02) d.l += l7 ? 13 : 14;\n\t\tswitch(field.type) {\n\t\t\tcase 'B': // Double (VFP) / Binary (dBASE L7)\n\t\t\t\tif((!vfp || field.len != 8) && opts.WTF) console.log('Skipping ' + field.name + ':' + field.type);\n\t\t\t\tbreak;\n\t\t\tcase 'G': // General (FoxPro and dBASE L7)\n\t\t\tcase 'P': // Picture (FoxPro and dBASE L7)\n\t\t\t\tif(opts.WTF) console.log('Skipping ' + field.name + ':' + field.type);\n\t\t\t\tbreak;\n\t\t\tcase '+': // Autoincrement (dBASE L7 only)\n\t\t\tcase '0': // _NullFlags (VFP only)\n\t\t\tcase '@': // Timestamp (dBASE L7 only)\n\t\t\tcase 'C': // Character (dBASE II)\n\t\t\tcase 'D': // Date (dBASE III)\n\t\t\tcase 'F': // Float (dBASE IV)\n\t\t\tcase 'I': // Long (VFP and dBASE L7)\n\t\t\tcase 'L': // Logical (dBASE II)\n\t\t\tcase 'M': // Memo (dBASE III)\n\t\t\tcase 'N': // Number (dBASE II)\n\t\t\tcase 'O': // Double (dBASE L7 only)\n\t\t\tcase 'T': // Datetime (VFP only)\n\t\t\tcase 'Y': // Currency (VFP only)\n\t\t\t\tbreak;\n\t\t\tdefault: throw new Error('Unknown Field Type: ' + field.type);\n\t\t}\n\t}\n\n\tif(d[d.l] !== 0x0D) d.l = fpos-1;\n\tif(d.read_shift(1) !== 0x0D) throw new Error(\"DBF Terminator not found \" + d.l + \" \" + d[d.l]);\n\td.l = fpos;\n\n\t/* data */\n\tvar R = 0, C = 0;\n\tout[0] = [];\n\tfor(C = 0; C != fields.length; ++C) out[0][C] = fields[C].name;\n\twhile(nrow-- > 0) {\n\t\tif(d[d.l] === 0x2A) {\n\t\t\t// TODO: record marked as deleted -- create a hidden row?\n\t\t\td.l+=rlen;\n\t\t\tcontinue;\n\t\t}\n\t\t++d.l;\n\t\tout[++R] = []; C = 0;\n\t\tfor(C = 0; C != fields.length; ++C) {\n\t\t\tvar dd = d.slice(d.l, d.l+fields[C].len); d.l+=fields[C].len;\n\t\t\tprep_blob(dd, 0);\n\t\t\tvar s = $cptable.utils.decode(current_cp, dd);\n\t\t\tswitch(fields[C].type) {\n\t\t\t\tcase 'C':\n\t\t\t\t\t// NOTE: it is conventional to write '  /  /  ' for empty dates\n\t\t\t\t\tif(s.trim().length) out[R][C] = s.replace(/\\s+$/,\"\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'D':\n\t\t\t\t\tif(s.length === 8) out[R][C] = new Date(+s.slice(0,4), +s.slice(4,6)-1, +s.slice(6,8));\n\t\t\t\t\telse out[R][C] = s;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'F': out[R][C] = parseFloat(s.trim()); break;\n\t\t\t\tcase '+': case 'I': out[R][C] = l7 ? dd.read_shift(-4, 'i') ^ 0x80000000 : dd.read_shift(4, 'i'); break;\n\t\t\t\tcase 'L': switch(s.trim().toUpperCase()) {\n\t\t\t\t\tcase 'Y': case 'T': out[R][C] = true; break;\n\t\t\t\t\tcase 'N': case 'F': out[R][C] = false; break;\n\t\t\t\t\tcase '': case '?': break;\n\t\t\t\t\tdefault: throw new Error(\"DBF Unrecognized L:|\" + s + \"|\");\n\t\t\t\t\t} break;\n\t\t\t\tcase 'M': /* TODO: handle memo files */\n\t\t\t\t\tif(!memo) throw new Error(\"DBF Unexpected MEMO for type \" + ft.toString(16));\n\t\t\t\t\tout[R][C] = \"##MEMO##\" + (l7 ? parseInt(s.trim(), 10): dd.read_shift(4));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'N':\n\t\t\t\t\ts = s.replace(/\\u0000/g,\"\").trim();\n\t\t\t\t\t// NOTE: dBASE II interprets \"  .  \" as 0\n\t\t\t\t\tif(s && s != \".\") out[R][C] = +s || 0; break;\n\t\t\t\tcase '@':\n\t\t\t\t\t// NOTE: dBASE specs appear to be incorrect\n\t\t\t\t\tout[R][C] = new Date(dd.read_shift(-8, 'f') - 0x388317533400);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'T': out[R][C] = new Date((dd.read_shift(4) - 0x253D8C) * 0x5265C00 + dd.read_shift(4)); break;\n\t\t\t\tcase 'Y': out[R][C] = dd.read_shift(4,'i')/1e4 + (dd.read_shift(4, 'i')/1e4)*Math.pow(2,32); break;\n\t\t\t\tcase 'O': out[R][C] = -dd.read_shift(-8, 'f'); break;\n\t\t\t\tcase 'B': if(vfp && fields[C].len == 8) { out[R][C] = dd.read_shift(8,'f'); break; }\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 'G': case 'P': dd.l += fields[C].len; break;\n\t\t\t\tcase '0':\n\t\t\t\t\tif(fields[C].name === '_NullFlags') break;\n\t\t\t\t\t/* falls through */\n\t\t\t\tdefault: throw new Error(\"DBF Unsupported data type \" + fields[C].type);\n\t\t\t}\n\t\t}\n\t}\n\tif(ft != 0x02) if(d.l < d.length && d[d.l++] != 0x1A) throw new Error(\"DBF EOF Marker missing \" + (d.l-1) + \" of \" + d.length + \" \" + d[d.l-1].toString(16));\n\tif(opts && opts.sheetRows) out = out.slice(0, opts.sheetRows);\n\topts.DBF = fields;\n\treturn out;\n}\n\nfunction dbf_to_sheet(buf, opts)/*:Worksheet*/ {\n\tvar o = opts || {};\n\tif(!o.dateNF) o.dateNF = \"yyyymmdd\";\n\tvar ws = aoa_to_sheet(dbf_to_aoa(buf, o), o);\n\tws[\"!cols\"] = o.DBF.map(function(field) { return {\n\t\twch: field.len,\n\t\tDBF: field\n\t};});\n\tdelete o.DBF;\n\treturn ws;\n}\n\nfunction dbf_to_workbook(buf, opts)/*:Workbook*/ {\n\ttry { return sheet_to_workbook(dbf_to_sheet(buf, opts), opts); }\n\tcatch(e) { if(opts && opts.WTF) throw e; }\n\treturn ({SheetNames:[],Sheets:{}});\n}\n\nvar _RLEN = { 'B': 8, 'C': 250, 'L': 1, 'D': 8, '?': 0, '': 0 };\nfunction sheet_to_dbf(ws/*:Worksheet*/, opts/*:WriteOpts*/) {\n\tvar o = opts || {};\n\tif(+o.codepage >= 0) set_cp(+o.codepage);\n\tif(o.type == \"string\") throw new Error(\"Cannot write DBF to JS string\");\n\tvar ba = buf_array();\n\tvar aoa/*:AOA*/ = sheet_to_json(ws, {header:1, raw:true, cellDates:true});\n\tvar headers = aoa[0], data = aoa.slice(1), cols = ws[\"!cols\"] || [];\n\tvar i = 0, j = 0, hcnt = 0, rlen = 1;\n\tfor(i = 0; i < headers.length; ++i) {\n\t\tif(((cols[i]||{}).DBF||{}).name) { headers[i] = cols[i].DBF.name; ++hcnt; continue; }\n\t\tif(headers[i] == null) continue;\n\t\t++hcnt;\n\t\tif(typeof headers[i] === 'number') headers[i] = headers[i].toString(10);\n\t\tif(typeof headers[i] !== 'string') throw new Error(\"DBF Invalid column name \" + headers[i] + \" |\" + (typeof headers[i]) + \"|\");\n\t\tif(headers.indexOf(headers[i]) !== i) for(j=0; j<1024;++j)\n\t\t\tif(headers.indexOf(headers[i] + \"_\" + j) == -1) { headers[i] += \"_\" + j; break; }\n\t}\n\tvar range = safe_decode_range(ws['!ref']);\n\tvar coltypes/*:Array<string>*/ = [];\n\tvar colwidths/*:Array<number>*/ = [];\n\tvar coldecimals/*:Array<number>*/ = [];\n\tfor(i = 0; i <= range.e.c - range.s.c; ++i) {\n\t\tvar guess = '', _guess = '', maxlen = 0;\n\t\tvar col/*:Array<any>*/ = [];\n\t\tfor(j=0; j < data.length; ++j) {\n\t\t\tif(data[j][i] != null) col.push(data[j][i]);\n\t\t}\n\t\tif(col.length == 0 || headers[i] == null) { coltypes[i] = '?'; continue; }\n\t\tfor(j = 0; j < col.length; ++j) {\n\t\t\tswitch(typeof col[j]) {\n\t\t\t\t/* TODO: check if L2 compat is desired */\n\t\t\t\tcase 'number': _guess = 'B'; break;\n\t\t\t\tcase 'string': _guess = 'C'; break;\n\t\t\t\tcase 'boolean': _guess = 'L'; break;\n\t\t\t\tcase 'object': _guess = col[j] instanceof Date ? 'D' : 'C'; break;\n\t\t\t\tdefault: _guess = 'C';\n\t\t\t}\n\t\t\tmaxlen = Math.max(maxlen, String(col[j]).length);\n\t\t\tguess = guess && guess != _guess ? 'C' : _guess;\n\t\t\t//if(guess == 'C') break;\n\t\t}\n\t\tif(maxlen > 250) maxlen = 250;\n\t\t_guess = ((cols[i]||{}).DBF||{}).type;\n\t\t/* TODO: more fine grained control over DBF type resolution */\n\t\tif(_guess == 'C') {\n\t\t\tif(cols[i].DBF.len > maxlen) maxlen = cols[i].DBF.len;\n\t\t}\n\t\tif(guess == 'B' && _guess == 'N') {\n\t\t\tguess = 'N';\n\t\t\tcoldecimals[i] = cols[i].DBF.dec;\n\t\t\tmaxlen = cols[i].DBF.len;\n\t\t}\n\t\tcolwidths[i] = guess == 'C' || _guess == 'N' ? maxlen : (_RLEN[guess] || 0);\n\t\trlen += colwidths[i];\n\t\tcoltypes[i] = guess;\n\t}\n\n\tvar h = ba.next(32);\n\th.write_shift(4, 0x13021130);\n\th.write_shift(4, data.length);\n\th.write_shift(2, 296 + 32 * hcnt);\n\th.write_shift(2, rlen);\n\tfor(i=0; i < 4; ++i) h.write_shift(4, 0);\n\th.write_shift(4, 0x00000000 | ((+dbf_reverse_map[/*::String(*/current_ansi/*::)*/] || 0x03)<<8));\n\n\tfor(i = 0, j = 0; i < headers.length; ++i) {\n\t\tif(headers[i] == null) continue;\n\t\tvar hf = ba.next(32);\n\t\tvar _f = (headers[i].slice(-10) + \"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\").slice(0, 11);\n\t\thf.write_shift(1, _f, \"sbcs\");\n\t\thf.write_shift(1, coltypes[i] == '?' ? 'C' : coltypes[i], \"sbcs\");\n\t\thf.write_shift(4, j);\n\t\thf.write_shift(1, colwidths[i] || _RLEN[coltypes[i]] || 0);\n\t\thf.write_shift(1, coldecimals[i] || 0);\n\t\thf.write_shift(1, 0x02);\n\t\thf.write_shift(4, 0);\n\t\thf.write_shift(1, 0);\n\t\thf.write_shift(4, 0);\n\t\thf.write_shift(4, 0);\n\t\tj += (colwidths[i] || _RLEN[coltypes[i]] || 0);\n\t}\n\n\tvar hb = ba.next(264);\n\thb.write_shift(4, 0x0000000D);\n\tfor(i=0; i < 65;++i) hb.write_shift(4, 0x00000000);\n\tfor(i=0; i < data.length; ++i) {\n\t\tvar rout = ba.next(rlen);\n\t\trout.write_shift(1, 0);\n\t\tfor(j=0; j<headers.length; ++j) {\n\t\t\tif(headers[j] == null) continue;\n\t\t\tswitch(coltypes[j]) {\n\t\t\t\tcase 'L': rout.write_shift(1, data[i][j] == null ? 0x3F : data[i][j] ? 0x54 : 0x46); break;\n\t\t\t\tcase 'B': rout.write_shift(8, data[i][j]||0, 'f'); break;\n\t\t\t\tcase 'N':\n\t\t\t\t\tvar _n = \"0\";\n\t\t\t\t\tif(typeof data[i][j] == \"number\") _n = data[i][j].toFixed(coldecimals[j]||0);\n\t\t\t\t\tfor(hcnt=0; hcnt < colwidths[j]-_n.length; ++hcnt) rout.write_shift(1, 0x20);\n\t\t\t\t\trout.write_shift(1, _n, \"sbcs\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'D':\n\t\t\t\t\tif(!data[i][j]) rout.write_shift(8, \"00000000\", \"sbcs\");\n\t\t\t\t\telse {\n\t\t\t\t\t\trout.write_shift(4, (\"0000\"+data[i][j].getFullYear()).slice(-4), \"sbcs\");\n\t\t\t\t\t\trout.write_shift(2, (\"00\"+(data[i][j].getMonth()+1)).slice(-2), \"sbcs\");\n\t\t\t\t\t\trout.write_shift(2, (\"00\"+data[i][j].getDate()).slice(-2), \"sbcs\");\n\t\t\t\t\t} break;\n\t\t\t\tcase 'C':\n\t\t\t\t\tvar _s = String(data[i][j] != null ? data[i][j] : \"\").slice(0, colwidths[j]);\n\t\t\t\t\trout.write_shift(1, _s, \"sbcs\");\n\t\t\t\t\tfor(hcnt=0; hcnt < colwidths[j]-_s.length; ++hcnt) rout.write_shift(1, 0x20); break;\n\t\t\t}\n\t\t}\n\t\t// data\n\t}\n\tba.next(1).write_shift(1, 0x1A);\n\treturn ba.end();\n}\n\treturn {\n\t\tto_workbook: dbf_to_workbook,\n\t\tto_sheet: dbf_to_sheet,\n\t\tfrom_sheet: sheet_to_dbf\n\t};\n})();\n\nvar SYLK = /*#__PURE__*/(function() {\n\t/* TODO: stress test sequences */\n\tvar sylk_escapes = ({\n\t\tAA:'À', BA:'Á', CA:'Â', DA:195, HA:'Ä', JA:197,\n\t\tAE:'È', BE:'É', CE:'Ê',         HE:'Ë',\n\t\tAI:'Ì', BI:'Í', CI:'Î',         HI:'Ï',\n\t\tAO:'Ò', BO:'Ó', CO:'Ô', DO:213, HO:'Ö',\n\t\tAU:'Ù', BU:'Ú', CU:'Û',         HU:'Ü',\n\t\tAa:'à', Ba:'á', Ca:'â', Da:227, Ha:'ä', Ja:229,\n\t\tAe:'è', Be:'é', Ce:'ê',         He:'ë',\n\t\tAi:'ì', Bi:'í', Ci:'î',         Hi:'ï',\n\t\tAo:'ò', Bo:'ó', Co:'ô', Do:245, Ho:'ö',\n\t\tAu:'ù', Bu:'ú', Cu:'û',         Hu:'ü',\n\t\tKC:'Ç', Kc:'ç', q:'æ',  z:'œ',  a:'Æ',  j:'Œ',\n\t\tDN:209, Dn:241, Hy:255,\n\t\tS:169,  c:170,  R:174,  \"B \":180,\n\t\t/*::[*/0/*::]*/:176,    /*::[*/1/*::]*/:177,  /*::[*/2/*::]*/:178,\n\t\t/*::[*/3/*::]*/:179,    /*::[*/5/*::]*/:181,  /*::[*/6/*::]*/:182,\n\t\t/*::[*/7/*::]*/:183,    Q:185,  k:186,  b:208,  i:216,  l:222,  s:240,  y:248,\n\t\t\"!\":161, '\"':162, \"#\":163, \"(\":164, \"%\":165, \"'\":167, \"H \":168,\n\t\t\"+\":171, \";\":187, \"<\":188, \"=\":189, \">\":190, \"?\":191, \"{\":223\n\t}/*:any*/);\n\tvar sylk_char_regex = new RegExp(\"\\u001BN(\" + keys(sylk_escapes).join(\"|\").replace(/\\|\\|\\|/, \"|\\\\||\").replace(/([?()+])/g,\"\\\\$1\") + \"|\\\\|)\", \"gm\");\n\tvar sylk_char_fn = function(_, $1){ var o = sylk_escapes[$1]; return typeof o == \"number\" ? _getansi(o) : o; };\n\tvar decode_sylk_char = function($$, $1, $2) { var newcc = (($1.charCodeAt(0) - 0x20)<<4) | ($2.charCodeAt(0) - 0x30); return newcc == 59 ? $$ : _getansi(newcc); };\n\tsylk_escapes[\"|\"] = 254;\n\t/* TODO: find an actual specification */\n\tfunction sylk_to_aoa(d/*:RawData*/, opts)/*:[AOA, Worksheet]*/ {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return sylk_to_aoa_str(Base64_decode(d), opts);\n\t\t\tcase 'binary': return sylk_to_aoa_str(d, opts);\n\t\t\tcase 'buffer': return sylk_to_aoa_str(has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d), opts);\n\t\t\tcase 'array': return sylk_to_aoa_str(cc2str(d), opts);\n\t\t}\n\t\tthrow new Error(\"Unrecognized type \" + opts.type);\n\t}\n\tfunction sylk_to_aoa_str(str/*:string*/, opts)/*:[AOA, Worksheet]*/ {\n\t\tvar records = str.split(/[\\n\\r]+/), R = -1, C = -1, ri = 0, rj = 0, arr/*:AOA*/ = [];\n\t\tvar formats/*:Array<string>*/ = [];\n\t\tvar next_cell_format/*:string|null*/ = null;\n\t\tvar sht = {}, rowinfo/*:Array<RowInfo>*/ = [], colinfo/*:Array<ColInfo>*/ = [], cw/*:Array<string>*/ = [];\n\t\tvar Mval = 0, j;\n\t\tif(+opts.codepage >= 0) set_cp(+opts.codepage);\n\t\tfor (; ri !== records.length; ++ri) {\n\t\t\tMval = 0;\n\t\t\tvar rstr=records[ri].trim().replace(/\\x1B([\\x20-\\x2F])([\\x30-\\x3F])/g, decode_sylk_char).replace(sylk_char_regex, sylk_char_fn);\n\t\t\tvar record=rstr.replace(/;;/g, \"\\u0000\").split(\";\").map(function(x) { return x.replace(/\\u0000/g, \";\"); });\n\t\t\tvar RT=record[0], val;\n\t\t\tif(rstr.length > 0) switch(RT) {\n\t\t\tcase 'ID': break; /* header */\n\t\t\tcase 'E': break; /* EOF */\n\t\t\tcase 'B': break; /* dimensions */\n\t\t\tcase 'O': break; /* options? */\n\t\t\tcase 'W': break; /* window? */\n\t\t\tcase 'P':\n\t\t\t\tif(record[1].charAt(0) == 'P')\n\t\t\t\t\tformats.push(rstr.slice(3).replace(/;;/g, \";\"));\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\tvar C_seen_K = false, C_seen_X = false, C_seen_S = false, C_seen_E = false, _R = -1, _C = -1;\n\t\t\tfor(rj=1; rj<record.length; ++rj) switch(record[rj].charAt(0)) {\n\t\t\t\tcase 'A': break; // TODO: comment\n\t\t\t\tcase 'X': C = parseInt(record[rj].slice(1))-1; C_seen_X = true; break;\n\t\t\t\tcase 'Y':\n\t\t\t\t\tR = parseInt(record[rj].slice(1))-1; if(!C_seen_X) C = 0;\n\t\t\t\t\tfor(j = arr.length; j <= R; ++j) arr[j] = [];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'K':\n\t\t\t\t\tval = record[rj].slice(1);\n\t\t\t\t\tif(val.charAt(0) === '\"') val = val.slice(1,val.length - 1);\n\t\t\t\t\telse if(val === 'TRUE') val = true;\n\t\t\t\t\telse if(val === 'FALSE') val = false;\n\t\t\t\t\telse if(!isNaN(fuzzynum(val))) {\n\t\t\t\t\t\tval = fuzzynum(val);\n\t\t\t\t\t\tif(next_cell_format !== null && fmt_is_date(next_cell_format)) val = numdate(val);\n\t\t\t\t\t} else if(!isNaN(fuzzydate(val).getDate())) {\n\t\t\t\t\t\tval = parseDate(val);\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof $cptable !== 'undefined' && typeof val == \"string\" && ((opts||{}).type != \"string\") && (opts||{}).codepage) val = $cptable.utils.decode(opts.codepage, val);\n\t\t\t\t\tC_seen_K = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tC_seen_E = true;\n\t\t\t\t\tvar formula = rc_to_a1(record[rj].slice(1), {r:R,c:C});\n\t\t\t\t\tarr[R][C] = [arr[R][C], formula];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'S':\n\t\t\t\t\tC_seen_S = true;\n\t\t\t\t\tarr[R][C] = [arr[R][C], \"S5S\"];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'G': break; // unknown\n\t\t\t\tcase 'R': _R = parseInt(record[rj].slice(1))-1; break;\n\t\t\t\tcase 'C': _C = parseInt(record[rj].slice(1))-1; break;\n\t\t\t\tdefault: if(opts && opts.WTF) throw new Error(\"SYLK bad record \" + rstr);\n\t\t\t}\n\t\t\tif(C_seen_K) {\n\t\t\t\tif(arr[R][C] && arr[R][C].length == 2) arr[R][C][0] = val;\n\t\t\t\telse arr[R][C] = val;\n\t\t\t\tnext_cell_format = null;\n\t\t\t}\n\t\t\tif(C_seen_S) {\n\t\t\t\tif(C_seen_E) throw new Error(\"SYLK shared formula cannot have own formula\");\n\t\t\t\tvar shrbase = _R > -1 && arr[_R][_C];\n\t\t\t\tif(!shrbase || !shrbase[1]) throw new Error(\"SYLK shared formula cannot find base\");\n\t\t\t\tarr[R][C][1] = shift_formula_str(shrbase[1], {r: R - _R, c: C - _C});\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 'F':\n\t\t\tvar F_seen = 0;\n\t\t\tfor(rj=1; rj<record.length; ++rj) switch(record[rj].charAt(0)) {\n\t\t\t\tcase 'X': C = parseInt(record[rj].slice(1))-1; ++F_seen; break;\n\t\t\t\tcase 'Y':\n\t\t\t\t\tR = parseInt(record[rj].slice(1))-1; /*C = 0;*/\n\t\t\t\t\tfor(j = arr.length; j <= R; ++j) arr[j] = [];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M': Mval = parseInt(record[rj].slice(1)) / 20; break;\n\t\t\t\tcase 'F': break; /* ??? */\n\t\t\t\tcase 'G': break; /* hide grid */\n\t\t\t\tcase 'P':\n\t\t\t\t\tnext_cell_format = formats[parseInt(record[rj].slice(1))];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'S': break; /* cell style */\n\t\t\t\tcase 'D': break; /* column */\n\t\t\t\tcase 'N': break; /* font */\n\t\t\t\tcase 'W':\n\t\t\t\t\tcw = record[rj].slice(1).split(\" \");\n\t\t\t\t\tfor(j = parseInt(cw[0], 10); j <= parseInt(cw[1], 10); ++j) {\n\t\t\t\t\t\tMval = parseInt(cw[2], 10);\n\t\t\t\t\t\tcolinfo[j-1] = Mval === 0 ? {hidden:true}: {wch:Mval}; process_col(colinfo[j-1]);\n\t\t\t\t\t} break;\n\t\t\t\tcase 'C': /* default column format */\n\t\t\t\t\tC = parseInt(record[rj].slice(1))-1;\n\t\t\t\t\tif(!colinfo[C]) colinfo[C] = {};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'R': /* row properties */\n\t\t\t\t\tR = parseInt(record[rj].slice(1))-1;\n\t\t\t\t\tif(!rowinfo[R]) rowinfo[R] = {};\n\t\t\t\t\tif(Mval > 0) { rowinfo[R].hpt = Mval; rowinfo[R].hpx = pt2px(Mval); }\n\t\t\t\t\telse if(Mval === 0) rowinfo[R].hidden = true;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: if(opts && opts.WTF) throw new Error(\"SYLK bad record \" + rstr);\n\t\t\t}\n\t\t\tif(F_seen < 1) next_cell_format = null; break;\n\t\t\tdefault: if(opts && opts.WTF) throw new Error(\"SYLK bad record \" + rstr);\n\t\t\t}\n\t\t}\n\t\tif(rowinfo.length > 0) sht['!rows'] = rowinfo;\n\t\tif(colinfo.length > 0) sht['!cols'] = colinfo;\n\t\tif(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);\n\t\treturn [arr, sht];\n\t}\n\n\tfunction sylk_to_sheet(d/*:RawData*/, opts)/*:Worksheet*/ {\n\t\tvar aoasht = sylk_to_aoa(d, opts);\n\t\tvar aoa = aoasht[0], ws = aoasht[1];\n\t\tvar o = aoa_to_sheet(aoa, opts);\n\t\tkeys(ws).forEach(function(k) { o[k] = ws[k]; });\n\t\treturn o;\n\t}\n\n\tfunction sylk_to_workbook(d/*:RawData*/, opts)/*:Workbook*/ { return sheet_to_workbook(sylk_to_sheet(d, opts), opts); }\n\n\tfunction write_ws_cell_sylk(cell/*:Cell*/, ws/*:Worksheet*/, R/*:number*/, C/*:number*//*::, opts*/)/*:string*/ {\n\t\tvar o = \"C;Y\" + (R+1) + \";X\" + (C+1) + \";K\";\n\t\tswitch(cell.t) {\n\t\t\tcase 'n':\n\t\t\t\to += (cell.v||0);\n\t\t\t\tif(cell.f && !cell.F) o += \";E\" + a1_to_rc(cell.f, {r:R, c:C}); break;\n\t\t\tcase 'b': o += cell.v ? \"TRUE\" : \"FALSE\"; break;\n\t\t\tcase 'e': o += cell.w || cell.v; break;\n\t\t\tcase 'd': o += '\"' + (cell.w || cell.v) + '\"'; break;\n\t\t\tcase 's': o += '\"' + cell.v.replace(/\"/g,\"\").replace(/;/g, \";;\") + '\"'; break;\n\t\t}\n\t\treturn o;\n\t}\n\n\tfunction write_ws_cols_sylk(out, cols) {\n\t\tcols.forEach(function(col, i) {\n\t\t\tvar rec = \"F;W\" + (i+1) + \" \" + (i+1) + \" \";\n\t\t\tif(col.hidden) rec += \"0\";\n\t\t\telse {\n\t\t\t\tif(typeof col.width == 'number' && !col.wpx) col.wpx = width2px(col.width);\n\t\t\t\tif(typeof col.wpx == 'number' && !col.wch) col.wch = px2char(col.wpx);\n\t\t\t\tif(typeof col.wch == 'number') rec += Math.round(col.wch);\n\t\t\t}\n\t\t\tif(rec.charAt(rec.length - 1) != \" \") out.push(rec);\n\t\t});\n\t}\n\n\tfunction write_ws_rows_sylk(out/*:Array<string>*/, rows/*:Array<RowInfo>*/) {\n\t\trows.forEach(function(row, i) {\n\t\t\tvar rec = \"F;\";\n\t\t\tif(row.hidden) rec += \"M0;\";\n\t\t\telse if(row.hpt) rec += \"M\" + 20 * row.hpt + \";\";\n\t\t\telse if(row.hpx) rec += \"M\" + 20 * px2pt(row.hpx) + \";\";\n\t\t\tif(rec.length > 2) out.push(rec + \"R\" + (i+1));\n\t\t});\n\t}\n\n\tfunction sheet_to_sylk(ws/*:Worksheet*/, opts/*:?any*/)/*:string*/ {\n\t\tvar preamble/*:Array<string>*/ = [\"ID;PWXL;N;E\"], o/*:Array<string>*/ = [];\n\t\tvar r = safe_decode_range(ws['!ref']), cell/*:Cell*/;\n\t\tvar dense = Array.isArray(ws);\n\t\tvar RS = \"\\r\\n\";\n\n\t\tpreamble.push(\"P;PGeneral\");\n\t\tpreamble.push(\"F;P0;DG0G8;M255\");\n\t\tif(ws['!cols']) write_ws_cols_sylk(preamble, ws['!cols']);\n\t\tif(ws['!rows']) write_ws_rows_sylk(preamble, ws['!rows']);\n\n\t\tpreamble.push(\"B;Y\" + (r.e.r - r.s.r + 1) + \";X\" + (r.e.c - r.s.c + 1) + \";D\" + [r.s.c,r.s.r,r.e.c,r.e.r].join(\" \"));\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tvar coord = encode_cell({r:R,c:C});\n\t\t\t\tcell = dense ? (ws[R]||[])[C]: ws[coord];\n\t\t\t\tif(!cell || (cell.v == null && (!cell.f || cell.F))) continue;\n\t\t\t\to.push(write_ws_cell_sylk(cell, ws, R, C, opts));\n\t\t\t}\n\t\t}\n\t\treturn preamble.join(RS) + RS + o.join(RS) + RS + \"E\" + RS;\n\t}\n\n\treturn {\n\t\tto_workbook: sylk_to_workbook,\n\t\tto_sheet: sylk_to_sheet,\n\t\tfrom_sheet: sheet_to_sylk\n\t};\n})();\n\nvar DIF = /*#__PURE__*/(function() {\n\tfunction dif_to_aoa(d/*:RawData*/, opts)/*:AOA*/ {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return dif_to_aoa_str(Base64_decode(d), opts);\n\t\t\tcase 'binary': return dif_to_aoa_str(d, opts);\n\t\t\tcase 'buffer': return dif_to_aoa_str(has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d), opts);\n\t\t\tcase 'array': return dif_to_aoa_str(cc2str(d), opts);\n\t\t}\n\t\tthrow new Error(\"Unrecognized type \" + opts.type);\n\t}\n\tfunction dif_to_aoa_str(str/*:string*/, opts)/*:AOA*/ {\n\t\tvar records = str.split('\\n'), R = -1, C = -1, ri = 0, arr/*:AOA*/ = [];\n\t\tfor (; ri !== records.length; ++ri) {\n\t\t\tif (records[ri].trim() === 'BOT') { arr[++R] = []; C = 0; continue; }\n\t\t\tif (R < 0) continue;\n\t\t\tvar metadata = records[ri].trim().split(\",\");\n\t\t\tvar type = metadata[0], value = metadata[1];\n\t\t\t++ri;\n\t\t\tvar data = records[ri] || \"\";\n\t\t\twhile(((data.match(/[\"]/g)||[]).length & 1) && ri < records.length - 1) data += \"\\n\" + records[++ri];\n\t\t\tdata = data.trim();\n\t\t\tswitch (+type) {\n\t\t\t\tcase -1:\n\t\t\t\t\tif (data === 'BOT') { arr[++R] = []; C = 0; continue; }\n\t\t\t\t\telse if (data !== 'EOD') throw new Error(\"Unrecognized DIF special command \" + data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0:\n\t\t\t\t\tif(data === 'TRUE') arr[R][C] = true;\n\t\t\t\t\telse if(data === 'FALSE') arr[R][C] = false;\n\t\t\t\t\telse if(!isNaN(fuzzynum(value))) arr[R][C] = fuzzynum(value);\n\t\t\t\t\telse if(!isNaN(fuzzydate(value).getDate())) arr[R][C] = parseDate(value);\n\t\t\t\t\telse arr[R][C] = value;\n\t\t\t\t\t++C; break;\n\t\t\t\tcase 1:\n\t\t\t\t\tdata = data.slice(1,data.length-1);\n\t\t\t\t\tdata = data.replace(/\"\"/g, '\"');\n\t\t\t\t\tif(DIF_XL && data && data.match(/^=\".*\"$/)) data = data.slice(2, -1);\n\t\t\t\t\tarr[R][C++] = data !== '' ? data : null;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (data === 'EOD') break;\n\t\t}\n\t\tif(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);\n\t\treturn arr;\n\t}\n\n\tfunction dif_to_sheet(str/*:string*/, opts)/*:Worksheet*/ { return aoa_to_sheet(dif_to_aoa(str, opts), opts); }\n\tfunction dif_to_workbook(str/*:string*/, opts)/*:Workbook*/ { return sheet_to_workbook(dif_to_sheet(str, opts), opts); }\n\n\tvar sheet_to_dif = /*#__PURE__*/(function() {\n\t\tvar push_field = function pf(o/*:Array<string>*/, topic/*:string*/, v/*:number*/, n/*:number*/, s/*:string*/) {\n\t\t\to.push(topic);\n\t\t\to.push(v + \",\" + n);\n\t\t\to.push('\"' + s.replace(/\"/g,'\"\"') + '\"');\n\t\t};\n\t\tvar push_value = function po(o/*:Array<string>*/, type/*:number*/, v/*:any*/, s/*:string*/) {\n\t\t\to.push(type + \",\" + v);\n\t\t\to.push(type == 1 ? '\"' + s.replace(/\"/g,'\"\"') + '\"' : s);\n\t\t};\n\t\treturn function sheet_to_dif(ws/*:Worksheet*//*::, opts:?any*/)/*:string*/ {\n\t\t\tvar o/*:Array<string>*/ = [];\n\t\t\tvar r = safe_decode_range(ws['!ref']), cell/*:Cell*/;\n\t\t\tvar dense = Array.isArray(ws);\n\t\t\tpush_field(o, \"TABLE\", 0, 1, \"sheetjs\");\n\t\t\tpush_field(o, \"VECTORS\", 0, r.e.r - r.s.r + 1,\"\");\n\t\t\tpush_field(o, \"TUPLES\", 0, r.e.c - r.s.c + 1,\"\");\n\t\t\tpush_field(o, \"DATA\", 0, 0,\"\");\n\t\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\t\tpush_value(o, -1, 0, \"BOT\");\n\t\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\t\tvar coord = encode_cell({r:R,c:C});\n\t\t\t\t\tcell = dense ? (ws[R]||[])[C] : ws[coord];\n\t\t\t\t\tif(!cell) { push_value(o, 1, 0, \"\"); continue;}\n\t\t\t\t\tswitch(cell.t) {\n\t\t\t\t\t\tcase 'n':\n\t\t\t\t\t\t\tvar val = DIF_XL ? cell.w : cell.v;\n\t\t\t\t\t\t\tif(!val && cell.v != null) val = cell.v;\n\t\t\t\t\t\t\tif(val == null) {\n\t\t\t\t\t\t\t\tif(DIF_XL && cell.f && !cell.F) push_value(o, 1, 0, \"=\" + cell.f);\n\t\t\t\t\t\t\t\telse push_value(o, 1, 0, \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse push_value(o, 0, val, \"V\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\t\tpush_value(o, 0, cell.v ? 1 : 0, cell.v ? \"TRUE\" : \"FALSE\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\tpush_value(o, 1, 0, (!DIF_XL || isNaN(cell.v)) ? cell.v : '=\"' + cell.v + '\"');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\tif(!cell.w) cell.w = SSF_format(cell.z || table_fmt[14], datenum(parseDate(cell.v)));\n\t\t\t\t\t\t\tif(DIF_XL) push_value(o, 0, cell.w, \"V\");\n\t\t\t\t\t\t\telse push_value(o, 1, 0, cell.w);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault: push_value(o, 1, 0, \"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tpush_value(o, -1, 0, \"EOD\");\n\t\t\tvar RS = \"\\r\\n\";\n\t\t\tvar oo = o.join(RS);\n\t\t\t//while((oo.length & 0x7F) != 0) oo += \"\\0\";\n\t\t\treturn oo;\n\t\t};\n\t})();\n\treturn {\n\t\tto_workbook: dif_to_workbook,\n\t\tto_sheet: dif_to_sheet,\n\t\tfrom_sheet: sheet_to_dif\n\t};\n})();\n\nvar ETH = /*#__PURE__*/(function() {\n\tfunction decode(s/*:string*/)/*:string*/ { return s.replace(/\\\\b/g,\"\\\\\").replace(/\\\\c/g,\":\").replace(/\\\\n/g,\"\\n\"); }\n\tfunction encode(s/*:string*/)/*:string*/ { return s.replace(/\\\\/g, \"\\\\b\").replace(/:/g, \"\\\\c\").replace(/\\n/g,\"\\\\n\"); }\n\n\tfunction eth_to_aoa(str/*:string*/, opts)/*:AOA*/ {\n\t\tvar records = str.split('\\n'), R = -1, C = -1, ri = 0, arr/*:AOA*/ = [];\n\t\tfor (; ri !== records.length; ++ri) {\n\t\t\tvar record = records[ri].trim().split(\":\");\n\t\t\tif(record[0] !== 'cell') continue;\n\t\t\tvar addr = decode_cell(record[1]);\n\t\t\tif(arr.length <= addr.r) for(R = arr.length; R <= addr.r; ++R) if(!arr[R]) arr[R] = [];\n\t\t\tR = addr.r; C = addr.c;\n\t\t\tswitch(record[2]) {\n\t\t\t\tcase 't': arr[R][C] = decode(record[3]); break;\n\t\t\t\tcase 'v': arr[R][C] = +record[3]; break;\n\t\t\t\tcase 'vtf': var _f = record[record.length - 1];\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 'vtc':\n\t\t\t\t\tswitch(record[3]) {\n\t\t\t\t\t\tcase 'nl': arr[R][C] = +record[4] ? true : false; break;\n\t\t\t\t\t\tdefault: arr[R][C] = +record[4]; break;\n\t\t\t\t\t}\n\t\t\t\t\tif(record[2] == 'vtf') arr[R][C] = [arr[R][C], _f];\n\t\t\t}\n\t\t}\n\t\tif(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);\n\t\treturn arr;\n\t}\n\n\tfunction eth_to_sheet(d/*:string*/, opts)/*:Worksheet*/ { return aoa_to_sheet(eth_to_aoa(d, opts), opts); }\n\tfunction eth_to_workbook(d/*:string*/, opts)/*:Workbook*/ { return sheet_to_workbook(eth_to_sheet(d, opts), opts); }\n\n\tvar header = [\n\t\t\"socialcalc:version:1.5\",\n\t\t\"MIME-Version: 1.0\",\n\t\t\"Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave\"\n\t].join(\"\\n\");\n\n\tvar sep = [\n\t\t\"--SocialCalcSpreadsheetControlSave\",\n\t\t\"Content-type: text/plain; charset=UTF-8\"\n\t].join(\"\\n\") + \"\\n\";\n\n\t/* TODO: the other parts */\n\tvar meta = [\n\t\t\"# SocialCalc Spreadsheet Control Save\",\n\t\t\"part:sheet\"\n\t].join(\"\\n\");\n\n\tvar end = \"--SocialCalcSpreadsheetControlSave--\";\n\n\tfunction sheet_to_eth_data(ws/*:Worksheet*/)/*:string*/ {\n\t\tif(!ws || !ws['!ref']) return \"\";\n\t\tvar o/*:Array<string>*/ = [], oo/*:Array<string>*/ = [], cell, coord = \"\";\n\t\tvar r = decode_range(ws['!ref']);\n\t\tvar dense = Array.isArray(ws);\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tcoord = encode_cell({r:R,c:C});\n\t\t\t\tcell = dense ? (ws[R]||[])[C] : ws[coord];\n\t\t\t\tif(!cell || cell.v == null || cell.t === 'z') continue;\n\t\t\t\too = [\"cell\", coord, 't'];\n\t\t\t\tswitch(cell.t) {\n\t\t\t\t\tcase 's': case 'str': oo.push(encode(cell.v)); break;\n\t\t\t\t\tcase 'n':\n\t\t\t\t\t\tif(!cell.f) { oo[2]='v'; oo[3]=cell.v; }\n\t\t\t\t\t\telse { oo[2]='vtf'; oo[3]='n'; oo[4]=cell.v; oo[5]=encode(cell.f); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'b':\n\t\t\t\t\t\too[2] = 'vt'+(cell.f?'f':'c'); oo[3]='nl'; oo[4]=cell.v?\"1\":\"0\";\n\t\t\t\t\t\too[5] = encode(cell.f||(cell.v?'TRUE':'FALSE'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'd':\n\t\t\t\t\t\tvar t = datenum(parseDate(cell.v));\n\t\t\t\t\t\too[2] = 'vtc'; oo[3] = 'nd'; oo[4] = \"\"+t;\n\t\t\t\t\t\too[5] = cell.w || SSF_format(cell.z || table_fmt[14], t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'e': continue;\n\t\t\t\t}\n\t\t\t\to.push(oo.join(\":\"));\n\t\t\t}\n\t\t}\n\t\to.push(\"sheet:c:\" + (r.e.c-r.s.c+1) + \":r:\" + (r.e.r-r.s.r+1) + \":tvf:1\");\n\t\to.push(\"valueformat:1:text-wiki\");\n\t\t//o.push(\"copiedfrom:\" + ws['!ref']); // clipboard only\n\t\treturn o.join(\"\\n\");\n\t}\n\n\tfunction sheet_to_eth(ws/*:Worksheet*//*::, opts:?any*/)/*:string*/ {\n\t\treturn [header, sep, meta, sep, sheet_to_eth_data(ws), end].join(\"\\n\");\n\t\t// return [\"version:1.5\", sheet_to_eth_data(ws)].join(\"\\n\"); // clipboard form\n\t}\n\n\treturn {\n\t\tto_workbook: eth_to_workbook,\n\t\tto_sheet: eth_to_sheet,\n\t\tfrom_sheet: sheet_to_eth\n\t};\n})();\n\nvar PRN = /*#__PURE__*/(function() {\n\tfunction set_text_arr(data/*:string*/, arr/*:AOA*/, R/*:number*/, C/*:number*/, o/*:any*/) {\n\t\tif(o.raw) arr[R][C] = data;\n\t\telse if(data === \"\"){/* empty */}\n\t\telse if(data === 'TRUE') arr[R][C] = true;\n\t\telse if(data === 'FALSE') arr[R][C] = false;\n\t\telse if(!isNaN(fuzzynum(data))) arr[R][C] = fuzzynum(data);\n\t\telse if(!isNaN(fuzzydate(data).getDate())) arr[R][C] = parseDate(data);\n\t\telse arr[R][C] = data;\n\t}\n\n\tfunction prn_to_aoa_str(f/*:string*/, opts)/*:AOA*/ {\n\t\tvar o = opts || {};\n\t\tvar arr/*:AOA*/ = ([]/*:any*/);\n\t\tif(!f || f.length === 0) return arr;\n\t\tvar lines = f.split(/[\\r\\n]/);\n\t\tvar L = lines.length - 1;\n\t\twhile(L >= 0 && lines[L].length === 0) --L;\n\t\tvar start = 10, idx = 0;\n\t\tvar R = 0;\n\t\tfor(; R <= L; ++R) {\n\t\t\tidx = lines[R].indexOf(\" \");\n\t\t\tif(idx == -1) idx = lines[R].length; else idx++;\n\t\t\tstart = Math.max(start, idx);\n\t\t}\n\t\tfor(R = 0; R <= L; ++R) {\n\t\t\tarr[R] = [];\n\t\t\t/* TODO: confirm that widths are always 10 */\n\t\t\tvar C = 0;\n\t\t\tset_text_arr(lines[R].slice(0, start).trim(), arr, R, C, o);\n\t\t\tfor(C = 1; C <= (lines[R].length - start)/10 + 1; ++C)\n\t\t\t\tset_text_arr(lines[R].slice(start+(C-1)*10,start+C*10).trim(),arr,R,C,o);\n\t\t}\n\t\tif(o.sheetRows) arr = arr.slice(0, o.sheetRows);\n\t\treturn arr;\n\t}\n\n\t// List of accepted CSV separators\n\tvar guess_seps = {\n\t\t/*::[*/0x2C/*::]*/: ',',\n\t\t/*::[*/0x09/*::]*/: \"\\t\",\n\t\t/*::[*/0x3B/*::]*/: ';',\n\t\t/*::[*/0x7C/*::]*/: '|'\n\t};\n\n\t// CSV separator weights to be used in case of equal numbers\n\tvar guess_sep_weights = {\n\t\t/*::[*/0x2C/*::]*/: 3,\n\t\t/*::[*/0x09/*::]*/: 2,\n\t\t/*::[*/0x3B/*::]*/: 1,\n\t\t/*::[*/0x7C/*::]*/: 0\n\t};\n\n\tfunction guess_sep(str) {\n\t\tvar cnt = {}, instr = false, end = 0, cc = 0;\n\t\tfor(;end < str.length;++end) {\n\t\t\tif((cc=str.charCodeAt(end)) == 0x22) instr = !instr;\n\t\t\telse if(!instr && cc in guess_seps) cnt[cc] = (cnt[cc]||0)+1;\n\t\t}\n\n\t\tcc = [];\n\t\tfor(end in cnt) if ( Object.prototype.hasOwnProperty.call(cnt, end) ) {\n\t\t\tcc.push([ cnt[end], end ]);\n\t\t}\n\n\t\tif ( !cc.length ) {\n\t\t\tcnt = guess_sep_weights;\n\t\t\tfor(end in cnt) if ( Object.prototype.hasOwnProperty.call(cnt, end) ) {\n\t\t\t\tcc.push([ cnt[end], end ]);\n\t\t\t}\n\t\t}\n\n\t\tcc.sort(function(a, b) { return a[0] - b[0] || guess_sep_weights[a[1]] - guess_sep_weights[b[1]]; });\n\n\t\treturn guess_seps[cc.pop()[1]] || 0x2C;\n\t}\n\n\tfunction dsv_to_sheet_str(str/*:string*/, opts)/*:Worksheet*/ {\n\t\tvar o = opts || {};\n\t\tvar sep = \"\";\n\t\tif(DENSE != null && o.dense == null) o.dense = DENSE;\n\t\tvar ws/*:Worksheet*/ = o.dense ? ([]/*:any*/) : ({}/*:any*/);\n\t\tvar range/*:Range*/ = ({s: {c:0, r:0}, e: {c:0, r:0}}/*:any*/);\n\n\t\tif(str.slice(0,4) == \"sep=\") {\n\t\t\t// If the line ends in \\r\\n\n\t\t\tif(str.charCodeAt(5) == 13 && str.charCodeAt(6) == 10 ) {\n\t\t\t\tsep = str.charAt(4); str = str.slice(7);\n\t\t\t}\n\t\t\t// If line ends in \\r OR \\n\n\t\t\telse if(str.charCodeAt(5) == 13 || str.charCodeAt(5) == 10 ) {\n\t\t\t\tsep = str.charAt(4); str = str.slice(6);\n\t\t\t}\n\t\t\telse sep = guess_sep(str.slice(0,1024));\n\t\t}\n\t\telse if(o && o.FS) sep = o.FS;\n\t\telse sep = guess_sep(str.slice(0,1024));\n\t\tvar R = 0, C = 0, v = 0;\n\t\tvar start = 0, end = 0, sepcc = sep.charCodeAt(0), instr = false, cc=0, startcc=str.charCodeAt(0);\n\t\tstr = str.replace(/\\r\\n/mg, \"\\n\");\n\t\tvar _re/*:?RegExp*/ = o.dateNF != null ? dateNF_regex(o.dateNF) : null;\n\t\tfunction finish_cell() {\n\t\t\tvar s = str.slice(start, end);\n\t\t\tvar cell = ({}/*:any*/);\n\t\t\tif(s.charAt(0) == '\"' && s.charAt(s.length - 1) == '\"') s = s.slice(1,-1).replace(/\"\"/g,'\"');\n\t\t\tif(s.length === 0) cell.t = 'z';\n\t\t\telse if(o.raw) { cell.t = 's'; cell.v = s; }\n\t\t\telse if(s.trim().length === 0) { cell.t = 's'; cell.v = s; }\n\t\t\telse if(s.charCodeAt(0) == 0x3D) {\n\t\t\t\tif(s.charCodeAt(1) == 0x22 && s.charCodeAt(s.length - 1) == 0x22) { cell.t = 's'; cell.v = s.slice(2,-1).replace(/\"\"/g,'\"'); }\n\t\t\t\telse if(fuzzyfmla(s)) { cell.t = 'n'; cell.f = s.slice(1); }\n\t\t\t\telse { cell.t = 's'; cell.v = s; } }\n\t\t\telse if(s == \"TRUE\") { cell.t = 'b'; cell.v = true; }\n\t\t\telse if(s == \"FALSE\") { cell.t = 'b'; cell.v = false; }\n\t\t\telse if(!isNaN(v = fuzzynum(s))) { cell.t = 'n'; if(o.cellText !== false) cell.w = s; cell.v = v; }\n\t\t\telse if(!isNaN(fuzzydate(s).getDate()) || _re && s.match(_re)) {\n\t\t\t\tcell.z = o.dateNF || table_fmt[14];\n\t\t\t\tvar k = 0;\n\t\t\t\tif(_re && s.match(_re)){ s=dateNF_fix(s, o.dateNF, (s.match(_re)||[])); k=1; }\n\t\t\t\tif(o.cellDates) { cell.t = 'd'; cell.v = parseDate(s, k); }\n\t\t\t\telse { cell.t = 'n'; cell.v = datenum(parseDate(s, k)); }\n\t\t\t\tif(o.cellText !== false) cell.w = SSF_format(cell.z, cell.v instanceof Date ? datenum(cell.v):cell.v);\n\t\t\t\tif(!o.cellNF) delete cell.z;\n\t\t\t} else {\n\t\t\t\tcell.t = 's';\n\t\t\t\tcell.v = s;\n\t\t\t}\n\t\t\tif(cell.t == 'z'){}\n\t\t\telse if(o.dense) { if(!ws[R]) ws[R] = []; ws[R][C] = cell; }\n\t\t\telse ws[encode_cell({c:C,r:R})] = cell;\n\t\t\tstart = end+1; startcc = str.charCodeAt(start);\n\t\t\tif(range.e.c < C) range.e.c = C;\n\t\t\tif(range.e.r < R) range.e.r = R;\n\t\t\tif(cc == sepcc) ++C; else { C = 0; ++R; if(o.sheetRows && o.sheetRows <= R) return true; }\n\t\t}\n\t\touter: for(;end < str.length;++end) switch((cc=str.charCodeAt(end))) {\n\t\t\tcase 0x22: if(startcc === 0x22) instr = !instr; break;\n\t\t\tcase sepcc: case 0x0a: case 0x0d: if(!instr && finish_cell()) break outer; break;\n\t\t\tdefault: break;\n\t\t}\n\t\tif(end - start > 0) finish_cell();\n\n\t\tws['!ref'] = encode_range(range);\n\t\treturn ws;\n\t}\n\n\tfunction prn_to_sheet_str(str/*:string*/, opts)/*:Worksheet*/ {\n\t\tif(!(opts && opts.PRN)) return dsv_to_sheet_str(str, opts);\n\t\tif(opts.FS) return dsv_to_sheet_str(str, opts);\n\t\tif(str.slice(0,4) == \"sep=\") return dsv_to_sheet_str(str, opts);\n\t\tif(str.indexOf(\"\\t\") >= 0 || str.indexOf(\",\") >= 0 || str.indexOf(\";\") >= 0) return dsv_to_sheet_str(str, opts);\n\t\treturn aoa_to_sheet(prn_to_aoa_str(str, opts), opts);\n\t}\n\n\tfunction prn_to_sheet(d/*:RawData*/, opts)/*:Worksheet*/ {\n\t\tvar str = \"\", bytes = opts.type == 'string' ? [0,0,0,0] : firstbyte(d, opts);\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': str = Base64_decode(d); break;\n\t\t\tcase 'binary': str = d; break;\n\t\t\tcase 'buffer':\n\t\t\t\tif(opts.codepage == 65001) str = d.toString('utf8'); // TODO: test if buf\n\t\t\t\telse if(opts.codepage && typeof $cptable !== 'undefined') str = $cptable.utils.decode(opts.codepage, d);\n\t\t\t\telse str = has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d);\n\t\t\t\tbreak;\n\t\t\tcase 'array': str = cc2str(d); break;\n\t\t\tcase 'string': str = d; break;\n\t\t\tdefault: throw new Error(\"Unrecognized type \" + opts.type);\n\t\t}\n\t\tif(bytes[0] == 0xEF && bytes[1] == 0xBB && bytes[2] == 0xBF) str = utf8read(str.slice(3));\n\t\telse if(opts.type != 'string' && opts.type != 'buffer' && opts.codepage == 65001) str = utf8read(str);\n\t\telse if((opts.type == 'binary') && typeof $cptable !== 'undefined' && opts.codepage)  str = $cptable.utils.decode(opts.codepage, $cptable.utils.encode(28591,str));\n\t\tif(str.slice(0,19) == \"socialcalc:version:\") return ETH.to_sheet(opts.type == 'string' ? str : utf8read(str), opts);\n\t\treturn prn_to_sheet_str(str, opts);\n\t}\n\n\tfunction prn_to_workbook(d/*:RawData*/, opts)/*:Workbook*/ { return sheet_to_workbook(prn_to_sheet(d, opts), opts); }\n\n\tfunction sheet_to_prn(ws/*:Worksheet*//*::, opts:?any*/)/*:string*/ {\n\t\tvar o/*:Array<string>*/ = [];\n\t\tvar r = safe_decode_range(ws['!ref']), cell/*:Cell*/;\n\t\tvar dense = Array.isArray(ws);\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tvar oo/*:Array<string>*/ = [];\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tvar coord = encode_cell({r:R,c:C});\n\t\t\t\tcell = dense ? (ws[R]||[])[C] : ws[coord];\n\t\t\t\tif(!cell || cell.v == null) { oo.push(\"          \"); continue; }\n\t\t\t\tvar w = (cell.w || (format_cell(cell), cell.w) || \"\").slice(0,10);\n\t\t\t\twhile(w.length < 10) w += \" \";\n\t\t\t\too.push(w + (C === 0 ? \" \" : \"\"));\n\t\t\t}\n\t\t\to.push(oo.join(\"\"));\n\t\t}\n\t\treturn o.join(\"\\n\");\n\t}\n\n\treturn {\n\t\tto_workbook: prn_to_workbook,\n\t\tto_sheet: prn_to_sheet,\n\t\tfrom_sheet: sheet_to_prn\n\t};\n})();\n\n/* Excel defaults to SYLK but warns if data is not valid */\nfunction read_wb_ID(d, opts) {\n\tvar o = opts || {}, OLD_WTF = !!o.WTF; o.WTF = true;\n\ttry {\n\t\tvar out = SYLK.to_workbook(d, o);\n\t\to.WTF = OLD_WTF;\n\t\treturn out;\n\t} catch(e) {\n\t\to.WTF = OLD_WTF;\n\t\tif(!e.message.match(/SYLK bad record ID/) && OLD_WTF) throw e;\n\t\treturn PRN.to_workbook(d, opts);\n\t}\n}\n\nvar WK_ = /*#__PURE__*/(function() {\n\tfunction lotushopper(data, cb/*:RecordHopperCB*/, opts/*:any*/) {\n\t\tif(!data) return;\n\t\tprep_blob(data, data.l || 0);\n\t\tvar Enum = opts.Enum || WK1Enum;\n\t\twhile(data.l < data.length) {\n\t\t\tvar RT = data.read_shift(2);\n\t\t\tvar R = Enum[RT] || Enum[0xFFFF];\n\t\t\tvar length = data.read_shift(2);\n\t\t\tvar tgt = data.l + length;\n\t\t\tvar d = R.f && R.f(data, length, opts);\n\t\t\tdata.l = tgt;\n\t\t\tif(cb(d, R, RT)) return;\n\t\t}\n\t}\n\n\tfunction lotus_to_workbook(d/*:RawData*/, opts) {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return lotus_to_workbook_buf(s2a(Base64_decode(d)), opts);\n\t\t\tcase 'binary': return lotus_to_workbook_buf(s2a(d), opts);\n\t\t\tcase 'buffer':\n\t\t\tcase 'array': return lotus_to_workbook_buf(d, opts);\n\t\t}\n\t\tthrow \"Unsupported type \" + opts.type;\n\t}\n\n\tfunction lotus_to_workbook_buf(d, opts)/*:Workbook*/ {\n\t\tif(!d) return d;\n\t\tvar o = opts || {};\n\t\tif(DENSE != null && o.dense == null) o.dense = DENSE;\n\t\tvar s/*:Worksheet*/ = ((o.dense ? [] : {})/*:any*/), n = \"Sheet1\", next_n = \"\", sidx = 0;\n\t\tvar sheets = {}, snames = [], realnames = [];\n\n\t\tvar refguess = {s: {r:0, c:0}, e: {r:0, c:0} };\n\t\tvar sheetRows = o.sheetRows || 0;\n\n\t\tif(d[2] == 0x00) {\n\t\t\tif(d[3] == 0x08 || d[3] == 0x09) {\n\t\t\t\tif(d.length >= 16 && d[14] == 0x05 && d[15] === 0x6c) throw new Error(\"Unsupported Works 3 for Mac file\");\n\t\t\t}\n\t\t}\n\n\t\tif(d[2] == 0x02) {\n\t\t\to.Enum = WK1Enum;\n\t\t\tlotushopper(d, function(val, R, RT) { switch(RT) {\n\t\t\t\tcase 0x00: /* BOF */\n\t\t\t\t\to.vers = val;\n\t\t\t\t\tif(val >= 0x1000) o.qpro = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x06: refguess = val; break; /* RANGE */\n\t\t\t\tcase 0xCC: if(val) next_n = val; break; /* SHEETNAMECS */\n\t\t\t\tcase 0xDE: next_n = val; break; /* SHEETNAMELP */\n\t\t\t\tcase 0x0F: /* LABEL */\n\t\t\t\tcase 0x33: /* STRING */\n\t\t\t\t\tif(!o.qpro) val[1].v = val[1].v.slice(1);\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 0x0D: /* INTEGER */\n\t\t\t\tcase 0x0E: /* NUMBER */\n\t\t\t\tcase 0x10: /* FORMULA */\n\t\t\t\t\t/* TODO: actual translation of the format code */\n\t\t\t\t\tif(RT == 0x0E && (val[2] & 0x70) == 0x70 && (val[2] & 0x0F) > 1 && (val[2] & 0x0F) < 15) {\n\t\t\t\t\t\tval[1].z = o.dateNF || table_fmt[14];\n\t\t\t\t\t\tif(o.cellDates) { val[1].t = 'd'; val[1].v = numdate(val[1].v); }\n\t\t\t\t\t}\n\n\t\t\t\t\tif(o.qpro) {\n\t\t\t\t\t\tif(val[3] > sidx) {\n\t\t\t\t\t\t\ts[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\t\t\tsheets[n] = s;\n\t\t\t\t\t\t\tsnames.push(n);\n\t\t\t\t\t\t\ts = (o.dense ? [] : {});\n\t\t\t\t\t\t\trefguess = {s: {r:0, c:0}, e: {r:0, c:0} };\n\t\t\t\t\t\t\tsidx = val[3]; n = next_n || \"Sheet\" + (sidx + 1); next_n = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar tmpcell = o.dense ? (s[val[0].r]||[])[val[0].c] : s[encode_cell(val[0])];\n\t\t\t\t\tif(tmpcell) {\n\t\t\t\t\t\ttmpcell.t = val[1].t; tmpcell.v = val[1].v;\n\t\t\t\t\t\tif(val[1].z != null) tmpcell.z = val[1].z;\n\t\t\t\t\t\tif(val[1].f != null) tmpcell.f = val[1].f;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(o.dense) {\n\t\t\t\t\t\tif(!s[val[0].r]) s[val[0].r] = [];\n\t\t\t\t\t\ts[val[0].r][val[0].c] = val[1];\n\t\t\t\t\t} else s[encode_cell(val[0])] = val[1];\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t}}, o);\n\t\t} else if(d[2] == 0x1A || d[2] == 0x0E) {\n\t\t\to.Enum = WK3Enum;\n\t\t\tif(d[2] == 0x0E) { o.qpro = true; d.l = 0; }\n\t\t\tlotushopper(d, function(val, R, RT) { switch(RT) {\n\t\t\t\tcase 0xCC: n = val; break; /* SHEETNAMECS */\n\t\t\t\tcase 0x16: /* LABEL16 */\n\t\t\t\t\tval[1].v = val[1].v.slice(1);\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 0x17: /* NUMBER17 */\n\t\t\t\tcase 0x18: /* NUMBER18 */\n\t\t\t\tcase 0x19: /* FORMULA19 */\n\t\t\t\tcase 0x25: /* NUMBER25 */\n\t\t\t\tcase 0x27: /* NUMBER27 */\n\t\t\t\tcase 0x28: /* FORMULA28 */\n\t\t\t\t\tif(val[3] > sidx) {\n\t\t\t\t\t\ts[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\t\tsheets[n] = s;\n\t\t\t\t\t\tsnames.push(n);\n\t\t\t\t\t\ts = (o.dense ? [] : {});\n\t\t\t\t\t\trefguess = {s: {r:0, c:0}, e: {r:0, c:0} };\n\t\t\t\t\t\tsidx = val[3]; n = \"Sheet\" + (sidx + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif(sheetRows > 0 && val[0].r >= sheetRows) break;\n\t\t\t\t\tif(o.dense) {\n\t\t\t\t\t\tif(!s[val[0].r]) s[val[0].r] = [];\n\t\t\t\t\t\ts[val[0].r][val[0].c] = val[1];\n\t\t\t\t\t} else s[encode_cell(val[0])] = val[1];\n\t\t\t\t\tif(refguess.e.c < val[0].c) refguess.e.c = val[0].c;\n\t\t\t\t\tif(refguess.e.r < val[0].r) refguess.e.r = val[0].r;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x1B: /* XFORMAT */\n\t\t\t\t\tif(val[0x36b0]) realnames[val[0x36b0][0]] = val[0x36b0][1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0601: /* SHEETINFOQP */\n\t\t\t\t\trealnames[val[0]] = val[1]; if(val[0] == sidx) n = val[1]; break;\n\t\t\t\tdefault: break;\n\t\t\t}}, o);\n\t\t} else throw new Error(\"Unrecognized LOTUS BOF \" + d[2]);\n\t\ts[\"!ref\"] = encode_range(refguess);\n\t\tsheets[next_n || n] = s;\n\t\tsnames.push(next_n || n);\n\t\tif(!realnames.length) return { SheetNames: snames, Sheets: sheets };\n\t\tvar osheets = {}, rnames = [];\n\t\t/* TODO: verify no collisions */\n\t\tfor(var i = 0; i < realnames.length; ++i) if(sheets[snames[i]]) {\n\t\t\trnames.push(realnames[i] || snames[i]);\n\t\t\tosheets[realnames[i]] = sheets[realnames[i]] || sheets[snames[i]];\n\t\t} else {\n\t\t\trnames.push(realnames[i]);\n\t\t\tosheets[realnames[i]] = ({ \"!ref\": \"A1\" });\n\t\t}\n\t\treturn { SheetNames: rnames, Sheets: osheets };\n\t}\n\n\tfunction sheet_to_wk1(ws/*:Worksheet*/, opts/*:WriteOpts*/) {\n\t\tvar o = opts || {};\n\t\tif(+o.codepage >= 0) set_cp(+o.codepage);\n\t\tif(o.type == \"string\") throw new Error(\"Cannot write WK1 to JS string\");\n\t\tvar ba = buf_array();\n\t\tvar range = safe_decode_range(ws[\"!ref\"]);\n\t\tvar dense = Array.isArray(ws);\n\t\tvar cols = [];\n\n\t\twrite_biff_rec(ba, 0x00, write_BOF_WK1(0x0406));\n\t\twrite_biff_rec(ba, 0x06, write_RANGE(range));\n\t\tvar max_R = Math.min(range.e.r, 8191);\n\t\tfor(var R = range.s.r; R <= max_R; ++R) {\n\t\t\tvar rr = encode_row(R);\n\t\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\t\tvar ref = cols[C] + rr;\n\t\t\t\tvar cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\t\tif(!cell || cell.t == \"z\") continue;\n\t\t\t\t/* TODO: formula records */\n\t\t\t\tif(cell.t == \"n\") {\n\t\t\t\t\tif((cell.v|0)==cell.v && cell.v >= -32768 && cell.v <= 32767) write_biff_rec(ba, 0x0d, write_INTEGER(R, C, cell.v));\n\t\t\t\t\telse write_biff_rec(ba, 0x0e, write_NUMBER(R, C, cell.v));\n\t\t\t\t} else {\n\t\t\t\t\tvar str = format_cell(cell);\n\t\t\t\t\twrite_biff_rec(ba, 0x0F, write_LABEL(R, C, str.slice(0, 239)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twrite_biff_rec(ba, 0x01);\n\t\treturn ba.end();\n\t}\n\n\tfunction book_to_wk3(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\t\tvar o = opts || {};\n\t\tif(+o.codepage >= 0) set_cp(+o.codepage);\n\t\tif(o.type == \"string\") throw new Error(\"Cannot write WK3 to JS string\");\n\t\tvar ba = buf_array();\n\n\t\twrite_biff_rec(ba, 0x00, write_BOF_WK3(wb));\n\n\t\tfor(var i = 0, cnt = 0; i < wb.SheetNames.length; ++i) if((wb.Sheets[wb.SheetNames[i]] || {})[\"!ref\"]) write_biff_rec(ba, 0x1b, write_XFORMAT_SHEETNAME(wb.SheetNames[i], cnt++));\n\n\t\tvar wsidx = 0;\n\t\tfor(i = 0; i < wb.SheetNames.length; ++i) {\n\t\t\tvar ws = wb.Sheets[wb.SheetNames[i]];\n\t\t\tif(!ws || !ws[\"!ref\"]) continue;\n\t\t\tvar range = safe_decode_range(ws[\"!ref\"]);\n\t\t\tvar dense = Array.isArray(ws);\n\t\t\tvar cols = [];\n\t\t\tvar max_R = Math.min(range.e.r, 8191);\n\t\t\tfor(var R = range.s.r; R <= max_R; ++R) {\n\t\t\t\tvar rr = encode_row(R);\n\t\t\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\t\t\tvar ref = cols[C] + rr;\n\t\t\t\t\tvar cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\t\t\tif(!cell || cell.t == \"z\") continue;\n\t\t\t\t\t/* TODO: FORMULA19 NUMBER18 records */\n\t\t\t\t\tif(cell.t == \"n\") {\n\t\t\t\t\t\twrite_biff_rec(ba, 0x17, write_NUMBER_17(R, C, wsidx, cell.v));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar str = format_cell(cell);\n\t\t\t\t\t\t/* TODO: max len? */\n\t\t\t\t\t\twrite_biff_rec(ba, 0x16, write_LABEL_16(R, C, wsidx, str.slice(0, 239)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t++wsidx;\n\t\t}\n\n\t\twrite_biff_rec(ba, 0x01);\n\t\treturn ba.end();\n\t}\n\n\n\tfunction write_BOF_WK1(v/*:number*/) {\n\t\tvar out = new_buf(2);\n\t\tout.write_shift(2, v);\n\t\treturn out;\n\t}\n\n\tfunction write_BOF_WK3(wb/*:Workbook*/) {\n\t\tvar out = new_buf(26);\n\t\tout.write_shift(2, 0x1000);\n\t\tout.write_shift(2, 0x0004);\n\t\tout.write_shift(4, 0x0000);\n\t\tvar rows = 0, cols = 0, wscnt = 0;\n\t\tfor(var i = 0; i < wb.SheetNames.length; ++i) {\n\t\t\tvar name = wb.SheetNames[i];\n\t\t\tvar ws = wb.Sheets[name];\n\t\t\tif(!ws || !ws[\"!ref\"]) continue;\n\t\t\t++wscnt;\n\t\t\tvar range = decode_range(ws[\"!ref\"]);\n\t\t\tif(rows < range.e.r) rows = range.e.r;\n\t\t\tif(cols < range.e.c) cols = range.e.c;\n\t\t}\n\t\tif(rows > 8191) rows = 8191;\n\t\tout.write_shift(2, rows);\n\t\tout.write_shift(1, wscnt);\n\t\tout.write_shift(1, cols);\n\t\tout.write_shift(2, 0x00);\n\t\tout.write_shift(2, 0x00);\n\t\tout.write_shift(1, 0x01);\n\t\tout.write_shift(1, 0x02);\n\t\tout.write_shift(4, 0);\n\t\tout.write_shift(4, 0);\n\t\treturn out;\n\t}\n\n\tfunction parse_RANGE(blob, length, opts) {\n\t\tvar o = {s:{c:0,r:0},e:{c:0,r:0}};\n\t\tif(length == 8 && opts.qpro) {\n\t\t\to.s.c = blob.read_shift(1);\n\t\t\tblob.l++;\n\t\t\to.s.r = blob.read_shift(2);\n\t\t\to.e.c = blob.read_shift(1);\n\t\t\tblob.l++;\n\t\t\to.e.r = blob.read_shift(2);\n\t\t\treturn o;\n\t\t}\n\t\to.s.c = blob.read_shift(2);\n\t\to.s.r = blob.read_shift(2);\n\t\tif(length == 12 && opts.qpro) blob.l += 2;\n\t\to.e.c = blob.read_shift(2);\n\t\to.e.r = blob.read_shift(2);\n\t\tif(length == 12 && opts.qpro) blob.l += 2;\n\t\tif(o.s.c == 0xFFFF) o.s.c = o.e.c = o.s.r = o.e.r = 0;\n\t\treturn o;\n\t}\n\tfunction write_RANGE(range) {\n\t\tvar out = new_buf(8);\n\t\tout.write_shift(2, range.s.c);\n\t\tout.write_shift(2, range.s.r);\n\t\tout.write_shift(2, range.e.c);\n\t\tout.write_shift(2, range.e.r);\n\t\treturn out;\n\t}\n\n\tfunction parse_cell(blob, length, opts) {\n\t\tvar o = [{c:0,r:0}, {t:'n',v:0}, 0, 0];\n\t\tif(opts.qpro && opts.vers != 0x5120) {\n\t\t\to[0].c = blob.read_shift(1);\n\t\t\to[3] = blob.read_shift(1);\n\t\t\to[0].r = blob.read_shift(2);\n\t\t\tblob.l+=2;\n\t\t} else {\n\t\t\to[2] = blob.read_shift(1);\n\t\t\to[0].c = blob.read_shift(2); o[0].r = blob.read_shift(2);\n\t\t}\n\t\treturn o;\n\t}\n\n\tfunction parse_LABEL(blob, length, opts) {\n\t\tvar tgt = blob.l + length;\n\t\tvar o = parse_cell(blob, length, opts);\n\t\to[1].t = 's';\n\t\tif(opts.vers == 0x5120) {\n\t\t\tblob.l++;\n\t\t\tvar len = blob.read_shift(1);\n\t\t\to[1].v = blob.read_shift(len, 'utf8');\n\t\t\treturn o;\n\t\t}\n\t\tif(opts.qpro) blob.l++;\n\t\to[1].v = blob.read_shift(tgt - blob.l, 'cstr');\n\t\treturn o;\n\t}\n\tfunction write_LABEL(R, C, s) {\n\t\t/* TODO: encoding */\n\t\tvar o = new_buf(7 + s.length);\n\t\to.write_shift(1, 0xFF);\n\t\to.write_shift(2, C);\n\t\to.write_shift(2, R);\n\t\to.write_shift(1, 0x27); // ??\n\t\tfor(var i = 0; i < o.length; ++i) {\n\t\t\tvar cc = s.charCodeAt(i);\n\t\t\to.write_shift(1, cc >= 0x80 ? 0x5F : cc);\n\t\t}\n\t\to.write_shift(1, 0);\n\t\treturn o;\n\t}\n\n\tfunction parse_INTEGER(blob, length, opts) {\n\t\tvar o = parse_cell(blob, length, opts);\n\t\to[1].v = blob.read_shift(2, 'i');\n\t\treturn o;\n\t}\n\tfunction write_INTEGER(R, C, v) {\n\t\tvar o = new_buf(7);\n\t\to.write_shift(1, 0xFF);\n\t\to.write_shift(2, C);\n\t\to.write_shift(2, R);\n\t\to.write_shift(2, v, 'i');\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER(blob, length, opts) {\n\t\tvar o = parse_cell(blob, length, opts);\n\t\to[1].v = blob.read_shift(8, 'f');\n\t\treturn o;\n\t}\n\tfunction write_NUMBER(R, C, v) {\n\t\tvar o = new_buf(13);\n\t\to.write_shift(1, 0xFF);\n\t\to.write_shift(2, C);\n\t\to.write_shift(2, R);\n\t\to.write_shift(8, v, 'f');\n\t\treturn o;\n\t}\n\n\tfunction parse_FORMULA(blob, length, opts) {\n\t\tvar tgt = blob.l + length;\n\t\tvar o = parse_cell(blob, length, opts);\n\t\t/* TODO: formula */\n\t\to[1].v = blob.read_shift(8, 'f');\n\t\tif(opts.qpro) blob.l = tgt;\n\t\telse {\n\t\t\tvar flen = blob.read_shift(2);\n\t\t\twk1_fmla_to_csf(blob.slice(blob.l, blob.l + flen), o);\n\t\t\tblob.l += flen;\n\t\t}\n\t\treturn o;\n\t}\n\n\tfunction wk1_parse_rc(B, V, col) {\n\t\tvar rel = V & 0x8000;\n\t\tV &= ~0x8000;\n\t\tV = (rel ? B : 0) + ((V >= 0x2000) ? V - 0x4000 : V);\n\t\treturn (rel ? \"\" : \"$\") + (col ? encode_col(V) : encode_row(V));\n\t}\n\t/* var oprec = [\n\t\t8, 8, 8, 8, 8, 8, 8, 8, 6, 4, 4, 5, 5, 7, 3, 3,\n\t\t3, 3, 3, 3, 1, 1, 2, 6, 8, 8, 8, 8, 8, 8, 8, 8\n\t]; */\n\t/* TODO: flesh out */\n\tvar FuncTab = {\n\t\t0x33: [\"FALSE\", 0],\n\t\t0x34: [\"TRUE\", 0],\n\t\t0x46: [\"LEN\", 1],\n\t\t0x50: [\"SUM\", 69],\n\t\t0x51: [\"AVERAGEA\", 69],\n\t\t0x52: [\"COUNTA\", 69],\n\t\t0x53: [\"MINA\", 69],\n\t\t0x54: [\"MAXA\", 69],\n\t\t0x6F: [\"T\", 1]\n\t};\n\tvar BinOpTab = [\n\t\t  \"\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\", // eslint-disable-line no-mixed-spaces-and-tabs\n\t\t  \"\",  \"+\",  \"-\",  \"*\",  \"/\",  \"^\",  \"=\", \"<>\", // eslint-disable-line no-mixed-spaces-and-tabs\n\t\t\"<=\", \">=\",  \"<\",  \">\",   \"\",   \"\",   \"\",   \"\", // eslint-disable-line no-mixed-spaces-and-tabs\n\t\t \"&\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\"  // eslint-disable-line no-mixed-spaces-and-tabs\n\t];\n\n\tfunction wk1_fmla_to_csf(blob, o) {\n\t\tprep_blob(blob, 0);\n\t\tvar out = [], argc = 0, R = \"\", C = \"\", argL = \"\", argR = \"\";\n\t\twhile(blob.l < blob.length) {\n\t\t\tvar cc = blob[blob.l++];\n\t\t\tswitch(cc) {\n\t\t\t\tcase 0x00: out.push(blob.read_shift(8, 'f')); break;\n\t\t\t\tcase 0x01: {\n\t\t\t\t\tC = wk1_parse_rc(o[0].c, blob.read_shift(2), true);\n\t\t\t\t\tR = wk1_parse_rc(o[0].r, blob.read_shift(2), false);\n\t\t\t\t\tout.push(C + R);\n\t\t\t\t} break;\n\t\t\t\tcase 0x02: {\n\t\t\t\t\tvar c = wk1_parse_rc(o[0].c, blob.read_shift(2), true);\n\t\t\t\t\tvar r = wk1_parse_rc(o[0].r, blob.read_shift(2), false);\n\t\t\t\t\tC = wk1_parse_rc(o[0].c, blob.read_shift(2), true);\n\t\t\t\t\tR = wk1_parse_rc(o[0].r, blob.read_shift(2), false);\n\t\t\t\t\tout.push(c + r + \":\" + C + R);\n\t\t\t\t} break;\n\t\t\t\tcase 0x03:\n\t\t\t\t\tif(blob.l < blob.length) { console.error(\"WK1 premature formula end\"); return; }\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x04: out.push(\"(\" + out.pop() + \")\"); break;\n\t\t\t\tcase 0x05: out.push(blob.read_shift(2)); break;\n\t\t\t\tcase 0x06: {\n\t\t\t\t\t/* TODO: text encoding */\n\t\t\t\t\tvar Z = \"\"; while((cc = blob[blob.l++])) Z += String.fromCharCode(cc);\n\t\t\t\t\tout.push('\"' + Z.replace(/\"/g, '\"\"') + '\"');\n\t\t\t\t} break;\n\n\t\t\t\tcase 0x08: out.push(\"-\" + out.pop()); break;\n\t\t\t\tcase 0x17: out.push(\"+\" + out.pop()); break;\n\t\t\t\tcase 0x16: out.push(\"NOT(\" + out.pop() + \")\"); break;\n\n\t\t\t\tcase 0x14: case 0x15: {\n\t\t\t\t\targR = out.pop(); argL = out.pop();\n\t\t\t\t\tout.push([\"AND\", \"OR\"][cc - 0x14] + \"(\" + argL + \",\" + argR + \")\");\n\t\t\t\t} break;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif(cc < 0x20 && BinOpTab[cc]) {\n\t\t\t\t\t\targR = out.pop(); argL = out.pop();\n\t\t\t\t\t\tout.push(argL + BinOpTab[cc] + argR);\n\t\t\t\t\t} else if(FuncTab[cc]) {\n\t\t\t\t\t\targc = FuncTab[cc][1];\n\t\t\t\t\t\tif(argc == 69) argc = blob[blob.l++];\n\t\t\t\t\t\tif(argc > out.length) { console.error(\"WK1 bad formula parse 0x\" + cc.toString(16) + \":|\" + out.join(\"|\") + \"|\"); return; }\n\t\t\t\t\t\tvar args = out.slice(-argc);\n\t\t\t\t\t\tout.length -= argc;\n\t\t\t\t\t\tout.push(FuncTab[cc][0] + \"(\" + args.join(\",\") + \")\");\n\t\t\t\t\t}\n\t\t\t\t\telse if(cc <= 0x07) return console.error(\"WK1 invalid opcode \" + cc.toString(16));\n\t\t\t\t\telse if(cc <= 0x18) return console.error(\"WK1 unsupported op \" + cc.toString(16));\n\t\t\t\t\telse if(cc <= 0x1E) return console.error(\"WK1 invalid opcode \" + cc.toString(16));\n\t\t\t\t\telse if(cc <= 0x73) return console.error(\"WK1 unsupported function opcode \" + cc.toString(16));\n\t\t\t\t\t// possible future functions ??\n\t\t\t\t\telse return console.error(\"WK1 unrecognized opcode \" + cc.toString(16));\n\t\t\t}\n\t\t}\n\t\tif(out.length == 1) o[1].f = \"\" + out[0];\n\t\telse console.error(\"WK1 bad formula parse |\" + out.join(\"|\") + \"|\");\n\t}\n\n\n\tfunction parse_cell_3(blob/*::, length*/) {\n\t\tvar o = [{c:0,r:0}, {t:'n',v:0}, 0];\n\t\to[0].r = blob.read_shift(2); o[3] = blob[blob.l++]; o[0].c = blob[blob.l++];\n\t\treturn o;\n\t}\n\n\tfunction parse_LABEL_16(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\to[1].t = 's';\n\t\to[1].v = blob.read_shift(length - 4, 'cstr');\n\t\treturn o;\n\t}\n\tfunction write_LABEL_16(R, C, wsidx, s) {\n\t\t/* TODO: encoding */\n\t\tvar o = new_buf(6 + s.length);\n\t\to.write_shift(2, R);\n\t\to.write_shift(1, wsidx);\n\t\to.write_shift(1, C);\n\t\to.write_shift(1, 0x27);\n\t\tfor(var i = 0; i < s.length; ++i) {\n\t\t\tvar cc = s.charCodeAt(i);\n\t\t\to.write_shift(1, cc >= 0x80 ? 0x5F : cc);\n\t\t}\n\t\to.write_shift(1, 0);\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_18(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\to[1].v = blob.read_shift(2);\n\t\tvar v = o[1].v >> 1;\n\t\tif(o[1].v & 0x1) {\n\t\t\tswitch(v & 0x07) {\n\t\t\t\tcase 0: v = (v >> 3) * 5000; break;\n\t\t\t\tcase 1: v = (v >> 3) * 500; break;\n\t\t\t\tcase 2: v = (v >> 3) / 20; break;\n\t\t\t\tcase 3: v = (v >> 3) / 200; break;\n\t\t\t\tcase 4: v = (v >> 3) / 2000; break;\n\t\t\t\tcase 5: v = (v >> 3) / 20000; break;\n\t\t\t\tcase 6: v = (v >> 3) / 16; break;\n\t\t\t\tcase 7: v = (v >> 3) / 64; break;\n\t\t\t}\n\t\t}\n\t\to[1].v = v;\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_17(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\tvar v1 = blob.read_shift(4);\n\t\tvar v2 = blob.read_shift(4);\n\t\tvar e = blob.read_shift(2);\n\t\tif(e == 0xFFFF) {\n\t\t\tif(v1 === 0 && v2 === 0xC0000000) { o[1].t = \"e\"; o[1].v = 0x0F; } // ERR -> #VALUE!\n\t\t\telse if(v1 === 0 && v2 === 0xD0000000) { o[1].t = \"e\"; o[1].v = 0x2A; } // NA -> #N/A\n\t\t\telse o[1].v = 0;\n\t\t\treturn o;\n\t\t}\n\t\tvar s = e & 0x8000; e = (e&0x7FFF) - 16446;\n\t\to[1].v = (1 - s*2) * (v2 * Math.pow(2, e+32) + v1 * Math.pow(2, e));\n\t\treturn o;\n\t}\n\tfunction write_NUMBER_17(R, C, wsidx, v) {\n\t\tvar o = new_buf(14);\n\t\to.write_shift(2, R);\n\t\to.write_shift(1, wsidx);\n\t\to.write_shift(1, C);\n\t\tif(v == 0) {\n\t\t\to.write_shift(4, 0);\n\t\t\to.write_shift(4, 0);\n\t\t\to.write_shift(2, 0xFFFF);\n\t\t\treturn o;\n\t\t}\n\t\tvar s = 0, e = 0, v1 = 0, v2 = 0;\n\t\tif(v < 0) { s = 1; v = -v; }\n\t\te = Math.log2(v) | 0;\n\t\tv /= Math.pow(2, e-31);\n\t\tv2 = (v)>>>0;\n\t\tif((v2&0x80000000) == 0) { v/=2; ++e; v2 = v >>> 0; }\n\t\tv -= v2;\n\t\tv2 |= 0x80000000;\n\t\tv2 >>>= 0;\n\t\tv *= Math.pow(2, 32);\n\t\tv1 = v>>>0;\n\t\to.write_shift(4, v1);\n\t\to.write_shift(4, v2);\n\t\te += 0x3FFF + (s ? 0x8000 : 0);\n\t\to.write_shift(2, e);\n\t\treturn o;\n\t}\n\n\tfunction parse_FORMULA_19(blob, length) {\n\t\tvar o = parse_NUMBER_17(blob, 14);\n\t\tblob.l += length - 14; /* TODO: WK3 formula */\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_25(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\tvar v1 = blob.read_shift(4);\n\t\to[1].v = v1 >> 6;\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_27(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\tvar v1 = blob.read_shift(8,'f');\n\t\to[1].v = v1;\n\t\treturn o;\n\t}\n\n\tfunction parse_FORMULA_28(blob, length) {\n\t\tvar o = parse_NUMBER_27(blob, 14);\n\t\tblob.l += length - 10; /* TODO: formula */\n\t\treturn o;\n\t}\n\n\tfunction parse_SHEETNAMECS(blob, length) {\n\t\treturn blob[blob.l + length - 1] == 0 ? blob.read_shift(length, 'cstr') : \"\";\n\t}\n\n\tfunction parse_SHEETNAMELP(blob, length) {\n\t\tvar len = blob[blob.l++];\n\t\tif(len > length - 1) len = length - 1;\n\t\tvar o = \"\"; while(o.length < len) o += String.fromCharCode(blob[blob.l++]);\n\t\treturn o;\n\t}\n\n\tfunction parse_SHEETINFOQP(blob, length, opts) {\n\t\tif(!opts.qpro || length < 21) return;\n\t\tvar id = blob.read_shift(1);\n\t\tblob.l += 17;\n\t\tblob.l += 1; //var len = blob.read_shift(1);\n\t\tblob.l += 2;\n\t\tvar nm = blob.read_shift(length - 21, 'cstr');\n\t\treturn [id, nm];\n\t}\n\n\tfunction parse_XFORMAT(blob, length) {\n\t\tvar o = {}, tgt = blob.l + length;\n\t\twhile(blob.l < tgt) {\n\t\t\tvar dt = blob.read_shift(2);\n\t\t\tif(dt == 0x36b0) {\n\t\t\t\to[dt] = [0, \"\"];\n\t\t\t\to[dt][0] = blob.read_shift(2);\n\t\t\t\twhile(blob[blob.l]) { o[dt][1] += String.fromCharCode(blob[blob.l]); blob.l++; } blob.l++;\n\t\t\t}\n\t\t\t// TODO: 0x3a99 ??\n\t\t}\n\t\treturn o;\n\t}\n\tfunction write_XFORMAT_SHEETNAME(name, wsidx) {\n\t\tvar out = new_buf(5 + name.length);\n\t\tout.write_shift(2, 0x36b0);\n\t\tout.write_shift(2, wsidx);\n\t\tfor(var i = 0; i < name.length; ++i) {\n\t\t\tvar cc = name.charCodeAt(i);\n\t\t\tout[out.l++] = cc > 0x7F ? 0x5F : cc;\n\t\t}\n\t\tout[out.l++] = 0;\n\t\treturn out;\n\t}\n\n\tvar WK1Enum = {\n\t\t/*::[*/0x0000/*::]*/: { n:\"BOF\", f:parseuint16 },\n\t\t/*::[*/0x0001/*::]*/: { n:\"EOF\" },\n\t\t/*::[*/0x0002/*::]*/: { n:\"CALCMODE\" },\n\t\t/*::[*/0x0003/*::]*/: { n:\"CALCORDER\" },\n\t\t/*::[*/0x0004/*::]*/: { n:\"SPLIT\" },\n\t\t/*::[*/0x0005/*::]*/: { n:\"SYNC\" },\n\t\t/*::[*/0x0006/*::]*/: { n:\"RANGE\", f:parse_RANGE },\n\t\t/*::[*/0x0007/*::]*/: { n:\"WINDOW1\" },\n\t\t/*::[*/0x0008/*::]*/: { n:\"COLW1\" },\n\t\t/*::[*/0x0009/*::]*/: { n:\"WINTWO\" },\n\t\t/*::[*/0x000A/*::]*/: { n:\"COLW2\" },\n\t\t/*::[*/0x000B/*::]*/: { n:\"NAME\" },\n\t\t/*::[*/0x000C/*::]*/: { n:\"BLANK\" },\n\t\t/*::[*/0x000D/*::]*/: { n:\"INTEGER\", f:parse_INTEGER },\n\t\t/*::[*/0x000E/*::]*/: { n:\"NUMBER\", f:parse_NUMBER },\n\t\t/*::[*/0x000F/*::]*/: { n:\"LABEL\", f:parse_LABEL },\n\t\t/*::[*/0x0010/*::]*/: { n:\"FORMULA\", f:parse_FORMULA },\n\t\t/*::[*/0x0018/*::]*/: { n:\"TABLE\" },\n\t\t/*::[*/0x0019/*::]*/: { n:\"ORANGE\" },\n\t\t/*::[*/0x001A/*::]*/: { n:\"PRANGE\" },\n\t\t/*::[*/0x001B/*::]*/: { n:\"SRANGE\" },\n\t\t/*::[*/0x001C/*::]*/: { n:\"FRANGE\" },\n\t\t/*::[*/0x001D/*::]*/: { n:\"KRANGE1\" },\n\t\t/*::[*/0x0020/*::]*/: { n:\"HRANGE\" },\n\t\t/*::[*/0x0023/*::]*/: { n:\"KRANGE2\" },\n\t\t/*::[*/0x0024/*::]*/: { n:\"PROTEC\" },\n\t\t/*::[*/0x0025/*::]*/: { n:\"FOOTER\" },\n\t\t/*::[*/0x0026/*::]*/: { n:\"HEADER\" },\n\t\t/*::[*/0x0027/*::]*/: { n:\"SETUP\" },\n\t\t/*::[*/0x0028/*::]*/: { n:\"MARGINS\" },\n\t\t/*::[*/0x0029/*::]*/: { n:\"LABELFMT\" },\n\t\t/*::[*/0x002A/*::]*/: { n:\"TITLES\" },\n\t\t/*::[*/0x002B/*::]*/: { n:\"SHEETJS\" },\n\t\t/*::[*/0x002D/*::]*/: { n:\"GRAPH\" },\n\t\t/*::[*/0x002E/*::]*/: { n:\"NGRAPH\" },\n\t\t/*::[*/0x002F/*::]*/: { n:\"CALCCOUNT\" },\n\t\t/*::[*/0x0030/*::]*/: { n:\"UNFORMATTED\" },\n\t\t/*::[*/0x0031/*::]*/: { n:\"CURSORW12\" },\n\t\t/*::[*/0x0032/*::]*/: { n:\"WINDOW\" },\n\t\t/*::[*/0x0033/*::]*/: { n:\"STRING\", f:parse_LABEL },\n\t\t/*::[*/0x0037/*::]*/: { n:\"PASSWORD\" },\n\t\t/*::[*/0x0038/*::]*/: { n:\"LOCKED\" },\n\t\t/*::[*/0x003C/*::]*/: { n:\"QUERY\" },\n\t\t/*::[*/0x003D/*::]*/: { n:\"QUERYNAME\" },\n\t\t/*::[*/0x003E/*::]*/: { n:\"PRINT\" },\n\t\t/*::[*/0x003F/*::]*/: { n:\"PRINTNAME\" },\n\t\t/*::[*/0x0040/*::]*/: { n:\"GRAPH2\" },\n\t\t/*::[*/0x0041/*::]*/: { n:\"GRAPHNAME\" },\n\t\t/*::[*/0x0042/*::]*/: { n:\"ZOOM\" },\n\t\t/*::[*/0x0043/*::]*/: { n:\"SYMSPLIT\" },\n\t\t/*::[*/0x0044/*::]*/: { n:\"NSROWS\" },\n\t\t/*::[*/0x0045/*::]*/: { n:\"NSCOLS\" },\n\t\t/*::[*/0x0046/*::]*/: { n:\"RULER\" },\n\t\t/*::[*/0x0047/*::]*/: { n:\"NNAME\" },\n\t\t/*::[*/0x0048/*::]*/: { n:\"ACOMM\" },\n\t\t/*::[*/0x0049/*::]*/: { n:\"AMACRO\" },\n\t\t/*::[*/0x004A/*::]*/: { n:\"PARSE\" },\n\t\t/*::[*/0x0066/*::]*/: { n:\"PRANGES??\" },\n\t\t/*::[*/0x0067/*::]*/: { n:\"RRANGES??\" },\n\t\t/*::[*/0x0068/*::]*/: { n:\"FNAME??\" },\n\t\t/*::[*/0x0069/*::]*/: { n:\"MRANGES??\" },\n\t\t/*::[*/0x00CC/*::]*/: { n:\"SHEETNAMECS\", f:parse_SHEETNAMECS },\n\t\t/*::[*/0x00DE/*::]*/: { n:\"SHEETNAMELP\", f:parse_SHEETNAMELP },\n\t\t/*::[*/0xFFFF/*::]*/: { n:\"\" }\n\t};\n\n\tvar WK3Enum = {\n\t\t/*::[*/0x0000/*::]*/: { n:\"BOF\" },\n\t\t/*::[*/0x0001/*::]*/: { n:\"EOF\" },\n\t\t/*::[*/0x0002/*::]*/: { n:\"PASSWORD\" },\n\t\t/*::[*/0x0003/*::]*/: { n:\"CALCSET\" },\n\t\t/*::[*/0x0004/*::]*/: { n:\"WINDOWSET\" },\n\t\t/*::[*/0x0005/*::]*/: { n:\"SHEETCELLPTR\" },\n\t\t/*::[*/0x0006/*::]*/: { n:\"SHEETLAYOUT\" },\n\t\t/*::[*/0x0007/*::]*/: { n:\"COLUMNWIDTH\" },\n\t\t/*::[*/0x0008/*::]*/: { n:\"HIDDENCOLUMN\" },\n\t\t/*::[*/0x0009/*::]*/: { n:\"USERRANGE\" },\n\t\t/*::[*/0x000A/*::]*/: { n:\"SYSTEMRANGE\" },\n\t\t/*::[*/0x000B/*::]*/: { n:\"ZEROFORCE\" },\n\t\t/*::[*/0x000C/*::]*/: { n:\"SORTKEYDIR\" },\n\t\t/*::[*/0x000D/*::]*/: { n:\"FILESEAL\" },\n\t\t/*::[*/0x000E/*::]*/: { n:\"DATAFILLNUMS\" },\n\t\t/*::[*/0x000F/*::]*/: { n:\"PRINTMAIN\" },\n\t\t/*::[*/0x0010/*::]*/: { n:\"PRINTSTRING\" },\n\t\t/*::[*/0x0011/*::]*/: { n:\"GRAPHMAIN\" },\n\t\t/*::[*/0x0012/*::]*/: { n:\"GRAPHSTRING\" },\n\t\t/*::[*/0x0013/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0014/*::]*/: { n:\"ERRCELL\" },\n\t\t/*::[*/0x0015/*::]*/: { n:\"NACELL\" },\n\t\t/*::[*/0x0016/*::]*/: { n:\"LABEL16\", f:parse_LABEL_16},\n\t\t/*::[*/0x0017/*::]*/: { n:\"NUMBER17\", f:parse_NUMBER_17 },\n\t\t/*::[*/0x0018/*::]*/: { n:\"NUMBER18\", f:parse_NUMBER_18 },\n\t\t/*::[*/0x0019/*::]*/: { n:\"FORMULA19\", f:parse_FORMULA_19},\n\t\t/*::[*/0x001A/*::]*/: { n:\"FORMULA1A\" },\n\t\t/*::[*/0x001B/*::]*/: { n:\"XFORMAT\", f:parse_XFORMAT },\n\t\t/*::[*/0x001C/*::]*/: { n:\"DTLABELMISC\" },\n\t\t/*::[*/0x001D/*::]*/: { n:\"DTLABELCELL\" },\n\t\t/*::[*/0x001E/*::]*/: { n:\"GRAPHWINDOW\" },\n\t\t/*::[*/0x001F/*::]*/: { n:\"CPA\" },\n\t\t/*::[*/0x0020/*::]*/: { n:\"LPLAUTO\" },\n\t\t/*::[*/0x0021/*::]*/: { n:\"QUERY\" },\n\t\t/*::[*/0x0022/*::]*/: { n:\"HIDDENSHEET\" },\n\t\t/*::[*/0x0023/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0025/*::]*/: { n:\"NUMBER25\", f:parse_NUMBER_25 },\n\t\t/*::[*/0x0026/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0027/*::]*/: { n:\"NUMBER27\", f:parse_NUMBER_27 },\n\t\t/*::[*/0x0028/*::]*/: { n:\"FORMULA28\", f:parse_FORMULA_28 },\n\t\t/*::[*/0x008E/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0093/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0096/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0097/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0098/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0099/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x009A/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x009B/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x009C/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00A3/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00AE/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00AF/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00B0/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00B1/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00B8/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00B9/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00BA/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00BB/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00BC/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00C3/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00C9/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00CC/*::]*/: { n:\"SHEETNAMECS\", f:parse_SHEETNAMECS },\n\t\t/*::[*/0x00CD/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00CE/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00CF/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00D0/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0100/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0103/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0104/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0105/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0106/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0107/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0109/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x010A/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x010B/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x010C/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x010E/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x010F/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0180/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0185/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0186/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0189/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x018C/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0200/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0202/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0201/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0204/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0205/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0280/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0281/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0282/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0283/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0284/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0285/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0286/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0287/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0288/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0292/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0293/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0294/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0295/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0296/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0299/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x029A/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0300/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0304/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0601/*::]*/: { n:\"SHEETINFOQP\", f:parse_SHEETINFOQP },\n\t\t/*::[*/0x0640/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0642/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0701/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0702/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0703/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0704/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0780/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0800/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0801/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0804/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0A80/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x2AF6/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x3231/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x6E49/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x6F44/*::]*/: { n:\"??\" },\n\t\t/*::[*/0xFFFF/*::]*/: { n:\"\" }\n\t};\n\treturn {\n\t\tsheet_to_wk1: sheet_to_wk1,\n\t\tbook_to_wk3: book_to_wk3,\n\t\tto_workbook: lotus_to_workbook\n\t};\n})();\n/* 18.4.7 rPr CT_RPrElt */\nfunction parse_rpr(rpr) {\n\tvar font = {}, m = rpr.match(tagregex), i = 0;\n\tvar pass = false;\n\tif(m) for(;i!=m.length; ++i) {\n\t\tvar y = parsexmltag(m[i]);\n\t\tswitch(y[0].replace(/\\w*:/g,\"\")) {\n\t\t\t/* 18.8.12 condense CT_BooleanProperty */\n\t\t\t/* ** not required . */\n\t\t\tcase '<condense': break;\n\t\t\t/* 18.8.17 extend CT_BooleanProperty */\n\t\t\t/* ** not required . */\n\t\t\tcase '<extend': break;\n\t\t\t/* 18.8.36 shadow CT_BooleanProperty */\n\t\t\t/* ** not required . */\n\t\t\tcase '<shadow':\n\t\t\t\tif(!y.val) break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<shadow>':\n\t\t\tcase '<shadow/>': font.shadow = 1; break;\n\t\t\tcase '</shadow>': break;\n\n\t\t\t/* 18.4.1 charset CT_IntProperty TODO */\n\t\t\tcase '<charset':\n\t\t\t\tif(y.val == '1') break;\n\t\t\t\tfont.cp = CS2CP[parseInt(y.val, 10)];\n\t\t\t\tbreak;\n\n\t\t\t/* 18.4.2 outline CT_BooleanProperty TODO */\n\t\t\tcase '<outline':\n\t\t\t\tif(!y.val) break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<outline>':\n\t\t\tcase '<outline/>': font.outline = 1; break;\n\t\t\tcase '</outline>': break;\n\n\t\t\t/* 18.4.5 rFont CT_FontName */\n\t\t\tcase '<rFont': font.name = y.val; break;\n\n\t\t\t/* 18.4.11 sz CT_FontSize */\n\t\t\tcase '<sz': font.sz = y.val; break;\n\n\t\t\t/* 18.4.10 strike CT_BooleanProperty */\n\t\t\tcase '<strike':\n\t\t\t\tif(!y.val) break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<strike>':\n\t\t\tcase '<strike/>': font.strike = 1; break;\n\t\t\tcase '</strike>': break;\n\n\t\t\t/* 18.4.13 u CT_UnderlineProperty */\n\t\t\tcase '<u':\n\t\t\t\tif(!y.val) break;\n\t\t\t\tswitch(y.val) {\n\t\t\t\t\tcase 'double': font.uval = \"double\"; break;\n\t\t\t\t\tcase 'singleAccounting': font.uval = \"single-accounting\"; break;\n\t\t\t\t\tcase 'doubleAccounting': font.uval = \"double-accounting\"; break;\n\t\t\t\t}\n\t\t\t\t/* falls through */\n\t\t\tcase '<u>':\n\t\t\tcase '<u/>': font.u = 1; break;\n\t\t\tcase '</u>': break;\n\n\t\t\t/* 18.8.2 b */\n\t\t\tcase '<b':\n\t\t\t\tif(y.val == '0') break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<b>':\n\t\t\tcase '<b/>': font.b = 1; break;\n\t\t\tcase '</b>': break;\n\n\t\t\t/* 18.8.26 i */\n\t\t\tcase '<i':\n\t\t\t\tif(y.val == '0') break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<i>':\n\t\t\tcase '<i/>': font.i = 1; break;\n\t\t\tcase '</i>': break;\n\n\t\t\t/* 18.3.1.15 color CT_Color TODO: tint, theme, auto, indexed */\n\t\t\tcase '<color':\n\t\t\t\tif(y.rgb) font.color = y.rgb.slice(2,8);\n\t\t\t\tbreak;\n\t\t\tcase '<color>': case '<color/>': case '</color>': break;\n\n\t\t\t/* 18.8.18 family ST_FontFamily */\n\t\t\tcase '<family': font.family = y.val; break;\n\t\t\tcase '<family>': case '<family/>': case '</family>': break;\n\n\t\t\t/* 18.4.14 vertAlign CT_VerticalAlignFontProperty TODO */\n\t\t\tcase '<vertAlign': font.valign = y.val; break;\n\t\t\tcase '<vertAlign>': case '<vertAlign/>': case '</vertAlign>': break;\n\n\t\t\t/* 18.8.35 scheme CT_FontScheme TODO */\n\t\t\tcase '<scheme': break;\n\t\t\tcase '<scheme>': case '<scheme/>': case '</scheme>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault:\n\t\t\t\tif(y[0].charCodeAt(1) !== 47 && !pass) throw new Error('Unrecognized rich format ' + y[0]);\n\t\t}\n\t}\n\treturn font;\n}\n\nvar parse_rs = /*#__PURE__*/(function() {\n\tvar tregex = matchtag(\"t\"), rpregex = matchtag(\"rPr\");\n\t/* 18.4.4 r CT_RElt */\n\tfunction parse_r(r) {\n\t\t/* 18.4.12 t ST_Xstring */\n\t\tvar t = r.match(tregex)/*, cp = 65001*/;\n\t\tif(!t) return {t:\"s\", v:\"\"};\n\n\t\tvar o/*:Cell*/ = ({t:'s', v:unescapexml(t[1])}/*:any*/);\n\t\tvar rpr = r.match(rpregex);\n\t\tif(rpr) o.s = parse_rpr(rpr[1]);\n\t\treturn o;\n\t}\n\tvar rregex = /<(?:\\w+:)?r>/g, rend = /<\\/(?:\\w+:)?r>/;\n\treturn function parse_rs(rs) {\n\t\treturn rs.replace(rregex,\"\").split(rend).map(parse_r).filter(function(r) { return r.v; });\n\t};\n})();\n\n\n/* Parse a list of <r> tags */\nvar rs_to_html = /*#__PURE__*/(function parse_rs_factory() {\n\tvar nlregex = /(\\r\\n|\\n)/g;\n\tfunction parse_rpr2(font, intro, outro) {\n\t\tvar style/*:Array<string>*/ = [];\n\n\t\tif(font.u) style.push(\"text-decoration: underline;\");\n\t\tif(font.uval) style.push(\"text-underline-style:\" + font.uval + \";\");\n\t\tif(font.sz) style.push(\"font-size:\" + font.sz + \"pt;\");\n\t\tif(font.outline) style.push(\"text-effect: outline;\");\n\t\tif(font.shadow) style.push(\"text-shadow: auto;\");\n\t\tintro.push('<span style=\"' + style.join(\"\") + '\">');\n\n\t\tif(font.b) { intro.push(\"<b>\"); outro.push(\"</b>\"); }\n\t\tif(font.i) { intro.push(\"<i>\"); outro.push(\"</i>\"); }\n\t\tif(font.strike) { intro.push(\"<s>\"); outro.push(\"</s>\"); }\n\n\t\tvar align = font.valign || \"\";\n\t\tif(align == \"superscript\" || align == \"super\") align = \"sup\";\n\t\telse if(align == \"subscript\") align = \"sub\";\n\t\tif(align != \"\") { intro.push(\"<\" + align + \">\"); outro.push(\"</\" + align + \">\"); }\n\n\t\toutro.push(\"</span>\");\n\t\treturn font;\n\t}\n\n\t/* 18.4.4 r CT_RElt */\n\tfunction r_to_html(r) {\n\t\tvar terms/*:[Array<string>, string, Array<string>]*/ = [[],r.v,[]];\n\t\tif(!r.v) return \"\";\n\n\t\tif(r.s) parse_rpr2(r.s, terms[0], terms[2]);\n\n\t\treturn terms[0].join(\"\") + terms[1].replace(nlregex,'<br/>') + terms[2].join(\"\");\n\t}\n\n\treturn function parse_rs(rs) {\n\t\treturn rs.map(r_to_html).join(\"\");\n\t};\n})();\n\n/* 18.4.8 si CT_Rst */\nvar sitregex = /<(?:\\w+:)?t[^>]*>([^<]*)<\\/(?:\\w+:)?t>/g, sirregex = /<(?:\\w+:)?r>/;\nvar sirphregex = /<(?:\\w+:)?rPh.*?>([\\s\\S]*?)<\\/(?:\\w+:)?rPh>/g;\nfunction parse_si(x, opts) {\n\tvar html = opts ? opts.cellHTML : true;\n\tvar z = {};\n\tif(!x) return { t: \"\" };\n\t//var y;\n\t/* 18.4.12 t ST_Xstring (Plaintext String) */\n\t// TODO: is whitespace actually valid here?\n\tif(x.match(/^\\s*<(?:\\w+:)?t[^>]*>/)) {\n\t\tz.t = unescapexml(utf8read(x.slice(x.indexOf(\">\")+1).split(/<\\/(?:\\w+:)?t>/)[0]||\"\"));\n\t\tz.r = utf8read(x);\n\t\tif(html) z.h = escapehtml(z.t);\n\t}\n\t/* 18.4.4 r CT_RElt (Rich Text Run) */\n\telse if((/*y = */x.match(sirregex))) {\n\t\tz.r = utf8read(x);\n\t\tz.t = unescapexml(utf8read((x.replace(sirphregex, '').match(sitregex)||[]).join(\"\").replace(tagregex,\"\")));\n\t\tif(html) z.h = rs_to_html(parse_rs(z.r));\n\t}\n\t/* 18.4.3 phoneticPr CT_PhoneticPr (TODO: needed for Asian support) */\n\t/* 18.4.6 rPh CT_PhoneticRun (TODO: needed for Asian support) */\n\treturn z;\n}\n\n/* 18.4 Shared String Table */\nvar sstr0 = /<(?:\\w+:)?sst([^>]*)>([\\s\\S]*)<\\/(?:\\w+:)?sst>/;\nvar sstr1 = /<(?:\\w+:)?(?:si|sstItem)>/g;\nvar sstr2 = /<\\/(?:\\w+:)?(?:si|sstItem)>/;\nfunction parse_sst_xml(data/*:string*/, opts)/*:SST*/ {\n\tvar s/*:SST*/ = ([]/*:any*/), ss = \"\";\n\tif(!data) return s;\n\t/* 18.4.9 sst CT_Sst */\n\tvar sst = data.match(sstr0);\n\tif(sst) {\n\t\tss = sst[2].replace(sstr1,\"\").split(sstr2);\n\t\tfor(var i = 0; i != ss.length; ++i) {\n\t\t\tvar o = parse_si(ss[i].trim(), opts);\n\t\t\tif(o != null) s[s.length] = o;\n\t\t}\n\t\tsst = parsexmltag(sst[1]); s.Count = sst.count; s.Unique = sst.uniqueCount;\n\t}\n\treturn s;\n}\n\nvar straywsregex = /^\\s|\\s$|[\\t\\n\\r]/;\nfunction write_sst_xml(sst/*:SST*/, opts)/*:string*/ {\n\tif(!opts.bookSST) return \"\";\n\tvar o = [XML_HEADER];\n\to[o.length] = (writextag('sst', null, {\n\t\txmlns: XMLNS_main[0],\n\t\tcount: sst.Count,\n\t\tuniqueCount: sst.Unique\n\t}));\n\tfor(var i = 0; i != sst.length; ++i) { if(sst[i] == null) continue;\n\t\tvar s/*:XLString*/ = sst[i];\n\t\tvar sitag = \"<si>\";\n\t\tif(s.r) sitag += s.r;\n\t\telse {\n\t\t\tsitag += \"<t\";\n\t\t\tif(!s.t) s.t = \"\";\n\t\t\tif(s.t.match(straywsregex)) sitag += ' xml:space=\"preserve\"';\n\t\t\tsitag += \">\" + escapexml(s.t) + \"</t>\";\n\t\t}\n\t\tsitag += \"</si>\";\n\t\to[o.length] = (sitag);\n\t}\n\tif(o.length>2){ o[o.length] = ('</sst>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.221 BrtBeginSst */\nfunction parse_BrtBeginSst(data) {\n\treturn [data.read_shift(4), data.read_shift(4)];\n}\n\n/* [MS-XLSB] 2.1.7.45 Shared Strings */\nfunction parse_sst_bin(data, opts)/*:SST*/ {\n\tvar s/*:SST*/ = ([]/*:any*/);\n\tvar pass = false;\n\trecordhopper(data, function hopper_sst(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x009F: /* BrtBeginSst */\n\t\t\t\ts.Count = val[0]; s.Unique = val[1]; break;\n\t\t\tcase 0x0013: /* BrtSSTItem */\n\t\t\t\ts.push(val); break;\n\t\t\tcase 0x00A0: /* BrtEndSst */\n\t\t\t\treturn true;\n\n\t\t\tcase 0x0023: /* BrtFRTBegin */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* BrtFRTEnd */\n\t\t\t\tpass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){}\n\t\t\t\tif(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn s;\n}\n\nfunction write_BrtBeginSst(sst, o) {\n\tif(!o) o = new_buf(8);\n\to.write_shift(4, sst.Count);\n\to.write_shift(4, sst.Unique);\n\treturn o;\n}\n\nvar write_BrtSSTItem = write_RichStr;\n\nfunction write_sst_bin(sst/*::, opts*/) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x009F /* BrtBeginSst */, write_BrtBeginSst(sst));\n\tfor(var i = 0; i < sst.length; ++i) write_record(ba, 0x0013 /* BrtSSTItem */, write_BrtSSTItem(sst[i]));\n\t/* FRTSST */\n\twrite_record(ba, 0x00A0 /* BrtEndSst */);\n\treturn ba.end();\n}\nfunction _JS2ANSI(str/*:string*/)/*:Array<number>*/ {\n\tif(typeof $cptable !== 'undefined') return $cptable.utils.encode(current_ansi, str);\n\tvar o/*:Array<number>*/ = [], oo = str.split(\"\");\n\tfor(var i = 0; i < oo.length; ++i) o[i] = oo[i].charCodeAt(0);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.4 Version */\nfunction parse_CRYPTOVersion(blob, length/*:?number*/) {\n\tvar o/*:any*/ = {};\n\to.Major = blob.read_shift(2);\n\to.Minor = blob.read_shift(2);\n\t/*:: if(length == null) return o; */\n\tif(length >= 4) blob.l += length - 4;\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.5 DataSpaceVersionInfo */\nfunction parse_DataSpaceVersionInfo(blob) {\n\tvar o = {};\n\to.id = blob.read_shift(0, 'lpp4');\n\to.R = parse_CRYPTOVersion(blob, 4);\n\to.U = parse_CRYPTOVersion(blob, 4);\n\to.W = parse_CRYPTOVersion(blob, 4);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.6.1 DataSpaceMapEntry Structure */\nfunction parse_DataSpaceMapEntry(blob) {\n\tvar len = blob.read_shift(4);\n\tvar end = blob.l + len - 4;\n\tvar o = {};\n\tvar cnt = blob.read_shift(4);\n\tvar comps/*:Array<{t:number, v:string}>*/ = [];\n\t/* [MS-OFFCRYPTO] 2.1.6.2 DataSpaceReferenceComponent Structure */\n\twhile(cnt-- > 0) comps.push({ t: blob.read_shift(4), v: blob.read_shift(0, 'lpp4') });\n\to.name = blob.read_shift(0, 'lpp4');\n\to.comps = comps;\n\tif(blob.l != end) throw new Error(\"Bad DataSpaceMapEntry: \" + blob.l + \" != \" + end);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.6 DataSpaceMap */\nfunction parse_DataSpaceMap(blob) {\n\tvar o = [];\n\tblob.l += 4; // must be 0x8\n\tvar cnt = blob.read_shift(4);\n\twhile(cnt-- > 0) o.push(parse_DataSpaceMapEntry(blob));\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.7 DataSpaceDefinition */\nfunction parse_DataSpaceDefinition(blob)/*:Array<string>*/ {\n\tvar o/*:Array<string>*/ = [];\n\tblob.l += 4; // must be 0x8\n\tvar cnt = blob.read_shift(4);\n\twhile(cnt-- > 0) o.push(blob.read_shift(0, 'lpp4'));\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.8 DataSpaceDefinition */\nfunction parse_TransformInfoHeader(blob) {\n\tvar o = {};\n\t/*var len = */blob.read_shift(4);\n\tblob.l += 4; // must be 0x1\n\to.id = blob.read_shift(0, 'lpp4');\n\to.name = blob.read_shift(0, 'lpp4');\n\to.R = parse_CRYPTOVersion(blob, 4);\n\to.U = parse_CRYPTOVersion(blob, 4);\n\to.W = parse_CRYPTOVersion(blob, 4);\n\treturn o;\n}\n\nfunction parse_Primary(blob) {\n\t/* [MS-OFFCRYPTO] 2.2.6 IRMDSTransformInfo */\n\tvar hdr = parse_TransformInfoHeader(blob);\n\t/* [MS-OFFCRYPTO] 2.1.9 EncryptionTransformInfo */\n\thdr.ename = blob.read_shift(0, '8lpp4');\n\thdr.blksz = blob.read_shift(4);\n\thdr.cmode = blob.read_shift(4);\n\tif(blob.read_shift(4) != 0x04) throw new Error(\"Bad !Primary record\");\n\treturn hdr;\n}\n\n/* [MS-OFFCRYPTO] 2.3.2 Encryption Header */\nfunction parse_EncryptionHeader(blob, length/*:number*/) {\n\tvar tgt = blob.l + length;\n\tvar o = {};\n\to.Flags = (blob.read_shift(4) & 0x3F);\n\tblob.l += 4;\n\to.AlgID = blob.read_shift(4);\n\tvar valid = false;\n\tswitch(o.AlgID) {\n\t\tcase 0x660E: case 0x660F: case 0x6610: valid = (o.Flags == 0x24); break;\n\t\tcase 0x6801: valid = (o.Flags == 0x04); break;\n\t\tcase 0: valid = (o.Flags == 0x10 || o.Flags == 0x04 || o.Flags == 0x24); break;\n\t\tdefault: throw 'Unrecognized encryption algorithm: ' + o.AlgID;\n\t}\n\tif(!valid) throw new Error(\"Encryption Flags/AlgID mismatch\");\n\to.AlgIDHash = blob.read_shift(4);\n\to.KeySize = blob.read_shift(4);\n\to.ProviderType = blob.read_shift(4);\n\tblob.l += 8;\n\to.CSPName = blob.read_shift((tgt-blob.l)>>1, 'utf16le');\n\tblob.l = tgt;\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.3 Encryption Verifier */\nfunction parse_EncryptionVerifier(blob, length/*:number*/) {\n\tvar o = {}, tgt = blob.l + length;\n\tblob.l += 4; // SaltSize must be 0x10\n\to.Salt = blob.slice(blob.l, blob.l+16); blob.l += 16;\n\to.Verifier = blob.slice(blob.l, blob.l+16); blob.l += 16;\n\t/*var sz = */blob.read_shift(4);\n\to.VerifierHash = blob.slice(blob.l, tgt); blob.l = tgt;\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.4.* EncryptionInfo Stream */\nfunction parse_EncryptionInfo(blob) {\n\tvar vers = parse_CRYPTOVersion(blob);\n\tswitch(vers.Minor) {\n\t\tcase 0x02: return [vers.Minor, parse_EncInfoStd(blob, vers)];\n\t\tcase 0x03: return [vers.Minor, parse_EncInfoExt(blob, vers)];\n\t\tcase 0x04: return [vers.Minor, parse_EncInfoAgl(blob, vers)];\n\t}\n\tthrow new Error(\"ECMA-376 Encrypted file unrecognized Version: \" + vers.Minor);\n}\n\n/* [MS-OFFCRYPTO] 2.3.4.5  EncryptionInfo Stream (Standard Encryption) */\nfunction parse_EncInfoStd(blob/*::, vers*/) {\n\tvar flags = blob.read_shift(4);\n\tif((flags & 0x3F) != 0x24) throw new Error(\"EncryptionInfo mismatch\");\n\tvar sz = blob.read_shift(4);\n\t//var tgt = blob.l + sz;\n\tvar hdr = parse_EncryptionHeader(blob, sz);\n\tvar verifier = parse_EncryptionVerifier(blob, blob.length - blob.l);\n\treturn { t:\"Std\", h:hdr, v:verifier };\n}\n/* [MS-OFFCRYPTO] 2.3.4.6  EncryptionInfo Stream (Extensible Encryption) */\nfunction parse_EncInfoExt(/*::blob, vers*/) { throw new Error(\"File is password-protected: ECMA-376 Extensible\"); }\n/* [MS-OFFCRYPTO] 2.3.4.10 EncryptionInfo Stream (Agile Encryption) */\nfunction parse_EncInfoAgl(blob/*::, vers*/) {\n\tvar KeyData = [\"saltSize\",\"blockSize\",\"keyBits\",\"hashSize\",\"cipherAlgorithm\",\"cipherChaining\",\"hashAlgorithm\",\"saltValue\"];\n\tblob.l+=4;\n\tvar xml = blob.read_shift(blob.length - blob.l, 'utf8');\n\tvar o = {};\n\txml.replace(tagregex, function xml_agile(x) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\t\t\tcase '<encryption': case '</encryption>': break;\n\t\t\tcase '<keyData': KeyData.forEach(function(k) { o[k] = y[k]; }); break;\n\t\t\tcase '<dataIntegrity': o.encryptedHmacKey = y.encryptedHmacKey; o.encryptedHmacValue = y.encryptedHmacValue; break;\n\t\t\tcase '<keyEncryptors>': case '<keyEncryptors': o.encs = []; break;\n\t\t\tcase '</keyEncryptors>': break;\n\n\t\t\tcase '<keyEncryptor': o.uri = y.uri; break;\n\t\t\tcase '</keyEncryptor>': break;\n\t\t\tcase '<encryptedKey': o.encs.push(y); break;\n\t\t\tdefault: throw y[0];\n\t\t}\n\t});\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.5.1 RC4 CryptoAPI Encryption Header */\nfunction parse_RC4CryptoHeader(blob, length/*:number*/) {\n\tvar o = {};\n\tvar vers = o.EncryptionVersionInfo = parse_CRYPTOVersion(blob, 4); length -= 4;\n\tif(vers.Minor != 2) throw new Error('unrecognized minor version code: ' + vers.Minor);\n\tif(vers.Major > 4 || vers.Major < 2) throw new Error('unrecognized major version code: ' + vers.Major);\n\to.Flags = blob.read_shift(4); length -= 4;\n\tvar sz = blob.read_shift(4); length -= 4;\n\to.EncryptionHeader = parse_EncryptionHeader(blob, sz); length -= sz;\n\to.EncryptionVerifier = parse_EncryptionVerifier(blob, length);\n\treturn o;\n}\n/* [MS-OFFCRYPTO] 2.3.6.1 RC4 Encryption Header */\nfunction parse_RC4Header(blob/*::, length*/) {\n\tvar o = {};\n\tvar vers = o.EncryptionVersionInfo = parse_CRYPTOVersion(blob, 4);\n\tif(vers.Major != 1 || vers.Minor != 1) throw 'unrecognized version code ' + vers.Major + ' : ' + vers.Minor;\n\to.Salt = blob.read_shift(16);\n\to.EncryptedVerifier = blob.read_shift(16);\n\to.EncryptedVerifierHash = blob.read_shift(16);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.7.1 Binary Document Password Verifier Derivation */\nfunction crypto_CreatePasswordVerifier_Method1(Password/*:string*/) {\n\tvar Verifier = 0x0000, PasswordArray;\n\tvar PasswordDecoded = _JS2ANSI(Password);\n\tvar len = PasswordDecoded.length + 1, i, PasswordByte;\n\tvar Intermediate1, Intermediate2, Intermediate3;\n\tPasswordArray = new_raw_buf(len);\n\tPasswordArray[0] = PasswordDecoded.length;\n\tfor(i = 1; i != len; ++i) PasswordArray[i] = PasswordDecoded[i-1];\n\tfor(i = len-1; i >= 0; --i) {\n\t\tPasswordByte = PasswordArray[i];\n\t\tIntermediate1 = ((Verifier & 0x4000) === 0x0000) ? 0 : 1;\n\t\tIntermediate2 = (Verifier << 1) & 0x7FFF;\n\t\tIntermediate3 = Intermediate1 | Intermediate2;\n\t\tVerifier = Intermediate3 ^ PasswordByte;\n\t}\n\treturn Verifier ^ 0xCE4B;\n}\n\n/* [MS-OFFCRYPTO] 2.3.7.2 Binary Document XOR Array Initialization */\nvar crypto_CreateXorArray_Method1 = /*#__PURE__*/(function() {\n\tvar PadArray = [0xBB, 0xFF, 0xFF, 0xBA, 0xFF, 0xFF, 0xB9, 0x80, 0x00, 0xBE, 0x0F, 0x00, 0xBF, 0x0F, 0x00];\n\tvar InitialCode = [0xE1F0, 0x1D0F, 0xCC9C, 0x84C0, 0x110C, 0x0E10, 0xF1CE, 0x313E, 0x1872, 0xE139, 0xD40F, 0x84F9, 0x280C, 0xA96A, 0x4EC3];\n\tvar XorMatrix = [0xAEFC, 0x4DD9, 0x9BB2, 0x2745, 0x4E8A, 0x9D14, 0x2A09, 0x7B61, 0xF6C2, 0xFDA5, 0xEB6B, 0xC6F7, 0x9DCF, 0x2BBF, 0x4563, 0x8AC6, 0x05AD, 0x0B5A, 0x16B4, 0x2D68, 0x5AD0, 0x0375, 0x06EA, 0x0DD4, 0x1BA8, 0x3750, 0x6EA0, 0xDD40, 0xD849, 0xA0B3, 0x5147, 0xA28E, 0x553D, 0xAA7A, 0x44D5, 0x6F45, 0xDE8A, 0xAD35, 0x4A4B, 0x9496, 0x390D, 0x721A, 0xEB23, 0xC667, 0x9CEF, 0x29FF, 0x53FE, 0xA7FC, 0x5FD9, 0x47D3, 0x8FA6, 0x0F6D, 0x1EDA, 0x3DB4, 0x7B68, 0xF6D0, 0xB861, 0x60E3, 0xC1C6, 0x93AD, 0x377B, 0x6EF6, 0xDDEC, 0x45A0, 0x8B40, 0x06A1, 0x0D42, 0x1A84, 0x3508, 0x6A10, 0xAA51, 0x4483, 0x8906, 0x022D, 0x045A, 0x08B4, 0x1168, 0x76B4, 0xED68, 0xCAF1, 0x85C3, 0x1BA7, 0x374E, 0x6E9C, 0x3730, 0x6E60, 0xDCC0, 0xA9A1, 0x4363, 0x86C6, 0x1DAD, 0x3331, 0x6662, 0xCCC4, 0x89A9, 0x0373, 0x06E6, 0x0DCC, 0x1021, 0x2042, 0x4084, 0x8108, 0x1231, 0x2462, 0x48C4];\n\tvar Ror = function(Byte) { return ((Byte/2) | (Byte*128)) & 0xFF; };\n\tvar XorRor = function(byte1, byte2) { return Ror(byte1 ^ byte2); };\n\tvar CreateXorKey_Method1 = function(Password) {\n\t\tvar XorKey = InitialCode[Password.length - 1];\n\t\tvar CurrentElement = 0x68;\n\t\tfor(var i = Password.length-1; i >= 0; --i) {\n\t\t\tvar Char = Password[i];\n\t\t\tfor(var j = 0; j != 7; ++j) {\n\t\t\t\tif(Char & 0x40) XorKey ^= XorMatrix[CurrentElement];\n\t\t\t\tChar *= 2; --CurrentElement;\n\t\t\t}\n\t\t}\n\t\treturn XorKey;\n\t};\n\treturn function(password/*:string*/) {\n\t\tvar Password = _JS2ANSI(password);\n\t\tvar XorKey = CreateXorKey_Method1(Password);\n\t\tvar Index = Password.length;\n\t\tvar ObfuscationArray = new_raw_buf(16);\n\t\tfor(var i = 0; i != 16; ++i) ObfuscationArray[i] = 0x00;\n\t\tvar Temp, PasswordLastChar, PadIndex;\n\t\tif((Index & 1) === 1) {\n\t\t\tTemp = XorKey >> 8;\n\t\t\tObfuscationArray[Index] = XorRor(PadArray[0], Temp);\n\t\t\t--Index;\n\t\t\tTemp = XorKey & 0xFF;\n\t\t\tPasswordLastChar = Password[Password.length - 1];\n\t\t\tObfuscationArray[Index] = XorRor(PasswordLastChar, Temp);\n\t\t}\n\t\twhile(Index > 0) {\n\t\t\t--Index;\n\t\t\tTemp = XorKey >> 8;\n\t\t\tObfuscationArray[Index] = XorRor(Password[Index], Temp);\n\t\t\t--Index;\n\t\t\tTemp = XorKey & 0xFF;\n\t\t\tObfuscationArray[Index] = XorRor(Password[Index], Temp);\n\t\t}\n\t\tIndex = 15;\n\t\tPadIndex = 15 - Password.length;\n\t\twhile(PadIndex > 0) {\n\t\t\tTemp = XorKey >> 8;\n\t\t\tObfuscationArray[Index] = XorRor(PadArray[PadIndex], Temp);\n\t\t\t--Index;\n\t\t\t--PadIndex;\n\t\t\tTemp = XorKey & 0xFF;\n\t\t\tObfuscationArray[Index] = XorRor(Password[Index], Temp);\n\t\t\t--Index;\n\t\t\t--PadIndex;\n\t\t}\n\t\treturn ObfuscationArray;\n\t};\n})();\n\n/* [MS-OFFCRYPTO] 2.3.7.3 Binary Document XOR Data Transformation Method 1 */\nvar crypto_DecryptData_Method1 = function(password/*:string*/, Data, XorArrayIndex, XorArray, O) {\n\t/* If XorArray is set, use it; if O is not set, make changes in-place */\n\tif(!O) O = Data;\n\tif(!XorArray) XorArray = crypto_CreateXorArray_Method1(password);\n\tvar Index, Value;\n\tfor(Index = 0; Index != Data.length; ++Index) {\n\t\tValue = Data[Index];\n\t\tValue ^= XorArray[XorArrayIndex];\n\t\tValue = ((Value>>5) | (Value<<3)) & 0xFF;\n\t\tO[Index] = Value;\n\t\t++XorArrayIndex;\n\t}\n\treturn [O, XorArrayIndex, XorArray];\n};\n\nvar crypto_MakeXorDecryptor = function(password/*:string*/) {\n\tvar XorArrayIndex = 0, XorArray = crypto_CreateXorArray_Method1(password);\n\treturn function(Data) {\n\t\tvar O = crypto_DecryptData_Method1(\"\", Data, XorArrayIndex, XorArray);\n\t\tXorArrayIndex = O[1];\n\t\treturn O[0];\n\t};\n};\n\n/* 2.5.343 */\nfunction parse_XORObfuscation(blob, length, opts, out) {\n\tvar o = ({ key: parseuint16(blob), verificationBytes: parseuint16(blob) }/*:any*/);\n\tif(opts.password) o.verifier = crypto_CreatePasswordVerifier_Method1(opts.password);\n\tout.valid = o.verificationBytes === o.verifier;\n\tif(out.valid) out.insitu = crypto_MakeXorDecryptor(opts.password);\n\treturn o;\n}\n\n/* 2.4.117 */\nfunction parse_FilePassHeader(blob, length/*:number*/, oo) {\n\tvar o = oo || {}; o.Info = blob.read_shift(2); blob.l -= 2;\n\tif(o.Info === 1) o.Data = parse_RC4Header(blob, length);\n\telse o.Data = parse_RC4CryptoHeader(blob, length);\n\treturn o;\n}\nfunction parse_FilePass(blob, length/*:number*/, opts) {\n\tvar o = ({ Type: opts.biff >= 8 ? blob.read_shift(2) : 0 }/*:any*/); /* wEncryptionType */\n\tif(o.Type) parse_FilePassHeader(blob, length-2, o);\n\telse parse_XORObfuscation(blob, opts.biff >= 8 ? length : length - 2, opts, o);\n\treturn o;\n}\n\n\nvar RTF = /*#__PURE__*/(function() {\n\tfunction rtf_to_sheet(d/*:RawData*/, opts)/*:Worksheet*/ {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return rtf_to_sheet_str(Base64_decode(d), opts);\n\t\t\tcase 'binary': return rtf_to_sheet_str(d, opts);\n\t\t\tcase 'buffer': return rtf_to_sheet_str(has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d), opts);\n\t\t\tcase 'array':  return rtf_to_sheet_str(cc2str(d), opts);\n\t\t}\n\t\tthrow new Error(\"Unrecognized type \" + opts.type);\n\t}\n\n\t/* TODO: this is a stub */\n\tfunction rtf_to_sheet_str(str/*:string*/, opts)/*:Worksheet*/ {\n\t\tvar o = opts || {};\n\t\tvar ws/*:Worksheet*/ = o.dense ? ([]/*:any*/) : ({}/*:any*/);\n\n\t\tvar rows = str.match(/\\\\trowd.*?\\\\row\\b/g);\n\t\tif(!rows.length) throw new Error(\"RTF missing table\");\n\t\tvar range/*:Range*/ = ({s: {c:0, r:0}, e: {c:0, r:rows.length - 1}}/*:any*/);\n\t\trows.forEach(function(rowtf, R) {\n\t\t\tif(Array.isArray(ws)) ws[R] = [];\n\t\t\tvar rtfre = /\\\\\\w+\\b/g;\n\t\t\tvar last_index = 0;\n\t\t\tvar res;\n\t\t\tvar C = -1;\n\t\t\twhile((res = rtfre.exec(rowtf))) {\n\t\t\t\tswitch(res[0]) {\n\t\t\t\t\tcase \"\\\\cell\":\n\t\t\t\t\t\tvar data = rowtf.slice(last_index, rtfre.lastIndex - res[0].length);\n\t\t\t\t\t\tif(data[0] == \" \") data = data.slice(1);\n\t\t\t\t\t\t++C;\n\t\t\t\t\t\tif(data.length) {\n\t\t\t\t\t\t\t// TODO: value parsing, including codepage adjustments\n\t\t\t\t\t\t\tvar cell = {v: data, t:\"s\"};\n\t\t\t\t\t\t\tif(Array.isArray(ws)) ws[R][C] = cell;\n\t\t\t\t\t\t\telse ws[encode_cell({r:R, c:C})] = cell;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlast_index = rtfre.lastIndex;\n\t\t\t}\n\t\t\tif(C > range.e.c) range.e.c = C;\n\t\t});\n\t\tws['!ref'] = encode_range(range);\n\t\treturn ws;\n\t}\n\n\tfunction rtf_to_workbook(d/*:RawData*/, opts)/*:Workbook*/ { return sheet_to_workbook(rtf_to_sheet(d, opts), opts); }\n\n\t/* TODO: this is a stub */\n\tfunction sheet_to_rtf(ws/*:Worksheet*//*::, opts*/)/*:string*/ {\n\t\tvar o = [\"{\\\\rtf1\\\\ansi\"];\n\t\tvar r = safe_decode_range(ws['!ref']), cell/*:Cell*/;\n\t\tvar dense = Array.isArray(ws);\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\to.push(\"\\\\trowd\\\\trautofit1\");\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) o.push(\"\\\\cellx\" + (C+1));\n\t\t\to.push(\"\\\\pard\\\\intbl\");\n\t\t\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tvar coord = encode_cell({r:R,c:C});\n\t\t\t\tcell = dense ? (ws[R]||[])[C]: ws[coord];\n\t\t\t\tif(!cell || cell.v == null && (!cell.f || cell.F)) continue;\n\t\t\t\to.push(\" \" + (cell.w || (format_cell(cell), cell.w)));\n\t\t\t\to.push(\"\\\\cell\");\n\t\t\t}\n\t\t\to.push(\"\\\\pard\\\\intbl\\\\row\");\n\t\t}\n\t\treturn o.join(\"\") + \"}\";\n\t}\n\n\treturn {\n\t\tto_workbook: rtf_to_workbook,\n\t\tto_sheet: rtf_to_sheet,\n\t\tfrom_sheet: sheet_to_rtf\n\t};\n})();\nfunction hex2RGB(h) {\n\tvar o = h.slice(h[0]===\"#\"?1:0).slice(0,6);\n\treturn [parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16)];\n}\nfunction rgb2Hex(rgb) {\n\tfor(var i=0,o=1; i!=3; ++i) o = o*256 + (rgb[i]>255?255:rgb[i]<0?0:rgb[i]);\n\treturn o.toString(16).toUpperCase().slice(1);\n}\n\nfunction rgb2HSL(rgb) {\n\tvar R = rgb[0]/255, G = rgb[1]/255, B=rgb[2]/255;\n\tvar M = Math.max(R, G, B), m = Math.min(R, G, B), C = M - m;\n\tif(C === 0) return [0, 0, R];\n\n\tvar H6 = 0, S = 0, L2 = (M + m);\n\tS = C / (L2 > 1 ? 2 - L2 : L2);\n\tswitch(M){\n\t\tcase R: H6 = ((G - B) / C + 6)%6; break;\n\t\tcase G: H6 = ((B - R) / C + 2); break;\n\t\tcase B: H6 = ((R - G) / C + 4); break;\n\t}\n\treturn [H6 / 6, S, L2 / 2];\n}\n\nfunction hsl2RGB(hsl){\n\tvar H = hsl[0], S = hsl[1], L = hsl[2];\n\tvar C = S * 2 * (L < 0.5 ? L : 1 - L), m = L - C/2;\n\tvar rgb = [m,m,m], h6 = 6*H;\n\n\tvar X;\n\tif(S !== 0) switch(h6|0) {\n\t\tcase 0: case 6: X = C * h6; rgb[0] += C; rgb[1] += X; break;\n\t\tcase 1: X = C * (2 - h6);   rgb[0] += X; rgb[1] += C; break;\n\t\tcase 2: X = C * (h6 - 2);   rgb[1] += C; rgb[2] += X; break;\n\t\tcase 3: X = C * (4 - h6);   rgb[1] += X; rgb[2] += C; break;\n\t\tcase 4: X = C * (h6 - 4);   rgb[2] += C; rgb[0] += X; break;\n\t\tcase 5: X = C * (6 - h6);   rgb[2] += X; rgb[0] += C; break;\n\t}\n\tfor(var i = 0; i != 3; ++i) rgb[i] = Math.round(rgb[i]*255);\n\treturn rgb;\n}\n\n/* 18.8.3 bgColor tint algorithm */\nfunction rgb_tint(hex, tint) {\n\tif(tint === 0) return hex;\n\tvar hsl = rgb2HSL(hex2RGB(hex));\n\tif (tint < 0) hsl[2] = hsl[2] * (1 + tint);\n\telse hsl[2] = 1 - (1 - hsl[2]) * (1 - tint);\n\treturn rgb2Hex(hsl2RGB(hsl));\n}\n\n/* 18.3.1.13 width calculations */\n/* [MS-OI29500] 2.1.595 Column Width & Formatting */\nvar DEF_MDW = 6, MAX_MDW = 15, MIN_MDW = 1, MDW = DEF_MDW;\nfunction width2px(width) { return Math.floor(( width + (Math.round(128/MDW))/256 )* MDW ); }\nfunction px2char(px) { return (Math.floor((px - 5)/MDW * 100 + 0.5))/100; }\nfunction char2width(chr) { return (Math.round((chr * MDW + 5)/MDW*256))/256; }\n//function px2char_(px) { return (((px - 5)/MDW * 100 + 0.5))/100; }\n//function char2width_(chr) { return (((chr * MDW + 5)/MDW*256))/256; }\nfunction cycle_width(collw) { return char2width(px2char(width2px(collw))); }\n/* XLSX/XLSB/XLS specify width in units of MDW */\nfunction find_mdw_colw(collw) {\n\tvar delta = Math.abs(collw - cycle_width(collw)), _MDW = MDW;\n\tif(delta > 0.005) for(MDW=MIN_MDW; MDW<MAX_MDW; ++MDW) if(Math.abs(collw - cycle_width(collw)) <= delta) { delta = Math.abs(collw - cycle_width(collw)); _MDW = MDW; }\n\tMDW = _MDW;\n}\n/* XLML specifies width in terms of pixels */\n/*function find_mdw_wpx(wpx) {\n\tvar delta = Infinity, guess = 0, _MDW = MIN_MDW;\n\tfor(MDW=MIN_MDW; MDW<MAX_MDW; ++MDW) {\n\t\tguess = char2width_(px2char_(wpx))*256;\n\t\tguess = (guess) % 1;\n\t\tif(guess > 0.5) guess--;\n\t\tif(Math.abs(guess) < delta) { delta = Math.abs(guess); _MDW = MDW; }\n\t}\n\tMDW = _MDW;\n}*/\n\nfunction process_col(coll/*:ColInfo*/) {\n\tif(coll.width) {\n\t\tcoll.wpx = width2px(coll.width);\n\t\tcoll.wch = px2char(coll.wpx);\n\t\tcoll.MDW = MDW;\n\t} else if(coll.wpx) {\n\t\tcoll.wch = px2char(coll.wpx);\n\t\tcoll.width = char2width(coll.wch);\n\t\tcoll.MDW = MDW;\n\t} else if(typeof coll.wch == 'number') {\n\t\tcoll.width = char2width(coll.wch);\n\t\tcoll.wpx = width2px(coll.width);\n\t\tcoll.MDW = MDW;\n\t}\n\tif(coll.customWidth) delete coll.customWidth;\n}\n\nvar DEF_PPI = 96, PPI = DEF_PPI;\nfunction px2pt(px) { return px * 96 / PPI; }\nfunction pt2px(pt) { return pt * PPI / 96; }\n\n/* [MS-EXSPXML3] 2.4.54 ST_enmPattern */\nvar XLMLPatternTypeMap = {\n\t\"None\": \"none\",\n\t\"Solid\": \"solid\",\n\t\"Gray50\": \"mediumGray\",\n\t\"Gray75\": \"darkGray\",\n\t\"Gray25\": \"lightGray\",\n\t\"HorzStripe\": \"darkHorizontal\",\n\t\"VertStripe\": \"darkVertical\",\n\t\"ReverseDiagStripe\": \"darkDown\",\n\t\"DiagStripe\": \"darkUp\",\n\t\"DiagCross\": \"darkGrid\",\n\t\"ThickDiagCross\": \"darkTrellis\",\n\t\"ThinHorzStripe\": \"lightHorizontal\",\n\t\"ThinVertStripe\": \"lightVertical\",\n\t\"ThinReverseDiagStripe\": \"lightDown\",\n\t\"ThinHorzCross\": \"lightGrid\"\n};\n\n/* 18.8.5 borders CT_Borders */\nfunction parse_borders(t, styles, themes, opts) {\n\tstyles.Borders = [];\n\tvar border = {};\n\tvar pass = false;\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<borders': case '<borders>': case '</borders>': break;\n\n\t\t\t/* 18.8.4 border CT_Border */\n\t\t\tcase '<border': case '<border>': case '<border/>':\n\t\t\t\tborder = /*::(*/{}/*:: :any)*/;\n\t\t\t\tif(y.diagonalUp) border.diagonalUp = parsexmlbool(y.diagonalUp);\n\t\t\t\tif(y.diagonalDown) border.diagonalDown = parsexmlbool(y.diagonalDown);\n\t\t\t\tstyles.Borders.push(border);\n\t\t\t\tbreak;\n\t\t\tcase '</border>': break;\n\n\t\t\t/* note: not in spec, appears to be CT_BorderPr */\n\t\t\tcase '<left/>': break;\n\t\t\tcase '<left': case '<left>': break;\n\t\t\tcase '</left>': break;\n\n\t\t\t/* note: not in spec, appears to be CT_BorderPr */\n\t\t\tcase '<right/>': break;\n\t\t\tcase '<right': case '<right>': break;\n\t\t\tcase '</right>': break;\n\n\t\t\t/* 18.8.43 top CT_BorderPr */\n\t\t\tcase '<top/>': break;\n\t\t\tcase '<top': case '<top>': break;\n\t\t\tcase '</top>': break;\n\n\t\t\t/* 18.8.6 bottom CT_BorderPr */\n\t\t\tcase '<bottom/>': break;\n\t\t\tcase '<bottom': case '<bottom>': break;\n\t\t\tcase '</bottom>': break;\n\n\t\t\t/* 18.8.13 diagonal CT_BorderPr */\n\t\t\tcase '<diagonal': case '<diagonal>': case '<diagonal/>': break;\n\t\t\tcase '</diagonal>': break;\n\n\t\t\t/* 18.8.25 horizontal CT_BorderPr */\n\t\t\tcase '<horizontal': case '<horizontal>': case '<horizontal/>': break;\n\t\t\tcase '</horizontal>': break;\n\n\t\t\t/* 18.8.44 vertical CT_BorderPr */\n\t\t\tcase '<vertical': case '<vertical>': case '<vertical/>': break;\n\t\t\tcase '</vertical>': break;\n\n\t\t\t/* 18.8.37 start CT_BorderPr */\n\t\t\tcase '<start': case '<start>': case '<start/>': break;\n\t\t\tcase '</start>': break;\n\n\t\t\t/* 18.8.16 end CT_BorderPr */\n\t\t\tcase '<end': case '<end>': case '<end/>': break;\n\t\t\tcase '</end>': break;\n\n\t\t\t/* 18.8.? color CT_Color */\n\t\t\tcase '<color': case '<color>':\n\t\t\t\tbreak;\n\t\t\tcase '<color/>': case '</color>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in borders');\n\t\t\t}\n\t\t}\n\t});\n}\n\n/* 18.8.21 fills CT_Fills */\nfunction parse_fills(t, styles, themes, opts) {\n\tstyles.Fills = [];\n\tvar fill = {};\n\tvar pass = false;\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<fills': case '<fills>': case '</fills>': break;\n\n\t\t\t/* 18.8.20 fill CT_Fill */\n\t\t\tcase '<fill>': case '<fill': case '<fill/>':\n\t\t\t\tfill = {}; styles.Fills.push(fill); break;\n\t\t\tcase '</fill>': break;\n\n\t\t\t/* 18.8.24 gradientFill CT_GradientFill */\n\t\t\tcase '<gradientFill>': break;\n\t\t\tcase '<gradientFill':\n\t\t\tcase '</gradientFill>': styles.Fills.push(fill); fill = {}; break;\n\n\t\t\t/* 18.8.32 patternFill CT_PatternFill */\n\t\t\tcase '<patternFill': case '<patternFill>':\n\t\t\t\tif(y.patternType) fill.patternType = y.patternType;\n\t\t\t\tbreak;\n\t\t\tcase '<patternFill/>': case '</patternFill>': break;\n\n\t\t\t/* 18.8.3 bgColor CT_Color */\n\t\t\tcase '<bgColor':\n\t\t\t\tif(!fill.bgColor) fill.bgColor = {};\n\t\t\t\tif(y.indexed) fill.bgColor.indexed = parseInt(y.indexed, 10);\n\t\t\t\tif(y.theme) fill.bgColor.theme = parseInt(y.theme, 10);\n\t\t\t\tif(y.tint) fill.bgColor.tint = parseFloat(y.tint);\n\t\t\t\t/* Excel uses ARGB strings */\n\t\t\t\tif(y.rgb) fill.bgColor.rgb = y.rgb.slice(-6);\n\t\t\t\tbreak;\n\t\t\tcase '<bgColor/>': case '</bgColor>': break;\n\n\t\t\t/* 18.8.19 fgColor CT_Color */\n\t\t\tcase '<fgColor':\n\t\t\t\tif(!fill.fgColor) fill.fgColor = {};\n\t\t\t\tif(y.theme) fill.fgColor.theme = parseInt(y.theme, 10);\n\t\t\t\tif(y.tint) fill.fgColor.tint = parseFloat(y.tint);\n\t\t\t\t/* Excel uses ARGB strings */\n\t\t\t\tif(y.rgb != null) fill.fgColor.rgb = y.rgb.slice(-6);\n\t\t\t\tbreak;\n\t\t\tcase '<fgColor/>': case '</fgColor>': break;\n\n\t\t\t/* 18.8.38 stop CT_GradientStop */\n\t\t\tcase '<stop': case '<stop/>': break;\n\t\t\tcase '</stop>': break;\n\n\t\t\t/* 18.8.? color CT_Color */\n\t\t\tcase '<color': case '<color/>': break;\n\t\t\tcase '</color>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in fills');\n\t\t\t}\n\t\t}\n\t});\n}\n\n/* 18.8.23 fonts CT_Fonts */\nfunction parse_fonts(t, styles, themes, opts) {\n\tstyles.Fonts = [];\n\tvar font = {};\n\tvar pass = false;\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<fonts': case '<fonts>': case '</fonts>': break;\n\n\t\t\t/* 18.8.22 font CT_Font */\n\t\t\tcase '<font': case '<font>': break;\n\t\t\tcase '</font>': case '<font/>':\n\t\t\t\tstyles.Fonts.push(font);\n\t\t\t\tfont = {};\n\t\t\t\tbreak;\n\n\t\t\t/* 18.8.29 name CT_FontName */\n\t\t\tcase '<name': if(y.val) font.name = utf8read(y.val); break;\n\t\t\tcase '<name/>': case '</name>': break;\n\n\t\t\t/* 18.8.2  b CT_BooleanProperty */\n\t\t\tcase '<b': font.bold = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<b/>': font.bold = 1; break;\n\n\t\t\t/* 18.8.26 i CT_BooleanProperty */\n\t\t\tcase '<i': font.italic = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<i/>': font.italic = 1; break;\n\n\t\t\t/* 18.4.13 u CT_UnderlineProperty */\n\t\t\tcase '<u':\n\t\t\t\tswitch(y.val) {\n\t\t\t\t\tcase \"none\": font.underline = 0x00; break;\n\t\t\t\t\tcase \"single\": font.underline = 0x01; break;\n\t\t\t\t\tcase \"double\": font.underline = 0x02; break;\n\t\t\t\t\tcase \"singleAccounting\": font.underline = 0x21; break;\n\t\t\t\t\tcase \"doubleAccounting\": font.underline = 0x22; break;\n\t\t\t\t} break;\n\t\t\tcase '<u/>': font.underline = 1; break;\n\n\t\t\t/* 18.4.10 strike CT_BooleanProperty */\n\t\t\tcase '<strike': font.strike = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<strike/>': font.strike = 1; break;\n\n\t\t\t/* 18.4.2  outline CT_BooleanProperty */\n\t\t\tcase '<outline': font.outline = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<outline/>': font.outline = 1; break;\n\n\t\t\t/* 18.8.36 shadow CT_BooleanProperty */\n\t\t\tcase '<shadow': font.shadow = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<shadow/>': font.shadow = 1; break;\n\n\t\t\t/* 18.8.12 condense CT_BooleanProperty */\n\t\t\tcase '<condense': font.condense = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<condense/>': font.condense = 1; break;\n\n\t\t\t/* 18.8.17 extend CT_BooleanProperty */\n\t\t\tcase '<extend': font.extend = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<extend/>': font.extend = 1; break;\n\n\t\t\t/* 18.4.11 sz CT_FontSize */\n\t\t\tcase '<sz': if(y.val) font.sz = +y.val; break;\n\t\t\tcase '<sz/>': case '</sz>': break;\n\n\t\t\t/* 18.4.14 vertAlign CT_VerticalAlignFontProperty */\n\t\t\tcase '<vertAlign': if(y.val) font.vertAlign = y.val; break;\n\t\t\tcase '<vertAlign/>': case '</vertAlign>': break;\n\n\t\t\t/* 18.8.18 family CT_FontFamily */\n\t\t\tcase '<family': if(y.val) font.family = parseInt(y.val,10); break;\n\t\t\tcase '<family/>': case '</family>': break;\n\n\t\t\t/* 18.8.35 scheme CT_FontScheme */\n\t\t\tcase '<scheme': if(y.val) font.scheme = y.val; break;\n\t\t\tcase '<scheme/>': case '</scheme>': break;\n\n\t\t\t/* 18.4.1 charset CT_IntProperty */\n\t\t\tcase '<charset':\n\t\t\t\tif(y.val == '1') break;\n\t\t\t\ty.codepage = CS2CP[parseInt(y.val, 10)];\n\t\t\t\tbreak;\n\n\t\t\t/* 18.?.? color CT_Color */\n\t\t\tcase '<color':\n\t\t\t\tif(!font.color) font.color = {};\n\t\t\t\tif(y.auto) font.color.auto = parsexmlbool(y.auto);\n\n\t\t\t\tif(y.rgb) font.color.rgb = y.rgb.slice(-6);\n\t\t\t\telse if(y.indexed) {\n\t\t\t\t\tfont.color.index = parseInt(y.indexed, 10);\n\t\t\t\t\tvar icv = XLSIcv[font.color.index];\n\t\t\t\t\tif(font.color.index == 81) icv = XLSIcv[1];\n\t\t\t\t\tif(!icv) icv = XLSIcv[1]; //throw new Error(x); // note: 206 is valid\n\t\t\t\t\tfont.color.rgb = icv[0].toString(16) + icv[1].toString(16) + icv[2].toString(16);\n\t\t\t\t} else if(y.theme) {\n\t\t\t\t\tfont.color.theme = parseInt(y.theme, 10);\n\t\t\t\t\tif(y.tint) font.color.tint = parseFloat(y.tint);\n\t\t\t\t\tif(y.theme && themes.themeElements && themes.themeElements.clrScheme) {\n\t\t\t\t\t\tfont.color.rgb = rgb_tint(themes.themeElements.clrScheme[font.color.theme].rgb, font.color.tint || 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase '<color/>': case '</color>': break;\n\n\t\t\t/* note: sometimes mc:AlternateContent appears bare */\n\t\t\tcase '<AlternateContent': pass = true; break;\n\t\t\tcase '</AlternateContent>': pass = false; break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in fonts');\n\t\t\t}\n\t\t}\n\t});\n}\n\n/* 18.8.31 numFmts CT_NumFmts */\nfunction parse_numFmts(t, styles, opts) {\n\tstyles.NumberFmt = [];\n\tvar k/*Array<number>*/ = (keys(table_fmt)/*:any*/);\n\tfor(var i=0; i < k.length; ++i) styles.NumberFmt[k[i]] = table_fmt[k[i]];\n\tvar m = t[0].match(tagregex);\n\tif(!m) return;\n\tfor(i=0; i < m.length; ++i) {\n\t\tvar y = parsexmltag(m[i]);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<numFmts': case '</numFmts>': case '<numFmts/>': case '<numFmts>': break;\n\t\t\tcase '<numFmt': {\n\t\t\t\tvar f=unescapexml(utf8read(y.formatCode)), j=parseInt(y.numFmtId,10);\n\t\t\t\tstyles.NumberFmt[j] = f;\n\t\t\t\tif(j>0) {\n\t\t\t\t\tif(j > 0x188) {\n\t\t\t\t\t\tfor(j = 0x188; j > 0x3c; --j) if(styles.NumberFmt[j] == null) break;\n\t\t\t\t\t\tstyles.NumberFmt[j] = f;\n\t\t\t\t\t}\n\t\t\t\t\tSSF_load(f,j);\n\t\t\t\t}\n\t\t\t} break;\n\t\t\tcase '</numFmt>': break;\n\t\t\tdefault: if(opts.WTF) throw new Error('unrecognized ' + y[0] + ' in numFmts');\n\t\t}\n\t}\n}\n\nfunction write_numFmts(NF/*:{[n:number|string]:string}*//*::, opts*/) {\n\tvar o = [\"<numFmts>\"];\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) o[o.length] = (writextag('numFmt',null,{numFmtId:i,formatCode:escapexml(NF[i])}));\n\t});\n\tif(o.length === 1) return \"\";\n\to[o.length] = (\"</numFmts>\");\n\to[0] = writextag('numFmts', null, { count:o.length-2 }).replace(\"/>\", \">\");\n\treturn o.join(\"\");\n}\n\n/* 18.8.10 cellXfs CT_CellXfs */\nvar cellXF_uint = [ \"numFmtId\", \"fillId\", \"fontId\", \"borderId\", \"xfId\" ];\nvar cellXF_bool = [ \"applyAlignment\", \"applyBorder\", \"applyFill\", \"applyFont\", \"applyNumberFormat\", \"applyProtection\", \"pivotButton\", \"quotePrefix\" ];\nfunction parse_cellXfs(t, styles, opts) {\n\tstyles.CellXf = [];\n\tvar xf;\n\tvar pass = false;\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x), i = 0;\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<cellXfs': case '<cellXfs>': case '<cellXfs/>': case '</cellXfs>': break;\n\n\t\t\t/* 18.8.45 xf CT_Xf */\n\t\t\tcase '<xf': case '<xf/>':\n\t\t\t\txf = y;\n\t\t\t\tdelete xf[0];\n\t\t\t\tfor(i = 0; i < cellXF_uint.length; ++i) if(xf[cellXF_uint[i]])\n\t\t\t\t\txf[cellXF_uint[i]] = parseInt(xf[cellXF_uint[i]], 10);\n\t\t\t\tfor(i = 0; i < cellXF_bool.length; ++i) if(xf[cellXF_bool[i]])\n\t\t\t\t\txf[cellXF_bool[i]] = parsexmlbool(xf[cellXF_bool[i]]);\n\t\t\t\tif(styles.NumberFmt && xf.numFmtId > 0x188) {\n\t\t\t\t\tfor(i = 0x188; i > 0x3c; --i) if(styles.NumberFmt[xf.numFmtId] == styles.NumberFmt[i]) { xf.numFmtId = i; break; }\n\t\t\t\t}\n\t\t\t\tstyles.CellXf.push(xf); break;\n\t\t\tcase '</xf>': break;\n\n\t\t\t/* 18.8.1 alignment CT_CellAlignment */\n\t\t\tcase '<alignment': case '<alignment/>':\n\t\t\t\tvar alignment = {};\n\t\t\t\tif(y.vertical) alignment.vertical = y.vertical;\n\t\t\t\tif(y.horizontal) alignment.horizontal = y.horizontal;\n\t\t\t\tif(y.textRotation != null) alignment.textRotation = y.textRotation;\n\t\t\t\tif(y.indent) alignment.indent = y.indent;\n\t\t\t\tif(y.wrapText) alignment.wrapText = parsexmlbool(y.wrapText);\n\t\t\t\txf.alignment = alignment;\n\t\t\t\tbreak;\n\t\t\tcase '</alignment>': break;\n\n\t\t\t/* 18.8.33 protection CT_CellProtection */\n\t\t\tcase '<protection':\n\t\t\t\tbreak;\n\t\t\tcase '</protection>': case '<protection/>': break;\n\n\t\t\t/* note: sometimes mc:AlternateContent appears bare */\n\t\t\tcase '<AlternateContent': pass = true; break;\n\t\t\tcase '</AlternateContent>': pass = false; break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in cellXfs');\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction write_cellXfs(cellXfs)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\to[o.length] = (writextag('cellXfs',null));\n\tcellXfs.forEach(function(c) {\n\t\to[o.length] = (writextag('xf', null, c));\n\t});\n\to[o.length] = (\"</cellXfs>\");\n\tif(o.length === 2) return \"\";\n\to[0] = writextag('cellXfs',null, {count:o.length-2}).replace(\"/>\",\">\");\n\treturn o.join(\"\");\n}\n\n/* 18.8 Styles CT_Stylesheet*/\nvar parse_sty_xml= /*#__PURE__*/(function make_pstyx() {\nvar numFmtRegex = /<(?:\\w+:)?numFmts([^>]*)>[\\S\\s]*?<\\/(?:\\w+:)?numFmts>/;\nvar cellXfRegex = /<(?:\\w+:)?cellXfs([^>]*)>[\\S\\s]*?<\\/(?:\\w+:)?cellXfs>/;\nvar fillsRegex = /<(?:\\w+:)?fills([^>]*)>[\\S\\s]*?<\\/(?:\\w+:)?fills>/;\nvar fontsRegex = /<(?:\\w+:)?fonts([^>]*)>[\\S\\s]*?<\\/(?:\\w+:)?fonts>/;\nvar bordersRegex = /<(?:\\w+:)?borders([^>]*)>[\\S\\s]*?<\\/(?:\\w+:)?borders>/;\n\nreturn function parse_sty_xml(data, themes, opts) {\n\tvar styles = {};\n\tif(!data) return styles;\n\tdata = data.replace(/<!--([\\s\\S]*?)-->/mg,\"\").replace(/<!DOCTYPE[^\\[]*\\[[^\\]]*\\]>/gm,\"\");\n\t/* 18.8.39 styleSheet CT_Stylesheet */\n\tvar t;\n\n\t/* 18.8.31 numFmts CT_NumFmts ? */\n\tif((t=data.match(numFmtRegex))) parse_numFmts(t, styles, opts);\n\n\t/* 18.8.23 fonts CT_Fonts ? */\n\tif((t=data.match(fontsRegex))) parse_fonts(t, styles, themes, opts);\n\n\t/* 18.8.21 fills CT_Fills ? */\n\tif((t=data.match(fillsRegex))) parse_fills(t, styles, themes, opts);\n\n\t/* 18.8.5  borders CT_Borders ? */\n\tif((t=data.match(bordersRegex))) parse_borders(t, styles, themes, opts);\n\n\t/* 18.8.9  cellStyleXfs CT_CellStyleXfs ? */\n\t/* 18.8.8  cellStyles CT_CellStyles ? */\n\n\t/* 18.8.10 cellXfs CT_CellXfs ? */\n\tif((t=data.match(cellXfRegex))) parse_cellXfs(t, styles, opts);\n\n\t/* 18.8.15 dxfs CT_Dxfs ? */\n\t/* 18.8.42 tableStyles CT_TableStyles ? */\n\t/* 18.8.11 colors CT_Colors ? */\n\t/* 18.2.10 extLst CT_ExtensionList ? */\n\n\treturn styles;\n};\n})();\n\nfunction write_sty_xml(wb/*:Workbook*/, opts)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('styleSheet', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t'xmlns:vt': XMLNS.vt\n\t})], w;\n\tif(wb.SSF && (w = write_numFmts(wb.SSF)) != null) o[o.length] = w;\n\to[o.length] = ('<fonts count=\"1\"><font><sz val=\"12\"/><color theme=\"1\"/><name val=\"Calibri\"/><family val=\"2\"/><scheme val=\"minor\"/></font></fonts>');\n\to[o.length] = ('<fills count=\"2\"><fill><patternFill patternType=\"none\"/></fill><fill><patternFill patternType=\"gray125\"/></fill></fills>');\n\to[o.length] = ('<borders count=\"1\"><border><left/><right/><top/><bottom/><diagonal/></border></borders>');\n\to[o.length] = ('<cellStyleXfs count=\"1\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\"/></cellStyleXfs>');\n\tif((w = write_cellXfs(opts.cellXfs))) o[o.length] = (w);\n\to[o.length] = ('<cellStyles count=\"1\"><cellStyle name=\"Normal\" xfId=\"0\" builtinId=\"0\"/></cellStyles>');\n\to[o.length] = ('<dxfs count=\"0\"/>');\n\to[o.length] = ('<tableStyles count=\"0\" defaultTableStyle=\"TableStyleMedium9\" defaultPivotStyle=\"PivotStyleMedium4\"/>');\n\n\tif(o.length>2){ o[o.length] = ('</styleSheet>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.657 BrtFmt */\nfunction parse_BrtFmt(data, length/*:number*/) {\n\tvar numFmtId = data.read_shift(2);\n\tvar stFmtCode = parse_XLWideString(data,length-2);\n\treturn [numFmtId, stFmtCode];\n}\nfunction write_BrtFmt(i/*:number*/, f/*:string*/, o) {\n\tif(!o) o = new_buf(6 + 4 * f.length);\n\to.write_shift(2, i);\n\twrite_XLWideString(f, o);\n\tvar out = (o.length > o.l) ? o.slice(0, o.l) : o;\n\tif(o.l == null) o.l = o.length;\n\treturn out;\n}\n\n/* [MS-XLSB] 2.4.659 BrtFont TODO */\nfunction parse_BrtFont(data, length/*:number*/, opts) {\n\tvar out = ({}/*:any*/);\n\n\tout.sz = data.read_shift(2) / 20;\n\n\tvar grbit = parse_FontFlags(data, 2, opts);\n\tif(grbit.fItalic) out.italic = 1;\n\tif(grbit.fCondense) out.condense = 1;\n\tif(grbit.fExtend) out.extend = 1;\n\tif(grbit.fShadow) out.shadow = 1;\n\tif(grbit.fOutline) out.outline = 1;\n\tif(grbit.fStrikeout) out.strike = 1;\n\n\tvar bls = data.read_shift(2);\n\tif(bls === 0x02BC) out.bold = 1;\n\n\tswitch(data.read_shift(2)) {\n\t\t/* case 0: out.vertAlign = \"baseline\"; break; */\n\t\tcase 1: out.vertAlign = \"superscript\"; break;\n\t\tcase 2: out.vertAlign = \"subscript\"; break;\n\t}\n\n\tvar underline = data.read_shift(1);\n\tif(underline != 0) out.underline = underline;\n\n\tvar family = data.read_shift(1);\n\tif(family > 0) out.family = family;\n\n\tvar bCharSet = data.read_shift(1);\n\tif(bCharSet > 0) out.charset = bCharSet;\n\n\tdata.l++;\n\tout.color = parse_BrtColor(data, 8);\n\n\tswitch(data.read_shift(1)) {\n\t\t/* case 0: out.scheme = \"none\": break; */\n\t\tcase 1: out.scheme = \"major\"; break;\n\t\tcase 2: out.scheme = \"minor\"; break;\n\t}\n\n\tout.name = parse_XLWideString(data, length - 21);\n\n\treturn out;\n}\nfunction write_BrtFont(font/*:any*/, o) {\n\tif(!o) o = new_buf(25+4*32);\n\to.write_shift(2, font.sz * 20);\n\twrite_FontFlags(font, o);\n\to.write_shift(2, font.bold ? 0x02BC : 0x0190);\n\tvar sss = 0;\n\tif(font.vertAlign == \"superscript\") sss = 1;\n\telse if(font.vertAlign == \"subscript\") sss = 2;\n\to.write_shift(2, sss);\n\to.write_shift(1, font.underline || 0);\n\to.write_shift(1, font.family || 0);\n\to.write_shift(1, font.charset || 0);\n\to.write_shift(1, 0);\n\twrite_BrtColor(font.color, o);\n\tvar scheme = 0;\n\tif(font.scheme == \"major\") scheme = 1;\n\tif(font.scheme == \"minor\") scheme = 2;\n\to.write_shift(1, scheme);\n\twrite_XLWideString(font.name, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.650 BrtFill */\nvar XLSBFillPTNames = [\n\t\"none\",\n\t\"solid\",\n\t\"mediumGray\",\n\t\"darkGray\",\n\t\"lightGray\",\n\t\"darkHorizontal\",\n\t\"darkVertical\",\n\t\"darkDown\",\n\t\"darkUp\",\n\t\"darkGrid\",\n\t\"darkTrellis\",\n\t\"lightHorizontal\",\n\t\"lightVertical\",\n\t\"lightDown\",\n\t\"lightUp\",\n\t\"lightGrid\",\n\t\"lightTrellis\",\n\t\"gray125\",\n\t\"gray0625\"\n];\nvar rev_XLSBFillPTNames/*:EvertNumType*/;\n/* TODO: gradient fill representation */\nvar parse_BrtFill = parsenoop;\nfunction write_BrtFill(fill, o) {\n\tif(!o) o = new_buf(4*3 + 8*7 + 16*1);\n\tif(!rev_XLSBFillPTNames) rev_XLSBFillPTNames = (evert(XLSBFillPTNames)/*:any*/);\n\tvar fls/*:number*/ = rev_XLSBFillPTNames[fill.patternType];\n\tif(fls == null) fls = 0x28;\n\to.write_shift(4, fls);\n\tvar j = 0;\n\tif(fls != 0x28) {\n\t\t/* TODO: custom FG Color */\n\t\twrite_BrtColor({auto:1}, o);\n\t\t/* TODO: custom BG Color */\n\t\twrite_BrtColor({auto:1}, o);\n\n\t\tfor(; j < 12; ++j) o.write_shift(4, 0);\n\t} else {\n\t\tfor(; j < 4; ++j) o.write_shift(4, 0);\n\n\t\tfor(; j < 12; ++j) o.write_shift(4, 0); /* TODO */\n\t\t/* iGradientType */\n\t\t/* xnumDegree */\n\t\t/* xnumFillToLeft */\n\t\t/* xnumFillToRight */\n\t\t/* xnumFillToTop */\n\t\t/* xnumFillToBottom */\n\t\t/* cNumStop */\n\t\t/* xfillGradientStop */\n\t}\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.824 BrtXF */\nfunction parse_BrtXF(data, length/*:number*/) {\n\tvar tgt = data.l + length;\n\tvar ixfeParent = data.read_shift(2);\n\tvar ifmt = data.read_shift(2);\n\tdata.l = tgt;\n\treturn {ixfe:ixfeParent, numFmtId:ifmt };\n}\nfunction write_BrtXF(data, ixfeP, o) {\n\tif(!o) o = new_buf(16);\n\to.write_shift(2, ixfeP||0);\n\to.write_shift(2, data.numFmtId||0);\n\to.write_shift(2, 0); /* iFont */\n\to.write_shift(2, 0); /* iFill */\n\to.write_shift(2, 0); /* ixBorder */\n\to.write_shift(1, 0); /* trot */\n\to.write_shift(1, 0); /* indent */\n\tvar flow = 0;\n\to.write_shift(1, flow); /* flags */\n\to.write_shift(1, 0); /* flags */\n\to.write_shift(1, 0); /* xfGrbitAtr */\n\to.write_shift(1, 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.4 Blxf TODO */\nfunction write_Blxf(data, o) {\n\tif(!o) o = new_buf(10);\n\to.write_shift(1, 0); /* dg */\n\to.write_shift(1, 0);\n\to.write_shift(4, 0); /* color */\n\to.write_shift(4, 0); /* color */\n\treturn o;\n}\n/* [MS-XLSB] 2.4.302 BrtBorder TODO */\nvar parse_BrtBorder = parsenoop;\nfunction write_BrtBorder(border, o) {\n\tif(!o) o = new_buf(51);\n\to.write_shift(1, 0); /* diagonal */\n\twrite_Blxf(null, o); /* top */\n\twrite_Blxf(null, o); /* bottom */\n\twrite_Blxf(null, o); /* left */\n\twrite_Blxf(null, o); /* right */\n\twrite_Blxf(null, o); /* diag */\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.763 BrtStyle TODO */\nfunction write_BrtStyle(style, o) {\n\tif(!o) o = new_buf(12+4*10);\n\to.write_shift(4, style.xfId);\n\to.write_shift(2, 1);\n\to.write_shift(1, +style.builtinId);\n\to.write_shift(1, 0); /* iLevel */\n\twrite_XLNullableWideString(style.name || \"\", o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.272 BrtBeginTableStyles */\nfunction write_BrtBeginTableStyles(cnt, defTableStyle, defPivotStyle) {\n\tvar o = new_buf(4+256*2*4);\n\to.write_shift(4, cnt);\n\twrite_XLNullableWideString(defTableStyle, o);\n\twrite_XLNullableWideString(defPivotStyle, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.1.7.50 Styles */\nfunction parse_sty_bin(data, themes, opts) {\n\tvar styles = {};\n\tstyles.NumberFmt = ([]/*:any*/);\n\tfor(var y in table_fmt) styles.NumberFmt[y] = table_fmt[y];\n\n\tstyles.CellXf = [];\n\tstyles.Fonts = [];\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false;\n\trecordhopper(data, function hopper_sty(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x002C: /* BrtFmt */\n\t\t\t\tstyles.NumberFmt[val[0]] = val[1]; SSF_load(val[1], val[0]);\n\t\t\t\tbreak;\n\t\t\tcase 0x002B: /* BrtFont */\n\t\t\t\tstyles.Fonts.push(val);\n\t\t\t\tif(val.color.theme != null && themes && themes.themeElements && themes.themeElements.clrScheme) {\n\t\t\t\t\tval.color.rgb = rgb_tint(themes.themeElements.clrScheme[val.color.theme].rgb, val.color.tint || 0);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 0x0401: /* BrtKnownFonts */ break;\n\t\t\tcase 0x002D: /* BrtFill */\n\t\t\t\tbreak;\n\t\t\tcase 0x002E: /* BrtBorder */\n\t\t\t\tbreak;\n\t\t\tcase 0x002F: /* BrtXF */\n\t\t\t\tif(state[state.length - 1] == 0x0269 /* BrtBeginCellXFs */) {\n\t\t\t\t\tstyles.CellXf.push(val);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 0x0030: /* BrtStyle */\n\t\t\tcase 0x01FB: /* BrtDXF */\n\t\t\tcase 0x023C: /* BrtMRUColor */\n\t\t\tcase 0x01DB: /* BrtIndexedColor */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0493: /* BrtDXF14 */\n\t\t\tcase 0x0836: /* BrtDXF15 */\n\t\t\tcase 0x046A: /* BrtSlicerStyleElement */\n\t\t\tcase 0x0200: /* BrtTableStyleElement */\n\t\t\tcase 0x082F: /* BrtTimelineStyleElement */\n\t\t\tcase 0x0C00: /* BrtUid */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* BrtFRTBegin */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* BrtFRTEnd */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* BrtACBegin */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0026: /* BrtACEnd */\n\t\t\t\tstate.pop(); pass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T > 0) state.push(RT);\n\t\t\t\telse if(R.T < 0) state.pop();\n\t\t\t\telse if(!pass || (opts.WTF && state[state.length-1] != 0x0025 /* BrtACBegin */)) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn styles;\n}\n\nfunction write_FMTS_bin(ba, NF/*:?SSFTable*/) {\n\tif(!NF) return;\n\tvar cnt = 0;\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\t/*:: if(!NF) return; */\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) ++cnt;\n\t});\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x0267 /* BrtBeginFmts */, write_UInt32LE(cnt));\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\t/*:: if(!NF) return; */\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) write_record(ba, 0x002C /* BrtFmt */, write_BrtFmt(i, NF[i]));\n\t});\n\twrite_record(ba, 0x0268 /* BrtEndFmts */);\n}\n\nfunction write_FONTS_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x0263 /* BrtBeginFonts */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002B /* BrtFont */, write_BrtFont({\n\t\tsz:12,\n\t\tcolor: {theme:1},\n\t\tname: \"Calibri\",\n\t\tfamily: 2,\n\t\tscheme: \"minor\"\n\t}));\n\t/* 1*65491BrtFont [ACFONTS] */\n\twrite_record(ba, 0x0264 /* BrtEndFonts */);\n}\n\nfunction write_FILLS_bin(ba/*::, data*/) {\n\tvar cnt = 2;\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x025B /* BrtBeginFills */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002D /* BrtFill */, write_BrtFill({patternType:\"none\"}));\n\twrite_record(ba, 0x002D /* BrtFill */, write_BrtFill({patternType:\"gray125\"}));\n\t/* 1*65431BrtFill */\n\twrite_record(ba, 0x025C /* BrtEndFills */);\n}\n\nfunction write_BORDERS_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x0265 /* BrtBeginBorders */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002E /* BrtBorder */, write_BrtBorder({}));\n\t/* 1*65430BrtBorder */\n\twrite_record(ba, 0x0266 /* BrtEndBorders */);\n}\n\nfunction write_CELLSTYLEXFS_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\twrite_record(ba, 0x0272 /* BrtBeginCellStyleXFs */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002F /* BrtXF */, write_BrtXF({\n\t\tnumFmtId: 0,\n\t\tfontId:   0,\n\t\tfillId:   0,\n\t\tborderId: 0\n\t}, 0xFFFF));\n\t/* 1*65430(BrtXF *FRT) */\n\twrite_record(ba, 0x0273 /* BrtEndCellStyleXFs */);\n}\n\nfunction write_CELLXFS_bin(ba, data) {\n\twrite_record(ba, 0x0269 /* BrtBeginCellXFs */, write_UInt32LE(data.length));\n\tdata.forEach(function(c) { write_record(ba, 0x002F /* BrtXF */, write_BrtXF(c,0)); });\n\t/* 1*65430(BrtXF *FRT) */\n\twrite_record(ba, 0x026A /* BrtEndCellXFs */);\n}\n\nfunction write_STYLES_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\n\twrite_record(ba, 0x026B /* BrtBeginStyles */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x0030 /* BrtStyle */, write_BrtStyle({\n\t\txfId:0,\n\t\tbuiltinId:0,\n\t\tname:\"Normal\"\n\t}));\n\t/* 1*65430(BrtStyle *FRT) */\n\twrite_record(ba, 0x026C /* BrtEndStyles */);\n}\n\nfunction write_DXFS_bin(ba/*::, data*/) {\n\tvar cnt = 0;\n\n\twrite_record(ba, 0x01F9 /* BrtBeginDXFs */, write_UInt32LE(cnt));\n\t/* *2147483647(BrtDXF *FRT) */\n\twrite_record(ba, 0x01FA /* BrtEndDXFs */);\n}\n\nfunction write_TABLESTYLES_bin(ba/*::, data*/) {\n\tvar cnt = 0;\n\n\twrite_record(ba, 0x01FC /* BrtBeginTableStyles */, write_BrtBeginTableStyles(cnt, \"TableStyleMedium9\", \"PivotStyleMedium4\"));\n\t/* *TABLESTYLE */\n\twrite_record(ba, 0x01FD /* BrtEndTableStyles */);\n}\n\nfunction write_COLORPALETTE_bin(/*::ba, data*/) {\n\treturn;\n\t/* BrtBeginColorPalette [INDEXEDCOLORS] [MRUCOLORS] BrtEndColorPalette */\n}\n\n/* [MS-XLSB] 2.1.7.50 Styles */\nfunction write_sty_bin(wb, opts) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x0116 /* BrtBeginStyleSheet */);\n\twrite_FMTS_bin(ba, wb.SSF);\n\twrite_FONTS_bin(ba, wb);\n\twrite_FILLS_bin(ba, wb);\n\twrite_BORDERS_bin(ba, wb);\n\twrite_CELLSTYLEXFS_bin(ba, wb);\n\twrite_CELLXFS_bin(ba, opts.cellXfs);\n\twrite_STYLES_bin(ba, wb);\n\twrite_DXFS_bin(ba, wb);\n\twrite_TABLESTYLES_bin(ba, wb);\n\twrite_COLORPALETTE_bin(ba, wb);\n\t/* FRTSTYLESHEET*/\n\twrite_record(ba, 0x0117 /* BrtEndStyleSheet */);\n\treturn ba.end();\n}\n/* Even though theme layout is dk1 lt1 dk2 lt2, true order is lt1 dk1 lt2 dk2 */\nvar XLSXThemeClrScheme = [\n\t'</a:lt1>', '</a:dk1>', '</a:lt2>', '</a:dk2>',\n\t'</a:accent1>', '</a:accent2>', '</a:accent3>',\n\t'</a:accent4>', '</a:accent5>', '</a:accent6>',\n\t'</a:hlink>', '</a:folHlink>'\n];\n/* 20.1.6.2 clrScheme CT_ColorScheme */\nfunction parse_clrScheme(t, themes, opts) {\n\tthemes.themeElements.clrScheme = [];\n\tvar color = {};\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(y[0]) {\n\t\t\t/* 20.1.6.2 clrScheme (Color Scheme) CT_ColorScheme */\n\t\t\tcase '<a:clrScheme': case '</a:clrScheme>': break;\n\n\t\t\t/* 20.1.2.3.32 srgbClr CT_SRgbColor */\n\t\t\tcase '<a:srgbClr':\n\t\t\t\tcolor.rgb = y.val; break;\n\n\t\t\t/* 20.1.2.3.33 sysClr CT_SystemColor */\n\t\t\tcase '<a:sysClr':\n\t\t\t\tcolor.rgb = y.lastClr; break;\n\n\t\t\t/* 20.1.4.1.1 accent1 (Accent 1) */\n\t\t\t/* 20.1.4.1.2 accent2 (Accent 2) */\n\t\t\t/* 20.1.4.1.3 accent3 (Accent 3) */\n\t\t\t/* 20.1.4.1.4 accent4 (Accent 4) */\n\t\t\t/* 20.1.4.1.5 accent5 (Accent 5) */\n\t\t\t/* 20.1.4.1.6 accent6 (Accent 6) */\n\t\t\t/* 20.1.4.1.9 dk1 (Dark 1) */\n\t\t\t/* 20.1.4.1.10 dk2 (Dark 2) */\n\t\t\t/* 20.1.4.1.15 folHlink (Followed Hyperlink) */\n\t\t\t/* 20.1.4.1.19 hlink (Hyperlink) */\n\t\t\t/* 20.1.4.1.22 lt1 (Light 1) */\n\t\t\t/* 20.1.4.1.23 lt2 (Light 2) */\n\t\t\tcase '<a:dk1>': case '</a:dk1>':\n\t\t\tcase '<a:lt1>': case '</a:lt1>':\n\t\t\tcase '<a:dk2>': case '</a:dk2>':\n\t\t\tcase '<a:lt2>': case '</a:lt2>':\n\t\t\tcase '<a:accent1>': case '</a:accent1>':\n\t\t\tcase '<a:accent2>': case '</a:accent2>':\n\t\t\tcase '<a:accent3>': case '</a:accent3>':\n\t\t\tcase '<a:accent4>': case '</a:accent4>':\n\t\t\tcase '<a:accent5>': case '</a:accent5>':\n\t\t\tcase '<a:accent6>': case '</a:accent6>':\n\t\t\tcase '<a:hlink>': case '</a:hlink>':\n\t\t\tcase '<a:folHlink>': case '</a:folHlink>':\n\t\t\t\tif (y[0].charAt(1) === '/') {\n\t\t\t\t\tthemes.themeElements.clrScheme[XLSXThemeClrScheme.indexOf(y[0])] = color;\n\t\t\t\t\tcolor = {};\n\t\t\t\t} else {\n\t\t\t\t\tcolor.name = y[0].slice(3, y[0].length - 1);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault: if(opts && opts.WTF) throw new Error('Unrecognized ' + y[0] + ' in clrScheme');\n\t\t}\n\t});\n}\n\n/* 20.1.4.1.18 fontScheme CT_FontScheme */\nfunction parse_fontScheme(/*::t, themes, opts*/) { }\n\n/* 20.1.4.1.15 fmtScheme CT_StyleMatrix */\nfunction parse_fmtScheme(/*::t, themes, opts*/) { }\n\nvar clrsregex = /<a:clrScheme([^>]*)>[\\s\\S]*<\\/a:clrScheme>/;\nvar fntsregex = /<a:fontScheme([^>]*)>[\\s\\S]*<\\/a:fontScheme>/;\nvar fmtsregex = /<a:fmtScheme([^>]*)>[\\s\\S]*<\\/a:fmtScheme>/;\n\n/* 20.1.6.10 themeElements CT_BaseStyles */\nfunction parse_themeElements(data, themes, opts) {\n\tthemes.themeElements = {};\n\n\tvar t;\n\n\t[\n\t\t/* clrScheme CT_ColorScheme */\n\t\t['clrScheme', clrsregex, parse_clrScheme],\n\t\t/* fontScheme CT_FontScheme */\n\t\t['fontScheme', fntsregex, parse_fontScheme],\n\t\t/* fmtScheme CT_StyleMatrix */\n\t\t['fmtScheme', fmtsregex, parse_fmtScheme]\n\t].forEach(function(m) {\n\t\tif(!(t=data.match(m[1]))) throw new Error(m[0] + ' not found in themeElements');\n\t\tm[2](t, themes, opts);\n\t});\n}\n\nvar themeltregex = /<a:themeElements([^>]*)>[\\s\\S]*<\\/a:themeElements>/;\n\n/* 14.2.7 Theme Part */\nfunction parse_theme_xml(data/*:string*/, opts) {\n\t/* 20.1.6.9 theme CT_OfficeStyleSheet */\n\tif(!data || data.length === 0) data = write_theme();\n\n\tvar t;\n\tvar themes = {};\n\n\t/* themeElements CT_BaseStyles */\n\tif(!(t=data.match(themeltregex))) throw new Error('themeElements not found in theme');\n\tparse_themeElements(t[0], themes, opts);\n\tthemes.raw = data;\n\treturn themes;\n}\n\nfunction write_theme(Themes, opts)/*:string*/ {\n\tif(opts && opts.themeXLSX) return opts.themeXLSX;\n\tif(Themes && typeof Themes.raw == \"string\") return Themes.raw;\n\tvar o = [XML_HEADER];\n\to[o.length] = '<a:theme xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" name=\"Office Theme\">';\n\to[o.length] =  '<a:themeElements>';\n\n\to[o.length] =   '<a:clrScheme name=\"Office\">';\n\to[o.length] =    '<a:dk1><a:sysClr val=\"windowText\" lastClr=\"000000\"/></a:dk1>';\n\to[o.length] =    '<a:lt1><a:sysClr val=\"window\" lastClr=\"FFFFFF\"/></a:lt1>';\n\to[o.length] =    '<a:dk2><a:srgbClr val=\"1F497D\"/></a:dk2>';\n\to[o.length] =    '<a:lt2><a:srgbClr val=\"EEECE1\"/></a:lt2>';\n\to[o.length] =    '<a:accent1><a:srgbClr val=\"4F81BD\"/></a:accent1>';\n\to[o.length] =    '<a:accent2><a:srgbClr val=\"C0504D\"/></a:accent2>';\n\to[o.length] =    '<a:accent3><a:srgbClr val=\"9BBB59\"/></a:accent3>';\n\to[o.length] =    '<a:accent4><a:srgbClr val=\"8064A2\"/></a:accent4>';\n\to[o.length] =    '<a:accent5><a:srgbClr val=\"4BACC6\"/></a:accent5>';\n\to[o.length] =    '<a:accent6><a:srgbClr val=\"F79646\"/></a:accent6>';\n\to[o.length] =    '<a:hlink><a:srgbClr val=\"0000FF\"/></a:hlink>';\n\to[o.length] =    '<a:folHlink><a:srgbClr val=\"800080\"/></a:folHlink>';\n\to[o.length] =   '</a:clrScheme>';\n\n\to[o.length] =   '<a:fontScheme name=\"Office\">';\n\to[o.length] =    '<a:majorFont>';\n\to[o.length] =     '<a:latin typeface=\"Cambria\"/>';\n\to[o.length] =     '<a:ea typeface=\"\"/>';\n\to[o.length] =     '<a:cs typeface=\"\"/>';\n\to[o.length] =     '<a:font script=\"Jpan\" typeface=\"ＭＳ Ｐゴシック\"/>';\n\to[o.length] =     '<a:font script=\"Hang\" typeface=\"맑은 고딕\"/>';\n\to[o.length] =     '<a:font script=\"Hans\" typeface=\"宋体\"/>';\n\to[o.length] =     '<a:font script=\"Hant\" typeface=\"新細明體\"/>';\n\to[o.length] =     '<a:font script=\"Arab\" typeface=\"Times New Roman\"/>';\n\to[o.length] =     '<a:font script=\"Hebr\" typeface=\"Times New Roman\"/>';\n\to[o.length] =     '<a:font script=\"Thai\" typeface=\"Tahoma\"/>';\n\to[o.length] =     '<a:font script=\"Ethi\" typeface=\"Nyala\"/>';\n\to[o.length] =     '<a:font script=\"Beng\" typeface=\"Vrinda\"/>';\n\to[o.length] =     '<a:font script=\"Gujr\" typeface=\"Shruti\"/>';\n\to[o.length] =     '<a:font script=\"Khmr\" typeface=\"MoolBoran\"/>';\n\to[o.length] =     '<a:font script=\"Knda\" typeface=\"Tunga\"/>';\n\to[o.length] =     '<a:font script=\"Guru\" typeface=\"Raavi\"/>';\n\to[o.length] =     '<a:font script=\"Cans\" typeface=\"Euphemia\"/>';\n\to[o.length] =     '<a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/>';\n\to[o.length] =     '<a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/>';\n\to[o.length] =     '<a:font script=\"Thaa\" typeface=\"MV Boli\"/>';\n\to[o.length] =     '<a:font script=\"Deva\" typeface=\"Mangal\"/>';\n\to[o.length] =     '<a:font script=\"Telu\" typeface=\"Gautami\"/>';\n\to[o.length] =     '<a:font script=\"Taml\" typeface=\"Latha\"/>';\n\to[o.length] =     '<a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/>';\n\to[o.length] =     '<a:font script=\"Orya\" typeface=\"Kalinga\"/>';\n\to[o.length] =     '<a:font script=\"Mlym\" typeface=\"Kartika\"/>';\n\to[o.length] =     '<a:font script=\"Laoo\" typeface=\"DokChampa\"/>';\n\to[o.length] =     '<a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/>';\n\to[o.length] =     '<a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Viet\" typeface=\"Times New Roman\"/>';\n\to[o.length] =     '<a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/>';\n\to[o.length] =     '<a:font script=\"Geor\" typeface=\"Sylfaen\"/>';\n\to[o.length] =    '</a:majorFont>';\n\to[o.length] =    '<a:minorFont>';\n\to[o.length] =     '<a:latin typeface=\"Calibri\"/>';\n\to[o.length] =     '<a:ea typeface=\"\"/>';\n\to[o.length] =     '<a:cs typeface=\"\"/>';\n\to[o.length] =     '<a:font script=\"Jpan\" typeface=\"ＭＳ Ｐゴシック\"/>';\n\to[o.length] =     '<a:font script=\"Hang\" typeface=\"맑은 고딕\"/>';\n\to[o.length] =     '<a:font script=\"Hans\" typeface=\"宋体\"/>';\n\to[o.length] =     '<a:font script=\"Hant\" typeface=\"新細明體\"/>';\n\to[o.length] =     '<a:font script=\"Arab\" typeface=\"Arial\"/>';\n\to[o.length] =     '<a:font script=\"Hebr\" typeface=\"Arial\"/>';\n\to[o.length] =     '<a:font script=\"Thai\" typeface=\"Tahoma\"/>';\n\to[o.length] =     '<a:font script=\"Ethi\" typeface=\"Nyala\"/>';\n\to[o.length] =     '<a:font script=\"Beng\" typeface=\"Vrinda\"/>';\n\to[o.length] =     '<a:font script=\"Gujr\" typeface=\"Shruti\"/>';\n\to[o.length] =     '<a:font script=\"Khmr\" typeface=\"DaunPenh\"/>';\n\to[o.length] =     '<a:font script=\"Knda\" typeface=\"Tunga\"/>';\n\to[o.length] =     '<a:font script=\"Guru\" typeface=\"Raavi\"/>';\n\to[o.length] =     '<a:font script=\"Cans\" typeface=\"Euphemia\"/>';\n\to[o.length] =     '<a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/>';\n\to[o.length] =     '<a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/>';\n\to[o.length] =     '<a:font script=\"Thaa\" typeface=\"MV Boli\"/>';\n\to[o.length] =     '<a:font script=\"Deva\" typeface=\"Mangal\"/>';\n\to[o.length] =     '<a:font script=\"Telu\" typeface=\"Gautami\"/>';\n\to[o.length] =     '<a:font script=\"Taml\" typeface=\"Latha\"/>';\n\to[o.length] =     '<a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/>';\n\to[o.length] =     '<a:font script=\"Orya\" typeface=\"Kalinga\"/>';\n\to[o.length] =     '<a:font script=\"Mlym\" typeface=\"Kartika\"/>';\n\to[o.length] =     '<a:font script=\"Laoo\" typeface=\"DokChampa\"/>';\n\to[o.length] =     '<a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/>';\n\to[o.length] =     '<a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Viet\" typeface=\"Arial\"/>';\n\to[o.length] =     '<a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/>';\n\to[o.length] =     '<a:font script=\"Geor\" typeface=\"Sylfaen\"/>';\n\to[o.length] =    '</a:minorFont>';\n\to[o.length] =   '</a:fontScheme>';\n\n\to[o.length] =   '<a:fmtScheme name=\"Office\">';\n\to[o.length] =    '<a:fillStyleLst>';\n\to[o.length] =     '<a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"50000\"/><a:satMod val=\"300000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"35000\"><a:schemeClr val=\"phClr\"><a:tint val=\"37000\"/><a:satMod val=\"300000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:tint val=\"15000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:lin ang=\"16200000\" scaled=\"1\"/>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"100000\"/><a:shade val=\"100000\"/><a:satMod val=\"130000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:tint val=\"50000\"/><a:shade val=\"100000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:lin ang=\"16200000\" scaled=\"0\"/>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =    '</a:fillStyleLst>';\n\to[o.length] =    '<a:lnStyleLst>';\n\to[o.length] =     '<a:ln w=\"9525\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"><a:shade val=\"95000\"/><a:satMod val=\"105000\"/></a:schemeClr></a:solidFill><a:prstDash val=\"solid\"/></a:ln>';\n\to[o.length] =     '<a:ln w=\"25400\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/></a:ln>';\n\to[o.length] =     '<a:ln w=\"38100\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/></a:ln>';\n\to[o.length] =    '</a:lnStyleLst>';\n\to[o.length] =    '<a:effectStyleLst>';\n\to[o.length] =     '<a:effectStyle>';\n\to[o.length] =      '<a:effectLst>';\n\to[o.length] =       '<a:outerShdw blurRad=\"40000\" dist=\"20000\" dir=\"5400000\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"38000\"/></a:srgbClr></a:outerShdw>';\n\to[o.length] =      '</a:effectLst>';\n\to[o.length] =     '</a:effectStyle>';\n\to[o.length] =     '<a:effectStyle>';\n\to[o.length] =      '<a:effectLst>';\n\to[o.length] =       '<a:outerShdw blurRad=\"40000\" dist=\"23000\" dir=\"5400000\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"35000\"/></a:srgbClr></a:outerShdw>';\n\to[o.length] =      '</a:effectLst>';\n\to[o.length] =     '</a:effectStyle>';\n\to[o.length] =     '<a:effectStyle>';\n\to[o.length] =      '<a:effectLst>';\n\to[o.length] =       '<a:outerShdw blurRad=\"40000\" dist=\"23000\" dir=\"5400000\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"35000\"/></a:srgbClr></a:outerShdw>';\n\to[o.length] =      '</a:effectLst>';\n\to[o.length] =      '<a:scene3d><a:camera prst=\"orthographicFront\"><a:rot lat=\"0\" lon=\"0\" rev=\"0\"/></a:camera><a:lightRig rig=\"threePt\" dir=\"t\"><a:rot lat=\"0\" lon=\"0\" rev=\"1200000\"/></a:lightRig></a:scene3d>';\n\to[o.length] =      '<a:sp3d><a:bevelT w=\"63500\" h=\"25400\"/></a:sp3d>';\n\to[o.length] =     '</a:effectStyle>';\n\to[o.length] =    '</a:effectStyleLst>';\n\to[o.length] =    '<a:bgFillStyleLst>';\n\to[o.length] =     '<a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"40000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"40000\"><a:schemeClr val=\"phClr\"><a:tint val=\"45000\"/><a:shade val=\"99000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:shade val=\"20000\"/><a:satMod val=\"255000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:path path=\"circle\"><a:fillToRect l=\"50000\" t=\"-80000\" r=\"50000\" b=\"180000\"/></a:path>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"80000\"/><a:satMod val=\"300000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:shade val=\"30000\"/><a:satMod val=\"200000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:path path=\"circle\"><a:fillToRect l=\"50000\" t=\"50000\" r=\"50000\" b=\"50000\"/></a:path>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =    '</a:bgFillStyleLst>';\n\to[o.length] =   '</a:fmtScheme>';\n\to[o.length] =  '</a:themeElements>';\n\n\to[o.length] =  '<a:objectDefaults>';\n\to[o.length] =   '<a:spDef>';\n\to[o.length] =    '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx=\"1\"><a:schemeClr val=\"accent1\"/></a:lnRef><a:fillRef idx=\"3\"><a:schemeClr val=\"accent1\"/></a:fillRef><a:effectRef idx=\"2\"><a:schemeClr val=\"accent1\"/></a:effectRef><a:fontRef idx=\"minor\"><a:schemeClr val=\"lt1\"/></a:fontRef></a:style>';\n\to[o.length] =   '</a:spDef>';\n\to[o.length] =   '<a:lnDef>';\n\to[o.length] =    '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx=\"2\"><a:schemeClr val=\"accent1\"/></a:lnRef><a:fillRef idx=\"0\"><a:schemeClr val=\"accent1\"/></a:fillRef><a:effectRef idx=\"1\"><a:schemeClr val=\"accent1\"/></a:effectRef><a:fontRef idx=\"minor\"><a:schemeClr val=\"tx1\"/></a:fontRef></a:style>';\n\to[o.length] =   '</a:lnDef>';\n\to[o.length] =  '</a:objectDefaults>';\n\to[o.length] =  '<a:extraClrSchemeLst/>';\n\to[o.length] = '</a:theme>';\n\treturn o.join(\"\");\n}\n/* [MS-XLS] 2.4.326 TODO: payload is a zip file */\nfunction parse_Theme(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar dwThemeVersion = blob.read_shift(4);\n\tif(dwThemeVersion === 124226) return;\n\tif(!opts.cellStyles) { blob.l = end; return; }\n\tvar data = blob.slice(blob.l);\n\tblob.l = end;\n\tvar zip; try { zip = zip_read(data, {type: \"array\"}); } catch(e) { return; }\n\tvar themeXML = getzipstr(zip, \"theme/theme/theme1.xml\", true);\n\tif(!themeXML) return;\n\treturn parse_theme_xml(themeXML, opts);\n}\n\n/* 2.5.49 */\nfunction parse_ColorTheme(blob/*::, length*/) { return blob.read_shift(4); }\n\n/* 2.5.155 */\nfunction parse_FullColorExt(blob/*::, length*/) {\n\tvar o = {};\n\to.xclrType = blob.read_shift(2);\n\to.nTintShade = blob.read_shift(2);\n\tswitch(o.xclrType) {\n\t\tcase 0: blob.l += 4; break;\n\t\tcase 1: o.xclrValue = parse_IcvXF(blob, 4); break;\n\t\tcase 2: o.xclrValue = parse_LongRGBA(blob, 4); break;\n\t\tcase 3: o.xclrValue = parse_ColorTheme(blob, 4); break;\n\t\tcase 4: blob.l += 4; break;\n\t}\n\tblob.l += 8;\n\treturn o;\n}\n\n/* 2.5.164 TODO: read 7 bits*/\nfunction parse_IcvXF(blob, length) {\n\treturn parsenoop(blob, length);\n}\n\n/* 2.5.280 */\nfunction parse_XFExtGradient(blob, length) {\n\treturn parsenoop(blob, length);\n}\n\n/* [MS-XLS] 2.5.108 */\nfunction parse_ExtProp(blob/*::, length*/)/*:Array<any>*/ {\n\tvar extType = blob.read_shift(2);\n\tvar cb = blob.read_shift(2) - 4;\n\tvar o = [extType];\n\tswitch(extType) {\n\t\tcase 0x04: case 0x05: case 0x07: case 0x08:\n\t\tcase 0x09: case 0x0A: case 0x0B: case 0x0D:\n\t\t\to[1] = parse_FullColorExt(blob, cb); break;\n\t\tcase 0x06: o[1] = parse_XFExtGradient(blob, cb); break;\n\t\tcase 0x0E: case 0x0F: o[1] = blob.read_shift(cb === 1 ? 1 : 2); break;\n\t\tdefault: throw new Error(\"Unrecognized ExtProp type: \" + extType + \" \" + cb);\n\t}\n\treturn o;\n}\n\n/* 2.4.355 */\nfunction parse_XFExt(blob, length) {\n\tvar end = blob.l + length;\n\tblob.l += 2;\n\tvar ixfe = blob.read_shift(2);\n\tblob.l += 2;\n\tvar cexts = blob.read_shift(2);\n\tvar ext/*:AOA*/ = [];\n\twhile(cexts-- > 0) ext.push(parse_ExtProp(blob, end-blob.l));\n\treturn {ixfe:ixfe, ext:ext};\n}\n\n/* xf is an XF, see parse_XFExt for xfext */\nfunction update_xfext(xf, xfext) {\n\txfext.forEach(function(xfe) {\n\t\tswitch(xfe[0]) { /* 2.5.108 extPropData */\n\t\t\tcase 0x04: break; /* foreground color */\n\t\t\tcase 0x05: break; /* background color */\n\t\t\tcase 0x06: break; /* gradient fill */\n\t\t\tcase 0x07: break; /* top cell border color */\n\t\t\tcase 0x08: break; /* bottom cell border color */\n\t\t\tcase 0x09: break; /* left cell border color */\n\t\t\tcase 0x0a: break; /* right cell border color */\n\t\t\tcase 0x0b: break; /* diagonal cell border color */\n\t\t\tcase 0x0d: /* text color */\n\t\t\t\tbreak;\n\t\t\tcase 0x0e: break; /* font scheme */\n\t\t\tcase 0x0f: break; /* indentation level */\n\t\t}\n\t});\n}\n\nfunction parse_BrtMdtinfo(data, length) {\n  return {\n    flags: data.read_shift(4),\n    version: data.read_shift(4),\n    name: parse_XLWideString(data, length - 8)\n  };\n}\nfunction write_BrtMdtinfo(data) {\n  var o = new_buf(12 + 2 * data.name.length);\n  o.write_shift(4, data.flags);\n  o.write_shift(4, data.version);\n  write_XLWideString(data.name, o);\n  return o.slice(0, o.l);\n}\nfunction parse_BrtMdb(data) {\n  var out = [];\n  var cnt = data.read_shift(4);\n  while (cnt-- > 0)\n    out.push([data.read_shift(4), data.read_shift(4)]);\n  return out;\n}\nfunction write_BrtMdb(mdb) {\n  var o = new_buf(4 + 8 * mdb.length);\n  o.write_shift(4, mdb.length);\n  for (var i = 0; i < mdb.length; ++i) {\n    o.write_shift(4, mdb[i][0]);\n    o.write_shift(4, mdb[i][1]);\n  }\n  return o;\n}\nfunction write_BrtBeginEsfmd(cnt, name) {\n  var o = new_buf(8 + 2 * name.length);\n  o.write_shift(4, cnt);\n  write_XLWideString(name, o);\n  return o.slice(0, o.l);\n}\nfunction parse_BrtBeginEsmdb(data) {\n  data.l += 4;\n  return data.read_shift(4) != 0;\n}\nfunction write_BrtBeginEsmdb(cnt, cm) {\n  var o = new_buf(8);\n  o.write_shift(4, cnt);\n  o.write_shift(4, cm ? 1 : 0);\n  return o;\n}\nfunction parse_xlmeta_bin(data, name, _opts) {\n  var out = { Types: [], Cell: [], Value: [] };\n  var opts = _opts || {};\n  var state = [];\n  var pass = false;\n  var metatype = 2;\n  recordhopper(data, function(val, R, RT) {\n    switch (RT) {\n      case 335:\n        out.Types.push({ name: val.name });\n        break;\n      case 51:\n        val.forEach(function(r) {\n          if (metatype == 1)\n            out.Cell.push({ type: out.Types[r[0] - 1].name, index: r[1] });\n          else if (metatype == 0)\n            out.Value.push({ type: out.Types[r[0] - 1].name, index: r[1] });\n        });\n        break;\n      case 337:\n        metatype = val ? 1 : 0;\n        break;\n      case 338:\n        metatype = 2;\n        break;\n      case 35:\n        state.push(RT);\n        pass = true;\n        break;\n      case 36:\n        state.pop();\n        pass = false;\n        break;\n      default:\n        if (R.T) {\n        } else if (!pass || opts.WTF && state[state.length - 1] != 35)\n          throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n    }\n  });\n  return out;\n}\nfunction write_xlmeta_bin() {\n  var ba = buf_array();\n  write_record(ba, 332);\n  write_record(ba, 334, write_UInt32LE(1));\n  write_record(ba, 335, write_BrtMdtinfo({\n    name: \"XLDAPR\",\n    version: 12e4,\n    flags: 3496657072\n  }));\n  write_record(ba, 336);\n  write_record(ba, 339, write_BrtBeginEsfmd(1, \"XLDAPR\"));\n  write_record(ba, 52);\n  write_record(ba, 35, write_UInt32LE(514));\n  write_record(ba, 4096, write_UInt32LE(0));\n  write_record(ba, 4097, writeuint16(1));\n  write_record(ba, 36);\n  write_record(ba, 53);\n  write_record(ba, 340);\n  write_record(ba, 337, write_BrtBeginEsmdb(1, true));\n  write_record(ba, 51, write_BrtMdb([[1, 0]]));\n  write_record(ba, 338);\n  write_record(ba, 333);\n  return ba.end();\n}\nfunction parse_xlmeta_xml(data, name, opts) {\n  var out = { Types: [], Cell: [], Value: [] };\n  if (!data)\n    return out;\n  var pass = false;\n  var metatype = 2;\n  var lastmeta;\n  data.replace(tagregex, function(x) {\n    var y = parsexmltag(x);\n    switch (strip_ns(y[0])) {\n      case \"<?xml\":\n        break;\n      case \"<metadata\":\n      case \"</metadata>\":\n        break;\n      case \"<metadataTypes\":\n      case \"</metadataTypes>\":\n        break;\n      case \"<metadataType\":\n        out.Types.push({ name: y.name });\n        break;\n      case \"</metadataType>\":\n        break;\n      case \"<futureMetadata\":\n        for (var j = 0; j < out.Types.length; ++j)\n          if (out.Types[j].name == y.name)\n            lastmeta = out.Types[j];\n        break;\n      case \"</futureMetadata>\":\n        break;\n      case \"<bk>\":\n        break;\n      case \"</bk>\":\n        break;\n      case \"<rc\":\n        if (metatype == 1)\n          out.Cell.push({ type: out.Types[y.t - 1].name, index: +y.v });\n        else if (metatype == 0)\n          out.Value.push({ type: out.Types[y.t - 1].name, index: +y.v });\n        break;\n      case \"</rc>\":\n        break;\n      case \"<cellMetadata\":\n        metatype = 1;\n        break;\n      case \"</cellMetadata>\":\n        metatype = 2;\n        break;\n      case \"<valueMetadata\":\n        metatype = 0;\n        break;\n      case \"</valueMetadata>\":\n        metatype = 2;\n        break;\n      case \"<extLst\":\n      case \"<extLst>\":\n      case \"</extLst>\":\n      case \"<extLst/>\":\n        break;\n      case \"<ext\":\n        pass = true;\n        break;\n      case \"</ext>\":\n        pass = false;\n        break;\n      case \"<rvb\":\n        if (!lastmeta)\n          break;\n        if (!lastmeta.offsets)\n          lastmeta.offsets = [];\n        lastmeta.offsets.push(+y.i);\n        break;\n      default:\n        if (!pass && opts.WTF)\n          throw new Error(\"unrecognized \" + y[0] + \" in metadata\");\n    }\n    return x;\n  });\n  return out;\n}\nfunction write_xlmeta_xml() {\n  var o = [XML_HEADER];\n  o.push('<metadata xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:xlrd=\"http://schemas.microsoft.com/office/spreadsheetml/2017/richdata\" xmlns:xda=\"http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray\">\\n  <metadataTypes count=\"1\">\\n    <metadataType name=\"XLDAPR\" minSupportedVersion=\"120000\" copy=\"1\" pasteAll=\"1\" pasteValues=\"1\" merge=\"1\" splitFirst=\"1\" rowColShift=\"1\" clearFormats=\"1\" clearComments=\"1\" assign=\"1\" coerce=\"1\" cellMeta=\"1\"/>\\n  </metadataTypes>\\n  <futureMetadata name=\"XLDAPR\" count=\"1\">\\n    <bk>\\n      <extLst>\\n        <ext uri=\"{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}\">\\n          <xda:dynamicArrayProperties fDynamic=\"1\" fCollapsed=\"0\"/>\\n        </ext>\\n      </extLst>\\n    </bk>\\n  </futureMetadata>\\n  <cellMetadata count=\"1\">\\n    <bk>\\n      <rc t=\"1\" v=\"0\"/>\\n    </bk>\\n  </cellMetadata>\\n</metadata>');\n  return o.join(\"\");\n}\n/* 18.6 Calculation Chain */\nfunction parse_cc_xml(data/*::, name, opts*/)/*:Array<any>*/ {\n\tvar d = [];\n\tif(!data) return d;\n\tvar i = 1;\n\t(data.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(y[0]) {\n\t\t\tcase '<?xml': break;\n\t\t\t/* 18.6.2  calcChain CT_CalcChain 1 */\n\t\t\tcase '<calcChain': case '<calcChain>': case '</calcChain>': break;\n\t\t\t/* 18.6.1  c CT_CalcCell 1 */\n\t\t\tcase '<c': delete y[0]; if(y.i) i = y.i; else y.i = i; d.push(y); break;\n\t\t}\n\t});\n\treturn d;\n}\n\n//function write_cc_xml(data, opts) { }\n\n/* [MS-XLSB] 2.6.4.1 */\nfunction parse_BrtCalcChainItem$(data) {\n\tvar out = {};\n\tout.i = data.read_shift(4);\n\tvar cell = {};\n\tcell.r = data.read_shift(4);\n\tcell.c = data.read_shift(4);\n\tout.r = encode_cell(cell);\n\tvar flags = data.read_shift(1);\n\tif(flags & 0x2) out.l = '1';\n\tif(flags & 0x8) out.a = '1';\n\treturn out;\n}\n\n/* 18.6 Calculation Chain */\nfunction parse_cc_bin(data, name, opts) {\n\tvar out = [];\n\tvar pass = false;\n\trecordhopper(data, function hopper_cc(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x003F: /* 'BrtCalcChainItem$' */\n\t\t\t\tout.push(val); break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn out;\n}\n\n//function write_cc_bin(data, opts) { }\n/* 18.14 Supplementary Workbook Data */\nfunction parse_xlink_xml(/*::data, rel, name:string, _opts*/) {\n\t//var opts = _opts || {};\n\t//if(opts.WTF) throw \"XLSX External Link\";\n}\n\n/* [MS-XLSB] 2.1.7.25 External Link */\nfunction parse_xlink_bin(data, rel, name/*:string*/, _opts) {\n\tif(!data) return data;\n\tvar opts = _opts || {};\n\n\tvar pass = false, end = false;\n\n\trecordhopper(data, function xlink_parse(val, R, RT) {\n\t\tif(end) return;\n\t\tswitch(RT) {\n\t\t\tcase 0x0167: /* 'BrtSupTabs' */\n\t\t\tcase 0x016B: /* 'BrtExternTableStart' */\n\t\t\tcase 0x016C: /* 'BrtExternTableEnd' */\n\t\t\tcase 0x016E: /* 'BrtExternRowHdr' */\n\t\t\tcase 0x016F: /* 'BrtExternCellBlank' */\n\t\t\tcase 0x0170: /* 'BrtExternCellReal' */\n\t\t\tcase 0x0171: /* 'BrtExternCellBool' */\n\t\t\tcase 0x0172: /* 'BrtExternCellError' */\n\t\t\tcase 0x0173: /* 'BrtExternCellString' */\n\t\t\tcase 0x01D8: /* 'BrtExternValueMeta' */\n\t\t\tcase 0x0241: /* 'BrtSupNameStart' */\n\t\t\tcase 0x0242: /* 'BrtSupNameValueStart' */\n\t\t\tcase 0x0243: /* 'BrtSupNameValueEnd' */\n\t\t\tcase 0x0244: /* 'BrtSupNameNum' */\n\t\t\tcase 0x0245: /* 'BrtSupNameErr' */\n\t\t\tcase 0x0246: /* 'BrtSupNameSt' */\n\t\t\tcase 0x0247: /* 'BrtSupNameNil' */\n\t\t\tcase 0x0248: /* 'BrtSupNameBool' */\n\t\t\tcase 0x0249: /* 'BrtSupNameFmla' */\n\t\t\tcase 0x024A: /* 'BrtSupNameBits' */\n\t\t\tcase 0x024B: /* 'BrtSupNameEnd' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n}\n/* 20.5 DrawingML - SpreadsheetML Drawing */\n/* 20.5.2.35 wsDr CT_Drawing */\nfunction parse_drawing(data, rels/*:any*/) {\n\tif(!data) return \"??\";\n\t/*\n\t  Chartsheet Drawing:\n\t   - 20.5.2.35 wsDr CT_Drawing\n\t    - 20.5.2.1  absoluteAnchor CT_AbsoluteAnchor\n\t     - 20.5.2.16 graphicFrame CT_GraphicalObjectFrame\n\t      - 20.1.2.2.16 graphic CT_GraphicalObject\n\t       - 20.1.2.2.17 graphicData CT_GraphicalObjectData\n          - chart reference\n\t   the actual type is based on the URI of the graphicData\n\t\tTODO: handle embedded charts and other types of graphics\n\t*/\n\tvar id = (data.match(/<c:chart [^>]*r:id=\"([^\"]*)\"/)||[\"\",\"\"])[1];\n\n\treturn rels['!id'][id].Target;\n}\n\n/* L.5.5.2 SpreadsheetML Comments + VML Schema */\nvar _shapeid = 1024;\nfunction write_comments_vml(rId/*:number*/, comments) {\n\tvar csize = [21600, 21600];\n\t/* L.5.2.1.2 Path Attribute */\n\tvar bbox = [\"m0,0l0\",csize[1],csize[0],csize[1],csize[0],\"0xe\"].join(\",\");\n\tvar o = [\n\t\twritextag(\"xml\", null, { 'xmlns:v': XLMLNS.v, 'xmlns:o': XLMLNS.o, 'xmlns:x': XLMLNS.x, 'xmlns:mv': XLMLNS.mv }).replace(/\\/>/,\">\"),\n\t\twritextag(\"o:shapelayout\", writextag(\"o:idmap\", null, {'v:ext':\"edit\", 'data':rId}), {'v:ext':\"edit\"}),\n\t\twritextag(\"v:shapetype\", [\n\t\t\twritextag(\"v:stroke\", null, {joinstyle:\"miter\"}),\n\t\t\twritextag(\"v:path\", null, {gradientshapeok:\"t\", 'o:connecttype':\"rect\"})\n\t\t].join(\"\"), {id:\"_x0000_t202\", 'o:spt':202, coordsize:csize.join(\",\"),path:bbox})\n\t];\n\twhile(_shapeid < rId * 1000) _shapeid += 1000;\n\n\tcomments.forEach(function(x) {\n\tvar c = decode_cell(x[0]);\n\tvar fillopts = /*::(*/{'color2':\"#BEFF82\", 'type':\"gradient\"}/*:: :any)*/;\n\tif(fillopts.type == \"gradient\") fillopts.angle = \"-180\";\n\tvar fillparm = fillopts.type == \"gradient\" ? writextag(\"o:fill\", null, {type:\"gradientUnscaled\", 'v:ext':\"view\"}) : null;\n\tvar fillxml = writextag('v:fill', fillparm, fillopts);\n\n\tvar shadata = ({on:\"t\", 'obscured':\"t\"}/*:any*/);\n\t++_shapeid;\n\n\to = o.concat([\n\t'<v:shape' + wxt_helper({\n\t\tid:'_x0000_s' + _shapeid,\n\t\ttype:\"#_x0000_t202\",\n\t\tstyle:\"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10\" + (x[1].hidden ? \";visibility:hidden\" : \"\") ,\n\t\tfillcolor:\"#ECFAD4\",\n\t\tstrokecolor:\"#edeaa1\"\n\t}) + '>',\n\t\tfillxml,\n\t\twritextag(\"v:shadow\", null, shadata),\n\t\twritextag(\"v:path\", null, {'o:connecttype':\"none\"}),\n\t\t'<v:textbox><div style=\"text-align:left\"></div></v:textbox>',\n\t\t'<x:ClientData ObjectType=\"Note\">',\n\t\t\t'<x:MoveWithCells/>',\n\t\t\t'<x:SizeWithCells/>',\n\t\t\t/* Part 4 19.4.2.3 Anchor (Anchor) */\n\t\t\twritetag('x:Anchor', [c.c+1, 0, c.r+1, 0, c.c+3, 20, c.r+5, 20].join(\",\")),\n\t\t\twritetag('x:AutoFill', \"False\"),\n\t\t\twritetag('x:Row', String(c.r)),\n\t\t\twritetag('x:Column', String(c.c)),\n\t\t\tx[1].hidden ? '' : '<x:Visible/>',\n\t\t'</x:ClientData>',\n\t'</v:shape>'\n\t]); });\n\to.push('</xml>');\n\treturn o.join(\"\");\n}\nfunction sheet_insert_comments(sheet, comments/*:Array<RawComment>*/, threaded/*:boolean*/, people/*:?Array<any>*/) {\n\tvar dense = Array.isArray(sheet);\n\tvar cell/*:Cell*/;\n\tcomments.forEach(function(comment) {\n\t\tvar r = decode_cell(comment.ref);\n\t\tif(dense) {\n\t\t\tif(!sheet[r.r]) sheet[r.r] = [];\n\t\t\tcell = sheet[r.r][r.c];\n\t\t} else cell = sheet[comment.ref];\n\t\tif (!cell) {\n\t\t\tcell = ({t:\"z\"}/*:any*/);\n\t\t\tif(dense) sheet[r.r][r.c] = cell;\n\t\t\telse sheet[comment.ref] = cell;\n\t\t\tvar range = safe_decode_range(sheet[\"!ref\"]||\"BDWGO1000001:A1\");\n\t\t\tif(range.s.r > r.r) range.s.r = r.r;\n\t\t\tif(range.e.r < r.r) range.e.r = r.r;\n\t\t\tif(range.s.c > r.c) range.s.c = r.c;\n\t\t\tif(range.e.c < r.c) range.e.c = r.c;\n\t\t\tvar encoded = encode_range(range);\n\t\t\tif (encoded !== sheet[\"!ref\"]) sheet[\"!ref\"] = encoded;\n\t\t}\n\n\t\tif (!cell.c) cell.c = [];\n\t\tvar o/*:Comment*/ = ({a: comment.author, t: comment.t, r: comment.r, T: threaded});\n\t\tif(comment.h) o.h = comment.h;\n\n\t\t/* threaded comments always override */\n\t\tfor(var i = cell.c.length - 1; i >= 0; --i) {\n\t\t\tif(!threaded && cell.c[i].T) return;\n\t\t\tif(threaded && !cell.c[i].T) cell.c.splice(i, 1);\n\t\t}\n\t\tif(threaded && people) for(i = 0; i < people.length; ++i) {\n\t\t\tif(o.a == people[i].id) { o.a = people[i].name || o.a; break; }\n\t\t}\n\t\tcell.c.push(o);\n\t});\n}\n\n/* 18.7 Comments */\nfunction parse_comments_xml(data/*:string*/, opts)/*:Array<RawComment>*/ {\n\t/* 18.7.6 CT_Comments */\n\tif(data.match(/<(?:\\w+:)?comments *\\/>/)) return [];\n\tvar authors/*:Array<string>*/ = [];\n\tvar commentList/*:Array<RawComment>*/ = [];\n\tvar authtag = data.match(/<(?:\\w+:)?authors>([\\s\\S]*)<\\/(?:\\w+:)?authors>/);\n\tif(authtag && authtag[1]) authtag[1].split(/<\\/\\w*:?author>/).forEach(function(x) {\n\t\tif(x === \"\" || x.trim() === \"\") return;\n\t\tvar a = x.match(/<(?:\\w+:)?author[^>]*>(.*)/);\n\t\tif(a) authors.push(a[1]);\n\t});\n\tvar cmnttag = data.match(/<(?:\\w+:)?commentList>([\\s\\S]*)<\\/(?:\\w+:)?commentList>/);\n\tif(cmnttag && cmnttag[1]) cmnttag[1].split(/<\\/\\w*:?comment>/).forEach(function(x) {\n\t\tif(x === \"\" || x.trim() === \"\") return;\n\t\tvar cm = x.match(/<(?:\\w+:)?comment[^>]*>/);\n\t\tif(!cm) return;\n\t\tvar y = parsexmltag(cm[0]);\n\t\tvar comment/*:RawComment*/ = ({ author: y.authorId && authors[y.authorId] || \"sheetjsghost\", ref: y.ref, guid: y.guid }/*:any*/);\n\t\tvar cell = decode_cell(y.ref);\n\t\tif(opts.sheetRows && opts.sheetRows <= cell.r) return;\n\t\tvar textMatch = x.match(/<(?:\\w+:)?text>([\\s\\S]*)<\\/(?:\\w+:)?text>/);\n\t\tvar rt = !!textMatch && !!textMatch[1] && parse_si(textMatch[1]) || {r:\"\",t:\"\",h:\"\"};\n\t\tcomment.r = rt.r;\n\t\tif(rt.r == \"<t></t>\") rt.t = rt.h = \"\";\n\t\tcomment.t = (rt.t||\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\");\n\t\tif(opts.cellHTML) comment.h = rt.h;\n\t\tcommentList.push(comment);\n\t});\n\treturn commentList;\n}\n\nfunction write_comments_xml(data/*::, opts*/) {\n\tvar o = [XML_HEADER, writextag('comments', null, { 'xmlns': XMLNS_main[0] })];\n\n\tvar iauthor/*:Array<string>*/ = [];\n\to.push(\"<authors>\");\n\tdata.forEach(function(x) { x[1].forEach(function(w) { var a = escapexml(w.a);\n\t\tif(iauthor.indexOf(a) == -1) {\n\t\t\tiauthor.push(a);\n\t\t\to.push(\"<author>\" + a + \"</author>\");\n\t\t}\n\t\tif(w.T && w.ID && iauthor.indexOf(\"tc=\" + w.ID) == -1) {\n\t\t\tiauthor.push(\"tc=\" + w.ID);\n\t\t\to.push(\"<author>\" + \"tc=\" + w.ID + \"</author>\");\n\t\t}\n\t}); });\n\tif(iauthor.length == 0) { iauthor.push(\"SheetJ5\"); o.push(\"<author>SheetJ5</author>\"); }\n\to.push(\"</authors>\");\n\to.push(\"<commentList>\");\n\tdata.forEach(function(d) {\n\t\t/* 18.7.3 CT_Comment */\n\t\tvar lastauthor = 0, ts = [];\n\t\tif(d[1][0] && d[1][0].T && d[1][0].ID) lastauthor = iauthor.indexOf(\"tc=\" + d[1][0].ID);\n\t\telse d[1].forEach(function(c) {\n\t\t\tif(c.a) lastauthor = iauthor.indexOf(escapexml(c.a));\n\t\t\tts.push(c.t||\"\");\n\t\t});\n\t\to.push('<comment ref=\"' + d[0] + '\" authorId=\"' + lastauthor + '\"><text>');\n\t\tif(ts.length <= 1) o.push(writetag(\"t\", escapexml(ts[0]||\"\")));\n\t\telse {\n\t\t\t/* based on Threaded Comments -> Comments projection */\n\t\t\tvar t = \"Comment:\\n    \" + (ts[0]) + \"\\n\";\n\t\t\tfor(var i = 1; i < ts.length; ++i) t += \"Reply:\\n    \" + ts[i] + \"\\n\";\n\t\t\to.push(writetag(\"t\", escapexml(t)));\n\t\t}\n\t\to.push('</text></comment>');\n\t});\n\to.push(\"</commentList>\");\n\tif(o.length>2) { o[o.length] = ('</comments>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSX] 2.1.17 */\nfunction parse_tcmnt_xml(data/*:string*/, opts)/*:Array<RawComment>*/ {\n\tvar out = [];\n\tvar pass = false, comment = {}, tidx = 0;\n\tdata.replace(tagregex, function xml_tcmnt(x, idx) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\n\t\t\t/* 2.6.207 ThreadedComments CT_ThreadedComments */\n\t\t\tcase '<ThreadedComments': break;\n\t\t\tcase '</ThreadedComments>': break;\n\n\t\t\t/* 2.6.205 threadedComment CT_ThreadedComment */\n\t\t\tcase '<threadedComment': comment = {author: y.personId, guid: y.id, ref: y.ref, T: 1}; break;\n\t\t\tcase '</threadedComment>': if(comment.t != null) out.push(comment); break;\n\n\t\t\tcase '<text>': case '<text': tidx = idx + x.length; break;\n\t\t\tcase '</text>': comment.t = data.slice(tidx, idx).replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\"); break;\n\n\t\t\t/* 2.6.206 mentions CT_ThreadedCommentMentions TODO */\n\t\t\tcase '<mentions': case '<mentions>': pass = true; break;\n\t\t\tcase '</mentions>': pass = false; break;\n\n\t\t\t/* 2.6.202 mention CT_Mention TODO */\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': case '<extLst/>': break;\n\t\t\t/* 18.2.7  ext CT_Extension + */\n\t\t\tcase '<ext': pass=true; break;\n\t\t\tcase '</ext>': pass=false; break;\n\n\t\t\tdefault: if(!pass && opts.WTF) throw new Error('unrecognized ' + y[0] + ' in threaded comments');\n\t\t}\n\t\treturn x;\n\t});\n\treturn out;\n}\n\nfunction write_tcmnt_xml(comments, people, opts) {\n\tvar o = [XML_HEADER, writextag('ThreadedComments', null, { 'xmlns': XMLNS.TCMNT }).replace(/[\\/]>/, \">\")];\n\tcomments.forEach(function(carr) {\n\t\tvar rootid = \"\";\n\t\t(carr[1] || []).forEach(function(c, idx) {\n\t\t\tif(!c.T) { delete c.ID; return; }\n\t\t\tif(c.a && people.indexOf(c.a) == -1) people.push(c.a);\n\t\t\tvar tcopts = {\n\t\t\t\tref: carr[0],\n\t\t\t\tid: \"{54EE7951-7262-4200-6969-\" + (\"000000000000\" + opts.tcid++).slice(-12) + \"}\"\n\t\t\t};\n\t\t\tif(idx == 0) rootid = tcopts.id;\n\t\t\telse tcopts.parentId = rootid;\n\t\t\tc.ID = tcopts.id;\n\t\t\tif(c.a) tcopts.personId = \"{54EE7950-7262-4200-6969-\" + (\"000000000000\" + people.indexOf(c.a)).slice(-12) + \"}\";\n\t\t\to.push(writextag('threadedComment', writetag('text', c.t||\"\"), tcopts));\n\t\t});\n\t});\n\to.push('</ThreadedComments>');\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSX] 2.1.18 */\nfunction parse_people_xml(data/*:string*/, opts) {\n\tvar out = [];\n\tvar pass = false;\n\tdata.replace(tagregex, function xml_tcmnt(x) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\n\t\t\t/* 2.4.85 personList CT_PersonList */\n\t\t\tcase '<personList': break;\n\t\t\tcase '</personList>': break;\n\n\t\t\t/* 2.6.203 person CT_Person TODO: providers */\n\t\t\tcase '<person': out.push({name: y.displayname, id: y.id }); break;\n\t\t\tcase '</person>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': case '<extLst/>': break;\n\t\t\t/* 18.2.7  ext CT_Extension + */\n\t\t\tcase '<ext': pass=true; break;\n\t\t\tcase '</ext>': pass=false; break;\n\n\t\t\tdefault: if(!pass && opts.WTF) throw new Error('unrecognized ' + y[0] + ' in threaded comments');\n\t\t}\n\t\treturn x;\n\t});\n\treturn out;\n}\nfunction write_people_xml(people/*, opts*/) {\n\tvar o = [XML_HEADER, writextag('personList', null, {\n\t\t'xmlns': XMLNS.TCMNT,\n\t\t'xmlns:x': XMLNS_main[0]\n\t}).replace(/[\\/]>/, \">\")];\n\tpeople.forEach(function(person, idx) {\n\t\to.push(writextag('person', null, {\n\t\t\tdisplayName: person,\n\t\t\tid: \"{54EE7950-7262-4200-6969-\" + (\"000000000000\" + idx).slice(-12) + \"}\",\n\t\t\tuserId: person,\n\t\t\tproviderId: \"None\"\n\t\t}));\n\t});\n\to.push(\"</personList>\");\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.28 BrtBeginComment */\nfunction parse_BrtBeginComment(data) {\n\tvar out = {};\n\tout.iauthor = data.read_shift(4);\n\tvar rfx = parse_UncheckedRfX(data, 16);\n\tout.rfx = rfx.s;\n\tout.ref = encode_cell(rfx.s);\n\tdata.l += 16; /*var guid = parse_GUID(data); */\n\treturn out;\n}\nfunction write_BrtBeginComment(data, o) {\n\tif(o == null) o = new_buf(36);\n\to.write_shift(4, data[1].iauthor);\n\twrite_UncheckedRfX((data[0]/*:any*/), o);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.327 BrtCommentAuthor */\nvar parse_BrtCommentAuthor = parse_XLWideString;\nfunction write_BrtCommentAuthor(data) { return write_XLWideString(data.slice(0, 54)); }\n\n/* [MS-XLSB] 2.1.7.8 Comments */\nfunction parse_comments_bin(data, opts)/*:Array<RawComment>*/ {\n\tvar out/*:Array<RawComment>*/ = [];\n\tvar authors/*:Array<string>*/ = [];\n\tvar c = {};\n\tvar pass = false;\n\trecordhopper(data, function hopper_cmnt(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x0278: /* 'BrtCommentAuthor' */\n\t\t\t\tauthors.push(val); break;\n\t\t\tcase 0x027B: /* 'BrtBeginComment' */\n\t\t\t\tc = val; break;\n\t\t\tcase 0x027D: /* 'BrtCommentText' */\n\t\t\t\tc.t = val.t; c.h = val.h; c.r = val.r; break;\n\t\t\tcase 0x027C: /* 'BrtEndComment' */\n\t\t\t\tc.author = authors[c.iauthor];\n\t\t\t\tdelete (c/*:any*/).iauthor;\n\t\t\t\tif(opts.sheetRows && c.rfx && opts.sheetRows <= c.rfx.r) break;\n\t\t\t\tif(!c.t) c.t = \"\";\n\t\t\t\tdelete c.rfx; out.push(c); break;\n\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */ break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */ break;\n\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn out;\n}\n\nfunction write_comments_bin(data/*::, opts*/) {\n\tvar ba = buf_array();\n\tvar iauthor/*:Array<string>*/ = [];\n\twrite_record(ba, 0x0274 /* BrtBeginComments */);\n\n\twrite_record(ba, 0x0276 /* BrtBeginCommentAuthors */);\n\tdata.forEach(function(comment) {\n\t\tcomment[1].forEach(function(c) {\n\t\t\tif(iauthor.indexOf(c.a) > -1) return;\n\t\t\tiauthor.push(c.a.slice(0,54));\n\t\t\twrite_record(ba, 0x0278 /* BrtCommentAuthor */, write_BrtCommentAuthor(c.a));\n\t\t});\n\t});\n\twrite_record(ba, 0x0277 /* BrtEndCommentAuthors */);\n\n\twrite_record(ba, 0x0279 /* BrtBeginCommentList */);\n\tdata.forEach(function(comment) {\n\t\tcomment[1].forEach(function(c) {\n\t\t\tc.iauthor = iauthor.indexOf(c.a);\n\t\t\tvar range = {s:decode_cell(comment[0]),e:decode_cell(comment[0])};\n\t\t\twrite_record(ba, 0x027B /* BrtBeginComment */, write_BrtBeginComment([range, c]));\n\t\t\tif(c.t && c.t.length > 0) write_record(ba, 0x027D /* BrtCommentText */, write_BrtCommentText(c));\n\t\t\twrite_record(ba, 0x027C /* BrtEndComment */);\n\t\t\tdelete c.iauthor;\n\t\t});\n\t});\n\twrite_record(ba, 0x027A /* BrtEndCommentList */);\n\n\twrite_record(ba, 0x0275 /* BrtEndComments */);\n\treturn ba.end();\n}\nvar CT_VBA = \"application/vnd.ms-office.vbaProject\";\nfunction make_vba_xls(cfb) {\n  var newcfb = CFB.utils.cfb_new({ root: \"R\" });\n  cfb.FullPaths.forEach(function(p, i) {\n    if (p.slice(-1) === \"/\" || !p.match(/_VBA_PROJECT_CUR/))\n      return;\n    var newpath = p.replace(/^[^\\/]*/, \"R\").replace(/\\/_VBA_PROJECT_CUR\\u0000*/, \"\");\n    CFB.utils.cfb_add(newcfb, newpath, cfb.FileIndex[i].content);\n  });\n  return CFB.write(newcfb);\n}\nfunction fill_vba_xls(cfb, vba) {\n  vba.FullPaths.forEach(function(p, i) {\n    if (i == 0)\n      return;\n    var newpath = p.replace(/[^\\/]*[\\/]/, \"/_VBA_PROJECT_CUR/\");\n    if (newpath.slice(-1) !== \"/\")\n      CFB.utils.cfb_add(cfb, newpath, vba.FileIndex[i].content);\n  });\n}\nvar VBAFMTS = [\"xlsb\", \"xlsm\", \"xlam\", \"biff8\", \"xla\"];\n/* macro and dialog sheet stubs */\nfunction parse_ds_bin(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'dialog'}; }\nfunction parse_ds_xml(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'dialog'}; }\nfunction parse_ms_bin(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'macro'}; }\nfunction parse_ms_xml(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'macro'}; }\n/* TODO: it will be useful to parse the function str */\nvar rc_to_a1 = /*#__PURE__*/(function(){\n\tvar rcregex = /(^|[^A-Za-z_])R(\\[?-?\\d+\\]|[1-9]\\d*|)C(\\[?-?\\d+\\]|[1-9]\\d*|)(?![A-Za-z0-9_])/g;\n\tvar rcbase/*:Cell*/ = ({r:0,c:0}/*:any*/);\n\tfunction rcfunc($$,$1,$2,$3) {\n\t\tvar cRel = false, rRel = false;\n\n\t\tif($2.length == 0) rRel = true;\n\t\telse if($2.charAt(0) == \"[\") { rRel = true; $2 = $2.slice(1, -1); }\n\n\t\tif($3.length == 0) cRel = true;\n\t\telse if($3.charAt(0) == \"[\") { cRel = true; $3 = $3.slice(1, -1); }\n\n\t\tvar R = $2.length>0?parseInt($2,10)|0:0, C = $3.length>0?parseInt($3,10)|0:0;\n\n\t\tif(cRel) C += rcbase.c; else --C;\n\t\tif(rRel) R += rcbase.r; else --R;\n\t\treturn $1 + (cRel ? \"\" : \"$\") + encode_col(C) + (rRel ? \"\" : \"$\") + encode_row(R);\n\t}\n\treturn function rc_to_a1(fstr/*:string*/, base/*:Cell*/)/*:string*/ {\n\t\trcbase = base;\n\t\treturn fstr.replace(rcregex, rcfunc);\n\t};\n})();\n\nvar crefregex = /(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5})(?![_.\\(A-Za-z0-9])/g;\nvar a1_to_rc = /*#__PURE__*/(function(){\n\treturn function a1_to_rc(fstr/*:string*/, base/*:CellAddress*/) {\n\t\treturn fstr.replace(crefregex, function($0, $1, $2, $3, $4, $5) {\n\t\t\tvar c = decode_col($3) - ($2 ? 0 : base.c);\n\t\t\tvar r = decode_row($5) - ($4 ? 0 : base.r);\n\t\t\tvar R = (r == 0 ? \"\" : !$4 ? \"[\" + r + \"]\" : (r+1));\n\t\t\tvar C = (c == 0 ? \"\" : !$2 ? \"[\" + c + \"]\" : (c+1));\n\t\t\treturn $1 + \"R\" + R + \"C\" + C;\n\t\t});\n\t};\n})();\n\n/* no defined name can collide with a valid cell address A1:XFD1048576 ... except LOG10! */\nfunction shift_formula_str(f/*:string*/, delta/*:Cell*/)/*:string*/ {\n\treturn f.replace(crefregex, function($0, $1, $2, $3, $4, $5) {\n\t\treturn $1+($2==\"$\" ? $2+$3 : encode_col(decode_col($3)+delta.c))+($4==\"$\" ? $4+$5 : encode_row(decode_row($5) + delta.r));\n\t});\n}\n\nfunction shift_formula_xlsx(f/*:string*/, range/*:string*/, cell/*:string*/)/*:string*/ {\n\tvar r = decode_range(range), s = r.s, c = decode_cell(cell);\n\tvar delta = {r:c.r - s.r, c:c.c - s.c};\n\treturn shift_formula_str(f, delta);\n}\n\n/* TODO: parse formula */\nfunction fuzzyfmla(f/*:string*/)/*:boolean*/ {\n\tif(f.length == 1) return false;\n\treturn true;\n}\n\nfunction _xlfn(f/*:string*/)/*:string*/ {\n\treturn f.replace(/_xlfn\\./g,\"\");\n}\nfunction parseread1(blob) { blob.l+=1; return; }\n\n/* [MS-XLS] 2.5.51 */\nfunction parse_ColRelU(blob, length) {\n\tvar c = blob.read_shift(length == 1 ? 1 : 2);\n\treturn [c & 0x3FFF, (c >> 14) & 1, (c >> 15) & 1];\n}\n\n/* [MS-XLS] 2.5.198.105 ; [MS-XLSB] 2.5.97.89 */\nfunction parse_RgceArea(blob, length, opts) {\n\tvar w = 2;\n\tif(opts) {\n\t\tif(opts.biff >= 2 && opts.biff <= 5) return parse_RgceArea_BIFF2(blob, length, opts);\n\t\telse if(opts.biff == 12) w = 4;\n\t}\n\tvar r=blob.read_shift(w), R=blob.read_shift(w);\n\tvar c=parse_ColRelU(blob, 2);\n\tvar C=parse_ColRelU(blob, 2);\n\treturn { s:{r:r, c:c[0], cRel:c[1], rRel:c[2]}, e:{r:R, c:C[0], cRel:C[1], rRel:C[2]} };\n}\n/* BIFF 2-5 encodes flags in the row field */\nfunction parse_RgceArea_BIFF2(blob/*::, length, opts*/) {\n\tvar r=parse_ColRelU(blob, 2), R=parse_ColRelU(blob, 2);\n\tvar c=blob.read_shift(1);\n\tvar C=blob.read_shift(1);\n\treturn { s:{r:r[0], c:c, cRel:r[1], rRel:r[2]}, e:{r:R[0], c:C, cRel:R[1], rRel:R[2]} };\n}\n\n/* [MS-XLS] 2.5.198.105 ; [MS-XLSB] 2.5.97.90 */\nfunction parse_RgceAreaRel(blob, length, opts) {\n\tif(opts.biff < 8) return parse_RgceArea_BIFF2(blob, length, opts);\n\tvar r=blob.read_shift(opts.biff == 12 ? 4 : 2), R=blob.read_shift(opts.biff == 12 ? 4 : 2);\n\tvar c=parse_ColRelU(blob, 2);\n\tvar C=parse_ColRelU(blob, 2);\n\treturn { s:{r:r, c:c[0], cRel:c[1], rRel:c[2]}, e:{r:R, c:C[0], cRel:C[1], rRel:C[2]} };\n}\n\n/* [MS-XLS] 2.5.198.109 ; [MS-XLSB] 2.5.97.91 */\nfunction parse_RgceLoc(blob, length, opts) {\n\tif(opts && opts.biff >= 2 && opts.biff <= 5) return parse_RgceLoc_BIFF2(blob, length, opts);\n\tvar r = blob.read_shift(opts && opts.biff == 12 ? 4 : 2);\n\tvar c = parse_ColRelU(blob, 2);\n\treturn {r:r, c:c[0], cRel:c[1], rRel:c[2]};\n}\nfunction parse_RgceLoc_BIFF2(blob/*::, length, opts*/) {\n\tvar r = parse_ColRelU(blob, 2);\n\tvar c = blob.read_shift(1);\n\treturn {r:r[0], c:c, cRel:r[1], rRel:r[2]};\n}\n\n/* [MS-XLS] 2.5.198.107, 2.5.47 */\nfunction parse_RgceElfLoc(blob/*::, length, opts*/) {\n\tvar r = blob.read_shift(2);\n\tvar c = blob.read_shift(2);\n\treturn {r:r, c:c & 0xFF, fQuoted:!!(c & 0x4000), cRel:c>>15, rRel:c>>15 };\n}\n\n/* [MS-XLS] 2.5.198.111 ; [MS-XLSB] 2.5.97.92 TODO */\nfunction parse_RgceLocRel(blob, length, opts) {\n\tvar biff = opts && opts.biff ? opts.biff : 8;\n\tif(biff >= 2 && biff <= 5) return parse_RgceLocRel_BIFF2(blob, length, opts);\n\tvar r = blob.read_shift(biff >= 12 ? 4 : 2);\n\tvar cl = blob.read_shift(2);\n\tvar cRel = (cl & 0x4000) >> 14, rRel = (cl & 0x8000) >> 15;\n\tcl &= 0x3FFF;\n\tif(rRel == 1) while(r > 0x7FFFF) r -= 0x100000;\n\tif(cRel == 1) while(cl > 0x1FFF) cl = cl - 0x4000;\n\treturn {r:r,c:cl,cRel:cRel,rRel:rRel};\n}\nfunction parse_RgceLocRel_BIFF2(blob/*::, length:number, opts*/) {\n\tvar rl = blob.read_shift(2);\n\tvar c = blob.read_shift(1);\n\tvar rRel = (rl & 0x8000) >> 15, cRel = (rl & 0x4000) >> 14;\n\trl &= 0x3FFF;\n\tif(rRel == 1 && rl >= 0x2000) rl = rl - 0x4000;\n\tif(cRel == 1 && c >= 0x80) c = c - 0x100;\n\treturn {r:rl,c:c,cRel:cRel,rRel:rRel};\n}\n\n/* [MS-XLS] 2.5.198.27 ; [MS-XLSB] 2.5.97.18 */\nfunction parse_PtgArea(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar area = parse_RgceArea(blob, opts.biff >= 2 && opts.biff <= 5 ? 6 : 8, opts);\n\treturn [type, area];\n}\n\n/* [MS-XLS] 2.5.198.28 ; [MS-XLSB] 2.5.97.19 */\nfunction parse_PtgArea3d(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar ixti = blob.read_shift(2, 'i');\n\tvar w = 8;\n\tif(opts) switch(opts.biff) {\n\t\tcase 5: blob.l += 12; w = 6; break;\n\t\tcase 12: w = 12; break;\n\t}\n\tvar area = parse_RgceArea(blob, w, opts);\n\treturn [type, ixti, area];\n}\n\n/* [MS-XLS] 2.5.198.29 ; [MS-XLSB] 2.5.97.20 */\nfunction parse_PtgAreaErr(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tblob.l += opts && (opts.biff > 8) ? 12 : (opts.biff < 8 ? 6 : 8);\n\treturn [type];\n}\n/* [MS-XLS] 2.5.198.30 ; [MS-XLSB] 2.5.97.21 */\nfunction parse_PtgAreaErr3d(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar ixti = blob.read_shift(2);\n\tvar w = 8;\n\tif(opts) switch(opts.biff) {\n\t\tcase 5: blob.l += 12; w = 6; break;\n\t\tcase 12: w = 12; break;\n\t}\n\tblob.l += w;\n\treturn [type, ixti];\n}\n\n/* [MS-XLS] 2.5.198.31 ; [MS-XLSB] 2.5.97.22 */\nfunction parse_PtgAreaN(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar area = parse_RgceAreaRel(blob, length - 1, opts);\n\treturn [type, area];\n}\n\n/* [MS-XLS] 2.5.198.32 ; [MS-XLSB] 2.5.97.23 */\nfunction parse_PtgArray(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tblob.l += opts.biff == 2 ? 6 : opts.biff == 12 ? 14 : 7;\n\treturn [type];\n}\n\n/* [MS-XLS] 2.5.198.33 ; [MS-XLSB] 2.5.97.24 */\nfunction parse_PtgAttrBaxcel(blob) {\n\tvar bitSemi = blob[blob.l+1] & 0x01; /* 1 = volatile */\n\tvar bitBaxcel = 1;\n\tblob.l += 4;\n\treturn [bitSemi, bitBaxcel];\n}\n\n/* [MS-XLS] 2.5.198.34 ; [MS-XLSB] 2.5.97.25 */\nfunction parse_PtgAttrChoose(blob, length, opts)/*:Array<number>*/ {\n\tblob.l +=2;\n\tvar offset = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\tvar o/*:Array<number>*/ = [];\n\t/* offset is 1 less than the number of elements */\n\tfor(var i = 0; i <= offset; ++i) o.push(blob.read_shift(opts && opts.biff == 2 ? 1 : 2));\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.198.35 ; [MS-XLSB] 2.5.97.26 */\nfunction parse_PtgAttrGoto(blob, length, opts) {\n\tvar bitGoto = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += 2;\n\treturn [bitGoto, blob.read_shift(opts && opts.biff == 2 ? 1 : 2)];\n}\n\n/* [MS-XLS] 2.5.198.36 ; [MS-XLSB] 2.5.97.27 */\nfunction parse_PtgAttrIf(blob, length, opts) {\n\tvar bitIf = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += 2;\n\treturn [bitIf, blob.read_shift(opts && opts.biff == 2 ? 1 : 2)];\n}\n\n/* [MS-XLSB] 2.5.97.28 */\nfunction parse_PtgAttrIfError(blob) {\n\tvar bitIf = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += 2;\n\treturn [bitIf, blob.read_shift(2)];\n}\n\n/* [MS-XLS] 2.5.198.37 ; [MS-XLSB] 2.5.97.29 */\nfunction parse_PtgAttrSemi(blob, length, opts) {\n\tvar bitSemi = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += opts && opts.biff == 2 ? 3 : 4;\n\treturn [bitSemi];\n}\n\n/* [MS-XLS] 2.5.198.40 ; [MS-XLSB] 2.5.97.32 */\nfunction parse_PtgAttrSpaceType(blob/*::, length*/) {\n\tvar type = blob.read_shift(1), cch = blob.read_shift(1);\n\treturn [type, cch];\n}\n\n/* [MS-XLS] 2.5.198.38 ; [MS-XLSB] 2.5.97.30 */\nfunction parse_PtgAttrSpace(blob) {\n\tblob.read_shift(2);\n\treturn parse_PtgAttrSpaceType(blob, 2);\n}\n\n/* [MS-XLS] 2.5.198.39 ; [MS-XLSB] 2.5.97.31 */\nfunction parse_PtgAttrSpaceSemi(blob) {\n\tblob.read_shift(2);\n\treturn parse_PtgAttrSpaceType(blob, 2);\n}\n\n/* [MS-XLS] 2.5.198.84 ; [MS-XLSB] 2.5.97.68 TODO */\nfunction parse_PtgRef(blob, length, opts) {\n\t//var ptg = blob[blob.l] & 0x1F;\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar loc = parse_RgceLoc(blob, 0, opts);\n\treturn [type, loc];\n}\n\n/* [MS-XLS] 2.5.198.88 ; [MS-XLSB] 2.5.97.72 TODO */\nfunction parse_PtgRefN(blob, length, opts) {\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar loc = parse_RgceLocRel(blob, 0, opts);\n\treturn [type, loc];\n}\n\n/* [MS-XLS] 2.5.198.85 ; [MS-XLSB] 2.5.97.69 TODO */\nfunction parse_PtgRef3d(blob, length, opts) {\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar ixti = blob.read_shift(2); // XtiIndex\n\tif(opts && opts.biff == 5) blob.l += 12;\n\tvar loc = parse_RgceLoc(blob, 0, opts); // TODO: or RgceLocRel\n\treturn [type, ixti, loc];\n}\n\n\n/* [MS-XLS] 2.5.198.62 ; [MS-XLSB] 2.5.97.45 TODO */\nfunction parse_PtgFunc(blob, length, opts) {\n\t//var ptg = blob[blob.l] & 0x1F;\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar iftab = blob.read_shift(opts && opts.biff <= 3 ? 1 : 2);\n\treturn [FtabArgc[iftab], Ftab[iftab], type];\n}\n/* [MS-XLS] 2.5.198.63 ; [MS-XLSB] 2.5.97.46 TODO */\nfunction parse_PtgFuncVar(blob, length, opts) {\n\tvar type = blob[blob.l++];\n\tvar cparams = blob.read_shift(1), tab = opts && opts.biff <= 3 ? [(type == 0x58 ? -1 : 0), blob.read_shift(1)]: parsetab(blob);\n\treturn [cparams, (tab[0] === 0 ? Ftab : Cetab)[tab[1]]];\n}\n\nfunction parsetab(blob) {\n\treturn [blob[blob.l+1]>>7, blob.read_shift(2) & 0x7FFF];\n}\n\n/* [MS-XLS] 2.5.198.41 ; [MS-XLSB] 2.5.97.33 */\nfunction parse_PtgAttrSum(blob, length, opts) {\n\tblob.l += opts && opts.biff == 2 ? 3 : 4; return;\n}\n\n/* [MS-XLS] 2.5.198.58 ; [MS-XLSB] 2.5.97.40 */\nfunction parse_PtgExp(blob, length, opts) {\n\tblob.l++;\n\tif(opts && opts.biff == 12) return [blob.read_shift(4, 'i'), 0];\n\tvar row = blob.read_shift(2);\n\tvar col = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\treturn [row, col];\n}\n\n/* [MS-XLS] 2.5.198.57 ; [MS-XLSB] 2.5.97.39 */\nfunction parse_PtgErr(blob) { blob.l++; return BErr[blob.read_shift(1)]; }\n\n/* [MS-XLS] 2.5.198.66 ; [MS-XLSB] 2.5.97.49 */\nfunction parse_PtgInt(blob) { blob.l++; return blob.read_shift(2); }\n\n/* [MS-XLS] 2.5.198.42 ; [MS-XLSB] 2.5.97.34 */\nfunction parse_PtgBool(blob) { blob.l++; return blob.read_shift(1)!==0;}\n\n/* [MS-XLS] 2.5.198.79 ; [MS-XLSB] 2.5.97.63 */\nfunction parse_PtgNum(blob) { blob.l++; return parse_Xnum(blob, 8); }\n\n/* [MS-XLS] 2.5.198.89 ; [MS-XLSB] 2.5.97.74 */\nfunction parse_PtgStr(blob, length, opts) { blob.l++; return parse_ShortXLUnicodeString(blob, length-1, opts); }\n\n/* [MS-XLS] 2.5.192.112 + 2.5.192.11{3,4,5,6,7} */\n/* [MS-XLSB] 2.5.97.93 + 2.5.97.9{4,5,6,7} */\nfunction parse_SerAr(blob, biff/*:number*/) {\n\tvar val = [blob.read_shift(1)];\n\tif(biff == 12) switch(val[0]) {\n\t\tcase 0x02: val[0] = 0x04; break; /* SerBool */\n\t\tcase 0x04: val[0] = 0x10; break; /* SerErr */\n\t\tcase 0x00: val[0] = 0x01; break; /* SerNum */\n\t\tcase 0x01: val[0] = 0x02; break; /* SerStr */\n\t}\n\tswitch(val[0]) {\n\t\tcase 0x04: /* SerBool -- boolean */\n\t\t\tval[1] = parsebool(blob, 1) ? 'TRUE' : 'FALSE';\n\t\t\tif(biff != 12) blob.l += 7; break;\n\t\tcase 0x25: /* appears to be an alias */\n\t\tcase 0x10: /* SerErr -- error */\n\t\t\tval[1] = BErr[blob[blob.l]];\n\t\t\tblob.l += ((biff == 12) ? 4 : 8); break;\n\t\tcase 0x00: /* SerNil -- honestly, I'm not sure how to reproduce this */\n\t\t\tblob.l += 8; break;\n\t\tcase 0x01: /* SerNum -- Xnum */\n\t\t\tval[1] = parse_Xnum(blob, 8); break;\n\t\tcase 0x02: /* SerStr -- XLUnicodeString (<256 chars) */\n\t\t\tval[1] = parse_XLUnicodeString2(blob, 0, {biff:biff > 0 && biff < 8 ? 2 : biff}); break;\n\t\tdefault: throw new Error(\"Bad SerAr: \" + val[0]); /* Unreachable */\n\t}\n\treturn val;\n}\n\n/* [MS-XLS] 2.5.198.61 ; [MS-XLSB] 2.5.97.44 */\nfunction parse_PtgExtraMem(blob, cce, opts) {\n\tvar count = blob.read_shift((opts.biff == 12) ? 4 : 2);\n\tvar out/*:Array<Range>*/ = [];\n\tfor(var i = 0; i != count; ++i) out.push(((opts.biff == 12) ? parse_UncheckedRfX : parse_Ref8U)(blob, 8));\n\treturn out;\n}\n\n/* [MS-XLS] 2.5.198.59 ; [MS-XLSB] 2.5.97.41 */\nfunction parse_PtgExtraArray(blob, length, opts) {\n\tvar rows = 0, cols = 0;\n\tif(opts.biff == 12) {\n\t\trows = blob.read_shift(4); // DRw\n\t\tcols = blob.read_shift(4); // DCol\n\t} else {\n\t\tcols = 1 + blob.read_shift(1); //DColByteU\n\t\trows = 1 + blob.read_shift(2); //DRw\n\t}\n\tif(opts.biff >= 2 && opts.biff < 8) { --rows; if(--cols == 0) cols = 0x100; }\n\t// $FlowIgnore\n\tfor(var i = 0, o/*:Array<Array<any>>*/ = []; i != rows && (o[i] = []); ++i)\n\t\tfor(var j = 0; j != cols; ++j) o[i][j] = parse_SerAr(blob, opts.biff);\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.198.76 ; [MS-XLSB] 2.5.97.60 */\nfunction parse_PtgName(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar w = (!opts || (opts.biff >= 8)) ? 4 : 2;\n\tvar nameindex = blob.read_shift(w);\n\tswitch(opts.biff) {\n\t\tcase 2: blob.l += 5; break;\n\t\tcase 3: case 4: blob.l += 8; break;\n\t\tcase 5: blob.l += 12; break;\n\t}\n\treturn [type, 0, nameindex];\n}\n\n/* [MS-XLS] 2.5.198.77 ; [MS-XLSB] 2.5.97.61 */\nfunction parse_PtgNameX(blob, length, opts) {\n\tif(opts.biff == 5) return parse_PtgNameX_BIFF5(blob, length, opts);\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar ixti = blob.read_shift(2); // XtiIndex\n\tvar nameindex = blob.read_shift(4);\n\treturn [type, ixti, nameindex];\n}\nfunction parse_PtgNameX_BIFF5(blob/*::, length, opts*/) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar ixti = blob.read_shift(2, 'i'); // XtiIndex\n\tblob.l += 8;\n\tvar nameindex = blob.read_shift(2);\n\tblob.l += 12;\n\treturn [type, ixti, nameindex];\n}\n\n/* [MS-XLS] 2.5.198.70 ; [MS-XLSB] 2.5.97.54 */\nfunction parse_PtgMemArea(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tblob.l += (opts && opts.biff == 2 ? 3 : 4);\n\tvar cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\treturn [type, cce];\n}\n\n/* [MS-XLS] 2.5.198.72 ; [MS-XLSB] 2.5.97.56 */\nfunction parse_PtgMemFunc(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\treturn [type, cce];\n}\n\n\n/* [MS-XLS] 2.5.198.86 ; [MS-XLSB] 2.5.97.69 */\nfunction parse_PtgRefErr(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tblob.l += 4;\n\tif(opts.biff < 8) blob.l--;\n\tif(opts.biff == 12) blob.l += 2;\n\treturn [type];\n}\n\n/* [MS-XLS] 2.5.198.87 ; [MS-XLSB] 2.5.97.71 */\nfunction parse_PtgRefErr3d(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar ixti = blob.read_shift(2);\n\tvar w = 4;\n\tif(opts) switch(opts.biff) {\n\t\tcase 5: w = 15; break;\n\t\tcase 12: w = 6; break;\n\t}\n\tblob.l += w;\n\treturn [type, ixti];\n}\n\n/* [MS-XLS] 2.5.198.71 ; [MS-XLSB] 2.5.97.55 */\nvar parse_PtgMemErr = parsenoop;\n/* [MS-XLS] 2.5.198.73  ; [MS-XLSB] 2.5.97.57 */\nvar parse_PtgMemNoMem = parsenoop;\n/* [MS-XLS] 2.5.198.92 */\nvar parse_PtgTbl = parsenoop;\n\nfunction parse_PtgElfLoc(blob, length, opts) {\n\tblob.l += 2;\n\treturn [parse_RgceElfLoc(blob, 4, opts)];\n}\nfunction parse_PtgElfNoop(blob/*::, length, opts*/) {\n\tblob.l += 6;\n\treturn [];\n}\n/* [MS-XLS] 2.5.198.46 */\nvar parse_PtgElfCol = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.47 */\nvar parse_PtgElfColS = parse_PtgElfNoop;\n/* [MS-XLS] 2.5.198.48 */\nvar parse_PtgElfColSV = parse_PtgElfNoop;\n/* [MS-XLS] 2.5.198.49 */\nvar parse_PtgElfColV = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.50 */\nfunction parse_PtgElfLel(blob/*::, length, opts*/) {\n\tblob.l += 2;\n\treturn [parseuint16(blob), blob.read_shift(2) & 0x01];\n}\n/* [MS-XLS] 2.5.198.51 */\nvar parse_PtgElfRadical = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.52 */\nvar parse_PtgElfRadicalLel = parse_PtgElfLel;\n/* [MS-XLS] 2.5.198.53 */\nvar parse_PtgElfRadicalS = parse_PtgElfNoop;\n/* [MS-XLS] 2.5.198.54 */\nvar parse_PtgElfRw = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.55 */\nvar parse_PtgElfRwV = parse_PtgElfLoc;\n\n/* [MS-XLSB] 2.5.97.52 TODO */\nvar PtgListRT = [\n\t\"Data\",\n\t\"All\",\n\t\"Headers\",\n\t\"??\",\n\t\"?Data2\",\n\t\"??\",\n\t\"?DataHeaders\",\n\t\"??\",\n\t\"Totals\",\n\t\"??\",\n\t\"??\",\n\t\"??\",\n\t\"?DataTotals\",\n\t\"??\",\n\t\"??\",\n\t\"??\",\n\t\"?Current\"\n];\nfunction parse_PtgList(blob/*::, length, opts*/) {\n\tblob.l += 2;\n\tvar ixti = blob.read_shift(2);\n\tvar flags = blob.read_shift(2);\n\tvar idx = blob.read_shift(4);\n\tvar c = blob.read_shift(2);\n\tvar C = blob.read_shift(2);\n\tvar rt = PtgListRT[(flags >> 2) & 0x1F];\n\treturn {ixti: ixti, coltype:(flags&0x3), rt:rt, idx:idx, c:c, C:C};\n}\n/* [MS-XLS] 2.5.198.91 ; [MS-XLSB] 2.5.97.76 */\nfunction parse_PtgSxName(blob/*::, length, opts*/) {\n\tblob.l += 2;\n\treturn [blob.read_shift(4)];\n}\n\n/* [XLS] old spec */\nfunction parse_PtgSheet(blob, length, opts) {\n\tblob.l += 5;\n\tblob.l += 2;\n\tblob.l += (opts.biff == 2 ? 1 : 4);\n\treturn [\"PTGSHEET\"];\n}\nfunction parse_PtgEndSheet(blob, length, opts) {\n\tblob.l += (opts.biff == 2 ? 4 : 5);\n\treturn [\"PTGENDSHEET\"];\n}\nfunction parse_PtgMemAreaN(blob/*::, length, opts*/) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar cce = blob.read_shift(2);\n\treturn [type, cce];\n}\nfunction parse_PtgMemNoMemN(blob/*::, length, opts*/) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar cce = blob.read_shift(2);\n\treturn [type, cce];\n}\nfunction parse_PtgAttrNoop(blob/*::, length, opts*/) {\n\tblob.l += 4;\n\treturn [0, 0];\n}\n\n/* [MS-XLS] 2.5.198.25 ; [MS-XLSB] 2.5.97.16 */\nvar PtgTypes = {\n\t/*::[*/0x01/*::]*/: { n:'PtgExp', f:parse_PtgExp },\n\t/*::[*/0x02/*::]*/: { n:'PtgTbl', f:parse_PtgTbl },\n\t/*::[*/0x03/*::]*/: { n:'PtgAdd', f:parseread1 },\n\t/*::[*/0x04/*::]*/: { n:'PtgSub', f:parseread1 },\n\t/*::[*/0x05/*::]*/: { n:'PtgMul', f:parseread1 },\n\t/*::[*/0x06/*::]*/: { n:'PtgDiv', f:parseread1 },\n\t/*::[*/0x07/*::]*/: { n:'PtgPower', f:parseread1 },\n\t/*::[*/0x08/*::]*/: { n:'PtgConcat', f:parseread1 },\n\t/*::[*/0x09/*::]*/: { n:'PtgLt', f:parseread1 },\n\t/*::[*/0x0A/*::]*/: { n:'PtgLe', f:parseread1 },\n\t/*::[*/0x0B/*::]*/: { n:'PtgEq', f:parseread1 },\n\t/*::[*/0x0C/*::]*/: { n:'PtgGe', f:parseread1 },\n\t/*::[*/0x0D/*::]*/: { n:'PtgGt', f:parseread1 },\n\t/*::[*/0x0E/*::]*/: { n:'PtgNe', f:parseread1 },\n\t/*::[*/0x0F/*::]*/: { n:'PtgIsect', f:parseread1 },\n\t/*::[*/0x10/*::]*/: { n:'PtgUnion', f:parseread1 },\n\t/*::[*/0x11/*::]*/: { n:'PtgRange', f:parseread1 },\n\t/*::[*/0x12/*::]*/: { n:'PtgUplus', f:parseread1 },\n\t/*::[*/0x13/*::]*/: { n:'PtgUminus', f:parseread1 },\n\t/*::[*/0x14/*::]*/: { n:'PtgPercent', f:parseread1 },\n\t/*::[*/0x15/*::]*/: { n:'PtgParen', f:parseread1 },\n\t/*::[*/0x16/*::]*/: { n:'PtgMissArg', f:parseread1 },\n\t/*::[*/0x17/*::]*/: { n:'PtgStr', f:parse_PtgStr },\n\t/*::[*/0x1A/*::]*/: { n:'PtgSheet', f:parse_PtgSheet },\n\t/*::[*/0x1B/*::]*/: { n:'PtgEndSheet', f:parse_PtgEndSheet },\n\t/*::[*/0x1C/*::]*/: { n:'PtgErr', f:parse_PtgErr },\n\t/*::[*/0x1D/*::]*/: { n:'PtgBool', f:parse_PtgBool },\n\t/*::[*/0x1E/*::]*/: { n:'PtgInt', f:parse_PtgInt },\n\t/*::[*/0x1F/*::]*/: { n:'PtgNum', f:parse_PtgNum },\n\t/*::[*/0x20/*::]*/: { n:'PtgArray', f:parse_PtgArray },\n\t/*::[*/0x21/*::]*/: { n:'PtgFunc', f:parse_PtgFunc },\n\t/*::[*/0x22/*::]*/: { n:'PtgFuncVar', f:parse_PtgFuncVar },\n\t/*::[*/0x23/*::]*/: { n:'PtgName', f:parse_PtgName },\n\t/*::[*/0x24/*::]*/: { n:'PtgRef', f:parse_PtgRef },\n\t/*::[*/0x25/*::]*/: { n:'PtgArea', f:parse_PtgArea },\n\t/*::[*/0x26/*::]*/: { n:'PtgMemArea', f:parse_PtgMemArea },\n\t/*::[*/0x27/*::]*/: { n:'PtgMemErr', f:parse_PtgMemErr },\n\t/*::[*/0x28/*::]*/: { n:'PtgMemNoMem', f:parse_PtgMemNoMem },\n\t/*::[*/0x29/*::]*/: { n:'PtgMemFunc', f:parse_PtgMemFunc },\n\t/*::[*/0x2A/*::]*/: { n:'PtgRefErr', f:parse_PtgRefErr },\n\t/*::[*/0x2B/*::]*/: { n:'PtgAreaErr', f:parse_PtgAreaErr },\n\t/*::[*/0x2C/*::]*/: { n:'PtgRefN', f:parse_PtgRefN },\n\t/*::[*/0x2D/*::]*/: { n:'PtgAreaN', f:parse_PtgAreaN },\n\t/*::[*/0x2E/*::]*/: { n:'PtgMemAreaN', f:parse_PtgMemAreaN },\n\t/*::[*/0x2F/*::]*/: { n:'PtgMemNoMemN', f:parse_PtgMemNoMemN },\n\t/*::[*/0x39/*::]*/: { n:'PtgNameX', f:parse_PtgNameX },\n\t/*::[*/0x3A/*::]*/: { n:'PtgRef3d', f:parse_PtgRef3d },\n\t/*::[*/0x3B/*::]*/: { n:'PtgArea3d', f:parse_PtgArea3d },\n\t/*::[*/0x3C/*::]*/: { n:'PtgRefErr3d', f:parse_PtgRefErr3d },\n\t/*::[*/0x3D/*::]*/: { n:'PtgAreaErr3d', f:parse_PtgAreaErr3d },\n\t/*::[*/0xFF/*::]*/: {}\n};\n/* These are duplicated in the PtgTypes table */\nvar PtgDupes = {\n\t/*::[*/0x40/*::]*/: 0x20, /*::[*/0x60/*::]*/: 0x20,\n\t/*::[*/0x41/*::]*/: 0x21, /*::[*/0x61/*::]*/: 0x21,\n\t/*::[*/0x42/*::]*/: 0x22, /*::[*/0x62/*::]*/: 0x22,\n\t/*::[*/0x43/*::]*/: 0x23, /*::[*/0x63/*::]*/: 0x23,\n\t/*::[*/0x44/*::]*/: 0x24, /*::[*/0x64/*::]*/: 0x24,\n\t/*::[*/0x45/*::]*/: 0x25, /*::[*/0x65/*::]*/: 0x25,\n\t/*::[*/0x46/*::]*/: 0x26, /*::[*/0x66/*::]*/: 0x26,\n\t/*::[*/0x47/*::]*/: 0x27, /*::[*/0x67/*::]*/: 0x27,\n\t/*::[*/0x48/*::]*/: 0x28, /*::[*/0x68/*::]*/: 0x28,\n\t/*::[*/0x49/*::]*/: 0x29, /*::[*/0x69/*::]*/: 0x29,\n\t/*::[*/0x4A/*::]*/: 0x2A, /*::[*/0x6A/*::]*/: 0x2A,\n\t/*::[*/0x4B/*::]*/: 0x2B, /*::[*/0x6B/*::]*/: 0x2B,\n\t/*::[*/0x4C/*::]*/: 0x2C, /*::[*/0x6C/*::]*/: 0x2C,\n\t/*::[*/0x4D/*::]*/: 0x2D, /*::[*/0x6D/*::]*/: 0x2D,\n\t/*::[*/0x4E/*::]*/: 0x2E, /*::[*/0x6E/*::]*/: 0x2E,\n\t/*::[*/0x4F/*::]*/: 0x2F, /*::[*/0x6F/*::]*/: 0x2F,\n\t/*::[*/0x58/*::]*/: 0x22, /*::[*/0x78/*::]*/: 0x22,\n\t/*::[*/0x59/*::]*/: 0x39, /*::[*/0x79/*::]*/: 0x39,\n\t/*::[*/0x5A/*::]*/: 0x3A, /*::[*/0x7A/*::]*/: 0x3A,\n\t/*::[*/0x5B/*::]*/: 0x3B, /*::[*/0x7B/*::]*/: 0x3B,\n\t/*::[*/0x5C/*::]*/: 0x3C, /*::[*/0x7C/*::]*/: 0x3C,\n\t/*::[*/0x5D/*::]*/: 0x3D, /*::[*/0x7D/*::]*/: 0x3D\n};\n\nvar Ptg18 = {\n\t/*::[*/0x01/*::]*/: { n:'PtgElfLel', f:parse_PtgElfLel },\n\t/*::[*/0x02/*::]*/: { n:'PtgElfRw', f:parse_PtgElfRw },\n\t/*::[*/0x03/*::]*/: { n:'PtgElfCol', f:parse_PtgElfCol },\n\t/*::[*/0x06/*::]*/: { n:'PtgElfRwV', f:parse_PtgElfRwV },\n\t/*::[*/0x07/*::]*/: { n:'PtgElfColV', f:parse_PtgElfColV },\n\t/*::[*/0x0A/*::]*/: { n:'PtgElfRadical', f:parse_PtgElfRadical },\n\t/*::[*/0x0B/*::]*/: { n:'PtgElfRadicalS', f:parse_PtgElfRadicalS },\n\t/*::[*/0x0D/*::]*/: { n:'PtgElfColS', f:parse_PtgElfColS },\n\t/*::[*/0x0F/*::]*/: { n:'PtgElfColSV', f:parse_PtgElfColSV },\n\t/*::[*/0x10/*::]*/: { n:'PtgElfRadicalLel', f:parse_PtgElfRadicalLel },\n\t/*::[*/0x19/*::]*/: { n:'PtgList', f:parse_PtgList },\n\t/*::[*/0x1D/*::]*/: { n:'PtgSxName', f:parse_PtgSxName },\n\t/*::[*/0xFF/*::]*/: {}\n};\nvar Ptg19 = {\n\t/*::[*/0x00/*::]*/: { n:'PtgAttrNoop', f:parse_PtgAttrNoop },\n\t/*::[*/0x01/*::]*/: { n:'PtgAttrSemi', f:parse_PtgAttrSemi },\n\t/*::[*/0x02/*::]*/: { n:'PtgAttrIf', f:parse_PtgAttrIf },\n\t/*::[*/0x04/*::]*/: { n:'PtgAttrChoose', f:parse_PtgAttrChoose },\n\t/*::[*/0x08/*::]*/: { n:'PtgAttrGoto', f:parse_PtgAttrGoto },\n\t/*::[*/0x10/*::]*/: { n:'PtgAttrSum', f:parse_PtgAttrSum },\n\t/*::[*/0x20/*::]*/: { n:'PtgAttrBaxcel', f:parse_PtgAttrBaxcel },\n\t/*::[*/0x21/*::]*/: { n:'PtgAttrBaxcel', f:parse_PtgAttrBaxcel },\n\t/*::[*/0x40/*::]*/: { n:'PtgAttrSpace', f:parse_PtgAttrSpace },\n\t/*::[*/0x41/*::]*/: { n:'PtgAttrSpaceSemi', f:parse_PtgAttrSpaceSemi },\n\t/*::[*/0x80/*::]*/: { n:'PtgAttrIfError', f:parse_PtgAttrIfError },\n\t/*::[*/0xFF/*::]*/: {}\n};\n\n/* [MS-XLS] 2.5.198.103 ; [MS-XLSB] 2.5.97.87 */\nfunction parse_RgbExtra(blob, length, rgce, opts) {\n\tif(opts.biff < 8) return parsenoop(blob, length);\n\tvar target = blob.l + length;\n\tvar o = [];\n\tfor(var i = 0; i !== rgce.length; ++i) {\n\t\tswitch(rgce[i][0]) {\n\t\t\tcase 'PtgArray': /* PtgArray -> PtgExtraArray */\n\t\t\t\trgce[i][1] = parse_PtgExtraArray(blob, 0, opts);\n\t\t\t\to.push(rgce[i][1]);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgMemArea': /* PtgMemArea -> PtgExtraMem */\n\t\t\t\trgce[i][2] = parse_PtgExtraMem(blob, rgce[i][1], opts);\n\t\t\t\to.push(rgce[i][2]);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgExp': /* PtgExp -> PtgExtraCol */\n\t\t\t\tif(opts && opts.biff == 12) {\n\t\t\t\t\trgce[i][1][1] = blob.read_shift(4);\n\t\t\t\t\to.push(rgce[i][1]);\n\t\t\t\t} break;\n\t\t\tcase 'PtgList': /* TODO: PtgList -> PtgExtraList */\n\t\t\tcase 'PtgElfRadicalS': /* TODO: PtgElfRadicalS -> PtgExtraElf */\n\t\t\tcase 'PtgElfColS': /* TODO: PtgElfColS -> PtgExtraElf */\n\t\t\tcase 'PtgElfColSV': /* TODO: PtgElfColSV -> PtgExtraElf */\n\t\t\t\tthrow \"Unsupported \" + rgce[i][0];\n\t\t\tdefault: break;\n\t\t}\n\t}\n\tlength = target - blob.l;\n\t/* note: this is technically an error but Excel disregards */\n\t//if(target !== blob.l && blob.l !== target - length) throw new Error(target + \" != \" + blob.l);\n\tif(length !== 0) o.push(parsenoop(blob, length));\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.198.104 ; [MS-XLSB] 2.5.97.88 */\nfunction parse_Rgce(blob, length, opts) {\n\tvar target = blob.l + length;\n\tvar R, id, ptgs = [];\n\twhile(target != blob.l) {\n\t\tlength = target - blob.l;\n\t\tid = blob[blob.l];\n\t\tR = PtgTypes[id] || PtgTypes[PtgDupes[id]];\n\t\tif(id === 0x18 || id === 0x19) R = (id === 0x18 ? Ptg18 : Ptg19)[blob[blob.l + 1]];\n\t\tif(!R || !R.f) { /*ptgs.push*/(parsenoop(blob, length)); }\n\t\telse { ptgs.push([R.n, R.f(blob, length, opts)]); }\n\t}\n\treturn ptgs;\n}\n\nfunction stringify_array(f/*:Array<Array<string>>*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tfor(var i = 0; i < f.length; ++i) {\n\t\tvar x = f[i], r/*:Array<string>*/ = [];\n\t\tfor(var j = 0; j < x.length; ++j) {\n\t\t\tvar y = x[j];\n\t\t\tif(y) switch(y[0]) {\n\t\t\t\t// TODO: handle embedded quotes\n\t\t\t\tcase 0x02:\n\t\t\t\t\t/*:: if(typeof y[1] != 'string') throw \"unreachable\"; */\n\t\t\t\t\tr.push('\"' + y[1].replace(/\"/g,'\"\"') + '\"'); break;\n\t\t\t\tdefault: r.push(y[1]);\n\t\t\t} else r.push(\"\");\n\t\t}\n\t\to.push(r.join(\",\"));\n\t}\n\treturn o.join(\";\");\n}\n\n/* [MS-XLS] 2.2.2 ; [MS-XLSB] 2.2.2 TODO */\nvar PtgBinOp = {\n\tPtgAdd: \"+\",\n\tPtgConcat: \"&\",\n\tPtgDiv: \"/\",\n\tPtgEq: \"=\",\n\tPtgGe: \">=\",\n\tPtgGt: \">\",\n\tPtgLe: \"<=\",\n\tPtgLt: \"<\",\n\tPtgMul: \"*\",\n\tPtgNe: \"<>\",\n\tPtgPower: \"^\",\n\tPtgSub: \"-\"\n};\n\n// List of invalid characters needs to be tested further\nfunction formula_quote_sheet_name(sname/*:string*/, opts)/*:string*/ {\n\tif(!sname && !(opts && opts.biff <= 5 && opts.biff >= 2)) throw new Error(\"empty sheet name\");\n\tif (/[^\\w\\u4E00-\\u9FFF\\u3040-\\u30FF]/.test(sname)) return \"'\" + sname + \"'\";\n\treturn sname;\n}\nfunction get_ixti_raw(supbooks, ixti/*:number*/, opts)/*:string*/ {\n\tif(!supbooks) return \"SH33TJSERR0\";\n\tif(opts.biff > 8 && (!supbooks.XTI || !supbooks.XTI[ixti])) return supbooks.SheetNames[ixti];\n\tif(!supbooks.XTI) return \"SH33TJSERR6\";\n\tvar XTI = supbooks.XTI[ixti];\n\tif(opts.biff < 8) {\n\t\tif(ixti > 10000) ixti-= 65536;\n\t\tif(ixti < 0) ixti = -ixti;\n\t\treturn ixti == 0 ? \"\" : supbooks.XTI[ixti - 1];\n\t}\n\tif(!XTI) return \"SH33TJSERR1\";\n\tvar o = \"\";\n\tif(opts.biff > 8) switch(supbooks[XTI[0]][0]) {\n\t\tcase 0x0165: /* 'BrtSupSelf' */\n\t\t\to = XTI[1] == -1 ? \"#REF\" : supbooks.SheetNames[XTI[1]];\n\t\t\treturn XTI[1] == XTI[2] ? o : o + \":\" + supbooks.SheetNames[XTI[2]];\n\t\tcase 0x0166: /* 'BrtSupSame' */\n\t\t\tif(opts.SID != null) return supbooks.SheetNames[opts.SID];\n\t\t\treturn \"SH33TJSSAME\" + supbooks[XTI[0]][0];\n\t\tcase 0x0163: /* 'BrtSupBookSrc' */\n\t\t\t/* falls through */\n\t\tdefault: return \"SH33TJSSRC\" + supbooks[XTI[0]][0];\n\t}\n\tswitch(supbooks[XTI[0]][0][0]) {\n\t\tcase 0x0401:\n\t\t\to = XTI[1] == -1 ? \"#REF\" : (supbooks.SheetNames[XTI[1]] || \"SH33TJSERR3\");\n\t\t\treturn XTI[1] == XTI[2] ? o : o + \":\" + supbooks.SheetNames[XTI[2]];\n\t\tcase 0x3A01: return supbooks[XTI[0]].slice(1).map(function(name) { return name.Name; }).join(\";;\"); //return \"SH33TJSERR8\";\n\t\tdefault:\n\t\t\tif(!supbooks[XTI[0]][0][3]) return \"SH33TJSERR2\";\n\t\t\to = XTI[1] == -1 ? \"#REF\" : (supbooks[XTI[0]][0][3][XTI[1]] || \"SH33TJSERR4\");\n\t\t\treturn XTI[1] == XTI[2] ? o : o + \":\" + supbooks[XTI[0]][0][3][XTI[2]];\n\t}\n}\nfunction get_ixti(supbooks, ixti/*:number*/, opts)/*:string*/ {\n\tvar ixtiraw = get_ixti_raw(supbooks, ixti, opts);\n\treturn ixtiraw == \"#REF\" ? ixtiraw : formula_quote_sheet_name(ixtiraw, opts);\n}\nfunction stringify_formula(formula/*Array<any>*/, range, cell/*:any*/, supbooks, opts)/*:string*/ {\n\tvar biff = (opts && opts.biff) || 8;\n\tvar _range = /*range != null ? range :*/ {s:{c:0, r:0},e:{c:0, r:0}};\n\tvar stack/*:Array<string>*/ = [], e1, e2, /*::type,*/ c/*:CellAddress*/, ixti=0, nameidx=0, r, sname=\"\";\n\tif(!formula[0] || !formula[0][0]) return \"\";\n\tvar last_sp = -1, sp = \"\";\n\tfor(var ff = 0, fflen = formula[0].length; ff < fflen; ++ff) {\n\t\tvar f = formula[0][ff];\n\t\tswitch(f[0]) {\n\t\t\tcase 'PtgUminus': /* [MS-XLS] 2.5.198.93 */\n\t\t\t\tstack.push(\"-\" + stack.pop()); break;\n\t\t\tcase 'PtgUplus': /* [MS-XLS] 2.5.198.95 */\n\t\t\t\tstack.push(\"+\" + stack.pop()); break;\n\t\t\tcase 'PtgPercent': /* [MS-XLS] 2.5.198.81 */\n\t\t\t\tstack.push(stack.pop() + \"%\"); break;\n\n\t\t\tcase 'PtgAdd':    /* [MS-XLS] 2.5.198.26 */\n\t\t\tcase 'PtgConcat': /* [MS-XLS] 2.5.198.43 */\n\t\t\tcase 'PtgDiv':    /* [MS-XLS] 2.5.198.45 */\n\t\t\tcase 'PtgEq':     /* [MS-XLS] 2.5.198.56 */\n\t\t\tcase 'PtgGe':     /* [MS-XLS] 2.5.198.64 */\n\t\t\tcase 'PtgGt':     /* [MS-XLS] 2.5.198.65 */\n\t\t\tcase 'PtgLe':     /* [MS-XLS] 2.5.198.68 */\n\t\t\tcase 'PtgLt':     /* [MS-XLS] 2.5.198.69 */\n\t\t\tcase 'PtgMul':    /* [MS-XLS] 2.5.198.75 */\n\t\t\tcase 'PtgNe':     /* [MS-XLS] 2.5.198.78 */\n\t\t\tcase 'PtgPower':  /* [MS-XLS] 2.5.198.82 */\n\t\t\tcase 'PtgSub':    /* [MS-XLS] 2.5.198.90 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tif(last_sp >= 0) {\n\t\t\t\t\tswitch(formula[0][last_sp][1][0]) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tsp = fill(\" \", formula[0][last_sp][1][1]); break;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tsp = fill(\"\\r\", formula[0][last_sp][1][1]); break;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tsp = \"\";\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tif(opts.WTF) throw new Error(\"Unexpected PtgAttrSpaceType \" + formula[0][last_sp][1][0]);\n\t\t\t\t\t}\n\t\t\t\t\te2 = e2 + sp;\n\t\t\t\t\tlast_sp = -1;\n\t\t\t\t}\n\t\t\t\tstack.push(e2+PtgBinOp[f[0]]+e1);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgIsect': /* [MS-XLS] 2.5.198.67 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tstack.push(e2+\" \"+e1);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgUnion': /* [MS-XLS] 2.5.198.94 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tstack.push(e2+\",\"+e1);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgRange': /* [MS-XLS] 2.5.198.83 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tstack.push(e2+\":\"+e1);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAttrChoose': /* [MS-XLS] 2.5.198.34 */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrGoto': /* [MS-XLS] 2.5.198.35 */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrIf': /* [MS-XLS] 2.5.198.36 */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrIfError': /* [MS-XLSB] 2.5.97.28 */\n\t\t\t\tbreak;\n\n\n\t\t\tcase 'PtgRef': /* [MS-XLS] 2.5.198.84 */\n\t\t\t\t/*::type = f[1][0]; */c = shift_cell_xls((f[1][1]/*:any*/), _range, opts);\n\t\t\t\tstack.push(encode_cell_xls(c, biff));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgRefN': /* [MS-XLS] 2.5.198.88 */\n\t\t\t\t/*::type = f[1][0]; */c = cell ? shift_cell_xls((f[1][1]/*:any*/), cell, opts) : (f[1][1]/*:any*/);\n\t\t\t\tstack.push(encode_cell_xls(c, biff));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgRef3d': /* [MS-XLS] 2.5.198.85 */\n\t\t\t\t/*::type = f[1][0]; */ixti = /*::Number(*/f[1][1]/*::)*/; c = shift_cell_xls((f[1][2]/*:any*/), _range, opts);\n\t\t\t\tsname = get_ixti(supbooks, ixti, opts);\n\t\t\t\tvar w = sname; /* IE9 fails on defined names */ // eslint-disable-line no-unused-vars\n\t\t\t\tstack.push(sname + \"!\" + encode_cell_xls(c, biff));\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgFunc': /* [MS-XLS] 2.5.198.62 */\n\t\t\tcase 'PtgFuncVar': /* [MS-XLS] 2.5.198.63 */\n\t\t\t\t/* f[1] = [argc, func, type] */\n\t\t\t\tvar argc/*:number*/ = (f[1][0]/*:any*/), func/*:string*/ = (f[1][1]/*:any*/);\n\t\t\t\tif(!argc) argc = 0;\n\t\t\t\targc &= 0x7F;\n\t\t\t\tvar args = argc == 0 ? [] : stack.slice(-argc);\n\t\t\t\tstack.length -= argc;\n\t\t\t\tif(func === 'User') func = args.shift();\n\t\t\t\tstack.push(func + \"(\" + args.join(\",\") + \")\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgBool': /* [MS-XLS] 2.5.198.42 */\n\t\t\t\tstack.push(f[1] ? \"TRUE\" : \"FALSE\"); break;\n\t\t\tcase 'PtgInt': /* [MS-XLS] 2.5.198.66 */\n\t\t\t\tstack.push(/*::String(*/f[1]/*::)*/); break;\n\t\t\tcase 'PtgNum': /* [MS-XLS] 2.5.198.79 TODO: precision? */\n\t\t\t\tstack.push(String(f[1])); break;\n\t\t\tcase 'PtgStr': /* [MS-XLS] 2.5.198.89 */\n\t\t\t\t// $FlowIgnore\n\t\t\t\tstack.push('\"' + f[1].replace(/\"/g, '\"\"') + '\"'); break;\n\t\t\tcase 'PtgErr': /* [MS-XLS] 2.5.198.57 */\n\t\t\t\tstack.push(/*::String(*/f[1]/*::)*/); break;\n\t\t\tcase 'PtgAreaN': /* [MS-XLS] 2.5.198.31 TODO */\n\t\t\t\t/*::type = f[1][0]; */r = shift_range_xls(f[1][1], cell ? {s:cell} : _range, opts);\n\t\t\t\tstack.push(encode_range_xls((r/*:any*/), opts));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgArea': /* [MS-XLS] 2.5.198.27 TODO: fixed points */\n\t\t\t\t/*::type = f[1][0]; */r = shift_range_xls(f[1][1], _range, opts);\n\t\t\t\tstack.push(encode_range_xls((r/*:any*/), opts));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgArea3d': /* [MS-XLS] 2.5.198.28 TODO */\n\t\t\t\t/*::type = f[1][0]; */ixti = /*::Number(*/f[1][1]/*::)*/; r = f[1][2];\n\t\t\t\tsname = get_ixti(supbooks, ixti, opts);\n\t\t\t\tstack.push(sname + \"!\" + encode_range_xls((r/*:any*/), opts));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrSum': /* [MS-XLS] 2.5.198.41 */\n\t\t\t\tstack.push(\"SUM(\" + stack.pop() + \")\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAttrBaxcel': /* [MS-XLS] 2.5.198.33 */\n\t\t\tcase 'PtgAttrSemi': /* [MS-XLS] 2.5.198.37 */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgName': /* [MS-XLS] 2.5.198.76 ; [MS-XLSB] 2.5.97.60 TODO: revisions */\n\t\t\t\t/* f[1] = type, 0, nameindex */\n\t\t\t\tnameidx = (f[1][2]/*:any*/);\n\t\t\t\tvar lbl = (supbooks.names||[])[nameidx-1] || (supbooks[0]||[])[nameidx];\n\t\t\t\tvar name = lbl ? lbl.Name : \"SH33TJSNAME\" + String(nameidx);\n\t\t\t\t/* [MS-XLSB] 2.5.97.10 Ftab -- last verified 20220204 */\n\t\t\t\tif(name && name.slice(0,6) == \"_xlfn.\" && !opts.xlfn) name = name.slice(6);\n\t\t\t\tstack.push(name);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgNameX': /* [MS-XLS] 2.5.198.77 ; [MS-XLSB] 2.5.97.61 TODO: revisions */\n\t\t\t\t/* f[1] = type, ixti, nameindex */\n\t\t\t\tvar bookidx/*:number*/ = (f[1][1]/*:any*/); nameidx = (f[1][2]/*:any*/); var externbook;\n\t\t\t\t/* TODO: Properly handle missing values -- this should be using get_ixti_raw primarily */\n\t\t\t\tif(opts.biff <= 5) {\n\t\t\t\t\tif(bookidx < 0) bookidx = -bookidx;\n\t\t\t\t\tif(supbooks[bookidx]) externbook = supbooks[bookidx][nameidx];\n\t\t\t\t} else {\n\t\t\t\t\tvar o = \"\";\n\t\t\t\t\tif(((supbooks[bookidx]||[])[0]||[])[0] == 0x3A01){/* empty */}\n\t\t\t\t\telse if(((supbooks[bookidx]||[])[0]||[])[0] == 0x0401){\n\t\t\t\t\t\tif(supbooks[bookidx][nameidx] && supbooks[bookidx][nameidx].itab > 0) {\n\t\t\t\t\t\t\to = supbooks.SheetNames[supbooks[bookidx][nameidx].itab-1] + \"!\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse o = supbooks.SheetNames[nameidx-1]+ \"!\";\n\t\t\t\t\tif(supbooks[bookidx] && supbooks[bookidx][nameidx]) o += supbooks[bookidx][nameidx].Name;\n\t\t\t\t\telse if(supbooks[0] && supbooks[0][nameidx]) o += supbooks[0][nameidx].Name;\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar ixtidata = (get_ixti_raw(supbooks, bookidx, opts)||\"\").split(\";;\");\n\t\t\t\t\t\tif(ixtidata[nameidx - 1]) o = ixtidata[nameidx - 1]; // TODO: confirm this is correct\n\t\t\t\t\t\telse o += \"SH33TJSERRX\";\n\t\t\t\t\t}\n\t\t\t\t\tstack.push(o);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(!externbook) externbook = {Name: \"SH33TJSERRY\"};\n\t\t\t\tstack.push(externbook.Name);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgParen': /* [MS-XLS] 2.5.198.80 */\n\t\t\t\tvar lp = '(', rp = ')';\n\t\t\t\tif(last_sp >= 0) {\n\t\t\t\t\tsp = \"\";\n\t\t\t\t\tswitch(formula[0][last_sp][1][0]) {\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 2: lp = fill(\" \", formula[0][last_sp][1][1]) + lp; break;\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 3: lp = fill(\"\\r\", formula[0][last_sp][1][1]) + lp; break;\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 4: rp = fill(\" \", formula[0][last_sp][1][1]) + rp; break;\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 5: rp = fill(\"\\r\", formula[0][last_sp][1][1]) + rp; break;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tif(opts.WTF) throw new Error(\"Unexpected PtgAttrSpaceType \" + formula[0][last_sp][1][0]);\n\t\t\t\t\t}\n\t\t\t\t\tlast_sp = -1;\n\t\t\t\t}\n\t\t\t\tstack.push(lp + stack.pop() + rp); break;\n\n\t\t\tcase 'PtgRefErr': /* [MS-XLS] 2.5.198.86 */\n\t\t\t\tstack.push('#REF!'); break;\n\n\t\t\tcase 'PtgRefErr3d': /* [MS-XLS] 2.5.198.87 */\n\t\t\t\tstack.push('#REF!'); break;\n\n\t\t\tcase 'PtgExp': /* [MS-XLS] 2.5.198.58 TODO */\n\t\t\t\tc = {c:(f[1][1]/*:any*/),r:(f[1][0]/*:any*/)};\n\t\t\t\tvar q = ({c: cell.c, r:cell.r}/*:any*/);\n\t\t\t\tif(supbooks.sharedf[encode_cell(c)]) {\n\t\t\t\t\tvar parsedf = (supbooks.sharedf[encode_cell(c)]);\n\t\t\t\t\tstack.push(stringify_formula(parsedf, _range, q, supbooks, opts));\n\t\t\t\t} else {\n\t\t\t\t\tvar fnd = false;\n\t\t\t\t\tfor(e1=0;e1!=supbooks.arrayf.length; ++e1) {\n\t\t\t\t\t\t/* TODO: should be something like range_has */\n\t\t\t\t\t\te2 = supbooks.arrayf[e1];\n\t\t\t\t\t\tif(c.c < e2[0].s.c || c.c > e2[0].e.c) continue;\n\t\t\t\t\t\tif(c.r < e2[0].s.r || c.r > e2[0].e.r) continue;\n\t\t\t\t\t\tstack.push(stringify_formula(e2[1], _range, q, supbooks, opts));\n\t\t\t\t\t\tfnd = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(!fnd) stack.push(/*::String(*/f[1]/*::)*/);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgArray': /* [MS-XLS] 2.5.198.32 TODO */\n\t\t\t\tstack.push(\"{\" + stringify_array(/*::(*/f[1]/*:: :any)*/) + \"}\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemArea': /* [MS-XLS] 2.5.198.70 TODO: confirm this is a non-display */\n\t\t\t\t//stack.push(\"(\" + f[2].map(encode_range).join(\",\") + \")\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAttrSpace': /* [MS-XLS] 2.5.198.38 */\n\t\t\tcase 'PtgAttrSpaceSemi': /* [MS-XLS] 2.5.198.39 */\n\t\t\t\tlast_sp = ff;\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgTbl': /* [MS-XLS] 2.5.198.92 TODO */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemErr': /* [MS-XLS] 2.5.198.71 */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMissArg': /* [MS-XLS] 2.5.198.74 */\n\t\t\t\tstack.push(\"\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAreaErr': /* [MS-XLS] 2.5.198.29 */\n\t\t\t\tstack.push(\"#REF!\"); break;\n\n\t\t\tcase 'PtgAreaErr3d': /* [MS-XLS] 2.5.198.30 */\n\t\t\t\tstack.push(\"#REF!\"); break;\n\n\t\t\tcase 'PtgList': /* [MS-XLSB] 2.5.97.52 */\n\t\t\t\t// $FlowIgnore\n\t\t\t\tstack.push(\"Table\" + f[1].idx + \"[#\" + f[1].rt + \"]\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemAreaN':\n\t\t\tcase 'PtgMemNoMemN':\n\t\t\tcase 'PtgAttrNoop':\n\t\t\tcase 'PtgSheet':\n\t\t\tcase 'PtgEndSheet':\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemFunc': /* [MS-XLS] 2.5.198.72 TODO */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgMemNoMem': /* [MS-XLS] 2.5.198.73 TODO */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgElfCol': /* [MS-XLS] 2.5.198.46 */\n\t\t\tcase 'PtgElfColS': /* [MS-XLS] 2.5.198.47 */\n\t\t\tcase 'PtgElfColSV': /* [MS-XLS] 2.5.198.48 */\n\t\t\tcase 'PtgElfColV': /* [MS-XLS] 2.5.198.49 */\n\t\t\tcase 'PtgElfLel': /* [MS-XLS] 2.5.198.50 */\n\t\t\tcase 'PtgElfRadical': /* [MS-XLS] 2.5.198.51 */\n\t\t\tcase 'PtgElfRadicalLel': /* [MS-XLS] 2.5.198.52 */\n\t\t\tcase 'PtgElfRadicalS': /* [MS-XLS] 2.5.198.53 */\n\t\t\tcase 'PtgElfRw': /* [MS-XLS] 2.5.198.54 */\n\t\t\tcase 'PtgElfRwV': /* [MS-XLS] 2.5.198.55 */\n\t\t\t\tthrow new Error(\"Unsupported ELFs\");\n\n\t\t\tcase 'PtgSxName': /* [MS-XLS] 2.5.198.91 TODO -- find a test case */\n\t\t\t\tthrow new Error('Unrecognized Formula Token: ' + String(f));\n\t\t\tdefault: throw new Error('Unrecognized Formula Token: ' + String(f));\n\t\t}\n\t\tvar PtgNonDisp = ['PtgAttrSpace', 'PtgAttrSpaceSemi', 'PtgAttrGoto'];\n\t\tif(opts.biff != 3) if(last_sp >= 0 && PtgNonDisp.indexOf(formula[0][ff][0]) == -1) {\n\t\t\tf = formula[0][last_sp];\n\t\t\tvar _left = true;\n\t\t\tswitch(f[1][0]) {\n\t\t\t\t/* note: some bad XLSB files omit the PtgParen */\n\t\t\t\tcase 4: _left = false;\n\t\t\t\t/* falls through */\n\t\t\t\tcase 0:\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tsp = fill(\" \", f[1][1]); break;\n\t\t\t\tcase 5: _left = false;\n\t\t\t\t/* falls through */\n\t\t\t\tcase 1:\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tsp = fill(\"\\r\", f[1][1]); break;\n\t\t\t\tdefault:\n\t\t\t\t\tsp = \"\";\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tif(opts.WTF) throw new Error(\"Unexpected PtgAttrSpaceType \" + f[1][0]);\n\t\t\t}\n\t\t\tstack.push((_left ? sp : \"\") + stack.pop() + (_left ? \"\" : sp));\n\t\t\tlast_sp = -1;\n\t\t}\n\t}\n\tif(stack.length > 1 && opts.WTF) throw new Error(\"bad formula stack\");\n\treturn stack[0];\n}\n\n/* [MS-XLS] 2.5.198.1 TODO */\nfunction parse_ArrayParsedFormula(blob, length, opts/*::, ref*/) {\n\tvar target = blob.l + length, len = opts.biff == 2 ? 1 : 2;\n\tvar rgcb, cce = blob.read_shift(len); // length of rgce\n\tif(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tif(length !== cce + len) rgcb = parse_RgbExtra(blob, length - cce - len, rgce, opts);\n\tblob.l = target;\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.198.3 TODO */\nfunction parse_XLSCellParsedFormula(blob, length, opts) {\n\tvar target = blob.l + length, len = opts.biff == 2 ? 1 : 2;\n\tvar rgcb, cce = blob.read_shift(len); // length of rgce\n\tif(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tif(length !== cce + len) rgcb = parse_RgbExtra(blob, length - cce - len, rgce, opts);\n\tblob.l = target;\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.198.21 */\nfunction parse_NameParsedFormula(blob, length, opts, cce) {\n\tvar target = blob.l + length;\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tvar rgcb;\n\tif(target !== blob.l) rgcb = parse_RgbExtra(blob, target - blob.l, rgce, opts);\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.198.118 TODO */\nfunction parse_SharedParsedFormula(blob, length, opts) {\n\tvar target = blob.l + length;\n\tvar rgcb, cce = blob.read_shift(2); // length of rgce\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tif(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];\n\tif(length !== cce + 2) rgcb = parse_RgbExtra(blob, target - cce - 2, rgce, opts);\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.133 TODO: how to emit empty strings? */\nfunction parse_FormulaValue(blob/*::, length*/) {\n\tvar b;\n\tif(__readUInt16LE(blob,blob.l + 6) !== 0xFFFF) return [parse_Xnum(blob),'n'];\n\tswitch(blob[blob.l]) {\n\t\tcase 0x00: blob.l += 8; return [\"String\", 's'];\n\t\tcase 0x01: b = blob[blob.l+2] === 0x1; blob.l += 8; return [b,'b'];\n\t\tcase 0x02: b = blob[blob.l+2]; blob.l += 8; return [b,'e'];\n\t\tcase 0x03: blob.l += 8; return [\"\",'s'];\n\t}\n\treturn [];\n}\nfunction write_FormulaValue(value) {\n\tif(value == null) {\n\t\t// Blank String Value\n\t\tvar o = new_buf(8);\n\t\to.write_shift(1, 0x03);\n\t\to.write_shift(1, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0xFFFF);\n\t\treturn o;\n\t} else if(typeof value == \"number\") return write_Xnum(value);\n\treturn write_Xnum(0);\n}\n\n/* [MS-XLS] 2.4.127 TODO */\nfunction parse_Formula(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar cell = parse_XLSCell(blob, 6);\n\tif(opts.biff == 2) ++blob.l;\n\tvar val = parse_FormulaValue(blob,8);\n\tvar flags = blob.read_shift(1);\n\tif(opts.biff != 2) {\n\t\tblob.read_shift(1);\n\t\tif(opts.biff >= 5) {\n\t\t\t/*var chn = */blob.read_shift(4);\n\t\t}\n\t}\n\tvar cbf = parse_XLSCellParsedFormula(blob, end - blob.l, opts);\n\treturn {cell:cell, val:val[0], formula:cbf, shared: (flags >> 3) & 1, tt:val[1]};\n}\nfunction write_Formula(cell/*:Cell*/, R/*:number*/, C/*:number*/, opts, os/*:number*/) {\n\t// Cell\n\tvar o1 = write_XLSCell(R, C, os);\n\n\t// FormulaValue\n\tvar o2 = write_FormulaValue(cell.v);\n\n\t// flags + cache\n\tvar o3 = new_buf(6);\n\tvar flags = 0x01 | 0x20;\n\to3.write_shift(2, flags);\n\to3.write_shift(4, 0);\n\n\t// CellParsedFormula\n\tvar bf = new_buf(cell.bf.length);\n\tfor(var i = 0; i < cell.bf.length; ++i) bf[i] = cell.bf[i];\n\n\tvar out = bconcat([o1, o2, o3, bf]);\n\treturn out;\n}\n\n\n/* XLSB Parsed Formula records have the same shape */\nfunction parse_XLSBParsedFormula(data, length, opts) {\n\tvar cce = data.read_shift(4);\n\tvar rgce = parse_Rgce(data, cce, opts);\n\tvar cb = data.read_shift(4);\n\tvar rgcb = cb > 0 ? parse_RgbExtra(data, cb, rgce, opts) : null;\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLSB] 2.5.97.1 ArrayParsedFormula */\nvar parse_XLSBArrayParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.4 CellParsedFormula */\nvar parse_XLSBCellParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.8 DVParsedFormula */\n//var parse_XLSBDVParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.9 FRTParsedFormula */\n//var parse_XLSBFRTParsedFormula = parse_XLSBParsedFormula2;\n/* [MS-XLSB] 2.5.97.12 NameParsedFormula */\nvar parse_XLSBNameParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.98 SharedParsedFormula */\nvar parse_XLSBSharedParsedFormula = parse_XLSBParsedFormula;\nvar Cetab = {\n  0: \"BEEP\",\n  1: \"OPEN\",\n  2: \"OPEN.LINKS\",\n  3: \"CLOSE.ALL\",\n  4: \"SAVE\",\n  5: \"SAVE.AS\",\n  6: \"FILE.DELETE\",\n  7: \"PAGE.SETUP\",\n  8: \"PRINT\",\n  9: \"PRINTER.SETUP\",\n  10: \"QUIT\",\n  11: \"NEW.WINDOW\",\n  12: \"ARRANGE.ALL\",\n  13: \"WINDOW.SIZE\",\n  14: \"WINDOW.MOVE\",\n  15: \"FULL\",\n  16: \"CLOSE\",\n  17: \"RUN\",\n  22: \"SET.PRINT.AREA\",\n  23: \"SET.PRINT.TITLES\",\n  24: \"SET.PAGE.BREAK\",\n  25: \"REMOVE.PAGE.BREAK\",\n  26: \"FONT\",\n  27: \"DISPLAY\",\n  28: \"PROTECT.DOCUMENT\",\n  29: \"PRECISION\",\n  30: \"A1.R1C1\",\n  31: \"CALCULATE.NOW\",\n  32: \"CALCULATION\",\n  34: \"DATA.FIND\",\n  35: \"EXTRACT\",\n  36: \"DATA.DELETE\",\n  37: \"SET.DATABASE\",\n  38: \"SET.CRITERIA\",\n  39: \"SORT\",\n  40: \"DATA.SERIES\",\n  41: \"TABLE\",\n  42: \"FORMAT.NUMBER\",\n  43: \"ALIGNMENT\",\n  44: \"STYLE\",\n  45: \"BORDER\",\n  46: \"CELL.PROTECTION\",\n  47: \"COLUMN.WIDTH\",\n  48: \"UNDO\",\n  49: \"CUT\",\n  50: \"COPY\",\n  51: \"PASTE\",\n  52: \"CLEAR\",\n  53: \"PASTE.SPECIAL\",\n  54: \"EDIT.DELETE\",\n  55: \"INSERT\",\n  56: \"FILL.RIGHT\",\n  57: \"FILL.DOWN\",\n  61: \"DEFINE.NAME\",\n  62: \"CREATE.NAMES\",\n  63: \"FORMULA.GOTO\",\n  64: \"FORMULA.FIND\",\n  65: \"SELECT.LAST.CELL\",\n  66: \"SHOW.ACTIVE.CELL\",\n  67: \"GALLERY.AREA\",\n  68: \"GALLERY.BAR\",\n  69: \"GALLERY.COLUMN\",\n  70: \"GALLERY.LINE\",\n  71: \"GALLERY.PIE\",\n  72: \"GALLERY.SCATTER\",\n  73: \"COMBINATION\",\n  74: \"PREFERRED\",\n  75: \"ADD.OVERLAY\",\n  76: \"GRIDLINES\",\n  77: \"SET.PREFERRED\",\n  78: \"AXES\",\n  79: \"LEGEND\",\n  80: \"ATTACH.TEXT\",\n  81: \"ADD.ARROW\",\n  82: \"SELECT.CHART\",\n  83: \"SELECT.PLOT.AREA\",\n  84: \"PATTERNS\",\n  85: \"MAIN.CHART\",\n  86: \"OVERLAY\",\n  87: \"SCALE\",\n  88: \"FORMAT.LEGEND\",\n  89: \"FORMAT.TEXT\",\n  90: \"EDIT.REPEAT\",\n  91: \"PARSE\",\n  92: \"JUSTIFY\",\n  93: \"HIDE\",\n  94: \"UNHIDE\",\n  95: \"WORKSPACE\",\n  96: \"FORMULA\",\n  97: \"FORMULA.FILL\",\n  98: \"FORMULA.ARRAY\",\n  99: \"DATA.FIND.NEXT\",\n  100: \"DATA.FIND.PREV\",\n  101: \"FORMULA.FIND.NEXT\",\n  102: \"FORMULA.FIND.PREV\",\n  103: \"ACTIVATE\",\n  104: \"ACTIVATE.NEXT\",\n  105: \"ACTIVATE.PREV\",\n  106: \"UNLOCKED.NEXT\",\n  107: \"UNLOCKED.PREV\",\n  108: \"COPY.PICTURE\",\n  109: \"SELECT\",\n  110: \"DELETE.NAME\",\n  111: \"DELETE.FORMAT\",\n  112: \"VLINE\",\n  113: \"HLINE\",\n  114: \"VPAGE\",\n  115: \"HPAGE\",\n  116: \"VSCROLL\",\n  117: \"HSCROLL\",\n  118: \"ALERT\",\n  119: \"NEW\",\n  120: \"CANCEL.COPY\",\n  121: \"SHOW.CLIPBOARD\",\n  122: \"MESSAGE\",\n  124: \"PASTE.LINK\",\n  125: \"APP.ACTIVATE\",\n  126: \"DELETE.ARROW\",\n  127: \"ROW.HEIGHT\",\n  128: \"FORMAT.MOVE\",\n  129: \"FORMAT.SIZE\",\n  130: \"FORMULA.REPLACE\",\n  131: \"SEND.KEYS\",\n  132: \"SELECT.SPECIAL\",\n  133: \"APPLY.NAMES\",\n  134: \"REPLACE.FONT\",\n  135: \"FREEZE.PANES\",\n  136: \"SHOW.INFO\",\n  137: \"SPLIT\",\n  138: \"ON.WINDOW\",\n  139: \"ON.DATA\",\n  140: \"DISABLE.INPUT\",\n  142: \"OUTLINE\",\n  143: \"LIST.NAMES\",\n  144: \"FILE.CLOSE\",\n  145: \"SAVE.WORKBOOK\",\n  146: \"DATA.FORM\",\n  147: \"COPY.CHART\",\n  148: \"ON.TIME\",\n  149: \"WAIT\",\n  150: \"FORMAT.FONT\",\n  151: \"FILL.UP\",\n  152: \"FILL.LEFT\",\n  153: \"DELETE.OVERLAY\",\n  155: \"SHORT.MENUS\",\n  159: \"SET.UPDATE.STATUS\",\n  161: \"COLOR.PALETTE\",\n  162: \"DELETE.STYLE\",\n  163: \"WINDOW.RESTORE\",\n  164: \"WINDOW.MAXIMIZE\",\n  166: \"CHANGE.LINK\",\n  167: \"CALCULATE.DOCUMENT\",\n  168: \"ON.KEY\",\n  169: \"APP.RESTORE\",\n  170: \"APP.MOVE\",\n  171: \"APP.SIZE\",\n  172: \"APP.MINIMIZE\",\n  173: \"APP.MAXIMIZE\",\n  174: \"BRING.TO.FRONT\",\n  175: \"SEND.TO.BACK\",\n  185: \"MAIN.CHART.TYPE\",\n  186: \"OVERLAY.CHART.TYPE\",\n  187: \"SELECT.END\",\n  188: \"OPEN.MAIL\",\n  189: \"SEND.MAIL\",\n  190: \"STANDARD.FONT\",\n  191: \"CONSOLIDATE\",\n  192: \"SORT.SPECIAL\",\n  193: \"GALLERY.3D.AREA\",\n  194: \"GALLERY.3D.COLUMN\",\n  195: \"GALLERY.3D.LINE\",\n  196: \"GALLERY.3D.PIE\",\n  197: \"VIEW.3D\",\n  198: \"GOAL.SEEK\",\n  199: \"WORKGROUP\",\n  200: \"FILL.GROUP\",\n  201: \"UPDATE.LINK\",\n  202: \"PROMOTE\",\n  203: \"DEMOTE\",\n  204: \"SHOW.DETAIL\",\n  206: \"UNGROUP\",\n  207: \"OBJECT.PROPERTIES\",\n  208: \"SAVE.NEW.OBJECT\",\n  209: \"SHARE\",\n  210: \"SHARE.NAME\",\n  211: \"DUPLICATE\",\n  212: \"APPLY.STYLE\",\n  213: \"ASSIGN.TO.OBJECT\",\n  214: \"OBJECT.PROTECTION\",\n  215: \"HIDE.OBJECT\",\n  216: \"SET.EXTRACT\",\n  217: \"CREATE.PUBLISHER\",\n  218: \"SUBSCRIBE.TO\",\n  219: \"ATTRIBUTES\",\n  220: \"SHOW.TOOLBAR\",\n  222: \"PRINT.PREVIEW\",\n  223: \"EDIT.COLOR\",\n  224: \"SHOW.LEVELS\",\n  225: \"FORMAT.MAIN\",\n  226: \"FORMAT.OVERLAY\",\n  227: \"ON.RECALC\",\n  228: \"EDIT.SERIES\",\n  229: \"DEFINE.STYLE\",\n  240: \"LINE.PRINT\",\n  243: \"ENTER.DATA\",\n  249: \"GALLERY.RADAR\",\n  250: \"MERGE.STYLES\",\n  251: \"EDITION.OPTIONS\",\n  252: \"PASTE.PICTURE\",\n  253: \"PASTE.PICTURE.LINK\",\n  254: \"SPELLING\",\n  256: \"ZOOM\",\n  259: \"INSERT.OBJECT\",\n  260: \"WINDOW.MINIMIZE\",\n  265: \"SOUND.NOTE\",\n  266: \"SOUND.PLAY\",\n  267: \"FORMAT.SHAPE\",\n  268: \"EXTEND.POLYGON\",\n  269: \"FORMAT.AUTO\",\n  272: \"GALLERY.3D.BAR\",\n  273: \"GALLERY.3D.SURFACE\",\n  274: \"FILL.AUTO\",\n  276: \"CUSTOMIZE.TOOLBAR\",\n  277: \"ADD.TOOL\",\n  278: \"EDIT.OBJECT\",\n  279: \"ON.DOUBLECLICK\",\n  280: \"ON.ENTRY\",\n  281: \"WORKBOOK.ADD\",\n  282: \"WORKBOOK.MOVE\",\n  283: \"WORKBOOK.COPY\",\n  284: \"WORKBOOK.OPTIONS\",\n  285: \"SAVE.WORKSPACE\",\n  288: \"CHART.WIZARD\",\n  289: \"DELETE.TOOL\",\n  290: \"MOVE.TOOL\",\n  291: \"WORKBOOK.SELECT\",\n  292: \"WORKBOOK.ACTIVATE\",\n  293: \"ASSIGN.TO.TOOL\",\n  295: \"COPY.TOOL\",\n  296: \"RESET.TOOL\",\n  297: \"CONSTRAIN.NUMERIC\",\n  298: \"PASTE.TOOL\",\n  302: \"WORKBOOK.NEW\",\n  305: \"SCENARIO.CELLS\",\n  306: \"SCENARIO.DELETE\",\n  307: \"SCENARIO.ADD\",\n  308: \"SCENARIO.EDIT\",\n  309: \"SCENARIO.SHOW\",\n  310: \"SCENARIO.SHOW.NEXT\",\n  311: \"SCENARIO.SUMMARY\",\n  312: \"PIVOT.TABLE.WIZARD\",\n  313: \"PIVOT.FIELD.PROPERTIES\",\n  314: \"PIVOT.FIELD\",\n  315: \"PIVOT.ITEM\",\n  316: \"PIVOT.ADD.FIELDS\",\n  318: \"OPTIONS.CALCULATION\",\n  319: \"OPTIONS.EDIT\",\n  320: \"OPTIONS.VIEW\",\n  321: \"ADDIN.MANAGER\",\n  322: \"MENU.EDITOR\",\n  323: \"ATTACH.TOOLBARS\",\n  324: \"VBAActivate\",\n  325: \"OPTIONS.CHART\",\n  328: \"VBA.INSERT.FILE\",\n  330: \"VBA.PROCEDURE.DEFINITION\",\n  336: \"ROUTING.SLIP\",\n  338: \"ROUTE.DOCUMENT\",\n  339: \"MAIL.LOGON\",\n  342: \"INSERT.PICTURE\",\n  343: \"EDIT.TOOL\",\n  344: \"GALLERY.DOUGHNUT\",\n  350: \"CHART.TREND\",\n  352: \"PIVOT.ITEM.PROPERTIES\",\n  354: \"WORKBOOK.INSERT\",\n  355: \"OPTIONS.TRANSITION\",\n  356: \"OPTIONS.GENERAL\",\n  370: \"FILTER.ADVANCED\",\n  373: \"MAIL.ADD.MAILER\",\n  374: \"MAIL.DELETE.MAILER\",\n  375: \"MAIL.REPLY\",\n  376: \"MAIL.REPLY.ALL\",\n  377: \"MAIL.FORWARD\",\n  378: \"MAIL.NEXT.LETTER\",\n  379: \"DATA.LABEL\",\n  380: \"INSERT.TITLE\",\n  381: \"FONT.PROPERTIES\",\n  382: \"MACRO.OPTIONS\",\n  383: \"WORKBOOK.HIDE\",\n  384: \"WORKBOOK.UNHIDE\",\n  385: \"WORKBOOK.DELETE\",\n  386: \"WORKBOOK.NAME\",\n  388: \"GALLERY.CUSTOM\",\n  390: \"ADD.CHART.AUTOFORMAT\",\n  391: \"DELETE.CHART.AUTOFORMAT\",\n  392: \"CHART.ADD.DATA\",\n  393: \"AUTO.OUTLINE\",\n  394: \"TAB.ORDER\",\n  395: \"SHOW.DIALOG\",\n  396: \"SELECT.ALL\",\n  397: \"UNGROUP.SHEETS\",\n  398: \"SUBTOTAL.CREATE\",\n  399: \"SUBTOTAL.REMOVE\",\n  400: \"RENAME.OBJECT\",\n  412: \"WORKBOOK.SCROLL\",\n  413: \"WORKBOOK.NEXT\",\n  414: \"WORKBOOK.PREV\",\n  415: \"WORKBOOK.TAB.SPLIT\",\n  416: \"FULL.SCREEN\",\n  417: \"WORKBOOK.PROTECT\",\n  420: \"SCROLLBAR.PROPERTIES\",\n  421: \"PIVOT.SHOW.PAGES\",\n  422: \"TEXT.TO.COLUMNS\",\n  423: \"FORMAT.CHARTTYPE\",\n  424: \"LINK.FORMAT\",\n  425: \"TRACER.DISPLAY\",\n  430: \"TRACER.NAVIGATE\",\n  431: \"TRACER.CLEAR\",\n  432: \"TRACER.ERROR\",\n  433: \"PIVOT.FIELD.GROUP\",\n  434: \"PIVOT.FIELD.UNGROUP\",\n  435: \"CHECKBOX.PROPERTIES\",\n  436: \"LABEL.PROPERTIES\",\n  437: \"LISTBOX.PROPERTIES\",\n  438: \"EDITBOX.PROPERTIES\",\n  439: \"PIVOT.REFRESH\",\n  440: \"LINK.COMBO\",\n  441: \"OPEN.TEXT\",\n  442: \"HIDE.DIALOG\",\n  443: \"SET.DIALOG.FOCUS\",\n  444: \"ENABLE.OBJECT\",\n  445: \"PUSHBUTTON.PROPERTIES\",\n  446: \"SET.DIALOG.DEFAULT\",\n  447: \"FILTER\",\n  448: \"FILTER.SHOW.ALL\",\n  449: \"CLEAR.OUTLINE\",\n  450: \"FUNCTION.WIZARD\",\n  451: \"ADD.LIST.ITEM\",\n  452: \"SET.LIST.ITEM\",\n  453: \"REMOVE.LIST.ITEM\",\n  454: \"SELECT.LIST.ITEM\",\n  455: \"SET.CONTROL.VALUE\",\n  456: \"SAVE.COPY.AS\",\n  458: \"OPTIONS.LISTS.ADD\",\n  459: \"OPTIONS.LISTS.DELETE\",\n  460: \"SERIES.AXES\",\n  461: \"SERIES.X\",\n  462: \"SERIES.Y\",\n  463: \"ERRORBAR.X\",\n  464: \"ERRORBAR.Y\",\n  465: \"FORMAT.CHART\",\n  466: \"SERIES.ORDER\",\n  467: \"MAIL.LOGOFF\",\n  468: \"CLEAR.ROUTING.SLIP\",\n  469: \"APP.ACTIVATE.MICROSOFT\",\n  470: \"MAIL.EDIT.MAILER\",\n  471: \"ON.SHEET\",\n  472: \"STANDARD.WIDTH\",\n  473: \"SCENARIO.MERGE\",\n  474: \"SUMMARY.INFO\",\n  475: \"FIND.FILE\",\n  476: \"ACTIVE.CELL.FONT\",\n  477: \"ENABLE.TIPWIZARD\",\n  478: \"VBA.MAKE.ADDIN\",\n  480: \"INSERTDATATABLE\",\n  481: \"WORKGROUP.OPTIONS\",\n  482: \"MAIL.SEND.MAILER\",\n  485: \"AUTOCORRECT\",\n  489: \"POST.DOCUMENT\",\n  491: \"PICKLIST\",\n  493: \"VIEW.SHOW\",\n  494: \"VIEW.DEFINE\",\n  495: \"VIEW.DELETE\",\n  509: \"SHEET.BACKGROUND\",\n  510: \"INSERT.MAP.OBJECT\",\n  511: \"OPTIONS.MENONO\",\n  517: \"MSOCHECKS\",\n  518: \"NORMAL\",\n  519: \"LAYOUT\",\n  520: \"RM.PRINT.AREA\",\n  521: \"CLEAR.PRINT.AREA\",\n  522: \"ADD.PRINT.AREA\",\n  523: \"MOVE.BRK\",\n  545: \"HIDECURR.NOTE\",\n  546: \"HIDEALL.NOTES\",\n  547: \"DELETE.NOTE\",\n  548: \"TRAVERSE.NOTES\",\n  549: \"ACTIVATE.NOTES\",\n  620: \"PROTECT.REVISIONS\",\n  621: \"UNPROTECT.REVISIONS\",\n  647: \"OPTIONS.ME\",\n  653: \"WEB.PUBLISH\",\n  667: \"NEWWEBQUERY\",\n  673: \"PIVOT.TABLE.CHART\",\n  753: \"OPTIONS.SAVE\",\n  755: \"OPTIONS.SPELL\",\n  808: \"HIDEALL.INKANNOTS\"\n};\nvar Ftab = {\n  0: \"COUNT\",\n  1: \"IF\",\n  2: \"ISNA\",\n  3: \"ISERROR\",\n  4: \"SUM\",\n  5: \"AVERAGE\",\n  6: \"MIN\",\n  7: \"MAX\",\n  8: \"ROW\",\n  9: \"COLUMN\",\n  10: \"NA\",\n  11: \"NPV\",\n  12: \"STDEV\",\n  13: \"DOLLAR\",\n  14: \"FIXED\",\n  15: \"SIN\",\n  16: \"COS\",\n  17: \"TAN\",\n  18: \"ATAN\",\n  19: \"PI\",\n  20: \"SQRT\",\n  21: \"EXP\",\n  22: \"LN\",\n  23: \"LOG10\",\n  24: \"ABS\",\n  25: \"INT\",\n  26: \"SIGN\",\n  27: \"ROUND\",\n  28: \"LOOKUP\",\n  29: \"INDEX\",\n  30: \"REPT\",\n  31: \"MID\",\n  32: \"LEN\",\n  33: \"VALUE\",\n  34: \"TRUE\",\n  35: \"FALSE\",\n  36: \"AND\",\n  37: \"OR\",\n  38: \"NOT\",\n  39: \"MOD\",\n  40: \"DCOUNT\",\n  41: \"DSUM\",\n  42: \"DAVERAGE\",\n  43: \"DMIN\",\n  44: \"DMAX\",\n  45: \"DSTDEV\",\n  46: \"VAR\",\n  47: \"DVAR\",\n  48: \"TEXT\",\n  49: \"LINEST\",\n  50: \"TREND\",\n  51: \"LOGEST\",\n  52: \"GROWTH\",\n  53: \"GOTO\",\n  54: \"HALT\",\n  55: \"RETURN\",\n  56: \"PV\",\n  57: \"FV\",\n  58: \"NPER\",\n  59: \"PMT\",\n  60: \"RATE\",\n  61: \"MIRR\",\n  62: \"IRR\",\n  63: \"RAND\",\n  64: \"MATCH\",\n  65: \"DATE\",\n  66: \"TIME\",\n  67: \"DAY\",\n  68: \"MONTH\",\n  69: \"YEAR\",\n  70: \"WEEKDAY\",\n  71: \"HOUR\",\n  72: \"MINUTE\",\n  73: \"SECOND\",\n  74: \"NOW\",\n  75: \"AREAS\",\n  76: \"ROWS\",\n  77: \"COLUMNS\",\n  78: \"OFFSET\",\n  79: \"ABSREF\",\n  80: \"RELREF\",\n  81: \"ARGUMENT\",\n  82: \"SEARCH\",\n  83: \"TRANSPOSE\",\n  84: \"ERROR\",\n  85: \"STEP\",\n  86: \"TYPE\",\n  87: \"ECHO\",\n  88: \"SET.NAME\",\n  89: \"CALLER\",\n  90: \"DEREF\",\n  91: \"WINDOWS\",\n  92: \"SERIES\",\n  93: \"DOCUMENTS\",\n  94: \"ACTIVE.CELL\",\n  95: \"SELECTION\",\n  96: \"RESULT\",\n  97: \"ATAN2\",\n  98: \"ASIN\",\n  99: \"ACOS\",\n  100: \"CHOOSE\",\n  101: \"HLOOKUP\",\n  102: \"VLOOKUP\",\n  103: \"LINKS\",\n  104: \"INPUT\",\n  105: \"ISREF\",\n  106: \"GET.FORMULA\",\n  107: \"GET.NAME\",\n  108: \"SET.VALUE\",\n  109: \"LOG\",\n  110: \"EXEC\",\n  111: \"CHAR\",\n  112: \"LOWER\",\n  113: \"UPPER\",\n  114: \"PROPER\",\n  115: \"LEFT\",\n  116: \"RIGHT\",\n  117: \"EXACT\",\n  118: \"TRIM\",\n  119: \"REPLACE\",\n  120: \"SUBSTITUTE\",\n  121: \"CODE\",\n  122: \"NAMES\",\n  123: \"DIRECTORY\",\n  124: \"FIND\",\n  125: \"CELL\",\n  126: \"ISERR\",\n  127: \"ISTEXT\",\n  128: \"ISNUMBER\",\n  129: \"ISBLANK\",\n  130: \"T\",\n  131: \"N\",\n  132: \"FOPEN\",\n  133: \"FCLOSE\",\n  134: \"FSIZE\",\n  135: \"FREADLN\",\n  136: \"FREAD\",\n  137: \"FWRITELN\",\n  138: \"FWRITE\",\n  139: \"FPOS\",\n  140: \"DATEVALUE\",\n  141: \"TIMEVALUE\",\n  142: \"SLN\",\n  143: \"SYD\",\n  144: \"DDB\",\n  145: \"GET.DEF\",\n  146: \"REFTEXT\",\n  147: \"TEXTREF\",\n  148: \"INDIRECT\",\n  149: \"REGISTER\",\n  150: \"CALL\",\n  151: \"ADD.BAR\",\n  152: \"ADD.MENU\",\n  153: \"ADD.COMMAND\",\n  154: \"ENABLE.COMMAND\",\n  155: \"CHECK.COMMAND\",\n  156: \"RENAME.COMMAND\",\n  157: \"SHOW.BAR\",\n  158: \"DELETE.MENU\",\n  159: \"DELETE.COMMAND\",\n  160: \"GET.CHART.ITEM\",\n  161: \"DIALOG.BOX\",\n  162: \"CLEAN\",\n  163: \"MDETERM\",\n  164: \"MINVERSE\",\n  165: \"MMULT\",\n  166: \"FILES\",\n  167: \"IPMT\",\n  168: \"PPMT\",\n  169: \"COUNTA\",\n  170: \"CANCEL.KEY\",\n  171: \"FOR\",\n  172: \"WHILE\",\n  173: \"BREAK\",\n  174: \"NEXT\",\n  175: \"INITIATE\",\n  176: \"REQUEST\",\n  177: \"POKE\",\n  178: \"EXECUTE\",\n  179: \"TERMINATE\",\n  180: \"RESTART\",\n  181: \"HELP\",\n  182: \"GET.BAR\",\n  183: \"PRODUCT\",\n  184: \"FACT\",\n  185: \"GET.CELL\",\n  186: \"GET.WORKSPACE\",\n  187: \"GET.WINDOW\",\n  188: \"GET.DOCUMENT\",\n  189: \"DPRODUCT\",\n  190: \"ISNONTEXT\",\n  191: \"GET.NOTE\",\n  192: \"NOTE\",\n  193: \"STDEVP\",\n  194: \"VARP\",\n  195: \"DSTDEVP\",\n  196: \"DVARP\",\n  197: \"TRUNC\",\n  198: \"ISLOGICAL\",\n  199: \"DCOUNTA\",\n  200: \"DELETE.BAR\",\n  201: \"UNREGISTER\",\n  204: \"USDOLLAR\",\n  205: \"FINDB\",\n  206: \"SEARCHB\",\n  207: \"REPLACEB\",\n  208: \"LEFTB\",\n  209: \"RIGHTB\",\n  210: \"MIDB\",\n  211: \"LENB\",\n  212: \"ROUNDUP\",\n  213: \"ROUNDDOWN\",\n  214: \"ASC\",\n  215: \"DBCS\",\n  216: \"RANK\",\n  219: \"ADDRESS\",\n  220: \"DAYS360\",\n  221: \"TODAY\",\n  222: \"VDB\",\n  223: \"ELSE\",\n  224: \"ELSE.IF\",\n  225: \"END.IF\",\n  226: \"FOR.CELL\",\n  227: \"MEDIAN\",\n  228: \"SUMPRODUCT\",\n  229: \"SINH\",\n  230: \"COSH\",\n  231: \"TANH\",\n  232: \"ASINH\",\n  233: \"ACOSH\",\n  234: \"ATANH\",\n  235: \"DGET\",\n  236: \"CREATE.OBJECT\",\n  237: \"VOLATILE\",\n  238: \"LAST.ERROR\",\n  239: \"CUSTOM.UNDO\",\n  240: \"CUSTOM.REPEAT\",\n  241: \"FORMULA.CONVERT\",\n  242: \"GET.LINK.INFO\",\n  243: \"TEXT.BOX\",\n  244: \"INFO\",\n  245: \"GROUP\",\n  246: \"GET.OBJECT\",\n  247: \"DB\",\n  248: \"PAUSE\",\n  251: \"RESUME\",\n  252: \"FREQUENCY\",\n  253: \"ADD.TOOLBAR\",\n  254: \"DELETE.TOOLBAR\",\n  255: \"User\",\n  256: \"RESET.TOOLBAR\",\n  257: \"EVALUATE\",\n  258: \"GET.TOOLBAR\",\n  259: \"GET.TOOL\",\n  260: \"SPELLING.CHECK\",\n  261: \"ERROR.TYPE\",\n  262: \"APP.TITLE\",\n  263: \"WINDOW.TITLE\",\n  264: \"SAVE.TOOLBAR\",\n  265: \"ENABLE.TOOL\",\n  266: \"PRESS.TOOL\",\n  267: \"REGISTER.ID\",\n  268: \"GET.WORKBOOK\",\n  269: \"AVEDEV\",\n  270: \"BETADIST\",\n  271: \"GAMMALN\",\n  272: \"BETAINV\",\n  273: \"BINOMDIST\",\n  274: \"CHIDIST\",\n  275: \"CHIINV\",\n  276: \"COMBIN\",\n  277: \"CONFIDENCE\",\n  278: \"CRITBINOM\",\n  279: \"EVEN\",\n  280: \"EXPONDIST\",\n  281: \"FDIST\",\n  282: \"FINV\",\n  283: \"FISHER\",\n  284: \"FISHERINV\",\n  285: \"FLOOR\",\n  286: \"GAMMADIST\",\n  287: \"GAMMAINV\",\n  288: \"CEILING\",\n  289: \"HYPGEOMDIST\",\n  290: \"LOGNORMDIST\",\n  291: \"LOGINV\",\n  292: \"NEGBINOMDIST\",\n  293: \"NORMDIST\",\n  294: \"NORMSDIST\",\n  295: \"NORMINV\",\n  296: \"NORMSINV\",\n  297: \"STANDARDIZE\",\n  298: \"ODD\",\n  299: \"PERMUT\",\n  300: \"POISSON\",\n  301: \"TDIST\",\n  302: \"WEIBULL\",\n  303: \"SUMXMY2\",\n  304: \"SUMX2MY2\",\n  305: \"SUMX2PY2\",\n  306: \"CHITEST\",\n  307: \"CORREL\",\n  308: \"COVAR\",\n  309: \"FORECAST\",\n  310: \"FTEST\",\n  311: \"INTERCEPT\",\n  312: \"PEARSON\",\n  313: \"RSQ\",\n  314: \"STEYX\",\n  315: \"SLOPE\",\n  316: \"TTEST\",\n  317: \"PROB\",\n  318: \"DEVSQ\",\n  319: \"GEOMEAN\",\n  320: \"HARMEAN\",\n  321: \"SUMSQ\",\n  322: \"KURT\",\n  323: \"SKEW\",\n  324: \"ZTEST\",\n  325: \"LARGE\",\n  326: \"SMALL\",\n  327: \"QUARTILE\",\n  328: \"PERCENTILE\",\n  329: \"PERCENTRANK\",\n  330: \"MODE\",\n  331: \"TRIMMEAN\",\n  332: \"TINV\",\n  334: \"MOVIE.COMMAND\",\n  335: \"GET.MOVIE\",\n  336: \"CONCATENATE\",\n  337: \"POWER\",\n  338: \"PIVOT.ADD.DATA\",\n  339: \"GET.PIVOT.TABLE\",\n  340: \"GET.PIVOT.FIELD\",\n  341: \"GET.PIVOT.ITEM\",\n  342: \"RADIANS\",\n  343: \"DEGREES\",\n  344: \"SUBTOTAL\",\n  345: \"SUMIF\",\n  346: \"COUNTIF\",\n  347: \"COUNTBLANK\",\n  348: \"SCENARIO.GET\",\n  349: \"OPTIONS.LISTS.GET\",\n  350: \"ISPMT\",\n  351: \"DATEDIF\",\n  352: \"DATESTRING\",\n  353: \"NUMBERSTRING\",\n  354: \"ROMAN\",\n  355: \"OPEN.DIALOG\",\n  356: \"SAVE.DIALOG\",\n  357: \"VIEW.GET\",\n  358: \"GETPIVOTDATA\",\n  359: \"HYPERLINK\",\n  360: \"PHONETIC\",\n  361: \"AVERAGEA\",\n  362: \"MAXA\",\n  363: \"MINA\",\n  364: \"STDEVPA\",\n  365: \"VARPA\",\n  366: \"STDEVA\",\n  367: \"VARA\",\n  368: \"BAHTTEXT\",\n  369: \"THAIDAYOFWEEK\",\n  370: \"THAIDIGIT\",\n  371: \"THAIMONTHOFYEAR\",\n  372: \"THAINUMSOUND\",\n  373: \"THAINUMSTRING\",\n  374: \"THAISTRINGLENGTH\",\n  375: \"ISTHAIDIGIT\",\n  376: \"ROUNDBAHTDOWN\",\n  377: \"ROUNDBAHTUP\",\n  378: \"THAIYEAR\",\n  379: \"RTD\",\n  380: \"CUBEVALUE\",\n  381: \"CUBEMEMBER\",\n  382: \"CUBEMEMBERPROPERTY\",\n  383: \"CUBERANKEDMEMBER\",\n  384: \"HEX2BIN\",\n  385: \"HEX2DEC\",\n  386: \"HEX2OCT\",\n  387: \"DEC2BIN\",\n  388: \"DEC2HEX\",\n  389: \"DEC2OCT\",\n  390: \"OCT2BIN\",\n  391: \"OCT2HEX\",\n  392: \"OCT2DEC\",\n  393: \"BIN2DEC\",\n  394: \"BIN2OCT\",\n  395: \"BIN2HEX\",\n  396: \"IMSUB\",\n  397: \"IMDIV\",\n  398: \"IMPOWER\",\n  399: \"IMABS\",\n  400: \"IMSQRT\",\n  401: \"IMLN\",\n  402: \"IMLOG2\",\n  403: \"IMLOG10\",\n  404: \"IMSIN\",\n  405: \"IMCOS\",\n  406: \"IMEXP\",\n  407: \"IMARGUMENT\",\n  408: \"IMCONJUGATE\",\n  409: \"IMAGINARY\",\n  410: \"IMREAL\",\n  411: \"COMPLEX\",\n  412: \"IMSUM\",\n  413: \"IMPRODUCT\",\n  414: \"SERIESSUM\",\n  415: \"FACTDOUBLE\",\n  416: \"SQRTPI\",\n  417: \"QUOTIENT\",\n  418: \"DELTA\",\n  419: \"GESTEP\",\n  420: \"ISEVEN\",\n  421: \"ISODD\",\n  422: \"MROUND\",\n  423: \"ERF\",\n  424: \"ERFC\",\n  425: \"BESSELJ\",\n  426: \"BESSELK\",\n  427: \"BESSELY\",\n  428: \"BESSELI\",\n  429: \"XIRR\",\n  430: \"XNPV\",\n  431: \"PRICEMAT\",\n  432: \"YIELDMAT\",\n  433: \"INTRATE\",\n  434: \"RECEIVED\",\n  435: \"DISC\",\n  436: \"PRICEDISC\",\n  437: \"YIELDDISC\",\n  438: \"TBILLEQ\",\n  439: \"TBILLPRICE\",\n  440: \"TBILLYIELD\",\n  441: \"PRICE\",\n  442: \"YIELD\",\n  443: \"DOLLARDE\",\n  444: \"DOLLARFR\",\n  445: \"NOMINAL\",\n  446: \"EFFECT\",\n  447: \"CUMPRINC\",\n  448: \"CUMIPMT\",\n  449: \"EDATE\",\n  450: \"EOMONTH\",\n  451: \"YEARFRAC\",\n  452: \"COUPDAYBS\",\n  453: \"COUPDAYS\",\n  454: \"COUPDAYSNC\",\n  455: \"COUPNCD\",\n  456: \"COUPNUM\",\n  457: \"COUPPCD\",\n  458: \"DURATION\",\n  459: \"MDURATION\",\n  460: \"ODDLPRICE\",\n  461: \"ODDLYIELD\",\n  462: \"ODDFPRICE\",\n  463: \"ODDFYIELD\",\n  464: \"RANDBETWEEN\",\n  465: \"WEEKNUM\",\n  466: \"AMORDEGRC\",\n  467: \"AMORLINC\",\n  468: \"CONVERT\",\n  724: \"SHEETJS\",\n  469: \"ACCRINT\",\n  470: \"ACCRINTM\",\n  471: \"WORKDAY\",\n  472: \"NETWORKDAYS\",\n  473: \"GCD\",\n  474: \"MULTINOMIAL\",\n  475: \"LCM\",\n  476: \"FVSCHEDULE\",\n  477: \"CUBEKPIMEMBER\",\n  478: \"CUBESET\",\n  479: \"CUBESETCOUNT\",\n  480: \"IFERROR\",\n  481: \"COUNTIFS\",\n  482: \"SUMIFS\",\n  483: \"AVERAGEIF\",\n  484: \"AVERAGEIFS\"\n};\nvar FtabArgc = {\n  2: 1,\n  3: 1,\n  10: 0,\n  15: 1,\n  16: 1,\n  17: 1,\n  18: 1,\n  19: 0,\n  20: 1,\n  21: 1,\n  22: 1,\n  23: 1,\n  24: 1,\n  25: 1,\n  26: 1,\n  27: 2,\n  30: 2,\n  31: 3,\n  32: 1,\n  33: 1,\n  34: 0,\n  35: 0,\n  38: 1,\n  39: 2,\n  40: 3,\n  41: 3,\n  42: 3,\n  43: 3,\n  44: 3,\n  45: 3,\n  47: 3,\n  48: 2,\n  53: 1,\n  61: 3,\n  63: 0,\n  65: 3,\n  66: 3,\n  67: 1,\n  68: 1,\n  69: 1,\n  70: 1,\n  71: 1,\n  72: 1,\n  73: 1,\n  74: 0,\n  75: 1,\n  76: 1,\n  77: 1,\n  79: 2,\n  80: 2,\n  83: 1,\n  85: 0,\n  86: 1,\n  89: 0,\n  90: 1,\n  94: 0,\n  95: 0,\n  97: 2,\n  98: 1,\n  99: 1,\n  101: 3,\n  102: 3,\n  105: 1,\n  106: 1,\n  108: 2,\n  111: 1,\n  112: 1,\n  113: 1,\n  114: 1,\n  117: 2,\n  118: 1,\n  119: 4,\n  121: 1,\n  126: 1,\n  127: 1,\n  128: 1,\n  129: 1,\n  130: 1,\n  131: 1,\n  133: 1,\n  134: 1,\n  135: 1,\n  136: 2,\n  137: 2,\n  138: 2,\n  140: 1,\n  141: 1,\n  142: 3,\n  143: 4,\n  144: 4,\n  161: 1,\n  162: 1,\n  163: 1,\n  164: 1,\n  165: 2,\n  172: 1,\n  175: 2,\n  176: 2,\n  177: 3,\n  178: 2,\n  179: 1,\n  184: 1,\n  186: 1,\n  189: 3,\n  190: 1,\n  195: 3,\n  196: 3,\n  197: 1,\n  198: 1,\n  199: 3,\n  201: 1,\n  207: 4,\n  210: 3,\n  211: 1,\n  212: 2,\n  213: 2,\n  214: 1,\n  215: 1,\n  225: 0,\n  229: 1,\n  230: 1,\n  231: 1,\n  232: 1,\n  233: 1,\n  234: 1,\n  235: 3,\n  244: 1,\n  247: 4,\n  252: 2,\n  257: 1,\n  261: 1,\n  271: 1,\n  273: 4,\n  274: 2,\n  275: 2,\n  276: 2,\n  277: 3,\n  278: 3,\n  279: 1,\n  280: 3,\n  281: 3,\n  282: 3,\n  283: 1,\n  284: 1,\n  285: 2,\n  286: 4,\n  287: 3,\n  288: 2,\n  289: 4,\n  290: 3,\n  291: 3,\n  292: 3,\n  293: 4,\n  294: 1,\n  295: 3,\n  296: 1,\n  297: 3,\n  298: 1,\n  299: 2,\n  300: 3,\n  301: 3,\n  302: 4,\n  303: 2,\n  304: 2,\n  305: 2,\n  306: 2,\n  307: 2,\n  308: 2,\n  309: 3,\n  310: 2,\n  311: 2,\n  312: 2,\n  313: 2,\n  314: 2,\n  315: 2,\n  316: 4,\n  325: 2,\n  326: 2,\n  327: 2,\n  328: 2,\n  331: 2,\n  332: 2,\n  337: 2,\n  342: 1,\n  343: 1,\n  346: 2,\n  347: 1,\n  350: 4,\n  351: 3,\n  352: 1,\n  353: 2,\n  360: 1,\n  368: 1,\n  369: 1,\n  370: 1,\n  371: 1,\n  372: 1,\n  373: 1,\n  374: 1,\n  375: 1,\n  376: 1,\n  377: 1,\n  378: 1,\n  382: 3,\n  385: 1,\n  392: 1,\n  393: 1,\n  396: 2,\n  397: 2,\n  398: 2,\n  399: 1,\n  400: 1,\n  401: 1,\n  402: 1,\n  403: 1,\n  404: 1,\n  405: 1,\n  406: 1,\n  407: 1,\n  408: 1,\n  409: 1,\n  410: 1,\n  414: 4,\n  415: 1,\n  416: 1,\n  417: 2,\n  420: 1,\n  421: 1,\n  422: 2,\n  424: 1,\n  425: 2,\n  426: 2,\n  427: 2,\n  428: 2,\n  430: 3,\n  438: 3,\n  439: 3,\n  440: 3,\n  443: 2,\n  444: 2,\n  445: 2,\n  446: 2,\n  447: 6,\n  448: 6,\n  449: 2,\n  450: 2,\n  464: 2,\n  468: 3,\n  476: 2,\n  479: 1,\n  480: 2,\n  65535: 0\n};\n/* Part 3 TODO: actually parse formulae */\nfunction ods_to_csf_formula(f/*:string*/)/*:string*/ {\n\tif(f.slice(0,3) == \"of:\") f = f.slice(3);\n\t/* 5.2 Basic Expressions */\n\tif(f.charCodeAt(0) == 61) {\n\t\tf = f.slice(1);\n\t\tif(f.charCodeAt(0) == 61) f = f.slice(1);\n\t}\n\tf = f.replace(/COM\\.MICROSOFT\\./g, \"\");\n\t/* Part 3 Section 5.8 References */\n\tf = f.replace(/\\[((?:\\.[A-Z]+[0-9]+)(?::\\.[A-Z]+[0-9]+)?)\\]/g, function($$, $1) { return $1.replace(/\\./g,\"\"); });\n\t/* TODO: something other than this */\n\tf = f.replace(/\\[.(#[A-Z]*[?!])\\]/g, \"$1\");\n\treturn f.replace(/[;~]/g,\",\").replace(/\\|/g,\";\");\n}\n\nfunction csf_to_ods_formula(f/*:string*/)/*:string*/ {\n\tvar o = \"of:=\" + f.replace(crefregex, \"$1[.$2$3$4$5]\").replace(/\\]:\\[/g,\":\");\n\t/* TODO: something other than this */\n\treturn o.replace(/;/g, \"|\").replace(/,/g,\";\");\n}\n\nfunction ods_to_csf_3D(r/*:string*/)/*:[string, string]*/ {\n\tvar a = r.split(\":\");\n\tvar s = a[0].split(\".\")[0];\n\treturn [s, a[0].split(\".\")[1] + (a.length > 1 ? (\":\" + (a[1].split(\".\")[1] || a[1].split(\".\")[0])) : \"\")];\n}\n\nfunction csf_to_ods_3D(r/*:string*/)/*:string*/ {\n\treturn r.replace(/\\./,\"!\");\n}\n\nvar strs = {}; // shared strings\nvar _ssfopts = {}; // spreadsheet formatting options\n\n\n/*global Map */\nvar browser_has_Map = typeof Map !== 'undefined';\n\nfunction get_sst_id(sst/*:SST*/, str/*:string*/, rev)/*:number*/ {\n\tvar i = 0, len = sst.length;\n\tif(rev) {\n\t\tif(browser_has_Map ? rev.has(str) : Object.prototype.hasOwnProperty.call(rev, str)) {\n\t\t\tvar revarr = browser_has_Map ? rev.get(str) : rev[str];\n\t\t\tfor(; i < revarr.length; ++i) {\n\t\t\t\tif(sst[revarr[i]].t === str) { sst.Count ++; return revarr[i]; }\n\t\t\t}\n\t\t}\n\t} else for(; i < len; ++i) {\n\t\tif(sst[i].t === str) { sst.Count ++; return i; }\n\t}\n\tsst[len] = ({t:str}/*:any*/); sst.Count ++; sst.Unique ++;\n\tif(rev) {\n\t\tif(browser_has_Map) {\n\t\t\tif(!rev.has(str)) rev.set(str, []);\n\t\t\trev.get(str).push(len);\n\t\t} else {\n\t\t\tif(!Object.prototype.hasOwnProperty.call(rev, str)) rev[str] = [];\n\t\t\trev[str].push(len);\n\t\t}\n\t}\n\treturn len;\n}\n\nfunction col_obj_w(C/*:number*/, col) {\n\tvar p = ({min:C+1,max:C+1}/*:any*/);\n\t/* wch (chars), wpx (pixels) */\n\tvar wch = -1;\n\tif(col.MDW) MDW = col.MDW;\n\tif(col.width != null) p.customWidth = 1;\n\telse if(col.wpx != null) wch = px2char(col.wpx);\n\telse if(col.wch != null) wch = col.wch;\n\tif(wch > -1) { p.width = char2width(wch); p.customWidth = 1; }\n\telse if(col.width != null) p.width = col.width;\n\tif(col.hidden) p.hidden = true;\n\tif(col.level != null) { p.outlineLevel = p.level = col.level; }\n\treturn p;\n}\n\nfunction default_margins(margins/*:Margins*/, mode/*:?string*/) {\n\tif(!margins) return;\n\tvar defs = [0.7, 0.7, 0.75, 0.75, 0.3, 0.3];\n\tif(mode == 'xlml') defs = [1, 1, 1, 1, 0.5, 0.5];\n\tif(margins.left   == null) margins.left   = defs[0];\n\tif(margins.right  == null) margins.right  = defs[1];\n\tif(margins.top    == null) margins.top    = defs[2];\n\tif(margins.bottom == null) margins.bottom = defs[3];\n\tif(margins.header == null) margins.header = defs[4];\n\tif(margins.footer == null) margins.footer = defs[5];\n}\n\nfunction get_cell_style(styles/*:Array<any>*/, cell/*:Cell*/, opts) {\n\tvar z = opts.revssf[cell.z != null ? cell.z : \"General\"];\n\tvar i = 0x3c, len = styles.length;\n\tif(z == null && opts.ssf) {\n\t\tfor(; i < 0x188; ++i) if(opts.ssf[i] == null) {\n\t\t\tSSF_load(cell.z, i);\n\t\t\t// $FlowIgnore\n\t\t\topts.ssf[i] = cell.z;\n\t\t\topts.revssf[cell.z] = z = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor(i = 0; i != len; ++i) if(styles[i].numFmtId === z) return i;\n\tstyles[len] = {\n\t\tnumFmtId:z,\n\t\tfontId:0,\n\t\tfillId:0,\n\t\tborderId:0,\n\t\txfId:0,\n\t\tapplyNumberFormat:1\n\t};\n\treturn len;\n}\n\nfunction safe_format(p/*:Cell*/, fmtid/*:number*/, fillid/*:?number*/, opts, themes, styles) {\n\ttry {\n\t\tif(opts.cellNF) p.z = table_fmt[fmtid];\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(p.t === 'z' && !opts.cellStyles) return;\n\tif(p.t === 'd' && typeof p.v === 'string') p.v = parseDate(p.v);\n\tif((!opts || opts.cellText !== false) && p.t !== 'z') try {\n\t\tif(table_fmt[fmtid] == null) SSF_load(SSFImplicit[fmtid] || \"General\", fmtid);\n\t\tif(p.t === 'e') p.w = p.w || BErr[p.v];\n\t\telse if(fmtid === 0) {\n\t\t\tif(p.t === 'n') {\n\t\t\t\tif((p.v|0) === p.v) p.w = p.v.toString(10);\n\t\t\t\telse p.w = SSF_general_num(p.v);\n\t\t\t}\n\t\t\telse if(p.t === 'd') {\n\t\t\t\tvar dd = datenum(p.v);\n\t\t\t\tif((dd|0) === dd) p.w = dd.toString(10);\n\t\t\t\telse p.w = SSF_general_num(dd);\n\t\t\t}\n\t\t\telse if(p.v === undefined) return \"\";\n\t\t\telse p.w = SSF_general(p.v,_ssfopts);\n\t\t}\n\t\telse if(p.t === 'd') p.w = SSF_format(fmtid,datenum(p.v),_ssfopts);\n\t\telse p.w = SSF_format(fmtid,p.v,_ssfopts);\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(!opts.cellStyles) return;\n\tif(fillid != null) try {\n\t\tp.s = styles.Fills[fillid];\n\t\tif (p.s.fgColor && p.s.fgColor.theme && !p.s.fgColor.rgb) {\n\t\t\tp.s.fgColor.rgb = rgb_tint(themes.themeElements.clrScheme[p.s.fgColor.theme].rgb, p.s.fgColor.tint || 0);\n\t\t\tif(opts.WTF) p.s.fgColor.raw_rgb = themes.themeElements.clrScheme[p.s.fgColor.theme].rgb;\n\t\t}\n\t\tif (p.s.bgColor && p.s.bgColor.theme) {\n\t\t\tp.s.bgColor.rgb = rgb_tint(themes.themeElements.clrScheme[p.s.bgColor.theme].rgb, p.s.bgColor.tint || 0);\n\t\t\tif(opts.WTF) p.s.bgColor.raw_rgb = themes.themeElements.clrScheme[p.s.bgColor.theme].rgb;\n\t\t}\n\t} catch(e) { if(opts.WTF && styles.Fills) throw e; }\n}\n\nfunction check_ws(ws/*:Worksheet*/, sname/*:string*/, i/*:number*/) {\n\tif(ws && ws['!ref']) {\n\t\tvar range = safe_decode_range(ws['!ref']);\n\t\tif(range.e.c < range.s.c || range.e.r < range.s.r) throw new Error(\"Bad range (\" + i + \"): \" + ws['!ref']);\n\t}\n}\nfunction parse_ws_xml_dim(ws/*:Worksheet*/, s/*:string*/) {\n\tvar d = safe_decode_range(s);\n\tif(d.s.r<=d.e.r && d.s.c<=d.e.c && d.s.r>=0 && d.s.c>=0) ws[\"!ref\"] = encode_range(d);\n}\nvar mergecregex = /<(?:\\w:)?mergeCell ref=\"[A-Z0-9:]+\"\\s*[\\/]?>/g;\nvar sheetdataregex = /<(?:\\w+:)?sheetData[^>]*>([\\s\\S]*)<\\/(?:\\w+:)?sheetData>/;\nvar hlinkregex = /<(?:\\w:)?hyperlink [^>]*>/mg;\nvar dimregex = /\"(\\w*:\\w*)\"/;\nvar colregex = /<(?:\\w:)?col\\b[^>]*[\\/]?>/g;\nvar afregex = /<(?:\\w:)?autoFilter[^>]*([\\/]|>([\\s\\S]*)<\\/(?:\\w:)?autoFilter)>/g;\nvar marginregex= /<(?:\\w:)?pageMargins[^>]*\\/>/g;\nvar sheetprregex = /<(?:\\w:)?sheetPr\\b(?:[^>a-z][^>]*)?\\/>/;\nvar sheetprregex2= /<(?:\\w:)?sheetPr[^>]*(?:[\\/]|>([\\s\\S]*)<\\/(?:\\w:)?sheetPr)>/;\nvar svsregex = /<(?:\\w:)?sheetViews[^>]*(?:[\\/]|>([\\s\\S]*)<\\/(?:\\w:)?sheetViews)>/;\n\n/* 18.3 Worksheets */\nfunction parse_ws_xml(data/*:?string*/, opts, idx/*:number*/, rels, wb/*:WBWBProps*/, themes, styles)/*:Worksheet*/ {\n\tif(!data) return data;\n\tif(!rels) rels = {'!id':{}};\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\n\t/* 18.3.1.99 worksheet CT_Worksheet */\n\tvar s = opts.dense ? ([]/*:any*/) : ({}/*:any*/);\n\tvar refguess/*:Range*/ = ({s: {r:2000000, c:2000000}, e: {r:0, c:0} }/*:any*/);\n\n\tvar data1 = \"\", data2 = \"\";\n\tvar mtch/*:?any*/ = data.match(sheetdataregex);\n\tif(mtch) {\n\t\tdata1 = data.slice(0, mtch.index);\n\t\tdata2 = data.slice(mtch.index + mtch[0].length);\n\t} else data1 = data2 = data;\n\n\t/* 18.3.1.82 sheetPr CT_SheetPr */\n\tvar sheetPr = data1.match(sheetprregex);\n\tif(sheetPr) parse_ws_xml_sheetpr(sheetPr[0], s, wb, idx);\n\telse if((sheetPr = data1.match(sheetprregex2))) parse_ws_xml_sheetpr2(sheetPr[0], sheetPr[1]||\"\", s, wb, idx, styles, themes);\n\n\t/* 18.3.1.35 dimension CT_SheetDimension */\n\tvar ridx = (data1.match(/<(?:\\w*:)?dimension/)||{index:-1}).index;\n\tif(ridx > 0) {\n\t\tvar ref = data1.slice(ridx,ridx+50).match(dimregex);\n\t\tif(ref) parse_ws_xml_dim(s, ref[1]);\n\t}\n\n\t/* 18.3.1.88 sheetViews CT_SheetViews */\n\tvar svs = data1.match(svsregex);\n\tif(svs && svs[1]) parse_ws_xml_sheetviews(svs[1], wb);\n\n\t/* 18.3.1.17 cols CT_Cols */\n\tvar columns/*:Array<ColInfo>*/ = [];\n\tif(opts.cellStyles) {\n\t\t/* 18.3.1.13 col CT_Col */\n\t\tvar cols = data1.match(colregex);\n\t\tif(cols) parse_ws_xml_cols(columns, cols);\n\t}\n\n\t/* 18.3.1.80 sheetData CT_SheetData ? */\n\tif(mtch) parse_ws_xml_data(mtch[1], s, opts, refguess, themes, styles);\n\n\t/* 18.3.1.2  autoFilter CT_AutoFilter */\n\tvar afilter = data2.match(afregex);\n\tif(afilter) s['!autofilter'] = parse_ws_xml_autofilter(afilter[0]);\n\n\t/* 18.3.1.55 mergeCells CT_MergeCells */\n\tvar merges/*:Array<Range>*/ = [];\n\tvar _merge = data2.match(mergecregex);\n\tif(_merge) for(ridx = 0; ridx != _merge.length; ++ridx)\n\t\tmerges[ridx] = safe_decode_range(_merge[ridx].slice(_merge[ridx].indexOf(\"\\\"\")+1));\n\n\t/* 18.3.1.48 hyperlinks CT_Hyperlinks */\n\tvar hlink = data2.match(hlinkregex);\n\tif(hlink) parse_ws_xml_hlinks(s, hlink, rels);\n\n\t/* 18.3.1.62 pageMargins CT_PageMargins */\n\tvar margins = data2.match(marginregex);\n\tif(margins) s['!margins'] = parse_ws_xml_margins(parsexmltag(margins[0]));\n\n\tif(!s[\"!ref\"] && refguess.e.c >= refguess.s.c && refguess.e.r >= refguess.s.r) s[\"!ref\"] = encode_range(refguess);\n\tif(opts.sheetRows > 0 && s[\"!ref\"]) {\n\t\tvar tmpref = safe_decode_range(s[\"!ref\"]);\n\t\tif(opts.sheetRows <= +tmpref.e.r) {\n\t\t\ttmpref.e.r = opts.sheetRows - 1;\n\t\t\tif(tmpref.e.r > refguess.e.r) tmpref.e.r = refguess.e.r;\n\t\t\tif(tmpref.e.r < tmpref.s.r) tmpref.s.r = tmpref.e.r;\n\t\t\tif(tmpref.e.c > refguess.e.c) tmpref.e.c = refguess.e.c;\n\t\t\tif(tmpref.e.c < tmpref.s.c) tmpref.s.c = tmpref.e.c;\n\t\t\ts[\"!fullref\"] = s[\"!ref\"];\n\t\t\ts[\"!ref\"] = encode_range(tmpref);\n\t\t}\n\t}\n\tif(columns.length > 0) s[\"!cols\"] = columns;\n\tif(merges.length > 0) s[\"!merges\"] = merges;\n\treturn s;\n}\n\nfunction write_ws_xml_merges(merges/*:Array<Range>*/)/*:string*/ {\n\tif(merges.length === 0) return \"\";\n\tvar o = '<mergeCells count=\"' + merges.length + '\">';\n\tfor(var i = 0; i != merges.length; ++i) o += '<mergeCell ref=\"' + encode_range(merges[i]) + '\"/>';\n\treturn o + '</mergeCells>';\n}\n\n/* 18.3.1.82-3 sheetPr CT_ChartsheetPr / CT_SheetPr */\nfunction parse_ws_xml_sheetpr(sheetPr/*:string*/, s, wb/*:WBWBProps*/, idx/*:number*/) {\n\tvar data = parsexmltag(sheetPr);\n\tif(!wb.Sheets[idx]) wb.Sheets[idx] = {};\n\tif(data.codeName) wb.Sheets[idx].CodeName = unescapexml(utf8read(data.codeName));\n}\nfunction parse_ws_xml_sheetpr2(sheetPr/*:string*/, body/*:string*/, s, wb/*:WBWBProps*/, idx/*:number*/) {\n\tparse_ws_xml_sheetpr(sheetPr.slice(0, sheetPr.indexOf(\">\")), s, wb, idx);\n}\nfunction write_ws_xml_sheetpr(ws, wb, idx, opts, o) {\n\tvar needed = false;\n\tvar props = {}, payload = null;\n\tif(opts.bookType !== 'xlsx' && wb.vbaraw) {\n\t\tvar cname = wb.SheetNames[idx];\n\t\ttry { if(wb.Workbook) cname = wb.Workbook.Sheets[idx].CodeName || cname; } catch(e) {}\n\t\tneeded = true;\n\t\tprops.codeName = utf8write(escapexml(cname));\n\t}\n\n\tif(ws && ws[\"!outline\"]) {\n\t\tvar outlineprops = {summaryBelow:1, summaryRight:1};\n\t\tif(ws[\"!outline\"].above) outlineprops.summaryBelow = 0;\n\t\tif(ws[\"!outline\"].left) outlineprops.summaryRight = 0;\n\t\tpayload = (payload||\"\") + writextag('outlinePr', null, outlineprops);\n\t}\n\n\tif(!needed && !payload) return;\n\to[o.length] = (writextag('sheetPr', payload, props));\n}\n\n/* 18.3.1.85 sheetProtection CT_SheetProtection */\nvar sheetprot_deffalse = [\"objects\", \"scenarios\", \"selectLockedCells\", \"selectUnlockedCells\"];\nvar sheetprot_deftrue = [\n\t\"formatColumns\", \"formatRows\", \"formatCells\",\n\t\"insertColumns\", \"insertRows\", \"insertHyperlinks\",\n\t\"deleteColumns\", \"deleteRows\",\n\t\"sort\", \"autoFilter\", \"pivotTables\"\n];\nfunction write_ws_xml_protection(sp)/*:string*/ {\n\t// algorithmName, hashValue, saltValue, spinCount\n\tvar o = ({sheet:1}/*:any*/);\n\tsheetprot_deffalse.forEach(function(n) { if(sp[n] != null && sp[n]) o[n] = \"1\"; });\n\tsheetprot_deftrue.forEach(function(n) { if(sp[n] != null && !sp[n]) o[n] = \"0\"; });\n\t/* TODO: algorithm */\n\tif(sp.password) o.password = crypto_CreatePasswordVerifier_Method1(sp.password).toString(16).toUpperCase();\n\treturn writextag('sheetProtection', null, o);\n}\n\nfunction parse_ws_xml_hlinks(s, data/*:Array<string>*/, rels) {\n\tvar dense = Array.isArray(s);\n\tfor(var i = 0; i != data.length; ++i) {\n\t\tvar val = parsexmltag(utf8read(data[i]), true);\n\t\tif(!val.ref) return;\n\t\tvar rel = ((rels || {})['!id']||[])[val.id];\n\t\tif(rel) {\n\t\t\tval.Target = rel.Target;\n\t\t\tif(val.location) val.Target += \"#\"+unescapexml(val.location);\n\t\t} else {\n\t\t\tval.Target = \"#\" + unescapexml(val.location);\n\t\t\trel = {Target: val.Target, TargetMode: 'Internal'};\n\t\t}\n\t\tval.Rel = rel;\n\t\tif(val.tooltip) { val.Tooltip = val.tooltip; delete val.tooltip; }\n\t\tvar rng = safe_decode_range(val.ref);\n\t\tfor(var R=rng.s.r;R<=rng.e.r;++R) for(var C=rng.s.c;C<=rng.e.c;++C) {\n\t\t\tvar addr = encode_cell({c:C,r:R});\n\t\t\tif(dense) {\n\t\t\t\tif(!s[R]) s[R] = [];\n\t\t\t\tif(!s[R][C]) s[R][C] = {t:\"z\",v:undefined};\n\t\t\t\ts[R][C].l = val;\n\t\t\t} else {\n\t\t\t\tif(!s[addr]) s[addr] = {t:\"z\",v:undefined};\n\t\t\t\ts[addr].l = val;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction parse_ws_xml_margins(margin) {\n\tvar o = {};\n\t[\"left\", \"right\", \"top\", \"bottom\", \"header\", \"footer\"].forEach(function(k) {\n\t\tif(margin[k]) o[k] = parseFloat(margin[k]);\n\t});\n\treturn o;\n}\nfunction write_ws_xml_margins(margin)/*:string*/ {\n\tdefault_margins(margin);\n\treturn writextag('pageMargins', null, margin);\n}\n\nfunction parse_ws_xml_cols(columns, cols) {\n\tvar seencol = false;\n\tfor(var coli = 0; coli != cols.length; ++coli) {\n\t\tvar coll = parsexmltag(cols[coli], true);\n\t\tif(coll.hidden) coll.hidden = parsexmlbool(coll.hidden);\n\t\tvar colm=parseInt(coll.min, 10)-1, colM=parseInt(coll.max,10)-1;\n\t\tif(coll.outlineLevel) coll.level = (+coll.outlineLevel || 0);\n\t\tdelete coll.min; delete coll.max; coll.width = +coll.width;\n\t\tif(!seencol && coll.width) { seencol = true; find_mdw_colw(coll.width); }\n\t\tprocess_col(coll);\n\t\twhile(colm <= colM) columns[colm++] = dup(coll);\n\t}\n}\nfunction write_ws_xml_cols(ws, cols)/*:string*/ {\n\tvar o = [\"<cols>\"], col;\n\tfor(var i = 0; i != cols.length; ++i) {\n\t\tif(!(col = cols[i])) continue;\n\t\to[o.length] = (writextag('col', null, col_obj_w(i, col)));\n\t}\n\to[o.length] = \"</cols>\";\n\treturn o.join(\"\");\n}\n\nfunction parse_ws_xml_autofilter(data/*:string*/) {\n\tvar o = { ref: (data.match(/ref=\"([^\"]*)\"/)||[])[1]};\n\treturn o;\n}\nfunction write_ws_xml_autofilter(data, ws, wb, idx)/*:string*/ {\n\tvar ref = typeof data.ref == \"string\" ? data.ref : encode_range(data.ref);\n\tif(!wb.Workbook) wb.Workbook = ({Sheets:[]}/*:any*/);\n\tif(!wb.Workbook.Names) wb.Workbook.Names = [];\n\tvar names/*: Array<any> */ = wb.Workbook.Names;\n\tvar range = decode_range(ref);\n\tif(range.s.r == range.e.r) { range.e.r = decode_range(ws[\"!ref\"]).e.r; ref = encode_range(range); }\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar name = names[i];\n\t\tif(name.Name != '_xlnm._FilterDatabase') continue;\n\t\tif(name.Sheet != idx) continue;\n\t\tname.Ref = \"'\" + wb.SheetNames[idx] + \"'!\" + ref; break;\n\t}\n\tif(i == names.length) names.push({ Name: '_xlnm._FilterDatabase', Sheet: idx, Ref: \"'\" + wb.SheetNames[idx] + \"'!\" + ref  });\n\treturn writextag(\"autoFilter\", null, {ref:ref});\n}\n\n/* 18.3.1.88 sheetViews CT_SheetViews */\n/* 18.3.1.87 sheetView CT_SheetView */\nvar sviewregex = /<(?:\\w:)?sheetView(?:[^>a-z][^>]*)?\\/?>/;\nfunction parse_ws_xml_sheetviews(data, wb/*:WBWBProps*/) {\n\tif(!wb.Views) wb.Views = [{}];\n\t(data.match(sviewregex)||[]).forEach(function(r/*:string*/, i/*:number*/) {\n\t\tvar tag = parsexmltag(r);\n\t\t// $FlowIgnore\n\t\tif(!wb.Views[i]) wb.Views[i] = {};\n\t\t// $FlowIgnore\n\t\tif(+tag.zoomScale) wb.Views[i].zoom = +tag.zoomScale;\n\t\t// $FlowIgnore\n\t\tif(parsexmlbool(tag.rightToLeft)) wb.Views[i].RTL = true;\n\t});\n}\nfunction write_ws_xml_sheetviews(ws, opts, idx, wb)/*:string*/ {\n\tvar sview = ({workbookViewId:\"0\"}/*:any*/);\n\t// $FlowIgnore\n\tif((((wb||{}).Workbook||{}).Views||[])[0]) sview.rightToLeft = wb.Workbook.Views[0].RTL ? \"1\" : \"0\";\n\treturn writextag(\"sheetViews\", writextag(\"sheetView\", null, sview), {});\n}\n\nfunction write_ws_xml_cell(cell/*:Cell*/, ref, ws, opts/*::, idx, wb*/)/*:string*/ {\n\tif(cell.c) ws['!comments'].push([ref, cell.c]);\n\tif(cell.v === undefined && typeof cell.f !== \"string\" || cell.t === 'z' && !cell.f) return \"\";\n\tvar vv = \"\";\n\tvar oldt = cell.t, oldv = cell.v;\n\tif(cell.t !== \"z\") switch(cell.t) {\n\t\tcase 'b': vv = cell.v ? \"1\" : \"0\"; break;\n\t\tcase 'n': vv = ''+cell.v; break;\n\t\tcase 'e': vv = BErr[cell.v]; break;\n\t\tcase 'd':\n\t\t\tif(opts && opts.cellDates) vv = parseDate(cell.v, -1).toISOString();\n\t\t\telse {\n\t\t\t\tcell = dup(cell);\n\t\t\t\tcell.t = 'n';\n\t\t\t\tvv = ''+(cell.v = datenum(parseDate(cell.v)));\n\t\t\t}\n\t\t\tif(typeof cell.z === 'undefined') cell.z = table_fmt[14];\n\t\t\tbreak;\n\t\tdefault: vv = cell.v; break;\n\t}\n\tvar v = writetag('v', escapexml(vv)), o = ({r:ref}/*:any*/);\n\t/* TODO: cell style */\n\tvar os = get_cell_style(opts.cellXfs, cell, opts);\n\tif(os !== 0) o.s = os;\n\tswitch(cell.t) {\n\t\tcase 'n': break;\n\t\tcase 'd': o.t = \"d\"; break;\n\t\tcase 'b': o.t = \"b\"; break;\n\t\tcase 'e': o.t = \"e\"; break;\n\t\tcase 'z': break;\n\t\tdefault: if(cell.v == null) { delete cell.t; break; }\n\t\t\tif(cell.v.length > 32767) throw new Error(\"Text length must not exceed 32767 characters\");\n\t\t\tif(opts && opts.bookSST) {\n\t\t\t\tv = writetag('v', ''+get_sst_id(opts.Strings, cell.v, opts.revStrings));\n\t\t\t\to.t = \"s\"; break;\n\t\t\t}\n\t\t\to.t = \"str\"; break;\n\t}\n\tif(cell.t != oldt) { cell.t = oldt; cell.v = oldv; }\n\tif(typeof cell.f == \"string\" && cell.f) {\n\t\tvar ff = cell.F && cell.F.slice(0, ref.length) == ref ? {t:\"array\", ref:cell.F} : null;\n\t\tv = writextag('f', escapexml(cell.f), ff) + (cell.v != null ? v : \"\");\n\t}\n\tif(cell.l) ws['!links'].push([ref, cell.l]);\n\tif(cell.D) o.cm = 1;\n\treturn writextag('c', v, o);\n}\n\nvar parse_ws_xml_data = /*#__PURE__*/(function() {\n\tvar cellregex = /<(?:\\w+:)?c[ \\/>]/, rowregex = /<\\/(?:\\w+:)?row>/;\n\tvar rregex = /r=[\"']([^\"']*)[\"']/, isregex = /<(?:\\w+:)?is>([\\S\\s]*?)<\\/(?:\\w+:)?is>/;\n\tvar refregex = /ref=[\"']([^\"']*)[\"']/;\n\tvar match_v = matchtag(\"v\"), match_f = matchtag(\"f\");\n\nreturn function parse_ws_xml_data(sdata/*:string*/, s, opts, guess/*:Range*/, themes, styles) {\n\tvar ri = 0, x = \"\", cells/*:Array<string>*/ = [], cref/*:?Array<string>*/ = [], idx=0, i=0, cc=0, d=\"\", p/*:any*/;\n\tvar tag, tagr = 0, tagc = 0;\n\tvar sstr, ftag;\n\tvar fmtid = 0, fillid = 0;\n\tvar do_format = Array.isArray(styles.CellXf), cf;\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar sharedf = [];\n\tvar dense = Array.isArray(s);\n\tvar rows/*:Array<RowInfo>*/ = [], rowobj = {}, rowrite = false;\n\tvar sheetStubs = !!opts.sheetStubs;\n\tfor(var marr = sdata.split(rowregex), mt = 0, marrlen = marr.length; mt != marrlen; ++mt) {\n\t\tx = marr[mt].trim();\n\t\tvar xlen = x.length;\n\t\tif(xlen === 0) continue;\n\n\t\t/* 18.3.1.73 row CT_Row */\n\t\tvar rstarti = 0;\n\t\touta: for(ri = 0; ri < xlen; ++ri) switch(/*x.charCodeAt(ri)*/x[ri]) {\n\t\t\tcase \">\" /*62*/:\n\t\t\t\tif(/*x.charCodeAt(ri-1) != 47*/x[ri-1] != \"/\") { ++ri; break outa; }\n\t\t\t\tif(opts && opts.cellStyles) {\n\t\t\t\t\t// TODO: avoid duplication\n\t\t\t\t\ttag = parsexmltag(x.slice(rstarti,ri), true);\n\t\t\t\t\ttagr = tag.r != null ? parseInt(tag.r, 10) : tagr+1; tagc = -1;\n\t\t\t\t\tif(opts.sheetRows && opts.sheetRows < tagr) continue;\n\t\t\t\t\trowobj = {}; rowrite = false;\n\t\t\t\t\tif(tag.ht) { rowrite = true; rowobj.hpt = parseFloat(tag.ht); rowobj.hpx = pt2px(rowobj.hpt); }\n\t\t\t\t\tif(tag.hidden == \"1\") { rowrite = true; rowobj.hidden = true; }\n\t\t\t\t\tif(tag.outlineLevel != null) { rowrite = true; rowobj.level = +tag.outlineLevel; }\n\t\t\t\t\tif(rowrite) rows[tagr-1] = rowobj;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"<\" /*60*/: rstarti = ri; break;\n\t\t}\n\t\tif(rstarti >= ri) break;\n\t\ttag = parsexmltag(x.slice(rstarti,ri), true);\n\t\ttagr = tag.r != null ? parseInt(tag.r, 10) : tagr+1; tagc = -1;\n\t\tif(opts.sheetRows && opts.sheetRows < tagr) continue;\n\t\tif(guess.s.r > tagr - 1) guess.s.r = tagr - 1;\n\t\tif(guess.e.r < tagr - 1) guess.e.r = tagr - 1;\n\n\t\tif(opts && opts.cellStyles) {\n\t\t\trowobj = {}; rowrite = false;\n\t\t\tif(tag.ht) { rowrite = true; rowobj.hpt = parseFloat(tag.ht); rowobj.hpx = pt2px(rowobj.hpt); }\n\t\t\tif(tag.hidden == \"1\") { rowrite = true; rowobj.hidden = true; }\n\t\t\tif(tag.outlineLevel != null) { rowrite = true; rowobj.level = +tag.outlineLevel; }\n\t\t\tif(rowrite) rows[tagr-1] = rowobj;\n\t\t}\n\n\t\t/* 18.3.1.4 c CT_Cell */\n\t\tcells = x.slice(ri).split(cellregex);\n\t\tfor(var rslice = 0; rslice != cells.length; ++rslice) if(cells[rslice].trim().charAt(0) != \"<\") break;\n\t\tcells = cells.slice(rslice);\n\t\tfor(ri = 0; ri != cells.length; ++ri) {\n\t\t\tx = cells[ri].trim();\n\t\t\tif(x.length === 0) continue;\n\t\t\tcref = x.match(rregex); idx = ri; i=0; cc=0;\n\t\t\tx = \"<c \" + (x.slice(0,1)==\"<\"?\">\":\"\") + x;\n\t\t\tif(cref != null && cref.length === 2) {\n\t\t\t\tidx = 0; d=cref[1];\n\t\t\t\tfor(i=0; i != d.length; ++i) {\n\t\t\t\t\tif((cc=d.charCodeAt(i)-64) < 1 || cc > 26) break;\n\t\t\t\t\tidx = 26*idx + cc;\n\t\t\t\t}\n\t\t\t\t--idx;\n\t\t\t\ttagc = idx;\n\t\t\t} else ++tagc;\n\t\t\tfor(i = 0; i != x.length; ++i) if(x.charCodeAt(i) === 62) break; ++i;\n\t\t\ttag = parsexmltag(x.slice(0,i), true);\n\t\t\tif(!tag.r) tag.r = encode_cell({r:tagr-1, c:tagc});\n\t\t\td = x.slice(i);\n\t\t\tp = ({t:\"\"}/*:any*/);\n\n\t\t\tif((cref=d.match(match_v))!= null && /*::cref != null && */cref[1] !== '') p.v=unescapexml(cref[1]);\n\t\t\tif(opts.cellFormula) {\n\t\t\t\tif((cref=d.match(match_f))!= null && /*::cref != null && */cref[1] !== '') {\n\t\t\t\t\t/* TODO: match against XLSXFutureFunctions */\n\t\t\t\t\tp.f=unescapexml(utf8read(cref[1])).replace(/\\r\\n/g, \"\\n\");\n\t\t\t\t\tif(!opts.xlfn) p.f = _xlfn(p.f);\n\t\t\t\t\tif(/*::cref != null && cref[0] != null && */cref[0].indexOf('t=\"array\"') > -1) {\n\t\t\t\t\t\tp.F = (d.match(refregex)||[])[1];\n\t\t\t\t\t\tif(p.F.indexOf(\":\") > -1) arrayf.push([safe_decode_range(p.F), p.F]);\n\t\t\t\t\t} else if(/*::cref != null && cref[0] != null && */cref[0].indexOf('t=\"shared\"') > -1) {\n\t\t\t\t\t\t// TODO: parse formula\n\t\t\t\t\t\tftag = parsexmltag(cref[0]);\n\t\t\t\t\t\tvar ___f = unescapexml(utf8read(cref[1]));\n\t\t\t\t\t\tif(!opts.xlfn) ___f = _xlfn(___f);\n\t\t\t\t\t\tsharedf[parseInt(ftag.si, 10)] = [ftag, ___f, tag.r];\n\t\t\t\t\t}\n\t\t\t\t} else if((cref=d.match(/<f[^>]*\\/>/))) {\n\t\t\t\t\tftag = parsexmltag(cref[0]);\n\t\t\t\t\tif(sharedf[ftag.si]) p.f = shift_formula_xlsx(sharedf[ftag.si][1], sharedf[ftag.si][2]/*[0].ref*/, tag.r);\n\t\t\t\t}\n\t\t\t\t/* TODO: factor out contains logic */\n\t\t\t\tvar _tag = decode_cell(tag.r);\n\t\t\t\tfor(i = 0; i < arrayf.length; ++i)\n\t\t\t\t\tif(_tag.r >= arrayf[i][0].s.r && _tag.r <= arrayf[i][0].e.r)\n\t\t\t\t\t\tif(_tag.c >= arrayf[i][0].s.c && _tag.c <= arrayf[i][0].e.c)\n\t\t\t\t\t\t\tp.F = arrayf[i][1];\n\t\t\t}\n\n\t\t\tif(tag.t == null && p.v === undefined) {\n\t\t\t\tif(p.f || p.F) {\n\t\t\t\t\tp.v = 0; p.t = \"n\";\n\t\t\t\t} else if(!sheetStubs) continue;\n\t\t\t\telse p.t = \"z\";\n\t\t\t}\n\t\t\telse p.t = tag.t || \"n\";\n\t\t\tif(guess.s.c > tagc) guess.s.c = tagc;\n\t\t\tif(guess.e.c < tagc) guess.e.c = tagc;\n\t\t\t/* 18.18.11 t ST_CellType */\n\t\t\tswitch(p.t) {\n\t\t\t\tcase 'n':\n\t\t\t\t\tif(p.v == \"\" || p.v == null) {\n\t\t\t\t\t\tif(!sheetStubs) continue;\n\t\t\t\t\t\tp.t = 'z';\n\t\t\t\t\t} else p.v = parseFloat(p.v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 's':\n\t\t\t\t\tif(typeof p.v == 'undefined') {\n\t\t\t\t\t\tif(!sheetStubs) continue;\n\t\t\t\t\t\tp.t = 'z';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsstr = strs[parseInt(p.v, 10)];\n\t\t\t\t\t\tp.v = sstr.t;\n\t\t\t\t\t\tp.r = sstr.r;\n\t\t\t\t\t\tif(opts.cellHTML) p.h = sstr.h;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'str':\n\t\t\t\t\tp.t = \"s\";\n\t\t\t\t\tp.v = (p.v!=null) ? utf8read(p.v) : '';\n\t\t\t\t\tif(opts.cellHTML) p.h = escapehtml(p.v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'inlineStr':\n\t\t\t\t\tcref = d.match(isregex);\n\t\t\t\t\tp.t = 's';\n\t\t\t\t\tif(cref != null && (sstr = parse_si(cref[1]))) {\n\t\t\t\t\t\tp.v = sstr.t;\n\t\t\t\t\t\tif(opts.cellHTML) p.h = sstr.h;\n\t\t\t\t\t} else p.v = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'b': p.v = parsexmlbool(p.v); break;\n\t\t\t\tcase 'd':\n\t\t\t\t\tif(opts.cellDates) p.v = parseDate(p.v, 1);\n\t\t\t\t\telse { p.v = datenum(parseDate(p.v, 1)); p.t = 'n'; }\n\t\t\t\t\tbreak;\n\t\t\t\t/* error string in .w, number in .v */\n\t\t\t\tcase 'e':\n\t\t\t\t\tif(!opts || opts.cellText !== false) p.w = p.v;\n\t\t\t\t\tp.v = RBErr[p.v]; break;\n\t\t\t}\n\t\t\t/* formatting */\n\t\t\tfmtid = fillid = 0;\n\t\t\tcf = null;\n\t\t\tif(do_format && tag.s !== undefined) {\n\t\t\t\tcf = styles.CellXf[tag.s];\n\t\t\t\tif(cf != null) {\n\t\t\t\t\tif(cf.numFmtId != null) fmtid = cf.numFmtId;\n\t\t\t\t\tif(opts.cellStyles) {\n\t\t\t\t\t\tif(cf.fillId != null) fillid = cf.fillId;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsafe_format(p, fmtid, fillid, opts, themes, styles);\n\t\t\tif(opts.cellDates && do_format && p.t == 'n' && fmt_is_date(table_fmt[fmtid])) { p.t = 'd'; p.v = numdate(p.v); }\n\t\t\tif(tag.cm && opts.xlmeta) {\n\t\t\t\tvar cm = (opts.xlmeta.Cell||[])[+tag.cm-1];\n\t\t\t\tif(cm && cm.type == 'XLDAPR') p.D = true;\n\t\t\t}\n\t\t\tif(dense) {\n\t\t\t\tvar _r = decode_cell(tag.r);\n\t\t\t\tif(!s[_r.r]) s[_r.r] = [];\n\t\t\t\ts[_r.r][_r.c] = p;\n\t\t\t} else s[tag.r] = p;\n\t\t}\n\t}\n\tif(rows.length > 0) s['!rows'] = rows;\n}; })();\n\nfunction write_ws_xml_data(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*//*::, rels*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [], r/*:Array<string>*/ = [], range = safe_decode_range(ws['!ref']), cell=\"\", ref, rr = \"\", cols/*:Array<string>*/ = [], R=0, C=0, rows = ws['!rows'];\n\tvar dense = Array.isArray(ws);\n\tvar params = ({r:rr}/*:any*/), row/*:RowInfo*/, height = -1;\n\tfor(C = range.s.c; C <= range.e.c; ++C) cols[C] = encode_col(C);\n\tfor(R = range.s.r; R <= range.e.r; ++R) {\n\t\tr = [];\n\t\trr = encode_row(R);\n\t\tfor(C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tref = cols[C] + rr;\n\t\t\tvar _cell = dense ? (ws[R]||[])[C]: ws[ref];\n\t\t\tif(_cell === undefined) continue;\n\t\t\tif((cell = write_ws_xml_cell(_cell, ref, ws, opts, idx, wb)) != null) r.push(cell);\n\t\t}\n\t\tif(r.length > 0 || (rows && rows[R])) {\n\t\t\tparams = ({r:rr}/*:any*/);\n\t\t\tif(rows && rows[R]) {\n\t\t\t\trow = rows[R];\n\t\t\t\tif(row.hidden) params.hidden = 1;\n\t\t\t\theight = -1;\n\t\t\t\tif(row.hpx) height = px2pt(row.hpx);\n\t\t\t\telse if(row.hpt) height = row.hpt;\n\t\t\t\tif(height > -1) { params.ht = height; params.customHeight = 1; }\n\t\t\t\tif(row.level) { params.outlineLevel = row.level; }\n\t\t\t}\n\t\t\to[o.length] = (writextag('row', r.join(\"\"), params));\n\t\t}\n\t}\n\tif(rows) for(; R < rows.length; ++R) {\n\t\tif(rows && rows[R]) {\n\t\t\tparams = ({r:R+1}/*:any*/);\n\t\t\trow = rows[R];\n\t\t\tif(row.hidden) params.hidden = 1;\n\t\t\theight = -1;\n\t\t\tif (row.hpx) height = px2pt(row.hpx);\n\t\t\telse if (row.hpt) height = row.hpt;\n\t\t\tif (height > -1) { params.ht = height; params.customHeight = 1; }\n\t\t\tif (row.level) { params.outlineLevel = row.level; }\n\t\t\to[o.length] = (writextag('row', \"\", params));\n\t\t}\n\t}\n\treturn o.join(\"\");\n}\n\nfunction write_ws_xml(idx/*:number*/, opts, wb/*:Workbook*/, rels)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('worksheet', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t'xmlns:r': XMLNS.r\n\t})];\n\tvar s = wb.SheetNames[idx], sidx = 0, rdata = \"\";\n\tvar ws = wb.Sheets[s];\n\tif(ws == null) ws = {};\n\tvar ref = ws['!ref'] || 'A1';\n\tvar range = safe_decode_range(ref);\n\tif(range.e.c > 0x3FFF || range.e.r > 0xFFFFF) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + ref + \" exceeds format limit A1:XFD1048576\");\n\t\trange.e.c = Math.min(range.e.c, 0x3FFF);\n\t\trange.e.r = Math.min(range.e.c, 0xFFFFF);\n\t\tref = encode_range(range);\n\t}\n\tif(!rels) rels = {};\n\tws['!comments'] = [];\n\tvar _drawing = [];\n\n\twrite_ws_xml_sheetpr(ws, wb, idx, opts, o);\n\n\to[o.length] = (writextag('dimension', null, {'ref': ref}));\n\n\to[o.length] = write_ws_xml_sheetviews(ws, opts, idx, wb);\n\n\t/* TODO: store in WB, process styles */\n\tif(opts.sheetFormat) o[o.length] = (writextag('sheetFormatPr', null, {\n\t\tdefaultRowHeight:opts.sheetFormat.defaultRowHeight||'16',\n\t\tbaseColWidth:opts.sheetFormat.baseColWidth||'10',\n\t\toutlineLevelRow:opts.sheetFormat.outlineLevelRow||'7'\n\t}));\n\n\tif(ws['!cols'] != null && ws['!cols'].length > 0) o[o.length] = (write_ws_xml_cols(ws, ws['!cols']));\n\n\to[sidx = o.length] = '<sheetData/>';\n\tws['!links'] = [];\n\tif(ws['!ref'] != null) {\n\t\trdata = write_ws_xml_data(ws, opts, idx, wb, rels);\n\t\tif(rdata.length > 0) o[o.length] = (rdata);\n\t}\n\tif(o.length>sidx+1) { o[o.length] = ('</sheetData>'); o[sidx]=o[sidx].replace(\"/>\",\">\"); }\n\n\t/* sheetCalcPr */\n\n\tif(ws['!protect']) o[o.length] = write_ws_xml_protection(ws['!protect']);\n\n\t/* protectedRanges */\n\t/* scenarios */\n\n\tif(ws['!autofilter'] != null) o[o.length] = write_ws_xml_autofilter(ws['!autofilter'], ws, wb, idx);\n\n\t/* sortState */\n\t/* dataConsolidate */\n\t/* customSheetViews */\n\n\tif(ws['!merges'] != null && ws['!merges'].length > 0) o[o.length] = (write_ws_xml_merges(ws['!merges']));\n\n\t/* phoneticPr */\n\t/* conditionalFormatting */\n\t/* dataValidations */\n\n\tvar relc = -1, rel, rId = -1;\n\tif(/*::(*/ws['!links']/*::||[])*/.length > 0) {\n\t\to[o.length] = \"<hyperlinks>\";\n\t\t/*::(*/ws['!links']/*::||[])*/.forEach(function(l) {\n\t\t\tif(!l[1].Target) return;\n\t\t\trel = ({\"ref\":l[0]}/*:any*/);\n\t\t\tif(l[1].Target.charAt(0) != \"#\") {\n\t\t\t\trId = add_rels(rels, -1, escapexml(l[1].Target).replace(/#.*$/, \"\"), RELS.HLINK);\n\t\t\t\trel[\"r:id\"] = \"rId\"+rId;\n\t\t\t}\n\t\t\tif((relc = l[1].Target.indexOf(\"#\")) > -1) rel.location = escapexml(l[1].Target.slice(relc+1));\n\t\t\tif(l[1].Tooltip) rel.tooltip = escapexml(l[1].Tooltip);\n\t\t\to[o.length] = writextag(\"hyperlink\",null,rel);\n\t\t});\n\t\to[o.length] = \"</hyperlinks>\";\n\t}\n\tdelete ws['!links'];\n\n\t/* printOptions */\n\n\tif(ws['!margins'] != null) o[o.length] =  write_ws_xml_margins(ws['!margins']);\n\n\t/* pageSetup */\n\t/* headerFooter */\n\t/* rowBreaks */\n\t/* colBreaks */\n\t/* customProperties */\n\t/* cellWatches */\n\n\tif(!opts || opts.ignoreEC || (opts.ignoreEC == (void 0))) o[o.length] = writetag(\"ignoredErrors\", writextag(\"ignoredError\", null, {numberStoredAsText:1, sqref:ref}));\n\n\t/* smartTags */\n\n\tif(_drawing.length > 0) {\n\t\trId = add_rels(rels, -1, \"../drawings/drawing\" + (idx+1) + \".xml\", RELS.DRAW);\n\t\to[o.length] = writextag(\"drawing\", null, {\"r:id\":\"rId\" + rId});\n\t\tws['!drawing'] = _drawing;\n\t}\n\n\tif(ws['!comments'].length > 0) {\n\t\trId = add_rels(rels, -1, \"../drawings/vmlDrawing\" + (idx+1) + \".vml\", RELS.VML);\n\t\to[o.length] = writextag(\"legacyDrawing\", null, {\"r:id\":\"rId\" + rId});\n\t\tws['!legacy'] = rId;\n\t}\n\n\t/* legacyDrawingHF */\n\t/* picture */\n\t/* oleObjects */\n\t/* controls */\n\t/* webPublishItems */\n\t/* tableParts */\n\t/* extLst */\n\n\tif(o.length>1) { o[o.length] = ('</worksheet>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSB] 2.4.726 BrtRowHdr */\nfunction parse_BrtRowHdr(data, length) {\n\tvar z = ({}/*:any*/);\n\tvar tgt = data.l + length;\n\tz.r = data.read_shift(4);\n\tdata.l += 4; // TODO: ixfe\n\tvar miyRw = data.read_shift(2);\n\tdata.l += 1; // TODO: top/bot padding\n\tvar flags = data.read_shift(1);\n\tdata.l = tgt;\n\tif(flags & 0x07) z.level = flags & 0x07;\n\tif(flags & 0x10) z.hidden = true;\n\tif(flags & 0x20) z.hpt = miyRw / 20;\n\treturn z;\n}\nfunction write_BrtRowHdr(R/*:number*/, range, ws) {\n\tvar o = new_buf(17+8*16);\n\tvar row = (ws['!rows']||[])[R]||{};\n\to.write_shift(4, R);\n\n\to.write_shift(4, 0); /* TODO: ixfe */\n\n\tvar miyRw = 0x0140;\n\tif(row.hpx) miyRw = px2pt(row.hpx) * 20;\n\telse if(row.hpt) miyRw = row.hpt * 20;\n\to.write_shift(2, miyRw);\n\n\to.write_shift(1, 0); /* top/bot padding */\n\n\tvar flags = 0x0;\n\tif(row.level) flags |= row.level;\n\tif(row.hidden) flags |= 0x10;\n\tif(row.hpx || row.hpt) flags |= 0x20;\n\to.write_shift(1, flags);\n\n\to.write_shift(1, 0); /* phonetic guide */\n\n\t/* [MS-XLSB] 2.5.8 BrtColSpan explains the mechanism */\n\tvar ncolspan = 0, lcs = o.l;\n\to.l += 4;\n\n\tvar caddr = {r:R, c:0};\n\tfor(var i = 0; i < 16; ++i) {\n\t\tif((range.s.c > ((i+1) << 10)) || (range.e.c < (i << 10))) continue;\n\t\tvar first = -1, last = -1;\n\t\tfor(var j = (i<<10); j < ((i+1)<<10); ++j) {\n\t\t\tcaddr.c = j;\n\t\t\tvar cell = Array.isArray(ws) ? (ws[caddr.r]||[])[caddr.c] : ws[encode_cell(caddr)];\n\t\t\tif(cell) { if(first < 0) first = j; last = j; }\n\t\t}\n\t\tif(first < 0) continue;\n\t\t++ncolspan;\n\t\to.write_shift(4, first);\n\t\to.write_shift(4, last);\n\t}\n\n\tvar l = o.l;\n\to.l = lcs;\n\to.write_shift(4, ncolspan);\n\to.l = l;\n\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\nfunction write_row_header(ba, ws, range, R) {\n\tvar o = write_BrtRowHdr(R, range, ws);\n\tif((o.length > 17) || (ws['!rows']||[])[R]) write_record(ba, 0x0000 /* BrtRowHdr */, o);\n}\n\n/* [MS-XLSB] 2.4.820 BrtWsDim */\nvar parse_BrtWsDim = parse_UncheckedRfX;\nvar write_BrtWsDim = write_UncheckedRfX;\n\n/* [MS-XLSB] 2.4.821 BrtWsFmtInfo */\nfunction parse_BrtWsFmtInfo(/*::data, length*/) {\n}\n//function write_BrtWsFmtInfo(ws, o) { }\n\n/* [MS-XLSB] 2.4.823 BrtWsProp */\nfunction parse_BrtWsProp(data, length) {\n\tvar z = {};\n\tvar f = data[data.l]; ++data.l;\n\tz.above = !(f & 0x40);\n\tz.left  = !(f & 0x80);\n\t/* TODO: pull flags */\n\tdata.l += 18;\n\tz.name = parse_XLSBCodeName(data, length - 19);\n\treturn z;\n}\nfunction write_BrtWsProp(str, outl, o) {\n\tif(o == null) o = new_buf(84+4*str.length);\n\tvar f = 0xC0;\n\tif(outl) {\n\t\tif(outl.above) f &= ~0x40;\n\t\tif(outl.left)  f &= ~0x80;\n\t}\n\to.write_shift(1, f);\n\tfor(var i = 1; i < 3; ++i) o.write_shift(1,0);\n\twrite_BrtColor({auto:1}, o);\n\to.write_shift(-4,-1);\n\to.write_shift(-4,-1);\n\twrite_XLSBCodeName(str, o);\n\treturn o.slice(0, o.l);\n}\n\n/* [MS-XLSB] 2.4.306 BrtCellBlank */\nfunction parse_BrtCellBlank(data) {\n\tvar cell = parse_XLSBCell(data);\n\treturn [cell];\n}\nfunction write_BrtCellBlank(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\treturn write_XLSBCell(ncell, o);\n}\nfunction parse_BrtShortBlank(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\treturn [cell];\n}\nfunction write_BrtShortBlank(cell, ncell, o) {\n\tif(o == null) o = new_buf(4);\n\treturn write_XLSBShortCell(ncell, o);\n}\n\n/* [MS-XLSB] 2.4.307 BrtCellBool */\nfunction parse_BrtCellBool(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar fBool = data.read_shift(1);\n\treturn [cell, fBool, 'b'];\n}\nfunction write_BrtCellBool(cell, ncell, o) {\n\tif(o == null) o = new_buf(9);\n\twrite_XLSBCell(ncell, o);\n\to.write_shift(1, cell.v ? 1 : 0);\n\treturn o;\n}\nfunction parse_BrtShortBool(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar fBool = data.read_shift(1);\n\treturn [cell, fBool, 'b'];\n}\nfunction write_BrtShortBool(cell, ncell, o) {\n\tif(o == null) o = new_buf(5);\n\twrite_XLSBShortCell(ncell, o);\n\to.write_shift(1, cell.v ? 1 : 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.308 BrtCellError */\nfunction parse_BrtCellError(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar bError = data.read_shift(1);\n\treturn [cell, bError, 'e'];\n}\nfunction write_BrtCellError(cell, ncell, o) {\n\tif(o == null) o = new_buf(9);\n\twrite_XLSBCell(ncell, o);\n\to.write_shift(1, cell.v);\n\treturn o;\n}\nfunction parse_BrtShortError(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar bError = data.read_shift(1);\n\treturn [cell, bError, 'e'];\n}\nfunction write_BrtShortError(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\twrite_XLSBShortCell(ncell, o);\n\to.write_shift(1, cell.v);\n\to.write_shift(2, 0);\n\to.write_shift(1, 0);\n\treturn o;\n}\n\n\n/* [MS-XLSB] 2.4.311 BrtCellIsst */\nfunction parse_BrtCellIsst(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar isst = data.read_shift(4);\n\treturn [cell, isst, 's'];\n}\nfunction write_BrtCellIsst(cell, ncell, o) {\n\tif(o == null) o = new_buf(12);\n\twrite_XLSBCell(ncell, o);\n\to.write_shift(4, ncell.v);\n\treturn o;\n}\nfunction parse_BrtShortIsst(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar isst = data.read_shift(4);\n\treturn [cell, isst, 's'];\n}\nfunction write_BrtShortIsst(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\twrite_XLSBShortCell(ncell, o);\n\to.write_shift(4, ncell.v);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.313 BrtCellReal */\nfunction parse_BrtCellReal(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_Xnum(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtCellReal(cell, ncell, o) {\n\tif(o == null) o = new_buf(16);\n\twrite_XLSBCell(ncell, o);\n\twrite_Xnum(cell.v, o);\n\treturn o;\n}\nfunction parse_BrtShortReal(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar value = parse_Xnum(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtShortReal(cell, ncell, o) {\n\tif(o == null) o = new_buf(12);\n\twrite_XLSBShortCell(ncell, o);\n\twrite_Xnum(cell.v, o);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.314 BrtCellRk */\nfunction parse_BrtCellRk(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_RkNumber(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtCellRk(cell, ncell, o) {\n\tif(o == null) o = new_buf(12);\n\twrite_XLSBCell(ncell, o);\n\twrite_RkNumber(cell.v, o);\n\treturn o;\n}\nfunction parse_BrtShortRk(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar value = parse_RkNumber(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtShortRk(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\twrite_XLSBShortCell(ncell, o);\n\twrite_RkNumber(cell.v, o);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.323 BrtCellRString */\nfunction parse_BrtCellRString(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_RichStr(data);\n\treturn [cell, value, 'is'];\n}\n\n/* [MS-XLSB] 2.4.317 BrtCellSt */\nfunction parse_BrtCellSt(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_XLWideString(data);\n\treturn [cell, value, 'str'];\n}\nfunction write_BrtCellSt(cell, ncell, o) {\n\tif(o == null) o = new_buf(12 + 4 * cell.v.length);\n\twrite_XLSBCell(ncell, o);\n\twrite_XLWideString(cell.v, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\nfunction parse_BrtShortSt(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar value = parse_XLWideString(data);\n\treturn [cell, value, 'str'];\n}\nfunction write_BrtShortSt(cell, ncell, o) {\n\tif(o == null) o = new_buf(8 + 4 * cell.v.length);\n\twrite_XLSBShortCell(ncell, o);\n\twrite_XLWideString(cell.v, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.653 BrtFmlaBool */\nfunction parse_BrtFmlaBool(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = data.read_shift(1);\n\tvar o = [cell, value, 'b'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.654 BrtFmlaError */\nfunction parse_BrtFmlaError(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = data.read_shift(1);\n\tvar o = [cell, value, 'e'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.655 BrtFmlaNum */\nfunction parse_BrtFmlaNum(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = parse_Xnum(data);\n\tvar o = [cell, value, 'n'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.656 BrtFmlaString */\nfunction parse_BrtFmlaString(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = parse_XLWideString(data);\n\tvar o = [cell, value, 'str'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.682 BrtMergeCell */\nvar parse_BrtMergeCell = parse_UncheckedRfX;\nvar write_BrtMergeCell = write_UncheckedRfX;\n/* [MS-XLSB] 2.4.107 BrtBeginMergeCells */\nfunction write_BrtBeginMergeCells(cnt, o) {\n\tif(o == null) o = new_buf(4);\n\to.write_shift(4, cnt);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.662 BrtHLink */\nfunction parse_BrtHLink(data, length/*::, opts*/) {\n\tvar end = data.l + length;\n\tvar rfx = parse_UncheckedRfX(data, 16);\n\tvar relId = parse_XLNullableWideString(data);\n\tvar loc = parse_XLWideString(data);\n\tvar tooltip = parse_XLWideString(data);\n\tvar display = parse_XLWideString(data);\n\tdata.l = end;\n\tvar o = ({rfx:rfx, relId:relId, loc:loc, display:display}/*:any*/);\n\tif(tooltip) o.Tooltip = tooltip;\n\treturn o;\n}\nfunction write_BrtHLink(l, rId) {\n\tvar o = new_buf(50+4*(l[1].Target.length + (l[1].Tooltip || \"\").length));\n\twrite_UncheckedRfX({s:decode_cell(l[0]), e:decode_cell(l[0])}, o);\n\twrite_RelID(\"rId\" + rId, o);\n\tvar locidx = l[1].Target.indexOf(\"#\");\n\tvar loc = locidx == -1 ? \"\" : l[1].Target.slice(locidx+1);\n\twrite_XLWideString(loc || \"\", o);\n\twrite_XLWideString(l[1].Tooltip || \"\", o);\n\twrite_XLWideString(\"\", o);\n\treturn o.slice(0, o.l);\n}\n\n/* [MS-XLSB] 2.4.692 BrtPane */\nfunction parse_BrtPane(/*data, length, opts*/) {\n}\n\n/* [MS-XLSB] 2.4.6 BrtArrFmla */\nfunction parse_BrtArrFmla(data, length, opts) {\n\tvar end = data.l + length;\n\tvar rfx = parse_RfX(data, 16);\n\tvar fAlwaysCalc = data.read_shift(1);\n\tvar o = [rfx]; o[2] = fAlwaysCalc;\n\tif(opts.cellFormula) {\n\t\tvar formula = parse_XLSBArrayParsedFormula(data, end - data.l, opts);\n\t\to[1] = formula;\n\t} else data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.750 BrtShrFmla */\nfunction parse_BrtShrFmla(data, length, opts) {\n\tvar end = data.l + length;\n\tvar rfx = parse_UncheckedRfX(data, 16);\n\tvar o = [rfx];\n\tif(opts.cellFormula) {\n\t\tvar formula = parse_XLSBSharedParsedFormula(data, end - data.l, opts);\n\t\to[1] = formula;\n\t\tdata.l = end;\n\t} else data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.323 BrtColInfo */\n/* TODO: once XLS ColInfo is set, combine the functions */\nfunction write_BrtColInfo(C/*:number*/, col, o) {\n\tif(o == null) o = new_buf(18);\n\tvar p = col_obj_w(C, col);\n\to.write_shift(-4, C);\n\to.write_shift(-4, C);\n\to.write_shift(4, (p.width || 10) * 256);\n\to.write_shift(4, 0/*ixfe*/); // style\n\tvar flags = 0;\n\tif(col.hidden) flags |= 0x01;\n\tif(typeof p.width == 'number') flags |= 0x02;\n\tif(col.level) flags |= (col.level << 8);\n\to.write_shift(2, flags); // bit flag\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.678 BrtMargins */\nvar BrtMarginKeys = [\"left\",\"right\",\"top\",\"bottom\",\"header\",\"footer\"];\nfunction parse_BrtMargins(data/*::, length, opts*/)/*:Margins*/ {\n\tvar margins = ({}/*:any*/);\n\tBrtMarginKeys.forEach(function(k) { margins[k] = parse_Xnum(data, 8); });\n\treturn margins;\n}\nfunction write_BrtMargins(margins/*:Margins*/, o) {\n\tif(o == null) o = new_buf(6*8);\n\tdefault_margins(margins);\n\tBrtMarginKeys.forEach(function(k) { write_Xnum((margins/*:any*/)[k], o); });\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.299 BrtBeginWsView */\nfunction parse_BrtBeginWsView(data/*::, length, opts*/) {\n\tvar f = data.read_shift(2);\n\tdata.l += 28;\n\treturn { RTL: f & 0x20 };\n}\nfunction write_BrtBeginWsView(ws, Workbook, o) {\n\tif(o == null) o = new_buf(30);\n\tvar f = 0x39c;\n\tif((((Workbook||{}).Views||[])[0]||{}).RTL) f |= 0x20;\n\to.write_shift(2, f); // bit flag\n\to.write_shift(4, 0);\n\to.write_shift(4, 0); // view first row\n\to.write_shift(4, 0); // view first col\n\to.write_shift(1, 0); // gridline color ICV\n\to.write_shift(1, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 100); // zoom scale\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(4, 0); // workbook view id\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.309 BrtCellIgnoreEC */\nfunction write_BrtCellIgnoreEC(ref) {\n\tvar o = new_buf(24);\n\to.write_shift(4, 4);\n\to.write_shift(4, 1);\n\twrite_UncheckedRfX(ref, o);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.748 BrtSheetProtection */\nfunction write_BrtSheetProtection(sp, o) {\n\tif(o == null) o = new_buf(16*4+2);\n\to.write_shift(2, sp.password ? crypto_CreatePasswordVerifier_Method1(sp.password) : 0);\n\to.write_shift(4, 1); // this record should not be written if no protection\n\t[\n\t\t[\"objects\",             false], // fObjects\n\t\t[\"scenarios\",           false], // fScenarios\n\t\t[\"formatCells\",          true], // fFormatCells\n\t\t[\"formatColumns\",        true], // fFormatColumns\n\t\t[\"formatRows\",           true], // fFormatRows\n\t\t[\"insertColumns\",        true], // fInsertColumns\n\t\t[\"insertRows\",           true], // fInsertRows\n\t\t[\"insertHyperlinks\",     true], // fInsertHyperlinks\n\t\t[\"deleteColumns\",        true], // fDeleteColumns\n\t\t[\"deleteRows\",           true], // fDeleteRows\n\t\t[\"selectLockedCells\",   false], // fSelLockedCells\n\t\t[\"sort\",                 true], // fSort\n\t\t[\"autoFilter\",           true], // fAutoFilter\n\t\t[\"pivotTables\",          true], // fPivotTables\n\t\t[\"selectUnlockedCells\", false]  // fSelUnlockedCells\n\t].forEach(function(n) {\n\t\t/*:: if(o == null) throw \"unreachable\"; */\n\t\tif(n[1]) o.write_shift(4, sp[n[0]] != null && !sp[n[0]] ? 1 : 0);\n\t\telse      o.write_shift(4, sp[n[0]] != null && sp[n[0]] ? 0 : 1);\n\t});\n\treturn o;\n}\n\nfunction parse_BrtDVal(/*data, length, opts*/) {\n}\nfunction parse_BrtDVal14(/*data, length, opts*/) {\n}\n/* [MS-XLSB] 2.1.7.61 Worksheet */\nfunction parse_ws_bin(data, _opts, idx, rels, wb/*:WBWBProps*/, themes, styles)/*:Worksheet*/ {\n\tif(!data) return data;\n\tvar opts = _opts || {};\n\tif(!rels) rels = {'!id':{}};\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\tvar s/*:Worksheet*/ = (opts.dense ? [] : {});\n\n\tvar ref;\n\tvar refguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false, end = false;\n\tvar row, p, cf, R, C, addr, sstr, rr, cell/*:Cell*/;\n\tvar merges/*:Array<Range>*/ = [];\n\topts.biff = 12;\n\topts['!row'] = 0;\n\n\tvar ai = 0, af = false;\n\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar sharedf = {};\n\tvar supbooks = opts.supbooks || /*::(*/wb/*:: :any)*/.supbooks || ([[]]/*:any*/);\n\tsupbooks.sharedf = sharedf;\n\tsupbooks.arrayf = arrayf;\n\tsupbooks.SheetNames = wb.SheetNames || wb.Sheets.map(function(x) { return x.name; });\n\tif(!opts.supbooks) {\n\t\topts.supbooks = supbooks;\n\t\tif(wb.Names) for(var i = 0; i < wb.Names.length; ++i) supbooks[0][i+1] = wb.Names[i];\n\t}\n\n\tvar colinfo/*:Array<ColInfo>*/ = [], rowinfo/*:Array<RowInfo>*/ = [];\n\tvar seencol = false;\n\n\tXLSBRecordEnum[0x0010] = { n:\"BrtShortReal\", f:parse_BrtShortReal };\n\n\tvar cm, vm;\n\n\trecordhopper(data, function ws_parse(val, RR, RT) {\n\t\tif(end) return;\n\t\tswitch(RT) {\n\t\t\tcase 0x0094: /* 'BrtWsDim' */\n\t\t\t\tref = val; break;\n\t\t\tcase 0x0000: /* 'BrtRowHdr' */\n\t\t\t\trow = val;\n\t\t\t\tif(opts.sheetRows && opts.sheetRows <= row.r) end=true;\n\t\t\t\trr = encode_row(R = row.r);\n\t\t\t\topts['!row'] = row.r;\n\t\t\t\tif(val.hidden || val.hpt || val.level != null) {\n\t\t\t\t\tif(val.hpt) val.hpx = pt2px(val.hpt);\n\t\t\t\t\trowinfo[val.r] = val;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0002: /* 'BrtCellRk' */\n\t\t\tcase 0x0003: /* 'BrtCellError' */\n\t\t\tcase 0x0004: /* 'BrtCellBool' */\n\t\t\tcase 0x0005: /* 'BrtCellReal' */\n\t\t\tcase 0x0006: /* 'BrtCellSt' */\n\t\t\tcase 0x0007: /* 'BrtCellIsst' */\n\t\t\tcase 0x0008: /* 'BrtFmlaString' */\n\t\t\tcase 0x0009: /* 'BrtFmlaNum' */\n\t\t\tcase 0x000A: /* 'BrtFmlaBool' */\n\t\t\tcase 0x000B: /* 'BrtFmlaError' */\n\t\t\tcase 0x000D: /* 'BrtShortRk' */\n\t\t\tcase 0x000E: /* 'BrtShortError' */\n\t\t\tcase 0x000F: /* 'BrtShortBool' */\n\t\t\tcase 0x0010: /* 'BrtShortReal' */\n\t\t\tcase 0x0011: /* 'BrtShortSt' */\n\t\t\tcase 0x0012: /* 'BrtShortIsst' */\n\t\t\tcase 0x003E: /* 'BrtCellRString' */\n\t\t\t\tp = ({t:val[2]}/*:any*/);\n\t\t\t\tswitch(val[2]) {\n\t\t\t\t\tcase 'n': p.v = val[1]; break;\n\t\t\t\t\tcase 's': sstr = strs[val[1]]; p.v = sstr.t; p.r = sstr.r; break;\n\t\t\t\t\tcase 'b': p.v = val[1] ? true : false; break;\n\t\t\t\t\tcase 'e': p.v = val[1]; if(opts.cellText !== false) p.w = BErr[p.v]; break;\n\t\t\t\t\tcase 'str': p.t = 's'; p.v = val[1]; break;\n\t\t\t\t\tcase 'is': p.t = 's'; p.v = val[1].t; break;\n\t\t\t\t}\n\t\t\t\tif((cf = styles.CellXf[val[0].iStyleRef])) safe_format(p,cf.numFmtId,null,opts, themes, styles);\n\t\t\t\tC = val[0].c == -1 ? C + 1 : val[0].c;\n\t\t\t\tif(opts.dense) { if(!s[R]) s[R] = []; s[R][C] = p; }\n\t\t\t\telse s[encode_col(C) + rr] = p;\n\t\t\t\tif(opts.cellFormula) {\n\t\t\t\t\taf = false;\n\t\t\t\t\tfor(ai = 0; ai < arrayf.length; ++ai) {\n\t\t\t\t\t\tvar aii = arrayf[ai];\n\t\t\t\t\t\tif(row.r >= aii[0].s.r && row.r <= aii[0].e.r)\n\t\t\t\t\t\t\tif(C >= aii[0].s.c && C <= aii[0].e.c) {\n\t\t\t\t\t\t\t\tp.F = encode_range(aii[0]); af = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!af && val.length > 3) p.f = val[3];\n\t\t\t\t}\n\n\t\t\t\tif(refguess.s.r > row.r) refguess.s.r = row.r;\n\t\t\t\tif(refguess.s.c > C) refguess.s.c = C;\n\t\t\t\tif(refguess.e.r < row.r) refguess.e.r = row.r;\n\t\t\t\tif(refguess.e.c < C) refguess.e.c = C;\n\t\t\t\tif(opts.cellDates && cf && p.t == 'n' && fmt_is_date(table_fmt[cf.numFmtId])) {\n\t\t\t\t\tvar _d = SSF_parse_date_code(p.v); if(_d) { p.t = 'd'; p.v = new Date(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u); }\n\t\t\t\t}\n\t\t\t\tif(cm) {\n\t\t\t\t\tif(cm.type == 'XLDAPR') p.D = true;\n\t\t\t\t\tcm = void 0;\n\t\t\t\t}\n\t\t\t\tif(vm) vm = void 0;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0001: /* 'BrtCellBlank' */\n\t\t\tcase 0x000C: /* 'BrtShortBlank' */\n\t\t\t\tif(!opts.sheetStubs || pass) break;\n\t\t\t\tp = ({t:'z',v:void 0}/*:any*/);\n\t\t\t\tC = val[0].c == -1 ? C + 1 : val[0].c;\n\t\t\t\tif(opts.dense) { if(!s[R]) s[R] = []; s[R][C] = p; }\n\t\t\t\telse s[encode_col(C) + rr] = p;\n\t\t\t\tif(refguess.s.r > row.r) refguess.s.r = row.r;\n\t\t\t\tif(refguess.s.c > C) refguess.s.c = C;\n\t\t\t\tif(refguess.e.r < row.r) refguess.e.r = row.r;\n\t\t\t\tif(refguess.e.c < C) refguess.e.c = C;\n\t\t\t\tif(cm) {\n\t\t\t\t\tif(cm.type == 'XLDAPR') p.D = true;\n\t\t\t\t\tcm = void 0;\n\t\t\t\t}\n\t\t\t\tif(vm) vm = void 0;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x00B0: /* 'BrtMergeCell' */\n\t\t\t\tmerges.push(val); break;\n\n\t\t\tcase 0x0031: { /* 'BrtCellMeta' */\n\t\t\t\tcm = ((opts.xlmeta||{}).Cell||[])[val-1];\n\t\t\t} break;\n\n\t\t\tcase 0x01EE: /* 'BrtHLink' */\n\t\t\t\tvar rel = rels['!id'][val.relId];\n\t\t\t\tif(rel) {\n\t\t\t\t\tval.Target = rel.Target;\n\t\t\t\t\tif(val.loc) val.Target += \"#\"+val.loc;\n\t\t\t\t\tval.Rel = rel;\n\t\t\t\t} else if(val.relId == '') {\n\t\t\t\t\tval.Target = \"#\" + val.loc;\n\t\t\t\t}\n\t\t\t\tfor(R=val.rfx.s.r;R<=val.rfx.e.r;++R) for(C=val.rfx.s.c;C<=val.rfx.e.c;++C) {\n\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\tif(!s[R]) s[R] = [];\n\t\t\t\t\t\tif(!s[R][C]) s[R][C] = {t:'z',v:undefined};\n\t\t\t\t\t\ts[R][C].l = val;\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddr = encode_cell({c:C,r:R});\n\t\t\t\t\t\tif(!s[addr]) s[addr] = {t:'z',v:undefined};\n\t\t\t\t\t\ts[addr].l = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 0x01AA: /* 'BrtArrFmla' */\n\t\t\t\tif(!opts.cellFormula) break;\n\t\t\t\tarrayf.push(val);\n\t\t\t\tcell = ((opts.dense ? s[R][C] : s[encode_col(C) + rr])/*:any*/);\n\t\t\t\tcell.f = stringify_formula(val[1], refguess, {r:row.r, c:C}, supbooks, opts);\n\t\t\t\tcell.F = encode_range(val[0]);\n\t\t\t\tbreak;\n\t\t\tcase 0x01AB: /* 'BrtShrFmla' */\n\t\t\t\tif(!opts.cellFormula) break;\n\t\t\t\tsharedf[encode_cell(val[0].s)] = val[1];\n\t\t\t\tcell = (opts.dense ? s[R][C] : s[encode_col(C) + rr]);\n\t\t\t\tcell.f = stringify_formula(val[1], refguess, {r:row.r, c:C}, supbooks, opts);\n\t\t\t\tbreak;\n\n\t\t\t/* identical to 'ColInfo' in XLS */\n\t\t\tcase 0x003C: /* 'BrtColInfo' */\n\t\t\t\tif(!opts.cellStyles) break;\n\t\t\t\twhile(val.e >= val.s) {\n\t\t\t\t\tcolinfo[val.e--] = { width: val.w/256, hidden: !!(val.flags & 0x01), level: val.level };\n\t\t\t\t\tif(!seencol) { seencol = true; find_mdw_colw(val.w/256); }\n\t\t\t\t\tprocess_col(colinfo[val.e+1]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 0x00A1: /* 'BrtBeginAFilter' */\n\t\t\t\ts['!autofilter'] = { ref:encode_range(val) };\n\t\t\t\tbreak;\n\n\t\t\tcase 0x01DC: /* 'BrtMargins' */\n\t\t\t\ts['!margins'] = val;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0093: /* 'BrtWsProp' */\n\t\t\t\tif(!wb.Sheets[idx]) wb.Sheets[idx] = {};\n\t\t\t\tif(val.name) wb.Sheets[idx].CodeName = val.name;\n\t\t\t\tif(val.above || val.left) s['!outline'] = { above: val.above, left: val.left };\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0089: /* 'BrtBeginWsView' */\n\t\t\t\tif(!wb.Views) wb.Views = [{}];\n\t\t\t\tif(!wb.Views[0]) wb.Views[0] = {};\n\t\t\t\tif(val.RTL) wb.Views[0].RTL = true;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x01E5: /* 'BrtWsFmtInfo' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0040: /* 'BrtDVal' */\n\t\t\tcase 0x041D: /* 'BrtDVal14' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0097: /* 'BrtPane' */\n\t\t\t\tbreak;\n\t\t\tcase 0x0098: /* 'BrtSel' */\n\t\t\tcase 0x00AF: /* 'BrtAFilterDateGroupItem' */\n\t\t\tcase 0x0284: /* 'BrtActiveX' */\n\t\t\tcase 0x0271: /* 'BrtBigName' */\n\t\t\tcase 0x0232: /* 'BrtBkHim' */\n\t\t\tcase 0x018C: /* 'BrtBrk' */\n\t\t\tcase 0x0458: /* 'BrtCFIcon' */\n\t\t\tcase 0x047A: /* 'BrtCFRuleExt' */\n\t\t\tcase 0x01D7: /* 'BrtCFVO' */\n\t\t\tcase 0x041A: /* 'BrtCFVO14' */\n\t\t\tcase 0x0289: /* 'BrtCellIgnoreEC' */\n\t\t\tcase 0x0451: /* 'BrtCellIgnoreEC14' */\n\t\t\tcase 0x024D: /* 'BrtCellSmartTagProperty' */\n\t\t\tcase 0x025F: /* 'BrtCellWatch' */\n\t\t\tcase 0x0234: /* 'BrtColor' */\n\t\t\tcase 0x041F: /* 'BrtColor14' */\n\t\t\tcase 0x00A8: /* 'BrtColorFilter' */\n\t\t\tcase 0x00AE: /* 'BrtCustomFilter' */\n\t\t\tcase 0x049C: /* 'BrtCustomFilter14' */\n\t\t\tcase 0x01F3: /* 'BrtDRef' */\n\t\t\tcase 0x01FB: /* 'BrtDXF' */\n\t\t\tcase 0x0226: /* 'BrtDrawing' */\n\t\t\tcase 0x00AB: /* 'BrtDynamicFilter' */\n\t\t\tcase 0x00A7: /* 'BrtFilter' */\n\t\t\tcase 0x0499: /* 'BrtFilter14' */\n\t\t\tcase 0x00A9: /* 'BrtIconFilter' */\n\t\t\tcase 0x049D: /* 'BrtIconFilter14' */\n\t\t\tcase 0x0227: /* 'BrtLegacyDrawing' */\n\t\t\tcase 0x0228: /* 'BrtLegacyDrawingHF' */\n\t\t\tcase 0x0295: /* 'BrtListPart' */\n\t\t\tcase 0x027F: /* 'BrtOleObject' */\n\t\t\tcase 0x01DE: /* 'BrtPageSetup' */\n\t\t\tcase 0x0219: /* 'BrtPhoneticInfo' */\n\t\t\tcase 0x01DD: /* 'BrtPrintOptions' */\n\t\t\tcase 0x0218: /* 'BrtRangeProtection' */\n\t\t\tcase 0x044F: /* 'BrtRangeProtection14' */\n\t\t\tcase 0x02A8: /* 'BrtRangeProtectionIso' */\n\t\t\tcase 0x0450: /* 'BrtRangeProtectionIso14' */\n\t\t\tcase 0x0400: /* 'BrtRwDescent' */\n\t\t\tcase 0x0297: /* 'BrtSheetCalcProp' */\n\t\t\tcase 0x0217: /* 'BrtSheetProtection' */\n\t\t\tcase 0x02A6: /* 'BrtSheetProtectionIso' */\n\t\t\tcase 0x01F8: /* 'BrtSlc' */\n\t\t\tcase 0x0413: /* 'BrtSparkline' */\n\t\t\tcase 0x01AC: /* 'BrtTable' */\n\t\t\tcase 0x00AA: /* 'BrtTop10Filter' */\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\tcase 0x0032: /* 'BrtValueMeta' */\n\t\t\tcase 0x0816: /* 'BrtWebExtension' */\n\t\t\tcase 0x0415: /* 'BrtWsFmtInfoEx14' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */\n\t\t\t\tstate.pop(); pass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(RR.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n\n\tdelete opts.supbooks;\n\tdelete opts['!row'];\n\n\tif(!s[\"!ref\"] && (refguess.s.r < 2000000 || ref && (ref.e.r > 0 || ref.e.c > 0 || ref.s.r > 0 || ref.s.c > 0))) s[\"!ref\"] = encode_range(ref || refguess);\n\tif(opts.sheetRows && s[\"!ref\"]) {\n\t\tvar tmpref = safe_decode_range(s[\"!ref\"]);\n\t\tif(opts.sheetRows <= +tmpref.e.r) {\n\t\t\ttmpref.e.r = opts.sheetRows - 1;\n\t\t\tif(tmpref.e.r > refguess.e.r) tmpref.e.r = refguess.e.r;\n\t\t\tif(tmpref.e.r < tmpref.s.r) tmpref.s.r = tmpref.e.r;\n\t\t\tif(tmpref.e.c > refguess.e.c) tmpref.e.c = refguess.e.c;\n\t\t\tif(tmpref.e.c < tmpref.s.c) tmpref.s.c = tmpref.e.c;\n\t\t\ts[\"!fullref\"] = s[\"!ref\"];\n\t\t\ts[\"!ref\"] = encode_range(tmpref);\n\t\t}\n\t}\n\tif(merges.length > 0) s[\"!merges\"] = merges;\n\tif(colinfo.length > 0) s[\"!cols\"] = colinfo;\n\tif(rowinfo.length > 0) s[\"!rows\"] = rowinfo;\n\treturn s;\n}\n\n/* TODO: something useful -- this is a stub */\nfunction write_ws_bin_cell(ba/*:BufArray*/, cell/*:Cell*/, R/*:number*/, C/*:number*/, opts, ws/*:Worksheet*/, last_seen/*:boolean*/)/*:boolean*/ {\n\tif(cell.v === undefined) return false;\n\tvar vv = \"\";\n\tswitch(cell.t) {\n\t\tcase 'b': vv = cell.v ? \"1\" : \"0\"; break;\n\t\tcase 'd': // no BrtCellDate :(\n\t\t\tcell = dup(cell);\n\t\t\tcell.z = cell.z || table_fmt[14];\n\t\t\tcell.v = datenum(parseDate(cell.v)); cell.t = 'n';\n\t\t\tbreak;\n\t\t/* falls through */\n\t\tcase 'n': case 'e': vv = ''+cell.v; break;\n\t\tdefault: vv = cell.v; break;\n\t}\n\tvar o/*:any*/ = ({r:R, c:C}/*:any*/);\n\t/* TODO: cell style */\n\to.s = get_cell_style(opts.cellXfs, cell, opts);\n\tif(cell.l) ws['!links'].push([encode_cell(o), cell.l]);\n\tif(cell.c) ws['!comments'].push([encode_cell(o), cell.c]);\n\tswitch(cell.t) {\n\t\tcase 's': case 'str':\n\t\t\tif(opts.bookSST) {\n\t\t\t\tvv = get_sst_id(opts.Strings, (cell.v/*:any*/), opts.revStrings);\n\t\t\t\to.t = \"s\"; o.v = vv;\n\t\t\t\tif(last_seen) write_record(ba, 0x0012 /* BrtShortIsst */, write_BrtShortIsst(cell, o));\n\t\t\t\telse write_record(ba, 0x0007 /* BrtCellIsst */, write_BrtCellIsst(cell, o));\n\t\t\t} else {\n\t\t\t\to.t = \"str\";\n\t\t\t\tif(last_seen) write_record(ba, 0x0011 /* BrtShortSt */, write_BrtShortSt(cell, o));\n\t\t\t\telse write_record(ba, 0x0006 /* BrtCellSt */, write_BrtCellSt(cell, o));\n\t\t\t}\n\t\t\treturn true;\n\t\tcase 'n':\n\t\t\t/* TODO: determine threshold for Real vs RK */\n\t\t\tif(cell.v == (cell.v | 0) && cell.v > -1000 && cell.v < 1000) {\n\t\t\t\tif(last_seen) write_record(ba, 0x000D /* BrtShortRk */, write_BrtShortRk(cell, o));\n\t\t\t\telse write_record(ba, 0x0002 /* BrtCellRk */, write_BrtCellRk(cell, o));\n\t\t\t} else {\n\t\t\t\tif(last_seen) write_record(ba, 0x0010 /* BrtShortReal */, write_BrtShortReal(cell, o));\n\t\t\t\telse write_record(ba, 0x0005 /* BrtCellReal */, write_BrtCellReal(cell, o));\n\t\t\t} return true;\n\t\tcase 'b':\n\t\t\to.t = \"b\";\n\t\t\tif(last_seen) write_record(ba, 0x000F /* BrtShortBool */, write_BrtShortBool(cell, o));\n\t\t\telse write_record(ba, 0x0004 /* BrtCellBool */, write_BrtCellBool(cell, o));\n\t\t\treturn true;\n\t\tcase 'e':\n\t\t\to.t = \"e\";\n\t\t\tif(last_seen) write_record(ba, 0x000E /* BrtShortError */, write_BrtShortError(cell, o));\n\t\t\telse write_record(ba, 0x0003 /* BrtCellError */, write_BrtCellError(cell, o));\n\t\t\treturn true;\n\t}\n\tif(last_seen) write_record(ba, 0x000C /* BrtShortBlank */, write_BrtShortBlank(cell, o));\n\telse write_record(ba, 0x0001 /* BrtCellBlank */, write_BrtCellBlank(cell, o));\n\treturn true;\n}\n\nfunction write_CELLTABLE(ba, ws/*:Worksheet*/, idx/*:number*/, opts/*::, wb:Workbook*/) {\n\tvar range = safe_decode_range(ws['!ref'] || \"A1\"), ref, rr = \"\", cols/*:Array<string>*/ = [];\n\twrite_record(ba, 0x0091 /* BrtBeginSheetData */);\n\tvar dense = Array.isArray(ws);\n\tvar cap = range.e.r;\n\tif(ws['!rows']) cap = Math.max(range.e.r, ws['!rows'].length - 1);\n\tfor(var R = range.s.r; R <= cap; ++R) {\n\t\trr = encode_row(R);\n\t\t/* [ACCELLTABLE] */\n\t\t/* BrtRowHdr */\n\t\twrite_row_header(ba, ws, range, R);\n\t\tvar last_seen = false;\n\t\tif(R <= range.e.r) for(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t/* *16384CELL */\n\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\tref = cols[C] + rr;\n\t\t\tvar cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\tif(!cell) { last_seen = false; continue; }\n\t\t\t/* write cell */\n\t\t\tlast_seen = write_ws_bin_cell(ba, cell, R, C, opts, ws, last_seen);\n\t\t}\n\t}\n\twrite_record(ba, 0x0092 /* BrtEndSheetData */);\n}\n\nfunction write_MERGECELLS(ba, ws/*:Worksheet*/) {\n\tif(!ws || !ws['!merges']) return;\n\twrite_record(ba, 0x00B1 /* BrtBeginMergeCells */, write_BrtBeginMergeCells(ws['!merges'].length));\n\tws['!merges'].forEach(function(m) { write_record(ba, 0x00B0 /* BrtMergeCell */, write_BrtMergeCell(m)); });\n\twrite_record(ba, 0x00B2 /* BrtEndMergeCells */);\n}\n\nfunction write_COLINFOS(ba, ws/*:Worksheet*//*::, idx:number, opts, wb:Workbook*/) {\n\tif(!ws || !ws['!cols']) return;\n\twrite_record(ba, 0x0186 /* BrtBeginColInfos */);\n\tws['!cols'].forEach(function(m, i) { if(m) write_record(ba, 0x003C /* 'BrtColInfo' */, write_BrtColInfo(i, m)); });\n\twrite_record(ba, 0x0187 /* BrtEndColInfos */);\n}\n\nfunction write_IGNOREECS(ba, ws/*:Worksheet*/) {\n\tif(!ws || !ws['!ref']) return;\n\twrite_record(ba, 0x0288 /* BrtBeginCellIgnoreECs */);\n\twrite_record(ba, 0x0289 /* BrtCellIgnoreEC */, write_BrtCellIgnoreEC(safe_decode_range(ws['!ref'])));\n\twrite_record(ba, 0x028A /* BrtEndCellIgnoreECs */);\n}\n\nfunction write_HLINKS(ba, ws/*:Worksheet*/, rels) {\n\t/* *BrtHLink */\n\tws['!links'].forEach(function(l) {\n\t\tif(!l[1].Target) return;\n\t\tvar rId = add_rels(rels, -1, l[1].Target.replace(/#.*$/, \"\"), RELS.HLINK);\n\t\twrite_record(ba, 0x01EE /* BrtHLink */, write_BrtHLink(l, rId));\n\t});\n\tdelete ws['!links'];\n}\nfunction write_LEGACYDRAWING(ba, ws/*:Worksheet*/, idx/*:number*/, rels) {\n\t/* [BrtLegacyDrawing] */\n\tif(ws['!comments'].length > 0) {\n\t\tvar rId = add_rels(rels, -1, \"../drawings/vmlDrawing\" + (idx+1) + \".vml\", RELS.VML);\n\t\twrite_record(ba, 0x0227 /* BrtLegacyDrawing */, write_RelID(\"rId\" + rId));\n\t\tws['!legacy'] = rId;\n\t}\n}\n\nfunction write_AUTOFILTER(ba, ws, wb, idx) {\n\tif(!ws['!autofilter']) return;\n\tvar data = ws['!autofilter'];\n\tvar ref = typeof data.ref === \"string\" ? data.ref : encode_range(data.ref);\n\n\t/* Update FilterDatabase defined name for the worksheet */\n\tif(!wb.Workbook) wb.Workbook = ({Sheets:[]}/*:any*/);\n\tif(!wb.Workbook.Names) wb.Workbook.Names = [];\n\tvar names/*: Array<any> */ = wb.Workbook.Names;\n\tvar range = decode_range(ref);\n\tif(range.s.r == range.e.r) { range.e.r = decode_range(ws[\"!ref\"]).e.r; ref = encode_range(range); }\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar name = names[i];\n\t\tif(name.Name != '_xlnm._FilterDatabase') continue;\n\t\tif(name.Sheet != idx) continue;\n\t\tname.Ref = \"'\" + wb.SheetNames[idx] + \"'!\" + ref; break;\n\t}\n\tif(i == names.length) names.push({ Name: '_xlnm._FilterDatabase', Sheet: idx, Ref: \"'\" + wb.SheetNames[idx] + \"'!\" + ref  });\n\n\twrite_record(ba, 0x00A1 /* BrtBeginAFilter */, write_UncheckedRfX(safe_decode_range(ref)));\n\t/* *FILTERCOLUMN */\n\t/* [SORTSTATE] */\n\t/* BrtEndAFilter */\n\twrite_record(ba, 0x00A2 /* BrtEndAFilter */);\n}\n\nfunction write_WSVIEWS2(ba, ws, Workbook) {\n\twrite_record(ba, 0x0085 /* BrtBeginWsViews */);\n\t{ /* 1*WSVIEW2 */\n\t\t/* [ACUID] */\n\t\twrite_record(ba, 0x0089 /* BrtBeginWsView */, write_BrtBeginWsView(ws, Workbook));\n\t\t/* [BrtPane] */\n\t\t/* *4BrtSel */\n\t\t/* *4SXSELECT */\n\t\t/* *FRT */\n\t\twrite_record(ba, 0x008A /* BrtEndWsView */);\n\t}\n\t/* *FRT */\n\twrite_record(ba, 0x0086 /* BrtEndWsViews */);\n}\n\nfunction write_WSFMTINFO(/*::ba, ws*/) {\n\t/* [ACWSFMTINFO] */\n\t// write_record(ba, 0x01E5 /* BrtWsFmtInfo */, write_BrtWsFmtInfo(ws));\n}\n\nfunction write_SHEETPROTECT(ba, ws) {\n\tif(!ws['!protect']) return;\n\t/* [BrtSheetProtectionIso] */\n\twrite_record(ba, 0x0217 /* BrtSheetProtection */, write_BrtSheetProtection(ws['!protect']));\n}\n\nfunction write_ws_bin(idx/*:number*/, opts, wb/*:Workbook*/, rels) {\n\tvar ba = buf_array();\n\tvar s = wb.SheetNames[idx], ws = wb.Sheets[s] || {};\n\tvar c/*:string*/ = s; try { if(wb && wb.Workbook) c = wb.Workbook.Sheets[idx].CodeName || c; } catch(e) {}\n\tvar r = safe_decode_range(ws['!ref'] || \"A1\");\n\tif(r.e.c > 0x3FFF || r.e.r > 0xFFFFF) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + (ws['!ref'] || \"A1\") + \" exceeds format limit A1:XFD1048576\");\n\t\tr.e.c = Math.min(r.e.c, 0x3FFF);\n\t\tr.e.r = Math.min(r.e.c, 0xFFFFF);\n\t}\n\tws['!links'] = [];\n\t/* passed back to write_zip and removed there */\n\tws['!comments'] = [];\n\twrite_record(ba, 0x0081 /* BrtBeginSheet */);\n\tif(wb.vbaraw || ws['!outline']) write_record(ba, 0x0093 /* BrtWsProp */, write_BrtWsProp(c, ws['!outline']));\n\twrite_record(ba, 0x0094 /* BrtWsDim */, write_BrtWsDim(r));\n\twrite_WSVIEWS2(ba, ws, wb.Workbook);\n\twrite_WSFMTINFO(ba, ws);\n\twrite_COLINFOS(ba, ws, idx, opts, wb);\n\twrite_CELLTABLE(ba, ws, idx, opts, wb);\n\t/* [BrtSheetCalcProp] */\n\twrite_SHEETPROTECT(ba, ws);\n\t/* *([BrtRangeProtectionIso] BrtRangeProtection) */\n\t/* [SCENMAN] */\n\twrite_AUTOFILTER(ba, ws, wb, idx);\n\t/* [SORTSTATE] */\n\t/* [DCON] */\n\t/* [USERSHVIEWS] */\n\twrite_MERGECELLS(ba, ws);\n\t/* [BrtPhoneticInfo] */\n\t/* *CONDITIONALFORMATTING */\n\t/* [DVALS] */\n\twrite_HLINKS(ba, ws, rels);\n\t/* [BrtPrintOptions] */\n\tif(ws['!margins']) write_record(ba, 0x01DC /* BrtMargins */, write_BrtMargins(ws['!margins']));\n\t/* [BrtPageSetup] */\n\t/* [HEADERFOOTER] */\n\t/* [RWBRK] */\n\t/* [COLBRK] */\n\t/* *BrtBigName */\n\t/* [CELLWATCHES] */\n\tif(!opts || opts.ignoreEC || (opts.ignoreEC == (void 0))) write_IGNOREECS(ba, ws);\n\t/* [SMARTTAGS] */\n\t/* [BrtDrawing] */\n\twrite_LEGACYDRAWING(ba, ws, idx, rels);\n\t/* [BrtLegacyDrawingHF] */\n\t/* [BrtBkHim] */\n\t/* [OLEOBJECTS] */\n\t/* [ACTIVEXCONTROLS] */\n\t/* [WEBPUBITEMS] */\n\t/* [LISTPARTS] */\n\t/* FRTWORKSHEET */\n\twrite_record(ba, 0x0082 /* BrtEndSheet */);\n\treturn ba.end();\n}\nfunction parse_Cache(data/*:string*/)/*:[Array<number|string>, string, ?string]*/ {\n\tvar col/*:Array<number|string>*/ = [];\n\tvar num = data.match(/^<c:numCache>/);\n\tvar f;\n\n\t/* 21.2.2.150 pt CT_NumVal */\n\t(data.match(/<c:pt idx=\"(\\d*)\">(.*?)<\\/c:pt>/mg)||[]).forEach(function(pt) {\n\t\tvar q = pt.match(/<c:pt idx=\"(\\d*?)\"><c:v>(.*)<\\/c:v><\\/c:pt>/);\n\t\tif(!q) return;\n\t\tcol[+q[1]] = num ? +q[2] : q[2];\n\t});\n\n\t/* 21.2.2.71 formatCode CT_Xstring */\n\tvar nf = unescapexml((data.match(/<c:formatCode>([\\s\\S]*?)<\\/c:formatCode>/) || [\"\",\"General\"])[1]);\n\n\t(data.match(/<c:f>(.*?)<\\/c:f>/mg)||[]).forEach(function(F) { f = F.replace(/<.*?>/g,\"\"); });\n\n\treturn [col, nf, f];\n}\n\n/* 21.2 DrawingML - Charts */\nfunction parse_chart(data/*:?string*/, name/*:string*/, opts, rels, wb, csheet) {\n\tvar cs/*:Worksheet*/ = ((csheet || {\"!type\":\"chart\"})/*:any*/);\n\tif(!data) return csheet;\n\t/* 21.2.2.27 chart CT_Chart */\n\n\tvar C = 0, R = 0, col = \"A\";\n\tvar refguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\n\t/* 21.2.2.120 numCache CT_NumData */\n\t(data.match(/<c:numCache>[\\s\\S]*?<\\/c:numCache>/gm)||[]).forEach(function(nc) {\n\t\tvar cache = parse_Cache(nc);\n\t\trefguess.s.r = refguess.s.c = 0;\n\t\trefguess.e.c = C;\n\t\tcol = encode_col(C);\n\t\tcache[0].forEach(function(n,i) {\n\t\t\tcs[col + encode_row(i)] = {t:'n', v:n, z:cache[1] };\n\t\t\tR = i;\n\t\t});\n\t\tif(refguess.e.r < R) refguess.e.r = R;\n\t\t++C;\n\t});\n\tif(C > 0) cs[\"!ref\"] = encode_range(refguess);\n\treturn cs;\n}\n/* 18.3 Worksheets also covers Chartsheets */\nfunction parse_cs_xml(data/*:?string*/, opts, idx/*:number*/, rels, wb/*::, themes, styles*/)/*:Worksheet*/ {\n\tif(!data) return data;\n\t/* 18.3.1.12 chartsheet CT_ChartSheet */\n\tif(!rels) rels = {'!id':{}};\n\tvar s = ({'!type':\"chart\", '!drawel':null, '!rel':\"\"}/*:any*/);\n\tvar m;\n\n\t/* 18.3.1.83 sheetPr CT_ChartsheetPr */\n\tvar sheetPr = data.match(sheetprregex);\n\tif(sheetPr) parse_ws_xml_sheetpr(sheetPr[0], s, wb, idx);\n\n\t/* 18.3.1.36 drawing CT_Drawing */\n\tif((m = data.match(/drawing r:id=\"(.*?)\"/))) s['!rel'] = m[1];\n\n\tif(rels['!id'][s['!rel']]) s['!drawel'] = rels['!id'][s['!rel']];\n\treturn s;\n}\nfunction write_cs_xml(idx/*:number*/, opts, wb/*:Workbook*/, rels)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('chartsheet', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t'xmlns:r': XMLNS.r\n\t})];\n\to[o.length] = writextag(\"drawing\", null, {\"r:id\": \"rId1\"});\n\tadd_rels(rels, -1, \"../drawings/drawing\" + (idx+1) + \".xml\", RELS.DRAW);\n\tif(o.length>2) { o[o.length] = ('</chartsheet>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSB] 2.4.331 BrtCsProp */\nfunction parse_BrtCsProp(data, length/*:number*/) {\n\tdata.l += 10;\n\tvar name = parse_XLWideString(data, length - 10);\n\treturn { name: name };\n}\n\n/* [MS-XLSB] 2.1.7.7 Chart Sheet */\nfunction parse_cs_bin(data, opts, idx/*:number*/, rels, wb/*::, themes, styles*/)/*:Worksheet*/ {\n\tif(!data) return data;\n\tif(!rels) rels = {'!id':{}};\n\tvar s = {'!type':\"chart\", '!drawel':null, '!rel':\"\"};\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false;\n\trecordhopper(data, function cs_parse(val, R, RT) {\n\t\tswitch(RT) {\n\n\t\t\tcase 0x0226: /* 'BrtDrawing' */\n\t\t\t\ts['!rel'] = val; break;\n\n\t\t\tcase 0x028B: /* 'BrtCsProp' */\n\t\t\t\tif(!wb.Sheets[idx]) wb.Sheets[idx] = {};\n\t\t\t\tif(val.name) wb.Sheets[idx].CodeName = val.name;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0232: /* 'BrtBkHim' */\n\t\t\tcase 0x028C: /* 'BrtCsPageSetup' */\n\t\t\tcase 0x029D: /* 'BrtCsProtection' */\n\t\t\tcase 0x02A7: /* 'BrtCsProtectionIso' */\n\t\t\tcase 0x0227: /* 'BrtLegacyDrawing' */\n\t\t\tcase 0x0228: /* 'BrtLegacyDrawingHF' */\n\t\t\tcase 0x01DC: /* 'BrtMargins' */\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */\n\t\t\t\tstate.push(RT); break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */\n\t\t\t\tstate.pop(); break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T > 0) state.push(RT);\n\t\t\t\telse if(R.T < 0) state.pop();\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n\n\tif(rels['!id'][s['!rel']]) s['!drawel'] = rels['!id'][s['!rel']];\n\treturn s;\n}\nfunction write_cs_bin(/*::idx:number, opts, wb:Workbook, rels*/) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x0081 /* BrtBeginSheet */);\n\t/* [BrtCsProp] */\n\t/* CSVIEWS */\n\t/* [[BrtCsProtectionIso] BrtCsProtection] */\n\t/* [USERCSVIEWS] */\n\t/* [BrtMargins] */\n\t/* [BrtCsPageSetup] */\n\t/* [HEADERFOOTER] */\n\t/* BrtDrawing */\n\t/* [BrtLegacyDrawing] */\n\t/* [BrtLegacyDrawingHF] */\n\t/* [BrtBkHim] */\n\t/* [WEBPUBITEMS] */\n\t/* FRTCHARTSHEET */\n\twrite_record(ba, 0x0082 /* BrtEndSheet */);\n\treturn ba.end();\n}\n/* 18.2.28 (CT_WorkbookProtection) Defaults */\nvar WBPropsDef = [\n\t['allowRefreshQuery',           false, \"bool\"],\n\t['autoCompressPictures',        true,  \"bool\"],\n\t['backupFile',                  false, \"bool\"],\n\t['checkCompatibility',          false, \"bool\"],\n\t['CodeName',                    ''],\n\t['date1904',                    false, \"bool\"],\n\t['defaultThemeVersion',         0,      \"int\"],\n\t['filterPrivacy',               false, \"bool\"],\n\t['hidePivotFieldList',          false, \"bool\"],\n\t['promptedSolutions',           false, \"bool\"],\n\t['publishItems',                false, \"bool\"],\n\t['refreshAllConnections',       false, \"bool\"],\n\t['saveExternalLinkValues',      true,  \"bool\"],\n\t['showBorderUnselectedTables',  true,  \"bool\"],\n\t['showInkAnnotation',           true,  \"bool\"],\n\t['showObjects',                 'all'],\n\t['showPivotChartFilter',        false, \"bool\"],\n\t['updateLinks', 'userSet']\n];\n\n/* 18.2.30 (CT_BookView) Defaults */\nvar WBViewDef = [\n\t['activeTab',                   0,      \"int\"],\n\t['autoFilterDateGrouping',      true,  \"bool\"],\n\t['firstSheet',                  0,      \"int\"],\n\t['minimized',                   false, \"bool\"],\n\t['showHorizontalScroll',        true,  \"bool\"],\n\t['showSheetTabs',               true,  \"bool\"],\n\t['showVerticalScroll',          true,  \"bool\"],\n\t['tabRatio',                    600,    \"int\"],\n\t['visibility',                  'visible']\n\t//window{Height,Width}, {x,y}Window\n];\n\n/* 18.2.19 (CT_Sheet) Defaults */\nvar SheetDef = [\n\t//['state', 'visible']\n];\n\n/* 18.2.2  (CT_CalcPr) Defaults */\nvar CalcPrDef = [\n\t['calcCompleted', 'true'],\n\t['calcMode', 'auto'],\n\t['calcOnSave', 'true'],\n\t['concurrentCalc', 'true'],\n\t['fullCalcOnLoad', 'false'],\n\t['fullPrecision', 'true'],\n\t['iterate', 'false'],\n\t['iterateCount', '100'],\n\t['iterateDelta', '0.001'],\n\t['refMode', 'A1']\n];\n\n/* 18.2.3 (CT_CustomWorkbookView) Defaults */\n/*var CustomWBViewDef = [\n\t['autoUpdate', 'false'],\n\t['changesSavedWin', 'false'],\n\t['includeHiddenRowCol', 'true'],\n\t['includePrintSettings', 'true'],\n\t['maximized', 'false'],\n\t['minimized', 'false'],\n\t['onlySync', 'false'],\n\t['personalView', 'false'],\n\t['showComments', 'commIndicator'],\n\t['showFormulaBar', 'true'],\n\t['showHorizontalScroll', 'true'],\n\t['showObjects', 'all'],\n\t['showSheetTabs', 'true'],\n\t['showStatusbar', 'true'],\n\t['showVerticalScroll', 'true'],\n\t['tabRatio', '600'],\n\t['xWindow', '0'],\n\t['yWindow', '0']\n];*/\n\nfunction push_defaults_array(target, defaults) {\n\tfor(var j = 0; j != target.length; ++j) { var w = target[j];\n\t\tfor(var i=0; i != defaults.length; ++i) { var z = defaults[i];\n\t\t\tif(w[z[0]] == null) w[z[0]] = z[1];\n\t\t\telse switch(z[2]) {\n\t\t\tcase \"bool\": if(typeof w[z[0]] == \"string\") w[z[0]] = parsexmlbool(w[z[0]]); break;\n\t\t\tcase \"int\": if(typeof w[z[0]] == \"string\") w[z[0]] = parseInt(w[z[0]], 10); break;\n\t\t\t}\n\t\t}\n\t}\n}\nfunction push_defaults(target, defaults) {\n\tfor(var i = 0; i != defaults.length; ++i) { var z = defaults[i];\n\t\tif(target[z[0]] == null) target[z[0]] = z[1];\n\t\telse switch(z[2]) {\n\t\t\tcase \"bool\": if(typeof target[z[0]] == \"string\") target[z[0]] = parsexmlbool(target[z[0]]); break;\n\t\t\tcase \"int\": if(typeof target[z[0]] == \"string\") target[z[0]] = parseInt(target[z[0]], 10); break;\n\t\t}\n\t}\n}\n\nfunction parse_wb_defaults(wb) {\n\tpush_defaults(wb.WBProps, WBPropsDef);\n\tpush_defaults(wb.CalcPr, CalcPrDef);\n\n\tpush_defaults_array(wb.WBView, WBViewDef);\n\tpush_defaults_array(wb.Sheets, SheetDef);\n\n\t_ssfopts.date1904 = parsexmlbool(wb.WBProps.date1904);\n}\n\nfunction safe1904(wb/*:Workbook*/)/*:string*/ {\n\t/* TODO: store date1904 somewhere else */\n\tif(!wb.Workbook) return \"false\";\n\tif(!wb.Workbook.WBProps) return \"false\";\n\treturn parsexmlbool(wb.Workbook.WBProps.date1904) ? \"true\" : \"false\";\n}\n\nvar badchars = /*#__PURE__*/\"][*?\\/\\\\\".split(\"\");\nfunction check_ws_name(n/*:string*/, safe/*:?boolean*/)/*:boolean*/ {\n\tif(n.length > 31) { if(safe) return false; throw new Error(\"Sheet names cannot exceed 31 chars\"); }\n\tvar _good = true;\n\tbadchars.forEach(function(c) {\n\t\tif(n.indexOf(c) == -1) return;\n\t\tif(!safe) throw new Error(\"Sheet name cannot contain : \\\\ / ? * [ ]\");\n\t\t_good = false;\n\t});\n\treturn _good;\n}\nfunction check_wb_names(N, S, codes) {\n\tN.forEach(function(n,i) {\n\t\tcheck_ws_name(n);\n\t\tfor(var j = 0; j < i; ++j) if(n == N[j]) throw new Error(\"Duplicate Sheet Name: \" + n);\n\t\tif(codes) {\n\t\t\tvar cn = (S && S[i] && S[i].CodeName) || n;\n\t\t\tif(cn.charCodeAt(0) == 95 && cn.length > 22) throw new Error(\"Bad Code Name: Worksheet\" + cn);\n\t\t}\n\t});\n}\nfunction check_wb(wb) {\n\tif(!wb || !wb.SheetNames || !wb.Sheets) throw new Error(\"Invalid Workbook\");\n\tif(!wb.SheetNames.length) throw new Error(\"Workbook is empty\");\n\tvar Sheets = (wb.Workbook && wb.Workbook.Sheets) || [];\n\tcheck_wb_names(wb.SheetNames, Sheets, !!wb.vbaraw);\n\tfor(var i = 0; i < wb.SheetNames.length; ++i) check_ws(wb.Sheets[wb.SheetNames[i]], wb.SheetNames[i], i);\n\t/* TODO: validate workbook */\n}\n/* 18.2 Workbook */\nvar wbnsregex = /<\\w+:workbook/;\nfunction parse_wb_xml(data, opts)/*:WorkbookFile*/ {\n\tif(!data) throw new Error(\"Could not find file\");\n\tvar wb = /*::(*/{ AppVersion:{}, WBProps:{}, WBView:[], Sheets:[], CalcPr:{}, Names:[], xmlns: \"\" }/*::)*/;\n\tvar pass = false, xmlns = \"xmlns\";\n\tvar dname = {}, dnstart = 0;\n\tdata.replace(tagregex, function xml_wb(x, idx) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\n\t\t\t/* 18.2.27 workbook CT_Workbook 1 */\n\t\t\tcase '<workbook':\n\t\t\t\tif(x.match(wbnsregex)) xmlns = \"xmlns\" + x.match(/<(\\w+):/)[1];\n\t\t\t\twb.xmlns = y[xmlns];\n\t\t\t\tbreak;\n\t\t\tcase '</workbook>': break;\n\n\t\t\t/* 18.2.13 fileVersion CT_FileVersion ? */\n\t\t\tcase '<fileVersion': delete y[0]; wb.AppVersion = y; break;\n\t\t\tcase '<fileVersion/>': case '</fileVersion>': break;\n\n\t\t\t/* 18.2.12 fileSharing CT_FileSharing ? */\n\t\t\tcase '<fileSharing':\n\t\t\t\tbreak;\n\t\t\tcase '<fileSharing/>': break;\n\n\t\t\t/* 18.2.28 workbookPr CT_WorkbookPr ? */\n\t\t\tcase '<workbookPr':\n\t\t\tcase '<workbookPr/>':\n\t\t\t\tWBPropsDef.forEach(function(w) {\n\t\t\t\t\tif(y[w[0]] == null) return;\n\t\t\t\t\tswitch(w[2]) {\n\t\t\t\t\t\tcase \"bool\": wb.WBProps[w[0]] = parsexmlbool(y[w[0]]); break;\n\t\t\t\t\t\tcase \"int\": wb.WBProps[w[0]] = parseInt(y[w[0]], 10); break;\n\t\t\t\t\t\tdefault: wb.WBProps[w[0]] = y[w[0]];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(y.codeName) wb.WBProps.CodeName = utf8read(y.codeName);\n\t\t\t\tbreak;\n\t\t\tcase '</workbookPr>': break;\n\n\t\t\t/* 18.2.29 workbookProtection CT_WorkbookProtection ? */\n\t\t\tcase '<workbookProtection':\n\t\t\t\tbreak;\n\t\t\tcase '<workbookProtection/>': break;\n\n\t\t\t/* 18.2.1  bookViews CT_BookViews ? */\n\t\t\tcase '<bookViews': case '<bookViews>': case '</bookViews>': break;\n\t\t\t/* 18.2.30   workbookView CT_BookView + */\n\t\t\tcase '<workbookView': case '<workbookView/>': delete y[0]; wb.WBView.push(y); break;\n\t\t\tcase '</workbookView>': break;\n\n\t\t\t/* 18.2.20 sheets CT_Sheets 1 */\n\t\t\tcase '<sheets': case '<sheets>': case '</sheets>': break; // aggregate sheet\n\t\t\t/* 18.2.19   sheet CT_Sheet + */\n\t\t\tcase '<sheet':\n\t\t\t\tswitch(y.state) {\n\t\t\t\t\tcase \"hidden\": y.Hidden = 1; break;\n\t\t\t\t\tcase \"veryHidden\": y.Hidden = 2; break;\n\t\t\t\t\tdefault: y.Hidden = 0;\n\t\t\t\t}\n\t\t\t\tdelete y.state;\n\t\t\t\ty.name = unescapexml(utf8read(y.name));\n\t\t\t\tdelete y[0]; wb.Sheets.push(y); break;\n\t\t\tcase '</sheet>': break;\n\n\t\t\t/* 18.2.15 functionGroups CT_FunctionGroups ? */\n\t\t\tcase '<functionGroups': case '<functionGroups/>': break;\n\t\t\t/* 18.2.14   functionGroup CT_FunctionGroup + */\n\t\t\tcase '<functionGroup': break;\n\n\t\t\t/* 18.2.9  externalReferences CT_ExternalReferences ? */\n\t\t\tcase '<externalReferences': case '</externalReferences>': case '<externalReferences>': break;\n\t\t\t/* 18.2.8    externalReference CT_ExternalReference + */\n\t\t\tcase '<externalReference': break;\n\n\t\t\t/* 18.2.6  definedNames CT_DefinedNames ? */\n\t\t\tcase '<definedNames/>': break;\n\t\t\tcase '<definedNames>': case '<definedNames': pass=true; break;\n\t\t\tcase '</definedNames>': pass=false; break;\n\t\t\t/* 18.2.5    definedName CT_DefinedName + */\n\t\t\tcase '<definedName': {\n\t\t\t\tdname = {};\n\t\t\t\tdname.Name = utf8read(y.name);\n\t\t\t\tif(y.comment) dname.Comment = y.comment;\n\t\t\t\tif(y.localSheetId) dname.Sheet = +y.localSheetId;\n\t\t\t\tif(parsexmlbool(y.hidden||\"0\")) dname.Hidden = true;\n\t\t\t\tdnstart = idx + x.length;\n\t\t\t}\tbreak;\n\t\t\tcase '</definedName>': {\n\t\t\t\tdname.Ref = unescapexml(utf8read(data.slice(dnstart, idx)));\n\t\t\t\twb.Names.push(dname);\n\t\t\t} break;\n\t\t\tcase '<definedName/>': break;\n\n\t\t\t/* 18.2.2  calcPr CT_CalcPr ? */\n\t\t\tcase '<calcPr': delete y[0]; wb.CalcPr = y; break;\n\t\t\tcase '<calcPr/>': delete y[0]; wb.CalcPr = y; break;\n\t\t\tcase '</calcPr>': break;\n\n\t\t\t/* 18.2.16 oleSize CT_OleSize ? (ref required) */\n\t\t\tcase '<oleSize': break;\n\n\t\t\t/* 18.2.4  customWorkbookViews CT_CustomWorkbookViews ? */\n\t\t\tcase '<customWorkbookViews>': case '</customWorkbookViews>': case '<customWorkbookViews': break;\n\t\t\t/* 18.2.3  customWorkbookView CT_CustomWorkbookView + */\n\t\t\tcase '<customWorkbookView': case '</customWorkbookView>': break;\n\n\t\t\t/* 18.2.18 pivotCaches CT_PivotCaches ? */\n\t\t\tcase '<pivotCaches>': case '</pivotCaches>': case '<pivotCaches': break;\n\t\t\t/* 18.2.17 pivotCache CT_PivotCache ? */\n\t\t\tcase '<pivotCache': break;\n\n\t\t\t/* 18.2.21 smartTagPr CT_SmartTagPr ? */\n\t\t\tcase '<smartTagPr': case '<smartTagPr/>': break;\n\n\t\t\t/* 18.2.23 smartTagTypes CT_SmartTagTypes ? */\n\t\t\tcase '<smartTagTypes': case '<smartTagTypes>': case '</smartTagTypes>': break;\n\t\t\t/* 18.2.22 smartTagType CT_SmartTagType ? */\n\t\t\tcase '<smartTagType': break;\n\n\t\t\t/* 18.2.24 webPublishing CT_WebPublishing ? */\n\t\t\tcase '<webPublishing': case '<webPublishing/>': break;\n\n\t\t\t/* 18.2.11 fileRecoveryPr CT_FileRecoveryPr ? */\n\t\t\tcase '<fileRecoveryPr': case '<fileRecoveryPr/>': break;\n\n\t\t\t/* 18.2.26 webPublishObjects CT_WebPublishObjects ? */\n\t\t\tcase '<webPublishObjects>': case '<webPublishObjects': case '</webPublishObjects>': break;\n\t\t\t/* 18.2.25 webPublishObject CT_WebPublishObject ? */\n\t\t\tcase '<webPublishObject': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': case '<extLst/>': break;\n\t\t\t/* 18.2.7  ext CT_Extension + */\n\t\t\tcase '<ext': pass=true; break; //TODO: check with versions of excel\n\t\t\tcase '</ext>': pass=false; break;\n\n\t\t\t/* Others */\n\t\t\tcase '<ArchID': break;\n\t\t\tcase '<AlternateContent':\n\t\t\tcase '<AlternateContent>': pass=true; break;\n\t\t\tcase '</AlternateContent>': pass=false; break;\n\n\t\t\t/* TODO */\n\t\t\tcase '<revisionPtr': break;\n\n\t\t\tdefault: if(!pass && opts.WTF) throw new Error('unrecognized ' + y[0] + ' in workbook');\n\t\t}\n\t\treturn x;\n\t});\n\tif(XMLNS_main.indexOf(wb.xmlns) === -1) throw new Error(\"Unknown Namespace: \" + wb.xmlns);\n\n\tparse_wb_defaults(wb);\n\n\treturn wb;\n}\n\nfunction write_wb_xml(wb/*:Workbook*//*::, opts:?WriteOpts*/)/*:string*/ {\n\tvar o = [XML_HEADER];\n\to[o.length] = writextag('workbook', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t//'xmlns:mx': XMLNS.mx,\n\t\t//'xmlns:s': XMLNS_main[0],\n\t\t'xmlns:r': XMLNS.r\n\t});\n\n\tvar write_names = (wb.Workbook && (wb.Workbook.Names||[]).length > 0);\n\n\t/* fileVersion */\n\t/* fileSharing */\n\n\tvar workbookPr/*:any*/ = ({codeName:\"ThisWorkbook\"}/*:any*/);\n\tif(wb.Workbook && wb.Workbook.WBProps) {\n\t\tWBPropsDef.forEach(function(x) {\n\t\t\t/*:: if(!wb.Workbook || !wb.Workbook.WBProps) throw \"unreachable\"; */\n\t\t\tif((wb.Workbook.WBProps[x[0]]/*:any*/) == null) return;\n\t\t\tif((wb.Workbook.WBProps[x[0]]/*:any*/) == x[1]) return;\n\t\t\tworkbookPr[x[0]] = (wb.Workbook.WBProps[x[0]]/*:any*/);\n\t\t});\n\t\t/*:: if(!wb.Workbook || !wb.Workbook.WBProps) throw \"unreachable\"; */\n\t\tif(wb.Workbook.WBProps.CodeName) { workbookPr.codeName = wb.Workbook.WBProps.CodeName; delete workbookPr.CodeName; }\n\t}\n\to[o.length] = (writextag('workbookPr', null, workbookPr));\n\n\t/* workbookProtection */\n\n\tvar sheets = wb.Workbook && wb.Workbook.Sheets || [];\n\tvar i = 0;\n\n\t/* bookViews only written if first worksheet is hidden */\n\tif(sheets && sheets[0] && !!sheets[0].Hidden) {\n\t\to[o.length] = \"<bookViews>\";\n\t\tfor(i = 0; i != wb.SheetNames.length; ++i) {\n\t\t\tif(!sheets[i]) break;\n\t\t\tif(!sheets[i].Hidden) break;\n\t\t}\n\t\tif(i == wb.SheetNames.length) i = 0;\n\t\to[o.length] = '<workbookView firstSheet=\"' + i + '\" activeTab=\"' + i + '\"/>';\n\t\to[o.length] = \"</bookViews>\";\n\t}\n\n\to[o.length] = \"<sheets>\";\n\tfor(i = 0; i != wb.SheetNames.length; ++i) {\n\t\tvar sht = ({name:escapexml(wb.SheetNames[i].slice(0,31))}/*:any*/);\n\t\tsht.sheetId = \"\"+(i+1);\n\t\tsht[\"r:id\"] = \"rId\"+(i+1);\n\t\tif(sheets[i]) switch(sheets[i].Hidden) {\n\t\t\tcase 1: sht.state = \"hidden\"; break;\n\t\t\tcase 2: sht.state = \"veryHidden\"; break;\n\t\t}\n\t\to[o.length] = (writextag('sheet',null,sht));\n\t}\n\to[o.length] = \"</sheets>\";\n\n\t/* functionGroups */\n\t/* externalReferences */\n\n\tif(write_names) {\n\t\to[o.length] = \"<definedNames>\";\n\t\tif(wb.Workbook && wb.Workbook.Names) wb.Workbook.Names.forEach(function(n) {\n\t\t\tvar d/*:any*/ = {name:n.Name};\n\t\t\tif(n.Comment) d.comment = n.Comment;\n\t\t\tif(n.Sheet != null) d.localSheetId = \"\"+n.Sheet;\n\t\t\tif(n.Hidden) d.hidden = \"1\";\n\t\t\tif(!n.Ref) return;\n\t\t\to[o.length] = writextag('definedName', escapexml(n.Ref), d);\n\t\t});\n\t\to[o.length] = \"</definedNames>\";\n\t}\n\n\t/* calcPr */\n\t/* oleSize */\n\t/* customWorkbookViews */\n\t/* pivotCaches */\n\t/* smartTagPr */\n\t/* smartTagTypes */\n\t/* webPublishing */\n\t/* fileRecoveryPr */\n\t/* webPublishObjects */\n\t/* extLst */\n\n\tif(o.length>2){ o[o.length] = '</workbook>'; o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.304 BrtBundleSh */\nfunction parse_BrtBundleSh(data, length/*:number*/) {\n\tvar z = {};\n\tz.Hidden = data.read_shift(4); //hsState ST_SheetState\n\tz.iTabID = data.read_shift(4);\n\tz.strRelID = parse_RelID(data,length-8);\n\tz.name = parse_XLWideString(data);\n\treturn z;\n}\nfunction write_BrtBundleSh(data, o) {\n\tif(!o) o = new_buf(127);\n\to.write_shift(4, data.Hidden);\n\to.write_shift(4, data.iTabID);\n\twrite_RelID(data.strRelID, o);\n\twrite_XLWideString(data.name.slice(0,31), o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.815 BrtWbProp */\nfunction parse_BrtWbProp(data, length)/*:WBProps*/ {\n\tvar o/*:WBProps*/ = ({}/*:any*/);\n\tvar flags = data.read_shift(4);\n\to.defaultThemeVersion = data.read_shift(4);\n\tvar strName = (length > 8) ? parse_XLWideString(data) : \"\";\n\tif(strName.length > 0) o.CodeName = strName;\n\to.autoCompressPictures = !!(flags & 0x10000);\n\to.backupFile = !!(flags & 0x40);\n\to.checkCompatibility = !!(flags & 0x1000);\n\to.date1904 = !!(flags & 0x01);\n\to.filterPrivacy = !!(flags & 0x08);\n\to.hidePivotFieldList = !!(flags & 0x400);\n\to.promptedSolutions = !!(flags & 0x10);\n\to.publishItems = !!(flags & 0x800);\n\to.refreshAllConnections = !!(flags & 0x40000);\n\to.saveExternalLinkValues = !!(flags & 0x80);\n\to.showBorderUnselectedTables = !!(flags & 0x04);\n\to.showInkAnnotation = !!(flags & 0x20);\n\to.showObjects = [\"all\", \"placeholders\", \"none\"][(flags >> 13) & 0x03];\n\to.showPivotChartFilter = !!(flags & 0x8000);\n\to.updateLinks = [\"userSet\", \"never\", \"always\"][(flags >> 8) & 0x03];\n\treturn o;\n}\nfunction write_BrtWbProp(data/*:?WBProps*/, o) {\n\tif(!o) o = new_buf(72);\n\tvar flags = 0;\n\tif(data) {\n\t\t/* TODO: mirror parse_BrtWbProp fields */\n\t\tif(data.filterPrivacy) flags |= 0x08;\n\t}\n\to.write_shift(4, flags);\n\to.write_shift(4, 0);\n\twrite_XLSBCodeName(data && data.CodeName || \"ThisWorkbook\", o);\n\treturn o.slice(0, o.l);\n}\n\nfunction parse_BrtFRTArchID$(data, length) {\n\tvar o = {};\n\tdata.read_shift(4);\n\to.ArchID = data.read_shift(4);\n\tdata.l += length - 8;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.687 BrtName */\nfunction parse_BrtName(data, length, opts) {\n\tvar end = data.l + length;\n\tdata.l += 4; //var flags = data.read_shift(4);\n\tdata.l += 1; //var chKey = data.read_shift(1);\n\tvar itab = data.read_shift(4);\n\tvar name = parse_XLNameWideString(data);\n\tvar formula = parse_XLSBNameParsedFormula(data, 0, opts);\n\tvar comment = parse_XLNullableWideString(data);\n\t//if(0 /* fProc */) {\n\t\t// unusedstring1: XLNullableWideString\n\t\t// description: XLNullableWideString\n\t\t// helpTopic: XLNullableWideString\n\t\t// unusedstring2: XLNullableWideString\n\t//}\n\tdata.l = end;\n\tvar out = ({Name:name, Ptg:formula}/*:any*/);\n\tif(itab < 0xFFFFFFF) out.Sheet = itab;\n\tif(comment) out.Comment = comment;\n\treturn out;\n}\n\n/* [MS-XLSB] 2.1.7.61 Workbook */\nfunction parse_wb_bin(data, opts)/*:WorkbookFile*/ {\n\tvar wb = { AppVersion:{}, WBProps:{}, WBView:[], Sheets:[], CalcPr:{}, xmlns: \"\" };\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false;\n\n\tif(!opts) opts = {};\n\topts.biff = 12;\n\n\tvar Names = [];\n\tvar supbooks = ([[]]/*:any*/);\n\tsupbooks.SheetNames = [];\n\tsupbooks.XTI = [];\n\n\tXLSBRecordEnum[0x0010] = { n:\"BrtFRTArchID$\", f:parse_BrtFRTArchID$ };\n\n\trecordhopper(data, function hopper_wb(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x009C: /* 'BrtBundleSh' */\n\t\t\t\tsupbooks.SheetNames.push(val.name);\n\t\t\t\twb.Sheets.push(val); break;\n\n\t\t\tcase 0x0099: /* 'BrtWbProp' */\n\t\t\t\twb.WBProps = val; break;\n\n\t\t\tcase 0x0027: /* 'BrtName' */\n\t\t\t\tif(val.Sheet != null) opts.SID = val.Sheet;\n\t\t\t\tval.Ref = stringify_formula(val.Ptg, null, null, supbooks, opts);\n\t\t\t\tdelete opts.SID;\n\t\t\t\tdelete val.Ptg;\n\t\t\t\tNames.push(val);\n\t\t\t\tbreak;\n\t\t\tcase 0x040C: /* 'BrtNameExt' */ break;\n\n\t\t\tcase 0x0165: /* 'BrtSupSelf' */\n\t\t\tcase 0x0166: /* 'BrtSupSame' */\n\t\t\tcase 0x0163: /* 'BrtSupBookSrc' */\n\t\t\tcase 0x029B: /* 'BrtSupAddin' */\n\t\t\t\tif(!supbooks[0].length) supbooks[0] = [RT, val];\n\t\t\t\telse supbooks.push([RT, val]);\n\t\t\t\tsupbooks[supbooks.length - 1].XTI = [];\n\t\t\t\tbreak;\n\t\t\tcase 0x016A: /* 'BrtExternSheet' */\n\t\t\t\tif(supbooks.length === 0) { supbooks[0] = []; supbooks[0].XTI = []; }\n\t\t\t\tsupbooks[supbooks.length - 1].XTI = supbooks[supbooks.length - 1].XTI.concat(val);\n\t\t\t\tsupbooks.XTI = supbooks.XTI.concat(val);\n\t\t\t\tbreak;\n\t\t\tcase 0x0169: /* 'BrtPlaceholderName' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0817: /* 'BrtAbsPath15' */\n\t\t\tcase 0x009E: /* 'BrtBookView' */\n\t\t\tcase 0x008F: /* 'BrtBeginBundleShs' */\n\t\t\tcase 0x0298: /* 'BrtBeginFnGroup' */\n\t\t\tcase 0x0161: /* 'BrtBeginExternals' */\n\t\t\t\tbreak;\n\n\t\t\t/* case 'BrtModelTimeGroupingCalcCol' */\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\tcase 0x0C01: /* 'BrtRevisionPtr' */\n\t\t\tcase 0x0216: /* 'BrtBookProtection' */\n\t\t\tcase 0x02A5: /* 'BrtBookProtectionIso' */\n\t\t\tcase 0x009D: /* 'BrtCalcProp' */\n\t\t\tcase 0x0262: /* 'BrtCrashRecErr' */\n\t\t\tcase 0x0802: /* 'BrtDecoupledPivotCacheID' */\n\t\t\tcase 0x009B: /* 'BrtFileRecover' */\n\t\t\tcase 0x0224: /* 'BrtFileSharing' */\n\t\t\tcase 0x02A4: /* 'BrtFileSharingIso' */\n\t\t\tcase 0x0080: /* 'BrtFileVersion' */\n\t\t\tcase 0x0299: /* 'BrtFnGroup' */\n\t\t\tcase 0x0850: /* 'BrtModelRelationship' */\n\t\t\tcase 0x084D: /* 'BrtModelTable' */\n\t\t\tcase 0x0225: /* 'BrtOleSize' */\n\t\t\tcase 0x0805: /* 'BrtPivotTableRef' */\n\t\t\tcase 0x0254: /* 'BrtSmartTagType' */\n\t\t\tcase 0x081C: /* 'BrtTableSlicerCacheID' */\n\t\t\tcase 0x081B: /* 'BrtTableSlicerCacheIDs' */\n\t\t\tcase 0x0822: /* 'BrtTimelineCachePivotCacheID' */\n\t\t\tcase 0x018D: /* 'BrtUserBookView' */\n\t\t\tcase 0x009A: /* 'BrtWbFactoid' */\n\t\t\tcase 0x045D: /* 'BrtWbProp14' */\n\t\t\tcase 0x0229: /* 'BrtWebOpt' */\n\t\t\tcase 0x082B: /* 'BrtWorkBookPr15' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tstate.pop(); pass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */\n\t\t\t\tstate.pop(); pass = false; break;\n\n\t\t\tcase 0x0010: /* 'BrtFRTArchID$' */ break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || (opts.WTF && state[state.length-1] != 0x0025 /* BrtACBegin */ && state[state.length-1] != 0x0023 /* BrtFRTBegin */)) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n\n\tparse_wb_defaults(wb);\n\n\t// $FlowIgnore\n\twb.Names = Names;\n\n\t(wb/*:any*/).supbooks = supbooks;\n\treturn wb;\n}\n\nfunction write_BUNDLESHS(ba, wb/*::, opts*/) {\n\twrite_record(ba, 0x008F /* BrtBeginBundleShs */);\n\tfor(var idx = 0; idx != wb.SheetNames.length; ++idx) {\n\t\tvar viz = wb.Workbook && wb.Workbook.Sheets && wb.Workbook.Sheets[idx] && wb.Workbook.Sheets[idx].Hidden || 0;\n\t\tvar d = { Hidden: viz, iTabID: idx+1, strRelID: 'rId' + (idx+1), name: wb.SheetNames[idx] };\n\t\twrite_record(ba, 0x009C /* BrtBundleSh */, write_BrtBundleSh(d));\n\t}\n\twrite_record(ba, 0x0090 /* BrtEndBundleShs */);\n}\n\n/* [MS-XLSB] 2.4.649 BrtFileVersion */\nfunction write_BrtFileVersion(data, o) {\n\tif(!o) o = new_buf(127);\n\tfor(var i = 0; i != 4; ++i) o.write_shift(4, 0);\n\twrite_XLWideString(\"SheetJS\", o);\n\twrite_XLWideString(XLSX.version, o);\n\twrite_XLWideString(XLSX.version, o);\n\twrite_XLWideString(\"7262\", o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.301 BrtBookView */\nfunction write_BrtBookView(idx, o) {\n\tif(!o) o = new_buf(29);\n\to.write_shift(-4, 0);\n\to.write_shift(-4, 460);\n\to.write_shift(4,  28800);\n\to.write_shift(4,  17600);\n\to.write_shift(4,  500);\n\to.write_shift(4,  idx);\n\to.write_shift(4,  idx);\n\tvar flags = 0x78;\n\to.write_shift(1,  flags);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\nfunction write_BOOKVIEWS(ba, wb/*::, opts*/) {\n\t/* required if hidden tab appears before visible tab */\n\tif(!wb.Workbook || !wb.Workbook.Sheets) return;\n\tvar sheets = wb.Workbook.Sheets;\n\tvar i = 0, vistab = -1, hidden = -1;\n\tfor(; i < sheets.length; ++i) {\n\t\tif(!sheets[i] || !sheets[i].Hidden && vistab == -1) vistab = i;\n\t\telse if(sheets[i].Hidden == 1 && hidden == -1) hidden = i;\n\t}\n\tif(hidden > vistab) return;\n\twrite_record(ba, 0x0087 /* BrtBeginBookViews */);\n\twrite_record(ba, 0x009E /* BrtBookView */, write_BrtBookView(vistab));\n\t/* 1*(BrtBookView *FRT) */\n\twrite_record(ba, 0x0088 /* BrtEndBookViews */);\n}\n\n/* [MS-XLSB] 2.4.305 BrtCalcProp */\n/*function write_BrtCalcProp(data, o) {\n\tif(!o) o = new_buf(26);\n\to.write_shift(4,0); // force recalc\n\to.write_shift(4,1);\n\to.write_shift(4,0);\n\twrite_Xnum(0, o);\n\to.write_shift(-4, 1023);\n\to.write_shift(1, 0x33);\n\to.write_shift(1, 0x00);\n\treturn o;\n}*/\n\n/* [MS-XLSB] 2.4.646 BrtFileRecover */\n/*function write_BrtFileRecover(data, o) {\n\tif(!o) o = new_buf(1);\n\to.write_shift(1,0);\n\treturn o;\n}*/\n\n/* [MS-XLSB] 2.1.7.61 Workbook */\nfunction write_wb_bin(wb, opts) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x0083 /* BrtBeginBook */);\n\twrite_record(ba, 0x0080 /* BrtFileVersion */, write_BrtFileVersion());\n\t/* [[BrtFileSharingIso] BrtFileSharing] */\n\twrite_record(ba, 0x0099 /* BrtWbProp */, write_BrtWbProp(wb.Workbook && wb.Workbook.WBProps || null));\n\t/* [ACABSPATH] */\n\t/* [[BrtBookProtectionIso] BrtBookProtection] */\n\twrite_BOOKVIEWS(ba, wb, opts);\n\twrite_BUNDLESHS(ba, wb, opts);\n\t/* [FNGROUP] */\n\t/* [EXTERNALS] */\n\t/* *BrtName */\n\t/* write_record(ba, 0x009D BrtCalcProp, write_BrtCalcProp()); */\n\t/* [BrtOleSize] */\n\t/* *(BrtUserBookView *FRT) */\n\t/* [PIVOTCACHEIDS] */\n\t/* [BrtWbFactoid] */\n\t/* [SMARTTAGTYPES] */\n\t/* [BrtWebOpt] */\n\t/* write_record(ba, 0x009B BrtFileRecover, write_BrtFileRecover()); */\n\t/* [WEBPUBITEMS] */\n\t/* [CRERRS] */\n\t/* FRTWORKBOOK */\n\twrite_record(ba, 0x0084 /* BrtEndBook */);\n\n\treturn ba.end();\n}\nfunction parse_wb(data, name/*:string*/, opts)/*:WorkbookFile*/ {\n\tif(name.slice(-4)===\".bin\") return parse_wb_bin((data/*:any*/), opts);\n\treturn parse_wb_xml((data/*:any*/), opts);\n}\n\nfunction parse_ws(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_ws_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_ws_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_cs(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_cs_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_cs_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_ms(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_ms_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_ms_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_ds(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_ds_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_ds_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_sty(data, name/*:string*/, themes, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_sty_bin((data/*:any*/), themes, opts);\n\treturn parse_sty_xml((data/*:any*/), themes, opts);\n}\n\nfunction parse_theme(data/*:string*/, name/*:string*/, opts) {\n\treturn parse_theme_xml(data, opts);\n}\n\nfunction parse_sst(data, name/*:string*/, opts)/*:SST*/ {\n\tif(name.slice(-4)===\".bin\") return parse_sst_bin((data/*:any*/), opts);\n\treturn parse_sst_xml((data/*:any*/), opts);\n}\n\nfunction parse_cmnt(data, name/*:string*/, opts)/*:Array<RawComment>*/ {\n\tif(name.slice(-4)===\".bin\") return parse_comments_bin((data/*:any*/), opts);\n\treturn parse_comments_xml((data/*:any*/), opts);\n}\n\nfunction parse_cc(data, name/*:string*/, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_cc_bin((data/*:any*/), name, opts);\n\treturn parse_cc_xml((data/*:any*/), name, opts);\n}\n\nfunction parse_xlink(data, rel, name/*:string*/, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_xlink_bin((data/*:any*/), rel, name, opts);\n\treturn parse_xlink_xml((data/*:any*/), rel, name, opts);\n}\n\nfunction parse_xlmeta(data, name/*:string*/, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_xlmeta_bin((data/*:any*/), name, opts);\n\treturn parse_xlmeta_xml((data/*:any*/), name, opts);\n}\n\nfunction write_wb(wb, name/*:string*/, opts) {\n\treturn (name.slice(-4)===\".bin\" ? write_wb_bin : write_wb_xml)(wb, opts);\n}\n\nfunction write_ws(data/*:number*/, name/*:string*/, opts, wb/*:Workbook*/, rels) {\n\treturn (name.slice(-4)===\".bin\" ? write_ws_bin : write_ws_xml)(data, opts, wb, rels);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction write_cs(data/*:number*/, name/*:string*/, opts, wb/*:Workbook*/, rels) {\n\treturn (name.slice(-4)===\".bin\" ? write_cs_bin : write_cs_xml)(data, opts, wb, rels);\n}\n\nfunction write_sty(data, name/*:string*/, opts) {\n\treturn (name.slice(-4)===\".bin\" ? write_sty_bin : write_sty_xml)(data, opts);\n}\n\nfunction write_sst(data/*:SST*/, name/*:string*/, opts) {\n\treturn (name.slice(-4)===\".bin\" ? write_sst_bin : write_sst_xml)(data, opts);\n}\n\nfunction write_cmnt(data/*:Array<any>*/, name/*:string*/, opts) {\n\treturn (name.slice(-4)===\".bin\" ? write_comments_bin : write_comments_xml)(data, opts);\n}\n/*\nfunction write_cc(data, name:string, opts) {\n\treturn (name.slice(-4)===\".bin\" ? write_cc_bin : write_cc_xml)(data, opts);\n}\n*/\n\nfunction write_xlmeta(name/*:string*/) {\n\treturn (name.slice(-4)===\".bin\" ? write_xlmeta_bin : write_xlmeta_xml)();\n}\nvar attregexg2=/([\\w:]+)=((?:\")([^\"]*)(?:\")|(?:')([^']*)(?:'))/g;\nvar attregex2=/([\\w:]+)=((?:\")(?:[^\"]*)(?:\")|(?:')(?:[^']*)(?:'))/;\nfunction xlml_parsexmltag(tag/*:string*/, skip_root/*:?boolean*/) {\n\tvar words = tag.split(/\\s+/);\n\tvar z/*:any*/ = ([]/*:any*/); if(!skip_root) z[0] = words[0];\n\tif(words.length === 1) return z;\n\tvar m = tag.match(attregexg2), y, j, w, i;\n\tif(m) for(i = 0; i != m.length; ++i) {\n\t\ty = m[i].match(attregex2);\n/*:: if(!y || !y[2]) continue; */\n\t\tif((j=y[1].indexOf(\":\")) === -1) z[y[1]] = y[2].slice(1,y[2].length-1);\n\t\telse {\n\t\t\tif(y[1].slice(0,6) === \"xmlns:\") w = \"xmlns\"+y[1].slice(6);\n\t\t\telse w = y[1].slice(j+1);\n\t\t\tz[w] = y[2].slice(1,y[2].length-1);\n\t\t}\n\t}\n\treturn z;\n}\nfunction xlml_parsexmltagobj(tag/*:string*/) {\n\tvar words = tag.split(/\\s+/);\n\tvar z = {};\n\tif(words.length === 1) return z;\n\tvar m = tag.match(attregexg2), y, j, w, i;\n\tif(m) for(i = 0; i != m.length; ++i) {\n\t\ty = m[i].match(attregex2);\n/*:: if(!y || !y[2]) continue; */\n\t\tif((j=y[1].indexOf(\":\")) === -1) z[y[1]] = y[2].slice(1,y[2].length-1);\n\t\telse {\n\t\t\tif(y[1].slice(0,6) === \"xmlns:\") w = \"xmlns\"+y[1].slice(6);\n\t\t\telse w = y[1].slice(j+1);\n\t\t\tz[w] = y[2].slice(1,y[2].length-1);\n\t\t}\n\t}\n\treturn z;\n}\n\n// ----\n\n/* map from xlml named formats to SSF TODO: localize */\nvar XLMLFormatMap/*: {[string]:string}*/;\n\nfunction xlml_format(format, value)/*:string*/ {\n\tvar fmt = XLMLFormatMap[format] || unescapexml(format);\n\tif(fmt === \"General\") return SSF_general(value);\n\treturn SSF_format(fmt, value);\n}\n\nfunction xlml_set_custprop(Custprops, key, cp, val/*:string*/) {\n\tvar oval/*:any*/ = val;\n\tswitch((cp[0].match(/dt:dt=\"([\\w.]+)\"/)||[\"\",\"\"])[1]) {\n\t\tcase \"boolean\": oval = parsexmlbool(val); break;\n\t\tcase \"i2\": case \"int\": oval = parseInt(val, 10); break;\n\t\tcase \"r4\": case \"float\": oval = parseFloat(val); break;\n\t\tcase \"date\": case \"dateTime.tz\": oval = parseDate(val); break;\n\t\tcase \"i8\": case \"string\": case \"fixed\": case \"uuid\": case \"bin.base64\": break;\n\t\tdefault: throw new Error(\"bad custprop:\" + cp[0]);\n\t}\n\tCustprops[unescapexml(key)] = oval;\n}\n\nfunction safe_format_xlml(cell/*:Cell*/, nf, o) {\n\tif(cell.t === 'z') return;\n\tif(!o || o.cellText !== false) try {\n\t\tif(cell.t === 'e') { cell.w = cell.w || BErr[cell.v]; }\n\t\telse if(nf === \"General\") {\n\t\t\tif(cell.t === 'n') {\n\t\t\t\tif((cell.v|0) === cell.v) cell.w = cell.v.toString(10);\n\t\t\t\telse cell.w = SSF_general_num(cell.v);\n\t\t\t}\n\t\t\telse cell.w = SSF_general(cell.v);\n\t\t}\n\t\telse cell.w = xlml_format(nf||\"General\", cell.v);\n\t} catch(e) { if(o.WTF) throw e; }\n\ttry {\n\t\tvar z = XLMLFormatMap[nf]||nf||\"General\";\n\t\tif(o.cellNF) cell.z = z;\n\t\tif(o.cellDates && cell.t == 'n' && fmt_is_date(z)) {\n\t\t\tvar _d = SSF_parse_date_code(cell.v); if(_d) { cell.t = 'd'; cell.v = new Date(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u); }\n\t\t}\n\t} catch(e) { if(o.WTF) throw e; }\n}\n\nfunction process_style_xlml(styles, stag, opts) {\n\tif(opts.cellStyles) {\n\t\tif(stag.Interior) {\n\t\t\tvar I = stag.Interior;\n\t\t\tif(I.Pattern) I.patternType = XLMLPatternTypeMap[I.Pattern] || I.Pattern;\n\t\t}\n\t}\n\tstyles[stag.ID] = stag;\n}\n\n/* TODO: there must exist some form of OSP-blessed spec */\nfunction parse_xlml_data(xml, ss, data, cell/*:any*/, base, styles, csty, row, arrayf, o) {\n\tvar nf = \"General\", sid = cell.StyleID, S = {}; o = o || {};\n\tvar interiors = [];\n\tvar i = 0;\n\tif(sid === undefined && row) sid = row.StyleID;\n\tif(sid === undefined && csty) sid = csty.StyleID;\n\twhile(styles[sid] !== undefined) {\n\t\tif(styles[sid].nf) nf = styles[sid].nf;\n\t\tif(styles[sid].Interior) interiors.push(styles[sid].Interior);\n\t\tif(!styles[sid].Parent) break;\n\t\tsid = styles[sid].Parent;\n\t}\n\tswitch(data.Type) {\n\t\tcase 'Boolean':\n\t\t\tcell.t = 'b';\n\t\t\tcell.v = parsexmlbool(xml);\n\t\t\tbreak;\n\t\tcase 'String':\n\t\t\tcell.t = 's'; cell.r = xlml_fixstr(unescapexml(xml));\n\t\t\tcell.v = (xml.indexOf(\"<\") > -1 ? unescapexml(ss||xml).replace(/<.*?>/g, \"\") : cell.r); // todo: BR etc\n\t\t\tbreak;\n\t\tcase 'DateTime':\n\t\t\tif(xml.slice(-1) != \"Z\") xml += \"Z\";\n\t\t\tcell.v = (parseDate(xml) - new Date(Date.UTC(1899, 11, 30))) / (24 * 60 * 60 * 1000);\n\t\t\tif(cell.v !== cell.v) cell.v = unescapexml(xml);\n\t\t\telse if(cell.v<60) cell.v = cell.v -1;\n\t\t\tif(!nf || nf == \"General\") nf = \"yyyy-mm-dd\";\n\t\t\t/* falls through */\n\t\tcase 'Number':\n\t\t\tif(cell.v === undefined) cell.v=+xml;\n\t\t\tif(!cell.t) cell.t = 'n';\n\t\t\tbreak;\n\t\tcase 'Error': cell.t = 'e'; cell.v = RBErr[xml]; if(o.cellText !== false) cell.w = xml; break;\n\t\tdefault:\n\t\t\tif(xml == \"\" && ss == \"\") { cell.t = 'z'; }\n\t\t\telse { cell.t = 's'; cell.v = xlml_fixstr(ss||xml); }\n\t\t\tbreak;\n\t}\n\tsafe_format_xlml(cell, nf, o);\n\tif(o.cellFormula !== false) {\n\t\tif(cell.Formula) {\n\t\t\tvar fstr = unescapexml(cell.Formula);\n\t\t\t/* strictly speaking, the leading = is required but some writers omit */\n\t\t\tif(fstr.charCodeAt(0) == 61 /* = */) fstr = fstr.slice(1);\n\t\t\tcell.f = rc_to_a1(fstr, base);\n\t\t\tdelete cell.Formula;\n\t\t\tif(cell.ArrayRange == \"RC\") cell.F = rc_to_a1(\"RC:RC\", base);\n\t\t\telse if(cell.ArrayRange) {\n\t\t\t\tcell.F = rc_to_a1(cell.ArrayRange, base);\n\t\t\t\tarrayf.push([safe_decode_range(cell.F), cell.F]);\n\t\t\t}\n\t\t} else {\n\t\t\tfor(i = 0; i < arrayf.length; ++i)\n\t\t\t\tif(base.r >= arrayf[i][0].s.r && base.r <= arrayf[i][0].e.r)\n\t\t\t\t\tif(base.c >= arrayf[i][0].s.c && base.c <= arrayf[i][0].e.c)\n\t\t\t\t\t\tcell.F = arrayf[i][1];\n\t\t}\n\t}\n\tif(o.cellStyles) {\n\t\tinteriors.forEach(function(x) {\n\t\t\tif(!S.patternType && x.patternType) S.patternType = x.patternType;\n\t\t});\n\t\tcell.s = S;\n\t}\n\tif(cell.StyleID !== undefined) cell.ixfe = cell.StyleID;\n}\n\nfunction xlml_clean_comment(comment/*:any*/) {\n\tcomment.t = comment.v || \"\";\n\tcomment.t = comment.t.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\");\n\tcomment.v = comment.w = comment.ixfe = undefined;\n}\n\n/* TODO: Everything */\nfunction parse_xlml_xml(d, _opts)/*:Workbook*/ {\n\tvar opts = _opts || {};\n\tmake_ssf();\n\tvar str = debom(xlml_normalize(d));\n\tif(opts.type == 'binary' || opts.type == 'array' || opts.type == 'base64') {\n\t\tif(typeof $cptable !== 'undefined') str = $cptable.utils.decode(65001, char_codes(str));\n\t\telse str = utf8read(str);\n\t}\n\tvar opening = str.slice(0, 1024).toLowerCase(), ishtml = false;\n\topening = opening.replace(/\".*?\"/g, \"\");\n\tif((opening.indexOf(\">\") & 1023) > Math.min((opening.indexOf(\",\") & 1023), (opening.indexOf(\";\")&1023))) { var _o = dup(opts); _o.type = \"string\"; return PRN.to_workbook(str, _o); }\n\tif(opening.indexOf(\"<?xml\") == -1) [\"html\", \"table\", \"head\", \"meta\", \"script\", \"style\", \"div\"].forEach(function(tag) { if(opening.indexOf(\"<\" + tag) >= 0) ishtml = true; });\n\tif(ishtml) return html_to_workbook(str, opts);\n\n\tXLMLFormatMap = ({\n\t\t\"General Number\": \"General\",\n\t\t\"General Date\": table_fmt[22],\n\t\t\"Long Date\": \"dddd, mmmm dd, yyyy\",\n\t\t\"Medium Date\": table_fmt[15],\n\t\t\"Short Date\": table_fmt[14],\n\t\t\"Long Time\": table_fmt[19],\n\t\t\"Medium Time\": table_fmt[18],\n\t\t\"Short Time\": table_fmt[20],\n\t\t\"Currency\": '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t\t\"Fixed\": table_fmt[2],\n\t\t\"Standard\": table_fmt[4],\n\t\t\"Percent\": table_fmt[10],\n\t\t\"Scientific\": table_fmt[11],\n\t\t\"Yes/No\": '\"Yes\";\"Yes\";\"No\";@',\n\t\t\"True/False\": '\"True\";\"True\";\"False\";@',\n\t\t\"On/Off\": '\"Yes\";\"Yes\";\"No\";@'\n\t}/*:any*/);\n\n\n\tvar Rn;\n\tvar state = [], tmp;\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\tvar sheets = {}, sheetnames/*:Array<string>*/ = [], cursheet/*:Worksheet*/ = (opts.dense ? [] : {}), sheetname = \"\";\n\tvar cell = ({}/*:any*/), row = {};// eslint-disable-line no-unused-vars\n\tvar dtag = xlml_parsexmltag('<Data ss:Type=\"String\">'), didx = 0;\n\tvar c = 0, r = 0;\n\tvar refguess/*:Range*/ = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\tvar styles = {}, stag = {};\n\tvar ss = \"\", fidx = 0;\n\tvar merges/*:Array<Range>*/ = [];\n\tvar Props = {}, Custprops = {}, pidx = 0, cp = [];\n\tvar comments/*:Array<Comment>*/ = [], comment/*:Comment*/ = ({}/*:any*/);\n\tvar cstys = [], csty, seencol = false;\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar rowinfo/*:Array<RowInfo>*/ = [], rowobj = {}, cc = 0, rr = 0;\n\tvar Workbook/*:WBWBProps*/ = ({ Sheets:[], WBProps:{date1904:false} }/*:any*/), wsprops = {};\n\txlmlregex.lastIndex = 0;\n\tstr = str.replace(/<!--([\\s\\S]*?)-->/mg,\"\");\n\tvar raw_Rn3 = \"\";\n\twhile((Rn = xlmlregex.exec(str))) switch((Rn[3] = (raw_Rn3 = Rn[3]).toLowerCase())) {\n\t\tcase 'data' /*case 'Data'*/:\n\t\t\tif(raw_Rn3 == \"data\") {\n\t\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(state[state.length-1][1]) break;\n\t\t\tif(Rn[1]==='/') parse_xlml_data(str.slice(didx, Rn.index), ss, dtag, state[state.length-1][0]==/*\"Comment\"*/\"comment\"?comment:cell, {c:c,r:r}, styles, cstys[c], row, arrayf, opts);\n\t\t\telse { ss = \"\"; dtag = xlml_parsexmltag(Rn[0]); didx = Rn.index + Rn[0].length; }\n\t\t\tbreak;\n\t\tcase 'cell' /*case 'Cell'*/:\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif(comments.length > 0) cell.c = comments;\n\t\t\t\tif((!opts.sheetRows || opts.sheetRows > r) && cell.v !== undefined) {\n\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\tif(!cursheet[r]) cursheet[r] = [];\n\t\t\t\t\t\tcursheet[r][c] = cell;\n\t\t\t\t\t} else cursheet[encode_col(c) + encode_row(r)] = cell;\n\t\t\t\t}\n\t\t\t\tif(cell.HRef) {\n\t\t\t\t\tcell.l = ({Target:unescapexml(cell.HRef)}/*:any*/);\n\t\t\t\t\tif(cell.HRefScreenTip) cell.l.Tooltip = cell.HRefScreenTip;\n\t\t\t\t\tdelete cell.HRef; delete cell.HRefScreenTip;\n\t\t\t\t}\n\t\t\t\tif(cell.MergeAcross || cell.MergeDown) {\n\t\t\t\t\tcc = c + (parseInt(cell.MergeAcross,10)|0);\n\t\t\t\t\trr = r + (parseInt(cell.MergeDown,10)|0);\n\t\t\t\t\tmerges.push({s:{c:c,r:r},e:{c:cc,r:rr}});\n\t\t\t\t}\n\t\t\t\tif(!opts.sheetStubs) { if(cell.MergeAcross) c = cc + 1; else ++c; }\n\t\t\t\telse if(cell.MergeAcross || cell.MergeDown) {\n\t\t\t\t\t/*:: if(!cc) cc = 0; if(!rr) rr = 0; */\n\t\t\t\t\tfor(var cma = c; cma <= cc; ++cma) {\n\t\t\t\t\t\tfor(var cmd = r; cmd <= rr; ++cmd) {\n\t\t\t\t\t\t\tif(cma > c || cmd > r) {\n\t\t\t\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\t\t\t\tif(!cursheet[cmd]) cursheet[cmd] = [];\n\t\t\t\t\t\t\t\t\tcursheet[cmd][cma] = {t:'z'};\n\t\t\t\t\t\t\t\t} else cursheet[encode_col(cma) + encode_row(cmd)] = {t:'z'};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tc = cc + 1;\n\t\t\t\t}\n\t\t\t\telse ++c;\n\t\t\t} else {\n\t\t\t\tcell = xlml_parsexmltagobj(Rn[0]);\n\t\t\t\tif(cell.Index) c = +cell.Index - 1;\n\t\t\t\tif(c < refguess.s.c) refguess.s.c = c;\n\t\t\t\tif(c > refguess.e.c) refguess.e.c = c;\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") ++c;\n\t\t\t\tcomments = [];\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'row' /*case 'Row'*/:\n\t\t\tif(Rn[1]==='/' || Rn[0].slice(-2) === \"/>\") {\n\t\t\t\tif(r < refguess.s.r) refguess.s.r = r;\n\t\t\t\tif(r > refguess.e.r) refguess.e.r = r;\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") {\n\t\t\t\t\trow = xlml_parsexmltag(Rn[0]);\n\t\t\t\t\tif(row.Index) r = +row.Index - 1;\n\t\t\t\t}\n\t\t\t\tc = 0; ++r;\n\t\t\t} else {\n\t\t\t\trow = xlml_parsexmltag(Rn[0]);\n\t\t\t\tif(row.Index) r = +row.Index - 1;\n\t\t\t\trowobj = {};\n\t\t\t\tif(row.AutoFitHeight == \"0\" || row.Height) {\n\t\t\t\t\trowobj.hpx = parseInt(row.Height, 10); rowobj.hpt = px2pt(rowobj.hpx);\n\t\t\t\t\trowinfo[r] = rowobj;\n\t\t\t\t}\n\t\t\t\tif(row.Hidden == \"1\") { rowobj.hidden = true; rowinfo[r] = rowobj; }\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'worksheet' /*case 'Worksheet'*/: /* TODO: read range from FullRows/FullColumns */\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));\n\t\t\t\tsheetnames.push(sheetname);\n\t\t\t\tif(refguess.s.r <= refguess.e.r && refguess.s.c <= refguess.e.c) {\n\t\t\t\t\tcursheet[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\tif(opts.sheetRows && opts.sheetRows <= refguess.e.r) {\n\t\t\t\t\t\tcursheet[\"!fullref\"] = cursheet[\"!ref\"];\n\t\t\t\t\t\trefguess.e.r = opts.sheetRows - 1;\n\t\t\t\t\t\tcursheet[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(merges.length) cursheet[\"!merges\"] = merges;\n\t\t\t\tif(cstys.length > 0) cursheet[\"!cols\"] = cstys;\n\t\t\t\tif(rowinfo.length > 0) cursheet[\"!rows\"] = rowinfo;\n\t\t\t\tsheets[sheetname] = cursheet;\n\t\t\t} else {\n\t\t\t\trefguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\t\t\t\tr = c = 0;\n\t\t\t\tstate.push([Rn[3], false]);\n\t\t\t\ttmp = xlml_parsexmltag(Rn[0]);\n\t\t\t\tsheetname = unescapexml(tmp.Name);\n\t\t\t\tcursheet = (opts.dense ? [] : {});\n\t\t\t\tmerges = [];\n\t\t\t\tarrayf = [];\n\t\t\t\trowinfo = [];\n\t\t\t\twsprops = {name:sheetname, Hidden:0};\n\t\t\t\tWorkbook.Sheets.push(wsprops);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'table' /*case 'Table'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse if(Rn[0].slice(-2) == \"/>\") break;\n\t\t\telse {\n\t\t\t\tstate.push([Rn[3], false]);\n\t\t\t\tcstys = []; seencol = false;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'style' /*case 'Style'*/:\n\t\t\tif(Rn[1]==='/') process_style_xlml(styles, stag, opts);\n\t\t\telse stag = xlml_parsexmltag(Rn[0]);\n\t\t\tbreak;\n\n\t\tcase 'numberformat' /*case 'NumberFormat'*/:\n\t\t\tstag.nf = unescapexml(xlml_parsexmltag(Rn[0]).Format || \"General\");\n\t\t\tif(XLMLFormatMap[stag.nf]) stag.nf = XLMLFormatMap[stag.nf];\n\t\t\tfor(var ssfidx = 0; ssfidx != 0x188; ++ssfidx) if(table_fmt[ssfidx] == stag.nf) break;\n\t\t\tif(ssfidx == 0x188) for(ssfidx = 0x39; ssfidx != 0x188; ++ssfidx) if(table_fmt[ssfidx] == null) { SSF_load(stag.nf, ssfidx); break; }\n\t\t\tbreak;\n\n\t\tcase 'column' /*case 'Column'*/:\n\t\t\tif(state[state.length-1][0] !== /*'Table'*/'table') break;\n\t\t\tcsty = xlml_parsexmltag(Rn[0]);\n\t\t\tif(csty.Hidden) { csty.hidden = true; delete csty.Hidden; }\n\t\t\tif(csty.Width) csty.wpx = parseInt(csty.Width, 10);\n\t\t\tif(!seencol && csty.wpx > 10) {\n\t\t\t\tseencol = true; MDW = DEF_MDW; //find_mdw_wpx(csty.wpx);\n\t\t\t\tfor(var _col = 0; _col < cstys.length; ++_col) if(cstys[_col]) process_col(cstys[_col]);\n\t\t\t}\n\t\t\tif(seencol) process_col(csty);\n\t\t\tcstys[(csty.Index-1||cstys.length)] = csty;\n\t\t\tfor(var i = 0; i < +csty.Span; ++i) cstys[cstys.length] = dup(csty);\n\t\t\tbreak;\n\n\t\tcase 'namedrange' /*case 'NamedRange'*/:\n\t\t\tif(Rn[1]==='/') break;\n\t\t\tif(!Workbook.Names) Workbook.Names = [];\n\t\t\tvar _NamedRange = parsexmltag(Rn[0]);\n\t\t\tvar _DefinedName/*:DefinedName*/ = ({\n\t\t\t\tName: _NamedRange.Name,\n\t\t\t\tRef: rc_to_a1(_NamedRange.RefersTo.slice(1), {r:0, c:0})\n\t\t\t}/*:any*/);\n\t\t\tif(Workbook.Sheets.length>0) _DefinedName.Sheet=Workbook.Sheets.length-1;\n\t\t\t/*:: if(Workbook.Names) */Workbook.Names.push(_DefinedName);\n\t\t\tbreak;\n\n\t\tcase 'namedcell' /*case 'NamedCell'*/: break;\n\t\tcase 'b' /*case 'B'*/: break;\n\t\tcase 'i' /*case 'I'*/: break;\n\t\tcase 'u' /*case 'U'*/: break;\n\t\tcase 's' /*case 'S'*/: break;\n\t\tcase 'em' /*case 'EM'*/: break;\n\t\tcase 'h2' /*case 'H2'*/: break;\n\t\tcase 'h3' /*case 'H3'*/: break;\n\t\tcase 'sub' /*case 'Sub'*/: break;\n\t\tcase 'sup' /*case 'Sup'*/: break;\n\t\tcase 'span' /*case 'Span'*/: break;\n\t\tcase 'alignment' /*case 'Alignment'*/:\n\t\t\tbreak;\n\t\tcase 'borders' /*case 'Borders'*/: break;\n\t\tcase 'border' /*case 'Border'*/: break;\n\t\tcase 'font' /*case 'Font'*/:\n\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\telse if(Rn[1]===\"/\") ss += str.slice(fidx, Rn.index);\n\t\t\telse fidx = Rn.index + Rn[0].length;\n\t\t\tbreak;\n\t\tcase 'interior' /*case 'Interior'*/:\n\t\t\tif(!opts.cellStyles) break;\n\t\t\tstag.Interior = xlml_parsexmltag(Rn[0]);\n\t\t\tbreak;\n\t\tcase 'protection' /*case 'Protection'*/: break;\n\n\t\tcase 'author' /*case 'Author'*/:\n\t\tcase 'title' /*case 'Title'*/:\n\t\tcase 'description' /*case 'Description'*/:\n\t\tcase 'created' /*case 'Created'*/:\n\t\tcase 'keywords' /*case 'Keywords'*/:\n\t\tcase 'subject' /*case 'Subject'*/:\n\t\tcase 'category' /*case 'Category'*/:\n\t\tcase 'company' /*case 'Company'*/:\n\t\tcase 'lastauthor' /*case 'LastAuthor'*/:\n\t\tcase 'lastsaved' /*case 'LastSaved'*/:\n\t\tcase 'lastprinted' /*case 'LastPrinted'*/:\n\t\tcase 'version' /*case 'Version'*/:\n\t\tcase 'revision' /*case 'Revision'*/:\n\t\tcase 'totaltime' /*case 'TotalTime'*/:\n\t\tcase 'hyperlinkbase' /*case 'HyperlinkBase'*/:\n\t\tcase 'manager' /*case 'Manager'*/:\n\t\tcase 'contentstatus' /*case 'ContentStatus'*/:\n\t\tcase 'identifier' /*case 'Identifier'*/:\n\t\tcase 'language' /*case 'Language'*/:\n\t\tcase 'appname' /*case 'AppName'*/:\n\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\telse if(Rn[1]===\"/\") xlml_set_prop(Props, raw_Rn3, str.slice(pidx, Rn.index));\n\t\t\telse pidx = Rn.index + Rn[0].length;\n\t\t\tbreak;\n\t\tcase 'paragraphs' /*case 'Paragraphs'*/: break;\n\n\t\tcase 'styles' /*case 'Styles'*/:\n\t\tcase 'workbook' /*case 'Workbook'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse state.push([Rn[3], false]);\n\t\t\tbreak;\n\n\t\tcase 'comment' /*case 'Comment'*/:\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));\n\t\t\t\txlml_clean_comment(comment);\n\t\t\t\tcomments.push(comment);\n\t\t\t} else {\n\t\t\t\tstate.push([Rn[3], false]);\n\t\t\t\ttmp = xlml_parsexmltag(Rn[0]);\n\t\t\t\tcomment = ({a:tmp.Author}/*:any*/);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'autofilter' /*case 'AutoFilter'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\tvar AutoFilter = xlml_parsexmltag(Rn[0]);\n\t\t\t\tcursheet['!autofilter'] = { ref:rc_to_a1(AutoFilter.Range).replace(/\\$/g,\"\") };\n\t\t\t\tstate.push([Rn[3], true]);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'name' /*case 'Name'*/: break;\n\n\t\tcase 'datavalidation' /*case 'DataValidation'*/:\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));\n\t\t\t} else {\n\t\t\t\tif(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'pixelsperinch' /*case 'PixelsPerInch'*/:\n\t\t\tbreak;\n\t\tcase 'componentoptions' /*case 'ComponentOptions'*/:\n\t\tcase 'documentproperties' /*case 'DocumentProperties'*/:\n\t\tcase 'customdocumentproperties' /*case 'CustomDocumentProperties'*/:\n\t\tcase 'officedocumentsettings' /*case 'OfficeDocumentSettings'*/:\n\t\tcase 'pivottable' /*case 'PivotTable'*/:\n\t\tcase 'pivotcache' /*case 'PivotCache'*/:\n\t\tcase 'names' /*case 'Names'*/:\n\t\tcase 'mapinfo' /*case 'MapInfo'*/:\n\t\tcase 'pagebreaks' /*case 'PageBreaks'*/:\n\t\tcase 'querytable' /*case 'QueryTable'*/:\n\t\tcase 'sorting' /*case 'Sorting'*/:\n\t\tcase 'schema' /*case 'Schema'*/: //case 'data' /*case 'data'*/:\n\t\tcase 'conditionalformatting' /*case 'ConditionalFormatting'*/:\n\t\tcase 'smarttagtype' /*case 'SmartTagType'*/:\n\t\tcase 'smarttags' /*case 'SmartTags'*/:\n\t\tcase 'excelworkbook' /*case 'ExcelWorkbook'*/:\n\t\tcase 'workbookoptions' /*case 'WorkbookOptions'*/:\n\t\tcase 'worksheetoptions' /*case 'WorksheetOptions'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\tbreak;\n\n\t\tcase 'null' /*case 'Null'*/: break;\n\n\t\tdefault:\n\t\t\t/* FODS file root is <office:document> */\n\t\t\tif(state.length == 0 && Rn[3] == \"document\") return parse_fods(str, opts);\n\t\t\t/* UOS file root is <uof:UOF> */\n\t\t\tif(state.length == 0 && Rn[3] == \"uof\"/*\"UOF\"*/) return parse_fods(str, opts);\n\n\t\t\tvar seen = true;\n\t\t\tswitch(state[state.length-1][0]) {\n\t\t\t\t/* OfficeDocumentSettings */\n\t\t\t\tcase 'officedocumentsettings' /*case 'OfficeDocumentSettings'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'allowpng' /*case 'AllowPNG'*/: break;\n\t\t\t\t\tcase 'removepersonalinformation' /*case 'RemovePersonalInformation'*/: break;\n\t\t\t\t\tcase 'downloadcomponents' /*case 'DownloadComponents'*/: break;\n\t\t\t\t\tcase 'locationofcomponents' /*case 'LocationOfComponents'*/: break;\n\t\t\t\t\tcase 'colors' /*case 'Colors'*/: break;\n\t\t\t\t\tcase 'color' /*case 'Color'*/: break;\n\t\t\t\t\tcase 'index' /*case 'Index'*/: break;\n\t\t\t\t\tcase 'rgb' /*case 'RGB'*/: break;\n\t\t\t\t\tcase 'targetscreensize' /*case 'TargetScreenSize'*/: break;\n\t\t\t\t\tcase 'readonlyrecommended' /*case 'ReadOnlyRecommended'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* ComponentOptions */\n\t\t\t\tcase 'componentoptions' /*case 'ComponentOptions'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'toolbar' /*case 'Toolbar'*/: break;\n\t\t\t\t\tcase 'hideofficelogo' /*case 'HideOfficeLogo'*/: break;\n\t\t\t\t\tcase 'spreadsheetautofit' /*case 'SpreadsheetAutoFit'*/: break;\n\t\t\t\t\tcase 'label' /*case 'Label'*/: break;\n\t\t\t\t\tcase 'caption' /*case 'Caption'*/: break;\n\t\t\t\t\tcase 'maxheight' /*case 'MaxHeight'*/: break;\n\t\t\t\t\tcase 'maxwidth' /*case 'MaxWidth'*/: break;\n\t\t\t\t\tcase 'nextsheetnumber' /*case 'NextSheetNumber'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* ExcelWorkbook */\n\t\t\t\tcase 'excelworkbook' /*case 'ExcelWorkbook'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'date1904' /*case 'Date1904'*/:\n\t\t\t\t\t\t/*:: if(!Workbook.WBProps) Workbook.WBProps = {}; */\n\t\t\t\t\t\tWorkbook.WBProps.date1904 = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'windowheight' /*case 'WindowHeight'*/: break;\n\t\t\t\t\tcase 'windowwidth' /*case 'WindowWidth'*/: break;\n\t\t\t\t\tcase 'windowtopx' /*case 'WindowTopX'*/: break;\n\t\t\t\t\tcase 'windowtopy' /*case 'WindowTopY'*/: break;\n\t\t\t\t\tcase 'tabratio' /*case 'TabRatio'*/: break;\n\t\t\t\t\tcase 'protectstructure' /*case 'ProtectStructure'*/: break;\n\t\t\t\t\tcase 'protectwindow' /*case 'ProtectWindow'*/: break;\n\t\t\t\t\tcase 'protectwindows' /*case 'ProtectWindows'*/: break;\n\t\t\t\t\tcase 'activesheet' /*case 'ActiveSheet'*/: break;\n\t\t\t\t\tcase 'displayinknotes' /*case 'DisplayInkNotes'*/: break;\n\t\t\t\t\tcase 'firstvisiblesheet' /*case 'FirstVisibleSheet'*/: break;\n\t\t\t\t\tcase 'supbook' /*case 'SupBook'*/: break;\n\t\t\t\t\tcase 'sheetname' /*case 'SheetName'*/: break;\n\t\t\t\t\tcase 'sheetindex' /*case 'SheetIndex'*/: break;\n\t\t\t\t\tcase 'sheetindexfirst' /*case 'SheetIndexFirst'*/: break;\n\t\t\t\t\tcase 'sheetindexlast' /*case 'SheetIndexLast'*/: break;\n\t\t\t\t\tcase 'dll' /*case 'Dll'*/: break;\n\t\t\t\t\tcase 'acceptlabelsinformulas' /*case 'AcceptLabelsInFormulas'*/: break;\n\t\t\t\t\tcase 'donotsavelinkvalues' /*case 'DoNotSaveLinkValues'*/: break;\n\t\t\t\t\tcase 'iteration' /*case 'Iteration'*/: break;\n\t\t\t\t\tcase 'maxiterations' /*case 'MaxIterations'*/: break;\n\t\t\t\t\tcase 'maxchange' /*case 'MaxChange'*/: break;\n\t\t\t\t\tcase 'path' /*case 'Path'*/: break;\n\t\t\t\t\tcase 'xct' /*case 'Xct'*/: break;\n\t\t\t\t\tcase 'count' /*case 'Count'*/: break;\n\t\t\t\t\tcase 'selectedsheets' /*case 'SelectedSheets'*/: break;\n\t\t\t\t\tcase 'calculation' /*case 'Calculation'*/: break;\n\t\t\t\t\tcase 'uncalced' /*case 'Uncalced'*/: break;\n\t\t\t\t\tcase 'startupprompt' /*case 'StartupPrompt'*/: break;\n\t\t\t\t\tcase 'crn' /*case 'Crn'*/: break;\n\t\t\t\t\tcase 'externname' /*case 'ExternName'*/: break;\n\t\t\t\t\tcase 'formula' /*case 'Formula'*/: break;\n\t\t\t\t\tcase 'colfirst' /*case 'ColFirst'*/: break;\n\t\t\t\t\tcase 'collast' /*case 'ColLast'*/: break;\n\t\t\t\t\tcase 'wantadvise' /*case 'WantAdvise'*/: break;\n\t\t\t\t\tcase 'boolean' /*case 'Boolean'*/: break;\n\t\t\t\t\tcase 'error' /*case 'Error'*/: break;\n\t\t\t\t\tcase 'text' /*case 'Text'*/: break;\n\t\t\t\t\tcase 'ole' /*case 'OLE'*/: break;\n\t\t\t\t\tcase 'noautorecover' /*case 'NoAutoRecover'*/: break;\n\t\t\t\t\tcase 'publishobjects' /*case 'PublishObjects'*/: break;\n\t\t\t\t\tcase 'donotcalculatebeforesave' /*case 'DoNotCalculateBeforeSave'*/: break;\n\t\t\t\t\tcase 'number' /*case 'Number'*/: break;\n\t\t\t\t\tcase 'refmoder1c1' /*case 'RefModeR1C1'*/: break;\n\t\t\t\t\tcase 'embedsavesmarttags' /*case 'EmbedSaveSmartTags'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* WorkbookOptions */\n\t\t\t\tcase 'workbookoptions' /*case 'WorkbookOptions'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'owcversion' /*case 'OWCVersion'*/: break;\n\t\t\t\t\tcase 'height' /*case 'Height'*/: break;\n\t\t\t\t\tcase 'width' /*case 'Width'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* WorksheetOptions */\n\t\t\t\tcase 'worksheetoptions' /*case 'WorksheetOptions'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'visible' /*case 'Visible'*/:\n\t\t\t\t\t\tif(Rn[0].slice(-2) === \"/>\"){/* empty */}\n\t\t\t\t\t\telse if(Rn[1]===\"/\") switch(str.slice(pidx, Rn.index)) {\n\t\t\t\t\t\t\tcase \"SheetHidden\": wsprops.Hidden = 1; break;\n\t\t\t\t\t\t\tcase \"SheetVeryHidden\": wsprops.Hidden = 2; break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse pidx = Rn.index + Rn[0].length;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'header' /*case 'Header'*/:\n\t\t\t\t\t\tif(!cursheet['!margins']) default_margins(cursheet['!margins']={}, 'xlml');\n\t\t\t\t\t\tif(!isNaN(+parsexmltag(Rn[0]).Margin)) cursheet['!margins'].header = +parsexmltag(Rn[0]).Margin;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'footer' /*case 'Footer'*/:\n\t\t\t\t\t\tif(!cursheet['!margins']) default_margins(cursheet['!margins']={}, 'xlml');\n\t\t\t\t\t\tif(!isNaN(+parsexmltag(Rn[0]).Margin)) cursheet['!margins'].footer = +parsexmltag(Rn[0]).Margin;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'pagemargins' /*case 'PageMargins'*/:\n\t\t\t\t\t\tvar pagemargins = parsexmltag(Rn[0]);\n\t\t\t\t\t\tif(!cursheet['!margins']) default_margins(cursheet['!margins']={},'xlml');\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Top)) cursheet['!margins'].top = +pagemargins.Top;\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Left)) cursheet['!margins'].left = +pagemargins.Left;\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Right)) cursheet['!margins'].right = +pagemargins.Right;\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Bottom)) cursheet['!margins'].bottom = +pagemargins.Bottom;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'displayrighttoleft' /*case 'DisplayRightToLeft'*/:\n\t\t\t\t\t\tif(!Workbook.Views) Workbook.Views = [];\n\t\t\t\t\t\tif(!Workbook.Views[0]) Workbook.Views[0] = {};\n\t\t\t\t\t\tWorkbook.Views[0].RTL = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'freezepanes' /*case 'FreezePanes'*/: break;\n\t\t\t\t\tcase 'frozennosplit' /*case 'FrozenNoSplit'*/: break;\n\n\t\t\t\t\tcase 'splithorizontal' /*case 'SplitHorizontal'*/:\n\t\t\t\t\tcase 'splitvertical' /*case 'SplitVertical'*/:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'donotdisplaygridlines' /*case 'DoNotDisplayGridlines'*/:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'activerow' /*case 'ActiveRow'*/: break;\n\t\t\t\t\tcase 'activecol' /*case 'ActiveCol'*/: break;\n\t\t\t\t\tcase 'toprowbottompane' /*case 'TopRowBottomPane'*/: break;\n\t\t\t\t\tcase 'leftcolumnrightpane' /*case 'LeftColumnRightPane'*/: break;\n\n\t\t\t\t\tcase 'unsynced' /*case 'Unsynced'*/: break;\n\t\t\t\t\tcase 'print' /*case 'Print'*/: break;\n\t\t\t\t\tcase 'printerrors' /*case 'PrintErrors'*/: break;\n\t\t\t\t\tcase 'panes' /*case 'Panes'*/: break;\n\t\t\t\t\tcase 'scale' /*case 'Scale'*/: break;\n\t\t\t\t\tcase 'pane' /*case 'Pane'*/: break;\n\t\t\t\t\tcase 'number' /*case 'Number'*/: break;\n\t\t\t\t\tcase 'layout' /*case 'Layout'*/: break;\n\t\t\t\t\tcase 'pagesetup' /*case 'PageSetup'*/: break;\n\t\t\t\t\tcase 'selected' /*case 'Selected'*/: break;\n\t\t\t\t\tcase 'protectobjects' /*case 'ProtectObjects'*/: break;\n\t\t\t\t\tcase 'enableselection' /*case 'EnableSelection'*/: break;\n\t\t\t\t\tcase 'protectscenarios' /*case 'ProtectScenarios'*/: break;\n\t\t\t\t\tcase 'validprinterinfo' /*case 'ValidPrinterInfo'*/: break;\n\t\t\t\t\tcase 'horizontalresolution' /*case 'HorizontalResolution'*/: break;\n\t\t\t\t\tcase 'verticalresolution' /*case 'VerticalResolution'*/: break;\n\t\t\t\t\tcase 'numberofcopies' /*case 'NumberofCopies'*/: break;\n\t\t\t\t\tcase 'activepane' /*case 'ActivePane'*/: break;\n\t\t\t\t\tcase 'toprowvisible' /*case 'TopRowVisible'*/: break;\n\t\t\t\t\tcase 'leftcolumnvisible' /*case 'LeftColumnVisible'*/: break;\n\t\t\t\t\tcase 'fittopage' /*case 'FitToPage'*/: break;\n\t\t\t\t\tcase 'rangeselection' /*case 'RangeSelection'*/: break;\n\t\t\t\t\tcase 'papersizeindex' /*case 'PaperSizeIndex'*/: break;\n\t\t\t\t\tcase 'pagelayoutzoom' /*case 'PageLayoutZoom'*/: break;\n\t\t\t\t\tcase 'pagebreakzoom' /*case 'PageBreakZoom'*/: break;\n\t\t\t\t\tcase 'filteron' /*case 'FilterOn'*/: break;\n\t\t\t\t\tcase 'fitwidth' /*case 'FitWidth'*/: break;\n\t\t\t\t\tcase 'fitheight' /*case 'FitHeight'*/: break;\n\t\t\t\t\tcase 'commentslayout' /*case 'CommentsLayout'*/: break;\n\t\t\t\t\tcase 'zoom' /*case 'Zoom'*/: break;\n\t\t\t\t\tcase 'lefttoright' /*case 'LeftToRight'*/: break;\n\t\t\t\t\tcase 'gridlines' /*case 'Gridlines'*/: break;\n\t\t\t\t\tcase 'allowsort' /*case 'AllowSort'*/: break;\n\t\t\t\t\tcase 'allowfilter' /*case 'AllowFilter'*/: break;\n\t\t\t\t\tcase 'allowinsertrows' /*case 'AllowInsertRows'*/: break;\n\t\t\t\t\tcase 'allowdeleterows' /*case 'AllowDeleteRows'*/: break;\n\t\t\t\t\tcase 'allowinsertcols' /*case 'AllowInsertCols'*/: break;\n\t\t\t\t\tcase 'allowdeletecols' /*case 'AllowDeleteCols'*/: break;\n\t\t\t\t\tcase 'allowinserthyperlinks' /*case 'AllowInsertHyperlinks'*/: break;\n\t\t\t\t\tcase 'allowformatcells' /*case 'AllowFormatCells'*/: break;\n\t\t\t\t\tcase 'allowsizecols' /*case 'AllowSizeCols'*/: break;\n\t\t\t\t\tcase 'allowsizerows' /*case 'AllowSizeRows'*/: break;\n\t\t\t\t\tcase 'nosummaryrowsbelowdetail' /*case 'NoSummaryRowsBelowDetail'*/:\n\t\t\t\t\t\tif(!cursheet[\"!outline\"]) cursheet[\"!outline\"] = {};\n\t\t\t\t\t\tcursheet[\"!outline\"].above = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'tabcolorindex' /*case 'TabColorIndex'*/: break;\n\t\t\t\t\tcase 'donotdisplayheadings' /*case 'DoNotDisplayHeadings'*/: break;\n\t\t\t\t\tcase 'showpagelayoutzoom' /*case 'ShowPageLayoutZoom'*/: break;\n\t\t\t\t\tcase 'nosummarycolumnsrightdetail' /*case 'NoSummaryColumnsRightDetail'*/:\n\t\t\t\t\t\tif(!cursheet[\"!outline\"]) cursheet[\"!outline\"] = {};\n\t\t\t\t\t\tcursheet[\"!outline\"].left = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'blackandwhite' /*case 'BlackAndWhite'*/: break;\n\t\t\t\t\tcase 'donotdisplayzeros' /*case 'DoNotDisplayZeros'*/: break;\n\t\t\t\t\tcase 'displaypagebreak' /*case 'DisplayPageBreak'*/: break;\n\t\t\t\t\tcase 'rowcolheadings' /*case 'RowColHeadings'*/: break;\n\t\t\t\t\tcase 'donotdisplayoutline' /*case 'DoNotDisplayOutline'*/: break;\n\t\t\t\t\tcase 'noorientation' /*case 'NoOrientation'*/: break;\n\t\t\t\t\tcase 'allowusepivottables' /*case 'AllowUsePivotTables'*/: break;\n\t\t\t\t\tcase 'zeroheight' /*case 'ZeroHeight'*/: break;\n\t\t\t\t\tcase 'viewablerange' /*case 'ViewableRange'*/: break;\n\t\t\t\t\tcase 'selection' /*case 'Selection'*/: break;\n\t\t\t\t\tcase 'protectcontents' /*case 'ProtectContents'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* PivotTable */\n\t\t\t\tcase 'pivottable' /*case 'PivotTable'*/: case 'pivotcache' /*case 'PivotCache'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'immediateitemsondrop' /*case 'ImmediateItemsOnDrop'*/: break;\n\t\t\t\t\tcase 'showpagemultipleitemlabel' /*case 'ShowPageMultipleItemLabel'*/: break;\n\t\t\t\t\tcase 'compactrowindent' /*case 'CompactRowIndent'*/: break;\n\t\t\t\t\tcase 'location' /*case 'Location'*/: break;\n\t\t\t\t\tcase 'pivotfield' /*case 'PivotField'*/: break;\n\t\t\t\t\tcase 'orientation' /*case 'Orientation'*/: break;\n\t\t\t\t\tcase 'layoutform' /*case 'LayoutForm'*/: break;\n\t\t\t\t\tcase 'layoutsubtotallocation' /*case 'LayoutSubtotalLocation'*/: break;\n\t\t\t\t\tcase 'layoutcompactrow' /*case 'LayoutCompactRow'*/: break;\n\t\t\t\t\tcase 'position' /*case 'Position'*/: break;\n\t\t\t\t\tcase 'pivotitem' /*case 'PivotItem'*/: break;\n\t\t\t\t\tcase 'datatype' /*case 'DataType'*/: break;\n\t\t\t\t\tcase 'datafield' /*case 'DataField'*/: break;\n\t\t\t\t\tcase 'sourcename' /*case 'SourceName'*/: break;\n\t\t\t\t\tcase 'parentfield' /*case 'ParentField'*/: break;\n\t\t\t\t\tcase 'ptlineitems' /*case 'PTLineItems'*/: break;\n\t\t\t\t\tcase 'ptlineitem' /*case 'PTLineItem'*/: break;\n\t\t\t\t\tcase 'countofsameitems' /*case 'CountOfSameItems'*/: break;\n\t\t\t\t\tcase 'item' /*case 'Item'*/: break;\n\t\t\t\t\tcase 'itemtype' /*case 'ItemType'*/: break;\n\t\t\t\t\tcase 'ptsource' /*case 'PTSource'*/: break;\n\t\t\t\t\tcase 'cacheindex' /*case 'CacheIndex'*/: break;\n\t\t\t\t\tcase 'consolidationreference' /*case 'ConsolidationReference'*/: break;\n\t\t\t\t\tcase 'filename' /*case 'FileName'*/: break;\n\t\t\t\t\tcase 'reference' /*case 'Reference'*/: break;\n\t\t\t\t\tcase 'nocolumngrand' /*case 'NoColumnGrand'*/: break;\n\t\t\t\t\tcase 'norowgrand' /*case 'NoRowGrand'*/: break;\n\t\t\t\t\tcase 'blanklineafteritems' /*case 'BlankLineAfterItems'*/: break;\n\t\t\t\t\tcase 'hidden' /*case 'Hidden'*/: break;\n\t\t\t\t\tcase 'subtotal' /*case 'Subtotal'*/: break;\n\t\t\t\t\tcase 'basefield' /*case 'BaseField'*/: break;\n\t\t\t\t\tcase 'mapchilditems' /*case 'MapChildItems'*/: break;\n\t\t\t\t\tcase 'function' /*case 'Function'*/: break;\n\t\t\t\t\tcase 'refreshonfileopen' /*case 'RefreshOnFileOpen'*/: break;\n\t\t\t\t\tcase 'printsettitles' /*case 'PrintSetTitles'*/: break;\n\t\t\t\t\tcase 'mergelabels' /*case 'MergeLabels'*/: break;\n\t\t\t\t\tcase 'defaultversion' /*case 'DefaultVersion'*/: break;\n\t\t\t\t\tcase 'refreshname' /*case 'RefreshName'*/: break;\n\t\t\t\t\tcase 'refreshdate' /*case 'RefreshDate'*/: break;\n\t\t\t\t\tcase 'refreshdatecopy' /*case 'RefreshDateCopy'*/: break;\n\t\t\t\t\tcase 'versionlastrefresh' /*case 'VersionLastRefresh'*/: break;\n\t\t\t\t\tcase 'versionlastupdate' /*case 'VersionLastUpdate'*/: break;\n\t\t\t\t\tcase 'versionupdateablemin' /*case 'VersionUpdateableMin'*/: break;\n\t\t\t\t\tcase 'versionrefreshablemin' /*case 'VersionRefreshableMin'*/: break;\n\t\t\t\t\tcase 'calculation' /*case 'Calculation'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* PageBreaks */\n\t\t\t\tcase 'pagebreaks' /*case 'PageBreaks'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'colbreaks' /*case 'ColBreaks'*/: break;\n\t\t\t\t\tcase 'colbreak' /*case 'ColBreak'*/: break;\n\t\t\t\t\tcase 'rowbreaks' /*case 'RowBreaks'*/: break;\n\t\t\t\t\tcase 'rowbreak' /*case 'RowBreak'*/: break;\n\t\t\t\t\tcase 'colstart' /*case 'ColStart'*/: break;\n\t\t\t\t\tcase 'colend' /*case 'ColEnd'*/: break;\n\t\t\t\t\tcase 'rowend' /*case 'RowEnd'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* AutoFilter */\n\t\t\t\tcase 'autofilter' /*case 'AutoFilter'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'autofiltercolumn' /*case 'AutoFilterColumn'*/: break;\n\t\t\t\t\tcase 'autofiltercondition' /*case 'AutoFilterCondition'*/: break;\n\t\t\t\t\tcase 'autofilterand' /*case 'AutoFilterAnd'*/: break;\n\t\t\t\t\tcase 'autofilteror' /*case 'AutoFilterOr'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* QueryTable */\n\t\t\t\tcase 'querytable' /*case 'QueryTable'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'id' /*case 'Id'*/: break;\n\t\t\t\t\tcase 'autoformatfont' /*case 'AutoFormatFont'*/: break;\n\t\t\t\t\tcase 'autoformatpattern' /*case 'AutoFormatPattern'*/: break;\n\t\t\t\t\tcase 'querysource' /*case 'QuerySource'*/: break;\n\t\t\t\t\tcase 'querytype' /*case 'QueryType'*/: break;\n\t\t\t\t\tcase 'enableredirections' /*case 'EnableRedirections'*/: break;\n\t\t\t\t\tcase 'refreshedinxl9' /*case 'RefreshedInXl9'*/: break;\n\t\t\t\t\tcase 'urlstring' /*case 'URLString'*/: break;\n\t\t\t\t\tcase 'htmltables' /*case 'HTMLTables'*/: break;\n\t\t\t\t\tcase 'connection' /*case 'Connection'*/: break;\n\t\t\t\t\tcase 'commandtext' /*case 'CommandText'*/: break;\n\t\t\t\t\tcase 'refreshinfo' /*case 'RefreshInfo'*/: break;\n\t\t\t\t\tcase 'notitles' /*case 'NoTitles'*/: break;\n\t\t\t\t\tcase 'nextid' /*case 'NextId'*/: break;\n\t\t\t\t\tcase 'columninfo' /*case 'ColumnInfo'*/: break;\n\t\t\t\t\tcase 'overwritecells' /*case 'OverwriteCells'*/: break;\n\t\t\t\t\tcase 'donotpromptforfile' /*case 'DoNotPromptForFile'*/: break;\n\t\t\t\t\tcase 'textwizardsettings' /*case 'TextWizardSettings'*/: break;\n\t\t\t\t\tcase 'source' /*case 'Source'*/: break;\n\t\t\t\t\tcase 'number' /*case 'Number'*/: break;\n\t\t\t\t\tcase 'decimal' /*case 'Decimal'*/: break;\n\t\t\t\t\tcase 'thousandseparator' /*case 'ThousandSeparator'*/: break;\n\t\t\t\t\tcase 'trailingminusnumbers' /*case 'TrailingMinusNumbers'*/: break;\n\t\t\t\t\tcase 'formatsettings' /*case 'FormatSettings'*/: break;\n\t\t\t\t\tcase 'fieldtype' /*case 'FieldType'*/: break;\n\t\t\t\t\tcase 'delimiters' /*case 'Delimiters'*/: break;\n\t\t\t\t\tcase 'tab' /*case 'Tab'*/: break;\n\t\t\t\t\tcase 'comma' /*case 'Comma'*/: break;\n\t\t\t\t\tcase 'autoformatname' /*case 'AutoFormatName'*/: break;\n\t\t\t\t\tcase 'versionlastedit' /*case 'VersionLastEdit'*/: break;\n\t\t\t\t\tcase 'versionlastrefresh' /*case 'VersionLastRefresh'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\tcase 'datavalidation' /*case 'DataValidation'*/:\n\t\t\t\tswitch(Rn[3]) {\n\t\t\t\t\tcase 'range' /*case 'Range'*/: break;\n\n\t\t\t\t\tcase 'type' /*case 'Type'*/: break;\n\t\t\t\t\tcase 'min' /*case 'Min'*/: break;\n\t\t\t\t\tcase 'max' /*case 'Max'*/: break;\n\t\t\t\t\tcase 'sort' /*case 'Sort'*/: break;\n\t\t\t\t\tcase 'descending' /*case 'Descending'*/: break;\n\t\t\t\t\tcase 'order' /*case 'Order'*/: break;\n\t\t\t\t\tcase 'casesensitive' /*case 'CaseSensitive'*/: break;\n\t\t\t\t\tcase 'value' /*case 'Value'*/: break;\n\t\t\t\t\tcase 'errorstyle' /*case 'ErrorStyle'*/: break;\n\t\t\t\t\tcase 'errormessage' /*case 'ErrorMessage'*/: break;\n\t\t\t\t\tcase 'errortitle' /*case 'ErrorTitle'*/: break;\n\t\t\t\t\tcase 'inputmessage' /*case 'InputMessage'*/: break;\n\t\t\t\t\tcase 'inputtitle' /*case 'InputTitle'*/: break;\n\t\t\t\t\tcase 'combohide' /*case 'ComboHide'*/: break;\n\t\t\t\t\tcase 'inputhide' /*case 'InputHide'*/: break;\n\t\t\t\t\tcase 'condition' /*case 'Condition'*/: break;\n\t\t\t\t\tcase 'qualifier' /*case 'Qualifier'*/: break;\n\t\t\t\t\tcase 'useblank' /*case 'UseBlank'*/: break;\n\t\t\t\t\tcase 'value1' /*case 'Value1'*/: break;\n\t\t\t\t\tcase 'value2' /*case 'Value2'*/: break;\n\t\t\t\t\tcase 'format' /*case 'Format'*/: break;\n\n\t\t\t\t\tcase 'cellrangelist' /*case 'CellRangeList'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\tcase 'sorting' /*case 'Sorting'*/:\n\t\t\t\tcase 'conditionalformatting' /*case 'ConditionalFormatting'*/:\n\t\t\t\tswitch(Rn[3]) {\n\t\t\t\t\tcase 'range' /*case 'Range'*/: break;\n\t\t\t\t\tcase 'type' /*case 'Type'*/: break;\n\t\t\t\t\tcase 'min' /*case 'Min'*/: break;\n\t\t\t\t\tcase 'max' /*case 'Max'*/: break;\n\t\t\t\t\tcase 'sort' /*case 'Sort'*/: break;\n\t\t\t\t\tcase 'descending' /*case 'Descending'*/: break;\n\t\t\t\t\tcase 'order' /*case 'Order'*/: break;\n\t\t\t\t\tcase 'casesensitive' /*case 'CaseSensitive'*/: break;\n\t\t\t\t\tcase 'value' /*case 'Value'*/: break;\n\t\t\t\t\tcase 'errorstyle' /*case 'ErrorStyle'*/: break;\n\t\t\t\t\tcase 'errormessage' /*case 'ErrorMessage'*/: break;\n\t\t\t\t\tcase 'errortitle' /*case 'ErrorTitle'*/: break;\n\t\t\t\t\tcase 'cellrangelist' /*case 'CellRangeList'*/: break;\n\t\t\t\t\tcase 'inputmessage' /*case 'InputMessage'*/: break;\n\t\t\t\t\tcase 'inputtitle' /*case 'InputTitle'*/: break;\n\t\t\t\t\tcase 'combohide' /*case 'ComboHide'*/: break;\n\t\t\t\t\tcase 'inputhide' /*case 'InputHide'*/: break;\n\t\t\t\t\tcase 'condition' /*case 'Condition'*/: break;\n\t\t\t\t\tcase 'qualifier' /*case 'Qualifier'*/: break;\n\t\t\t\t\tcase 'useblank' /*case 'UseBlank'*/: break;\n\t\t\t\t\tcase 'value1' /*case 'Value1'*/: break;\n\t\t\t\t\tcase 'value2' /*case 'Value2'*/: break;\n\t\t\t\t\tcase 'format' /*case 'Format'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* MapInfo (schema) */\n\t\t\t\tcase 'mapinfo' /*case 'MapInfo'*/: case 'schema' /*case 'Schema'*/: case 'data' /*case 'data'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'map' /*case 'Map'*/: break;\n\t\t\t\t\tcase 'entry' /*case 'Entry'*/: break;\n\t\t\t\t\tcase 'range' /*case 'Range'*/: break;\n\t\t\t\t\tcase 'xpath' /*case 'XPath'*/: break;\n\t\t\t\t\tcase 'field' /*case 'Field'*/: break;\n\t\t\t\t\tcase 'xsdtype' /*case 'XSDType'*/: break;\n\t\t\t\t\tcase 'filteron' /*case 'FilterOn'*/: break;\n\t\t\t\t\tcase 'aggregate' /*case 'Aggregate'*/: break;\n\t\t\t\t\tcase 'elementtype' /*case 'ElementType'*/: break;\n\t\t\t\t\tcase 'attributetype' /*case 'AttributeType'*/: break;\n\t\t\t\t/* These are from xsd (XML Schema Definition) */\n\t\t\t\t\tcase 'schema' /*case 'schema'*/:\n\t\t\t\t\tcase 'element' /*case 'element'*/:\n\t\t\t\t\tcase 'complextype' /*case 'complexType'*/:\n\t\t\t\t\tcase 'datatype' /*case 'datatype'*/:\n\t\t\t\t\tcase 'all' /*case 'all'*/:\n\t\t\t\t\tcase 'attribute' /*case 'attribute'*/:\n\t\t\t\t\tcase 'extends' /*case 'extends'*/: break;\n\n\t\t\t\t\tcase 'row' /*case 'row'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* SmartTags (can be anything) */\n\t\t\t\tcase 'smarttags' /*case 'SmartTags'*/: break;\n\n\t\t\t\tdefault: seen = false; break;\n\t\t\t}\n\t\t\tif(seen) break;\n\t\t\t/* CustomDocumentProperties */\n\t\t\tif(Rn[3].match(/!\\[CDATA/)) break;\n\t\t\tif(!state[state.length-1][1]) throw 'Unrecognized tag: ' + Rn[3] + \"|\" + state.join(\"|\");\n\t\t\tif(state[state.length-1][0]===/*'CustomDocumentProperties'*/'customdocumentproperties') {\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\t\telse if(Rn[1]===\"/\") xlml_set_custprop(Custprops, raw_Rn3, cp, str.slice(pidx, Rn.index));\n\t\t\t\telse { cp = Rn; pidx = Rn.index + Rn[0].length; }\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(opts.WTF) throw 'Unrecognized tag: ' + Rn[3] + \"|\" + state.join(\"|\");\n\t}\n\tvar out = ({}/*:any*/);\n\tif(!opts.bookSheets && !opts.bookProps) out.Sheets = sheets;\n\tout.SheetNames = sheetnames;\n\tout.Workbook = Workbook;\n\tout.SSF = dup(table_fmt);\n\tout.Props = Props;\n\tout.Custprops = Custprops;\n\treturn out;\n}\n\nfunction parse_xlml(data/*:RawBytes|string*/, opts)/*:Workbook*/ {\n\tfix_read_opts(opts=opts||{});\n\tswitch(opts.type||\"base64\") {\n\t\tcase \"base64\": return parse_xlml_xml(Base64_decode(data), opts);\n\t\tcase \"binary\": case \"buffer\": case \"file\": return parse_xlml_xml(data, opts);\n\t\tcase \"array\": return parse_xlml_xml(a2s(data), opts);\n\t}\n\t/*:: throw new Error(\"unsupported type \" + opts.type); */\n}\n\n/* TODO */\nfunction write_props_xlml(wb/*:Workbook*/, opts)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\t/* DocumentProperties */\n\tif(wb.Props) o.push(xlml_write_docprops(wb.Props, opts));\n\t/* CustomDocumentProperties */\n\tif(wb.Custprops) o.push(xlml_write_custprops(wb.Props, wb.Custprops, opts));\n\treturn o.join(\"\");\n}\n/* TODO */\nfunction write_wb_xlml(/*::wb, opts*/)/*:string*/ {\n\t/* OfficeDocumentSettings */\n\t/* ExcelWorkbook */\n\treturn \"\";\n}\n/* TODO */\nfunction write_sty_xlml(wb, opts)/*:string*/ {\n\t/* Styles */\n\tvar styles/*:Array<string>*/ = ['<Style ss:ID=\"Default\" ss:Name=\"Normal\"><NumberFormat/></Style>'];\n\topts.cellXfs.forEach(function(xf, id) {\n\t\tvar payload/*:Array<string>*/ = [];\n\t\tpayload.push(writextag('NumberFormat', null, {\"ss:Format\": escapexml(table_fmt[xf.numFmtId])}));\n\n\t\tvar o = /*::(*/{\"ss:ID\": \"s\" + (21+id)}/*:: :any)*/;\n\t\tstyles.push(writextag('Style', payload.join(\"\"), o));\n\t});\n\treturn writextag(\"Styles\", styles.join(\"\"));\n}\nfunction write_name_xlml(n) { return writextag(\"NamedRange\", null, {\"ss:Name\": n.Name, \"ss:RefersTo\":\"=\" + a1_to_rc(n.Ref, {r:0,c:0})}); }\nfunction write_names_xlml(wb/*::, opts*/)/*:string*/ {\n\tif(!((wb||{}).Workbook||{}).Names) return \"\";\n\t/*:: if(!wb || !wb.Workbook || !wb.Workbook.Names) throw new Error(\"unreachable\"); */\n\tvar names/*:Array<any>*/ = wb.Workbook.Names;\n\tvar out/*:Array<string>*/ = [];\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar n = names[i];\n\t\tif(n.Sheet != null) continue;\n\t\tif(n.Name.match(/^_xlfn\\./)) continue;\n\t\tout.push(write_name_xlml(n));\n\t}\n\treturn writextag(\"Names\", out.join(\"\"));\n}\nfunction write_ws_xlml_names(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*/)/*:string*/ {\n\tif(!ws) return \"\";\n\tif(!((wb||{}).Workbook||{}).Names) return \"\";\n\t/*:: if(!wb || !wb.Workbook || !wb.Workbook.Names) throw new Error(\"unreachable\"); */\n\tvar names/*:Array<any>*/ = wb.Workbook.Names;\n\tvar out/*:Array<string>*/ = [];\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar n = names[i];\n\t\tif(n.Sheet != idx) continue;\n\t\t/*switch(n.Name) {\n\t\t\tcase \"_\": continue;\n\t\t}*/\n\t\tif(n.Name.match(/^_xlfn\\./)) continue;\n\t\tout.push(write_name_xlml(n));\n\t}\n\treturn out.join(\"\");\n}\n/* WorksheetOptions */\nfunction write_ws_xlml_wsopts(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*/)/*:string*/ {\n\tif(!ws) return \"\";\n\tvar o/*:Array<string>*/ = [];\n\t/* NOTE: spec technically allows any order, but stick with implied order */\n\n\t/* FitToPage */\n\t/* DoNotDisplayColHeaders */\n\t/* DoNotDisplayRowHeaders */\n\t/* ViewableRange */\n\t/* Selection */\n\t/* GridlineColor */\n\t/* Name */\n\t/* ExcelWorksheetType */\n\t/* IntlMacro */\n\t/* Unsynced */\n\t/* Selected */\n\t/* CodeName */\n\n\tif(ws['!margins']) {\n\t\to.push(\"<PageSetup>\");\n\t\tif(ws['!margins'].header) o.push(writextag(\"Header\", null, {'x:Margin':ws['!margins'].header}));\n\t\tif(ws['!margins'].footer) o.push(writextag(\"Footer\", null, {'x:Margin':ws['!margins'].footer}));\n\t\to.push(writextag(\"PageMargins\", null, {\n\t\t\t'x:Bottom': ws['!margins'].bottom || \"0.75\",\n\t\t\t'x:Left': ws['!margins'].left || \"0.7\",\n\t\t\t'x:Right': ws['!margins'].right || \"0.7\",\n\t\t\t'x:Top': ws['!margins'].top || \"0.75\"\n\t\t}));\n\t\to.push(\"</PageSetup>\");\n\t}\n\n\t/* PageSetup */\n\t/* DisplayPageBreak */\n\t/* TransitionExpressionEvaluation */\n\t/* TransitionFormulaEntry */\n\t/* Print */\n\t/* Zoom */\n\t/* PageLayoutZoom */\n\t/* PageBreakZoom */\n\t/* ShowPageBreakZoom */\n\t/* DefaultRowHeight */\n\t/* DefaultColumnWidth */\n\t/* StandardWidth */\n\n\tif(wb && wb.Workbook && wb.Workbook.Sheets && wb.Workbook.Sheets[idx]) {\n\t\t/* Visible */\n\t\tif(wb.Workbook.Sheets[idx].Hidden) o.push(writextag(\"Visible\", (wb.Workbook.Sheets[idx].Hidden == 1 ? \"SheetHidden\" : \"SheetVeryHidden\"), {}));\n\t\telse {\n\t\t\t/* Selected */\n\t\t\tfor(var i = 0; i < idx; ++i) if(wb.Workbook.Sheets[i] && !wb.Workbook.Sheets[i].Hidden) break;\n\t\t\tif(i == idx) o.push(\"<Selected/>\");\n\t\t}\n\t}\n\n\t/* LeftColumnVisible */\n\n\tif(((((wb||{}).Workbook||{}).Views||[])[0]||{}).RTL) o.push(\"<DisplayRightToLeft/>\");\n\n\t/* GridlineColorIndex */\n\t/* DisplayFormulas */\n\t/* DoNotDisplayGridlines */\n\t/* DoNotDisplayHeadings */\n\t/* DoNotDisplayOutline */\n\t/* ApplyAutomaticOutlineStyles */\n\t/* NoSummaryRowsBelowDetail */\n\t/* NoSummaryColumnsRightDetail */\n\t/* DoNotDisplayZeros */\n\t/* ActiveRow */\n\t/* ActiveColumn */\n\t/* FilterOn */\n\t/* RangeSelection */\n\t/* TopRowVisible */\n\t/* TopRowBottomPane */\n\t/* LeftColumnRightPane */\n\t/* ActivePane */\n\t/* SplitHorizontal */\n\t/* SplitVertical */\n\t/* FreezePanes */\n\t/* FrozenNoSplit */\n\t/* TabColorIndex */\n\t/* Panes */\n\n\t/* NOTE: Password not supported in XLML Format */\n\tif(ws['!protect']) {\n\t\to.push(writetag(\"ProtectContents\", \"True\"));\n\t\tif(ws['!protect'].objects) o.push(writetag(\"ProtectObjects\", \"True\"));\n\t\tif(ws['!protect'].scenarios) o.push(writetag(\"ProtectScenarios\", \"True\"));\n\t\tif(ws['!protect'].selectLockedCells != null && !ws['!protect'].selectLockedCells) o.push(writetag(\"EnableSelection\", \"NoSelection\"));\n\t\telse if(ws['!protect'].selectUnlockedCells != null && !ws['!protect'].selectUnlockedCells) o.push(writetag(\"EnableSelection\", \"UnlockedCells\"));\n\t[\n\t\t[ \"formatCells\", \"AllowFormatCells\" ],\n\t\t[ \"formatColumns\", \"AllowSizeCols\" ],\n\t\t[ \"formatRows\", \"AllowSizeRows\" ],\n\t\t[ \"insertColumns\", \"AllowInsertCols\" ],\n\t\t[ \"insertRows\", \"AllowInsertRows\" ],\n\t\t[ \"insertHyperlinks\", \"AllowInsertHyperlinks\" ],\n\t\t[ \"deleteColumns\", \"AllowDeleteCols\" ],\n\t\t[ \"deleteRows\", \"AllowDeleteRows\" ],\n\t\t[ \"sort\", \"AllowSort\" ],\n\t\t[ \"autoFilter\", \"AllowFilter\" ],\n\t\t[ \"pivotTables\", \"AllowUsePivotTables\" ]\n\t].forEach(function(x) { if(ws['!protect'][x[0]]) o.push(\"<\"+x[1]+\"/>\"); });\n\t}\n\n\tif(o.length == 0) return \"\";\n\treturn writextag(\"WorksheetOptions\", o.join(\"\"), {xmlns:XLMLNS.x});\n}\nfunction write_ws_xlml_comment(comments/*:Array<any>*/)/*:string*/ {\n\treturn comments.map(function(c) {\n\t\t// TODO: formatted text\n\t\tvar t = xlml_unfixstr(c.t||\"\");\n\t\tvar d =writextag(\"ss:Data\", t, {\"xmlns\":\"http://www.w3.org/TR/REC-html40\"});\n\t\treturn writextag(\"Comment\", d, {\"ss:Author\":c.a});\n\t}).join(\"\");\n}\nfunction write_ws_xlml_cell(cell, ref/*:string*/, ws, opts, idx/*:number*/, wb, addr)/*:string*/{\n\tif(!cell || (cell.v == undefined && cell.f == undefined)) return \"\";\n\n\tvar attr = {};\n\tif(cell.f) attr[\"ss:Formula\"] = \"=\" + escapexml(a1_to_rc(cell.f, addr));\n\tif(cell.F && cell.F.slice(0, ref.length) == ref) {\n\t\tvar end = decode_cell(cell.F.slice(ref.length + 1));\n\t\tattr[\"ss:ArrayRange\"] = \"RC:R\" + (end.r == addr.r ? \"\" : \"[\" + (end.r - addr.r) + \"]\") + \"C\" + (end.c == addr.c ? \"\" : \"[\" + (end.c - addr.c) + \"]\");\n\t}\n\n\tif(cell.l && cell.l.Target) {\n\t\tattr[\"ss:HRef\"] = escapexml(cell.l.Target);\n\t\tif(cell.l.Tooltip) attr[\"x:HRefScreenTip\"] = escapexml(cell.l.Tooltip);\n\t}\n\n\tif(ws['!merges']) {\n\t\tvar marr = ws['!merges'];\n\t\tfor(var mi = 0; mi != marr.length; ++mi) {\n\t\t\tif(marr[mi].s.c != addr.c || marr[mi].s.r != addr.r) continue;\n\t\t\tif(marr[mi].e.c > marr[mi].s.c) attr['ss:MergeAcross'] = marr[mi].e.c - marr[mi].s.c;\n\t\t\tif(marr[mi].e.r > marr[mi].s.r) attr['ss:MergeDown'] = marr[mi].e.r - marr[mi].s.r;\n\t\t}\n\t}\n\n\tvar t = \"\", p = \"\";\n\tswitch(cell.t) {\n\t\tcase 'z': if(!opts.sheetStubs) return \"\"; break;\n\t\tcase 'n': t = 'Number'; p = String(cell.v); break;\n\t\tcase 'b': t = 'Boolean'; p = (cell.v ? \"1\" : \"0\"); break;\n\t\tcase 'e': t = 'Error'; p = BErr[cell.v]; break;\n\t\tcase 'd': t = 'DateTime'; p = new Date(cell.v).toISOString(); if(cell.z == null) cell.z = cell.z || table_fmt[14]; break;\n\t\tcase 's': t = 'String'; p = escapexlml(cell.v||\"\"); break;\n\t}\n\t/* TODO: cell style */\n\tvar os = get_cell_style(opts.cellXfs, cell, opts);\n\tattr[\"ss:StyleID\"] = \"s\" + (21+os);\n\tattr[\"ss:Index\"] = addr.c + 1;\n\tvar _v = (cell.v != null ? p : \"\");\n\tvar m = cell.t == 'z' ? \"\" : ('<Data ss:Type=\"' + t + '\">' + _v + '</Data>');\n\n\tif((cell.c||[]).length > 0) m += write_ws_xlml_comment(cell.c);\n\n\treturn writextag(\"Cell\", m, attr);\n}\nfunction write_ws_xlml_row(R/*:number*/, row)/*:string*/ {\n\tvar o = '<Row ss:Index=\"' + (R+1) + '\"';\n\tif(row) {\n\t\tif(row.hpt && !row.hpx) row.hpx = pt2px(row.hpt);\n\t\tif(row.hpx) o += ' ss:AutoFitHeight=\"0\" ss:Height=\"' + row.hpx + '\"';\n\t\tif(row.hidden) o += ' ss:Hidden=\"1\"';\n\t}\n\treturn o + '>';\n}\n/* TODO */\nfunction write_ws_xlml_table(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*/)/*:string*/ {\n\tif(!ws['!ref']) return \"\";\n\tvar range/*:Range*/ = safe_decode_range(ws['!ref']);\n\tvar marr/*:Array<Range>*/ = ws['!merges'] || [], mi = 0;\n\tvar o/*:Array<string>*/ = [];\n\tif(ws['!cols']) ws['!cols'].forEach(function(n, i) {\n\t\tprocess_col(n);\n\t\tvar w = !!n.width;\n\t\tvar p = col_obj_w(i, n);\n\t\tvar k/*:any*/ = {\"ss:Index\":i+1};\n\t\tif(w) k['ss:Width'] = width2px(p.width);\n\t\tif(n.hidden) k['ss:Hidden']=\"1\";\n\t\to.push(writextag(\"Column\",null,k));\n\t});\n\tvar dense = Array.isArray(ws);\n\tfor(var R = range.s.r; R <= range.e.r; ++R) {\n\t\tvar row = [write_ws_xlml_row(R, (ws['!rows']||[])[R])];\n\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tvar skip = false;\n\t\t\tfor(mi = 0; mi != marr.length; ++mi) {\n\t\t\t\tif(marr[mi].s.c > C) continue;\n\t\t\t\tif(marr[mi].s.r > R) continue;\n\t\t\t\tif(marr[mi].e.c < C) continue;\n\t\t\t\tif(marr[mi].e.r < R) continue;\n\t\t\t\tif(marr[mi].s.c != C || marr[mi].s.r != R) skip = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(skip) continue;\n\t\t\tvar addr = {r:R,c:C};\n\t\t\tvar ref = encode_cell(addr), cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\trow.push(write_ws_xlml_cell(cell, ref, ws, opts, idx, wb, addr));\n\t\t}\n\t\trow.push(\"</Row>\");\n\t\tif(row.length > 2) o.push(row.join(\"\"));\n\t}\n\treturn o.join(\"\");\n}\nfunction write_ws_xlml(idx/*:number*/, opts, wb/*:Workbook*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tvar s = wb.SheetNames[idx];\n\tvar ws = wb.Sheets[s];\n\n\tvar t/*:string*/ = ws ? write_ws_xlml_names(ws, opts, idx, wb) : \"\";\n\tif(t.length > 0) o.push(\"<Names>\" + t + \"</Names>\");\n\n\t/* Table */\n\tt = ws ? write_ws_xlml_table(ws, opts, idx, wb) : \"\";\n\tif(t.length > 0) o.push(\"<Table>\" + t + \"</Table>\");\n\n\t/* WorksheetOptions */\n\to.push(write_ws_xlml_wsopts(ws, opts, idx, wb));\n\n\treturn o.join(\"\");\n}\nfunction write_xlml(wb, opts)/*:string*/ {\n\tif(!opts) opts = {};\n\tif(!wb.SSF) wb.SSF = dup(table_fmt);\n\tif(wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\topts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;\n\t\topts.ssf = wb.SSF;\n\t\topts.cellXfs = [];\n\t\tget_cell_style(opts.cellXfs, {}, {revssf:{\"General\":0}});\n\t}\n\tvar d/*:Array<string>*/ = [];\n\td.push(write_props_xlml(wb, opts));\n\td.push(write_wb_xlml(wb, opts));\n\td.push(\"\");\n\td.push(\"\");\n\tfor(var i = 0; i < wb.SheetNames.length; ++i)\n\t\td.push(writextag(\"Worksheet\", write_ws_xlml(i, opts, wb), {\"ss:Name\":escapexml(wb.SheetNames[i])}));\n\td[2] = write_sty_xlml(wb, opts);\n\td[3] = write_names_xlml(wb, opts);\n\treturn XML_HEADER + writextag(\"Workbook\", d.join(\"\"), {\n\t\t'xmlns':      XLMLNS.ss,\n\t\t'xmlns:o':    XLMLNS.o,\n\t\t'xmlns:x':    XLMLNS.x,\n\t\t'xmlns:ss':   XLMLNS.ss,\n\t\t'xmlns:dt':   XLMLNS.dt,\n\t\t'xmlns:html': XLMLNS.html\n\t});\n}\n/* [MS-OLEDS] 2.3.8 CompObjStream */\nfunction parse_compobj(obj/*:CFBEntry*/) {\n\tvar v = {};\n\tvar o = obj.content;\n\t/*:: if(o == null) return; */\n\n\t/* [MS-OLEDS] 2.3.7 CompObjHeader -- All fields MUST be ignored */\n\to.l = 28;\n\n\tv.AnsiUserType = o.read_shift(0, \"lpstr-ansi\");\n\tv.AnsiClipboardFormat = parse_ClipboardFormatOrAnsiString(o);\n\n\tif(o.length - o.l <= 4) return v;\n\n\tvar m/*:number*/ = o.read_shift(4);\n\tif(m == 0 || m > 40) return v;\n\to.l-=4; v.Reserved1 = o.read_shift(0, \"lpstr-ansi\");\n\n\tif(o.length - o.l <= 4) return v;\n\tm = o.read_shift(4);\n\tif(m !== 0x71b239f4) return v;\n\tv.UnicodeClipboardFormat = parse_ClipboardFormatOrUnicodeString(o);\n\n\tm = o.read_shift(4);\n\tif(m == 0 || m > 40) return v;\n\to.l-=4; v.Reserved2 = o.read_shift(0, \"lpwstr\");\n}\n\n/*\n\tContinue logic for:\n\t- 2.4.58 Continue          0x003c\n\t- 2.4.59 ContinueBigName   0x043c\n\t- 2.4.60 ContinueFrt       0x0812\n\t- 2.4.61 ContinueFrt11     0x0875\n\t- 2.4.62 ContinueFrt12     0x087f\n*/\nvar CONTINUE_RT = [ 0x003c, 0x043c, 0x0812, 0x0875, 0x087f ];\nfunction slurp(RecordType, R, blob, length/*:number*/, opts)/*:any*/ {\n\tvar l = length;\n\tvar bufs = [];\n\tvar d = blob.slice(blob.l,blob.l+l);\n\tif(opts && opts.enc && opts.enc.insitu && d.length > 0) switch(RecordType) {\n\tcase 0x0009: case 0x0209: case 0x0409: case 0x0809/* BOF */: case 0x002f /* FilePass */: case 0x0195 /* FileLock */: case 0x00e1 /* InterfaceHdr */: case 0x0196 /* RRDInfo */: case 0x0138 /* RRDHead */: case 0x0194 /* UsrExcl */: case 0x000a /* EOF */:\n\t\tbreak;\n\tcase 0x0085 /* BoundSheet8 */:\n\t\tbreak;\n\tdefault:\n\t\topts.enc.insitu(d);\n\t}\n\tbufs.push(d);\n\tblob.l += l;\n\tvar nextrt = __readUInt16LE(blob,blob.l), next = XLSRecordEnum[nextrt];\n\tvar start = 0;\n\twhile(next != null && CONTINUE_RT.indexOf(nextrt) > -1) {\n\t\tl = __readUInt16LE(blob,blob.l+2);\n\t\tstart = blob.l + 4;\n\t\tif(nextrt == 0x0812 /* ContinueFrt */) start += 4;\n\t\telse if(nextrt == 0x0875 || nextrt == 0x087f) {\n\t\t\tstart += 12;\n\t\t}\n\t\td = blob.slice(start,blob.l+4+l);\n\t\tbufs.push(d);\n\t\tblob.l += 4+l;\n\t\tnext = (XLSRecordEnum[nextrt = __readUInt16LE(blob, blob.l)]);\n\t}\n\tvar b = (bconcat(bufs)/*:any*/);\n\tprep_blob(b, 0);\n\tvar ll = 0; b.lens = [];\n\tfor(var j = 0; j < bufs.length; ++j) { b.lens.push(ll); ll += bufs[j].length; }\n\tif(b.length < length) throw \"XLS Record 0x\" + RecordType.toString(16) + \" Truncated: \" + b.length + \" < \" + length;\n\treturn R.f(b, b.length, opts);\n}\n\nfunction safe_format_xf(p/*:any*/, opts/*:ParseOpts*/, date1904/*:?boolean*/) {\n\tif(p.t === 'z') return;\n\tif(!p.XF) return;\n\tvar fmtid = 0;\n\ttry {\n\t\tfmtid = p.z || p.XF.numFmtId || 0;\n\t\tif(opts.cellNF) p.z = table_fmt[fmtid];\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(!opts || opts.cellText !== false) try {\n\t\tif(p.t === 'e') { p.w = p.w || BErr[p.v]; }\n\t\telse if(fmtid === 0 || fmtid == \"General\") {\n\t\t\tif(p.t === 'n') {\n\t\t\t\tif((p.v|0) === p.v) p.w = p.v.toString(10);\n\t\t\t\telse p.w = SSF_general_num(p.v);\n\t\t\t}\n\t\t\telse p.w = SSF_general(p.v);\n\t\t}\n\t\telse p.w = SSF_format(fmtid,p.v, {date1904:!!date1904, dateNF: opts && opts.dateNF});\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(opts.cellDates && fmtid && p.t == 'n' && fmt_is_date(table_fmt[fmtid] || String(fmtid))) {\n\t\tvar _d = SSF_parse_date_code(p.v); if(_d) { p.t = 'd'; p.v = new Date(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u); }\n\t}\n}\n\nfunction make_cell(val, ixfe, t)/*:Cell*/ {\n\treturn ({v:val, ixfe:ixfe, t:t}/*:any*/);\n}\n\n// 2.3.2\nfunction parse_workbook(blob, options/*:ParseOpts*/)/*:Workbook*/ {\n\tvar wb = ({opts:{}}/*:any*/);\n\tvar Sheets = {};\n\tif(DENSE != null && options.dense == null) options.dense = DENSE;\n\tvar out/*:Worksheet*/ = ((options.dense ? [] : {})/*:any*/);\n\tvar Directory = {};\n\tvar range/*:Range*/ = ({}/*:any*/);\n\tvar last_formula = null;\n\tvar sst/*:SST*/ = ([]/*:any*/);\n\tvar cur_sheet = \"\";\n\tvar Preamble = {};\n\tvar lastcell, last_cell = \"\", cc/*:Cell*/, cmnt, rngC, rngR;\n\tvar sharedf = {};\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar temp_val/*:Cell*/;\n\tvar country;\n\tvar XFs = []; /* XF records */\n\tvar palette/*:Array<[number, number, number]>*/ = [];\n\tvar Workbook/*:WBWBProps*/ = ({ Sheets:[], WBProps:{date1904:false}, Views:[{}] }/*:any*/), wsprops = {};\n\tvar get_rgb = function getrgb(icv/*:number*/)/*:[number, number, number]*/ {\n\t\tif(icv < 8) return XLSIcv[icv];\n\t\tif(icv < 64) return palette[icv-8] || XLSIcv[icv];\n\t\treturn XLSIcv[icv];\n\t};\n\tvar process_cell_style = function pcs(cell, line/*:any*/, options) {\n\t\tvar xfd = line.XF.data;\n\t\tif(!xfd || !xfd.patternType || !options || !options.cellStyles) return;\n\t\tline.s = ({}/*:any*/);\n\t\tline.s.patternType = xfd.patternType;\n\t\tvar t;\n\t\tif((t = rgb2Hex(get_rgb(xfd.icvFore)))) { line.s.fgColor = {rgb:t}; }\n\t\tif((t = rgb2Hex(get_rgb(xfd.icvBack)))) { line.s.bgColor = {rgb:t}; }\n\t};\n\tvar addcell = function addcell(cell/*:any*/, line/*:any*/, options/*:any*/) {\n\t\tif(file_depth > 1) return;\n\t\tif(options.sheetRows && cell.r >= options.sheetRows) return;\n\t\tif(options.cellStyles && line.XF && line.XF.data) process_cell_style(cell, line, options);\n\t\tdelete line.ixfe; delete line.XF;\n\t\tlastcell = cell;\n\t\tlast_cell = encode_cell(cell);\n\t\tif(!range || !range.s || !range.e) range = {s:{r:0,c:0},e:{r:0,c:0}};\n\t\tif(cell.r < range.s.r) range.s.r = cell.r;\n\t\tif(cell.c < range.s.c) range.s.c = cell.c;\n\t\tif(cell.r + 1 > range.e.r) range.e.r = cell.r + 1;\n\t\tif(cell.c + 1 > range.e.c) range.e.c = cell.c + 1;\n\t\tif(options.cellFormula && line.f) {\n\t\t\tfor(var afi = 0; afi < arrayf.length; ++afi) {\n\t\t\t\tif(arrayf[afi][0].s.c > cell.c || arrayf[afi][0].s.r > cell.r) continue;\n\t\t\t\tif(arrayf[afi][0].e.c < cell.c || arrayf[afi][0].e.r < cell.r) continue;\n\t\t\t\tline.F = encode_range(arrayf[afi][0]);\n\t\t\t\tif(arrayf[afi][0].s.c != cell.c || arrayf[afi][0].s.r != cell.r) delete line.f;\n\t\t\t\tif(line.f) line.f = \"\" + stringify_formula(arrayf[afi][1], range, cell, supbooks, opts);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t{\n\t\t\tif(options.dense) {\n\t\t\t\tif(!out[cell.r]) out[cell.r] = [];\n\t\t\t\tout[cell.r][cell.c] = line;\n\t\t\t} else out[last_cell] = line;\n\t\t}\n\t};\n\tvar opts = ({\n\t\tenc: false, // encrypted\n\t\tsbcch: 0, // cch in the preceding SupBook\n\t\tsnames: [], // sheetnames\n\t\tsharedf: sharedf, // shared formulae by address\n\t\tarrayf: arrayf, // array formulae array\n\t\trrtabid: [], // RRTabId\n\t\tlastuser: \"\", // Last User from WriteAccess\n\t\tbiff: 8, // BIFF version\n\t\tcodepage: 0, // CP from CodePage record\n\t\twinlocked: 0, // fLockWn from WinProtect\n\t\tcellStyles: !!options && !!options.cellStyles,\n\t\tWTF: !!options && !!options.wtf\n\t}/*:any*/);\n\tif(options.password) opts.password = options.password;\n\tvar themes;\n\tvar merges/*:Array<Range>*/ = [];\n\tvar objects = [];\n\tvar colinfo/*:Array<ColInfo>*/ = [], rowinfo/*:Array<RowInfo>*/ = [];\n\tvar seencol = false;\n\tvar supbooks = ([]/*:any*/); // 1-indexed, will hold extern names\n\tsupbooks.SheetNames = opts.snames;\n\tsupbooks.sharedf = opts.sharedf;\n\tsupbooks.arrayf = opts.arrayf;\n\tsupbooks.names = [];\n\tsupbooks.XTI = [];\n\tvar last_RT = 0;\n\tvar file_depth = 0; /* TODO: make a real stack */\n\tvar BIFF2Fmt = 0, BIFF2FmtTable/*:Array<string>*/ = [];\n\tvar FilterDatabases = []; /* TODO: sort out supbooks and process elsewhere */\n\tvar last_lbl/*:?DefinedName*/;\n\n\t/* explicit override for some broken writers */\n\topts.codepage = 1200;\n\tset_cp(1200);\n\tvar seen_codepage = false;\n\twhile(blob.l < blob.length - 1) {\n\t\tvar s = blob.l;\n\t\tvar RecordType = blob.read_shift(2);\n\t\tif(RecordType === 0 && last_RT === 0x000a /* EOF */) break;\n\t\tvar length = (blob.l === blob.length ? 0 : blob.read_shift(2));\n\t\tvar R = XLSRecordEnum[RecordType];\n\t\t//console.log(RecordType.toString(16), RecordType, R, blob.l, length, blob.length);\n\t\t//if(!R) console.log(blob.slice(blob.l, blob.l + length));\n\t\tif(R && R.f) {\n\t\t\tif(options.bookSheets) {\n\t\t\t\tif(last_RT === 0x0085 /* BoundSheet8 */ && RecordType !== 0x0085 /* R.n !== 'BoundSheet8' */) break;\n\t\t\t}\n\t\t\tlast_RT = RecordType;\n\t\t\tif(R.r === 2 || R.r == 12) {\n\t\t\t\tvar rt = blob.read_shift(2); length -= 2;\n\t\t\t\tif(!opts.enc && rt !== RecordType && (((rt&0xFF)<<8)|(rt>>8)) !== RecordType) throw new Error(\"rt mismatch: \" + rt + \"!=\" + RecordType);\n\t\t\t\tif(R.r == 12){\n\t\t\t\t\tblob.l += 10; length -= 10;\n\t\t\t\t} // skip FRT\n\t\t\t}\n\t\t\t//console.error(R,blob.l,length,blob.length);\n\t\t\tvar val/*:any*/ = ({}/*:any*/);\n\t\t\tif(RecordType === 0x000a /* EOF */) val = /*::(*/R.f(blob, length, opts)/*:: :any)*/;\n\t\t\telse val = /*::(*/slurp(RecordType, R, blob, length, opts)/*:: :any)*/;\n\t\t\t/*:: val = (val:any); */\n\t\t\tif(file_depth == 0 && [0x0009, 0x0209, 0x0409, 0x0809].indexOf(last_RT) === -1 /* 'BOF' */) continue;\n\t\t\tswitch(RecordType) {\n\t\t\t\tcase 0x0022 /* Date1904 */:\n\t\t\t\t\t/*:: if(!Workbook.WBProps) Workbook.WBProps = {}; */\n\t\t\t\t\twb.opts.Date1904 = Workbook.WBProps.date1904 = val; break;\n\t\t\t\tcase 0x0086 /* WriteProtect */: wb.opts.WriteProtect = true; break;\n\t\t\t\tcase 0x002f /* FilePass */:\n\t\t\t\t\tif(!opts.enc) blob.l = 0;\n\t\t\t\t\topts.enc = val;\n\t\t\t\t\tif(!options.password) throw new Error(\"File is password-protected\");\n\t\t\t\t\tif(val.valid == null) throw new Error(\"Encryption scheme unsupported\");\n\t\t\t\t\tif(!val.valid) throw new Error(\"Password is incorrect\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x005c /* WriteAccess */: opts.lastuser = val; break;\n\t\t\t\tcase 0x0042 /* CodePage */:\n\t\t\t\t\tvar cpval = Number(val);\n\t\t\t\t\t/* overrides based on test cases */\n\t\t\t\t\tswitch(cpval) {\n\t\t\t\t\t\tcase 0x5212: cpval =  1200; break;\n\t\t\t\t\t\tcase 0x8000: cpval = 10000; break;\n\t\t\t\t\t\tcase 0x8001: cpval =  1252; break;\n\t\t\t\t\t}\n\t\t\t\t\tset_cp(opts.codepage = cpval);\n\t\t\t\t\tseen_codepage = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x013d /* RRTabId */: opts.rrtabid = val; break;\n\t\t\t\tcase 0x0019 /* WinProtect */: opts.winlocked = val; break;\n\t\t\t\tcase 0x01b7 /* RefreshAll */: wb.opts[\"RefreshAll\"] = val; break;\n\t\t\t\tcase 0x000c /* CalcCount */: wb.opts[\"CalcCount\"] = val; break;\n\t\t\t\tcase 0x0010 /* CalcDelta */: wb.opts[\"CalcDelta\"] = val; break;\n\t\t\t\tcase 0x0011 /* CalcIter */: wb.opts[\"CalcIter\"] = val; break;\n\t\t\t\tcase 0x000d /* CalcMode */: wb.opts[\"CalcMode\"] = val; break;\n\t\t\t\tcase 0x000e /* CalcPrecision */: wb.opts[\"CalcPrecision\"] = val; break;\n\t\t\t\tcase 0x005f /* CalcSaveRecalc */: wb.opts[\"CalcSaveRecalc\"] = val; break;\n\t\t\t\tcase 0x000f /* CalcRefMode */: opts.CalcRefMode = val; break; // TODO: implement R1C1\n\t\t\t\tcase 0x08a3 /* ForceFullCalculation */: wb.opts.FullCalc = val; break;\n\t\t\t\tcase 0x0081 /* WsBool */:\n\t\t\t\t\tif(val.fDialog) out[\"!type\"] = \"dialog\";\n\t\t\t\t\tif(!val.fBelow) (out[\"!outline\"] || (out[\"!outline\"] = {})).above = true;\n\t\t\t\t\tif(!val.fRight) (out[\"!outline\"] || (out[\"!outline\"] = {})).left = true;\n\t\t\t\t\tbreak; // TODO\n\t\t\t\tcase 0x00e0 /* XF */:\n\t\t\t\t\tXFs.push(val); break;\n\t\t\t\tcase 0x01ae /* SupBook */:\n\t\t\t\t\tsupbooks.push([val]);\n\t\t\t\t\tsupbooks[supbooks.length-1].XTI = [];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0023: case 0x0223 /* ExternName */:\n\t\t\t\t\tsupbooks[supbooks.length-1].push(val);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0018: case 0x0218 /* Lbl */:\n\t\t\t\t\tlast_lbl = ({\n\t\t\t\t\t\tName: val.Name,\n\t\t\t\t\t\tRef: stringify_formula(val.rgce,range,null,supbooks,opts)\n\t\t\t\t\t}/*:DefinedName*/);\n\t\t\t\t\tif(val.itab > 0) last_lbl.Sheet = val.itab - 1;\n\t\t\t\t\tsupbooks.names.push(last_lbl);\n\t\t\t\t\tif(!supbooks[0]) { supbooks[0] = []; supbooks[0].XTI = []; }\n\t\t\t\t\tsupbooks[supbooks.length-1].push(val);\n\t\t\t\t\tif(val.Name == \"_xlnm._FilterDatabase\" && val.itab > 0)\n\t\t\t\t\t\tif(val.rgce && val.rgce[0] && val.rgce[0][0] && val.rgce[0][0][0] == 'PtgArea3d')\n\t\t\t\t\t\t\tFilterDatabases[val.itab - 1] = { ref: encode_range(val.rgce[0][0][1][2]) };\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0016 /* ExternCount */: opts.ExternCount = val; break;\n\t\t\t\tcase 0x0017 /* ExternSheet */:\n\t\t\t\t\tif(supbooks.length == 0) { supbooks[0] = []; supbooks[0].XTI = []; }\n\t\t\t\t\tsupbooks[supbooks.length - 1].XTI = supbooks[supbooks.length - 1].XTI.concat(val); supbooks.XTI = supbooks.XTI.concat(val); break;\n\t\t\t\tcase 0x0894 /* NameCmt */:\n\t\t\t\t\t/* TODO: search for correct name */\n\t\t\t\t\tif(opts.biff < 8) break;\n\t\t\t\t\tif(last_lbl != null) last_lbl.Comment = val[1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0012 /* Protect */: out[\"!protect\"] = val; break; /* for sheet or book */\n\t\t\t\tcase 0x0013 /* Password */: if(val !== 0 && opts.WTF) console.error(\"Password verifier: \" + val); break;\n\t\t\t\tcase 0x0085 /* BoundSheet8 */: {\n\t\t\t\t\tDirectory[val.pos] = val;\n\t\t\t\t\topts.snames.push(val.name);\n\t\t\t\t} break;\n\t\t\t\tcase 0x000a /* EOF */: {\n\t\t\t\t\tif(--file_depth) break;\n\t\t\t\t\tif(range.e) {\n\t\t\t\t\t\tif(range.e.r > 0 && range.e.c > 0) {\n\t\t\t\t\t\t\trange.e.r--; range.e.c--;\n\t\t\t\t\t\t\tout[\"!ref\"] = encode_range(range);\n\t\t\t\t\t\t\tif(options.sheetRows && options.sheetRows <= range.e.r) {\n\t\t\t\t\t\t\t\tvar tmpri = range.e.r;\n\t\t\t\t\t\t\t\trange.e.r = options.sheetRows - 1;\n\t\t\t\t\t\t\t\tout[\"!fullref\"] = out[\"!ref\"];\n\t\t\t\t\t\t\t\tout[\"!ref\"] = encode_range(range);\n\t\t\t\t\t\t\t\trange.e.r = tmpri;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trange.e.r++; range.e.c++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(merges.length > 0) out[\"!merges\"] = merges;\n\t\t\t\t\t\tif(objects.length > 0) out[\"!objects\"] = objects;\n\t\t\t\t\t\tif(colinfo.length > 0) out[\"!cols\"] = colinfo;\n\t\t\t\t\t\tif(rowinfo.length > 0) out[\"!rows\"] = rowinfo;\n\t\t\t\t\t\tWorkbook.Sheets.push(wsprops);\n\t\t\t\t\t}\n\t\t\t\t\tif(cur_sheet === \"\") Preamble = out; else Sheets[cur_sheet] = out;\n\t\t\t\t\tout = ((options.dense ? [] : {})/*:any*/);\n\t\t\t\t} break;\n\t\t\t\tcase 0x0009: case 0x0209: case 0x0409: case 0x0809 /* BOF */: {\n\t\t\t\t\tif(opts.biff === 8) opts.biff = {\n\t\t\t\t\t\t/*::[*/0x0009/*::]*/:2,\n\t\t\t\t\t\t/*::[*/0x0209/*::]*/:3,\n\t\t\t\t\t\t/*::[*/0x0409/*::]*/:4\n\t\t\t\t\t}[RecordType] || {\n\t\t\t\t\t\t/*::[*/0x0200/*::]*/:2,\n\t\t\t\t\t\t/*::[*/0x0300/*::]*/:3,\n\t\t\t\t\t\t/*::[*/0x0400/*::]*/:4,\n\t\t\t\t\t\t/*::[*/0x0500/*::]*/:5,\n\t\t\t\t\t\t/*::[*/0x0600/*::]*/:8,\n\t\t\t\t\t\t/*::[*/0x0002/*::]*/:2,\n\t\t\t\t\t\t/*::[*/0x0007/*::]*/:2\n\t\t\t\t\t}[val.BIFFVer] || 8;\n\t\t\t\t\topts.biffguess = val.BIFFVer == 0;\n\t\t\t\t\tif(val.BIFFVer == 0 && val.dt == 0x1000) { opts.biff = 5; seen_codepage = true; set_cp(opts.codepage = 28591); }\n\t\t\t\t\tif(opts.biff == 8 && val.BIFFVer == 0 && val.dt == 16) opts.biff = 2;\n\t\t\t\t\tif(file_depth++) break;\n\t\t\t\t\tout = ((options.dense ? [] : {})/*:any*/);\n\n\t\t\t\t\tif(opts.biff < 8 && !seen_codepage) { seen_codepage = true; set_cp(opts.codepage = options.codepage || 1252); }\n\n\t\t\t\t\tif(opts.biff < 5 || val.BIFFVer == 0 && val.dt == 0x1000) {\n\t\t\t\t\t\tif(cur_sheet === \"\") cur_sheet = \"Sheet1\";\n\t\t\t\t\t\trange = {s:{r:0,c:0},e:{r:0,c:0}};\n\t\t\t\t\t\t/* fake BoundSheet8 */\n\t\t\t\t\t\tvar fakebs8 = {pos: blob.l - length, name:cur_sheet};\n\t\t\t\t\t\tDirectory[fakebs8.pos] = fakebs8;\n\t\t\t\t\t\topts.snames.push(cur_sheet);\n\t\t\t\t\t}\n\t\t\t\t\telse cur_sheet = (Directory[s] || {name:\"\"}).name;\n\t\t\t\t\tif(val.dt == 0x20) out[\"!type\"] = \"chart\";\n\t\t\t\t\tif(val.dt == 0x40) out[\"!type\"] = \"macro\";\n\t\t\t\t\tmerges = [];\n\t\t\t\t\tobjects = [];\n\t\t\t\t\topts.arrayf = arrayf = [];\n\t\t\t\t\tcolinfo = []; rowinfo = [];\n\t\t\t\t\tseencol = false;\n\t\t\t\t\twsprops = {Hidden:(Directory[s]||{hs:0}).hs, name:cur_sheet };\n\t\t\t\t} break;\n\t\t\t\tcase 0x0203 /* Number */: case 0x0003 /* BIFF2NUM */: case 0x0002 /* BIFF2INT */: {\n\t\t\t\t\tif(out[\"!type\"] == \"chart\") if(options.dense ? (out[val.r]||[])[val.c]: out[encode_cell({c:val.c, r:val.r})]) ++val.c;\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe]||{}, v:val.val, t:'n'}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x0005: case 0x0205 /* BoolErr */: {\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], v:val.val, t:val.t}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x027e /* RK */: {\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], v:val.rknum, t:'n'}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x00bd /* MulRk */: {\n\t\t\t\t\tfor(var j = val.c; j <= val.C; ++j) {\n\t\t\t\t\t\tvar ixfe = val.rkrec[j-val.c][0];\n\t\t\t\t\t\ttemp_val= ({ixfe:ixfe, XF:XFs[ixfe], v:val.rkrec[j-val.c][1], t:'n'}/*:any*/);\n\t\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\t\taddcell({c:j, r:val.r}, temp_val, options);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0006: case 0x0206: case 0x0406 /* Formula */: {\n\t\t\t\t\tif(val.val == 'String') { last_formula = val; break; }\n\t\t\t\t\ttemp_val = make_cell(val.val, val.cell.ixfe, val.tt);\n\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\tif(options.cellFormula) {\n\t\t\t\t\t\tvar _f = val.formula;\n\t\t\t\t\t\tif(_f && _f[0] && _f[0][0] && _f[0][0][0] == 'PtgExp') {\n\t\t\t\t\t\t\tvar _fr = _f[0][0][1][0], _fc = _f[0][0][1][1];\n\t\t\t\t\t\t\tvar _fe = encode_cell({r:_fr, c:_fc});\n\t\t\t\t\t\t\tif(sharedf[_fe]) temp_val.f = \"\"+stringify_formula(val.formula,range,val.cell,supbooks, opts);\n\t\t\t\t\t\t\telse temp_val.F = ((options.dense ? (out[_fr]||[])[_fc]: out[_fe]) || {}).F;\n\t\t\t\t\t\t} else temp_val.f = \"\"+stringify_formula(val.formula,range,val.cell,supbooks, opts);\n\t\t\t\t\t}\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell(val.cell, temp_val, options);\n\t\t\t\t\tlast_formula = val;\n\t\t\t\t} break;\n\t\t\t\tcase 0x0007: case 0x0207 /* String */: {\n\t\t\t\t\tif(last_formula) { /* technically always true */\n\t\t\t\t\t\tlast_formula.val = val;\n\t\t\t\t\t\ttemp_val = make_cell(val, last_formula.cell.ixfe, 's');\n\t\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\t\tif(options.cellFormula) {\n\t\t\t\t\t\t\ttemp_val.f = \"\"+stringify_formula(last_formula.formula, range, last_formula.cell, supbooks, opts);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\t\taddcell(last_formula.cell, temp_val, options);\n\t\t\t\t\t\tlast_formula = null;\n\t\t\t\t\t} else throw new Error(\"String record expects Formula\");\n\t\t\t\t} break;\n\t\t\t\tcase 0x0021: case 0x0221 /* Array */: {\n\t\t\t\t\tarrayf.push(val);\n\t\t\t\t\tvar _arraystart = encode_cell(val[0].s);\n\t\t\t\t\tcc = options.dense ? (out[val[0].s.r]||[])[val[0].s.c] : out[_arraystart];\n\t\t\t\t\tif(options.cellFormula && cc) {\n\t\t\t\t\t\tif(!last_formula) break; /* technically unreachable */\n\t\t\t\t\t\tif(!_arraystart || !cc) break;\n\t\t\t\t\t\tcc.f = \"\"+stringify_formula(val[1], range, val[0], supbooks, opts);\n\t\t\t\t\t\tcc.F = encode_range(val[0]);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x04bc /* ShrFmla */: {\n\t\t\t\t\tif(!options.cellFormula) break;\n\t\t\t\t\tif(last_cell) {\n\t\t\t\t\t\t/* TODO: capture range */\n\t\t\t\t\t\tif(!last_formula) break; /* technically unreachable */\n\t\t\t\t\t\tsharedf[encode_cell(last_formula.cell)]= val[0];\n\t\t\t\t\t\tcc = options.dense ? (out[last_formula.cell.r]||[])[last_formula.cell.c] : out[encode_cell(last_formula.cell)];\n\t\t\t\t\t\t(cc||{}).f = \"\"+stringify_formula(val[0], range, lastcell, supbooks, opts);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x00fd /* LabelSst */:\n\t\t\t\t\ttemp_val=make_cell(sst[val.isst].t, val.ixfe, 's');\n\t\t\t\t\tif(sst[val.isst].h) temp_val.h = sst[val.isst].h;\n\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0201 /* Blank */: if(options.sheetStubs) {\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], t:'z'}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x00be /* MulBlank */: if(options.sheetStubs) {\n\t\t\t\t\tfor(var _j = val.c; _j <= val.C; ++_j) {\n\t\t\t\t\t\tvar _ixfe = val.ixfe[_j-val.c];\n\t\t\t\t\t\ttemp_val= ({ixfe:_ixfe, XF:XFs[_ixfe], t:'z'}/*:any*/);\n\t\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\t\taddcell({c:_j, r:val.r}, temp_val, options);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x00d6 /* RString */:\n\t\t\t\tcase 0x0204 /* Label */: case 0x0004 /* BIFF2STR */:\n\t\t\t\t\ttemp_val=make_cell(val.val, val.ixfe, 's');\n\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 0x0000: case 0x0200 /* Dimensions */: {\n\t\t\t\t\tif(file_depth === 1) range = val; /* TODO: stack */\n\t\t\t\t} break;\n\t\t\t\tcase 0x00fc /* SST */: {\n\t\t\t\t\tsst = val;\n\t\t\t\t} break;\n\t\t\t\tcase 0x041e /* Format */: { /* val = [id, fmt] */\n\t\t\t\t\tif(opts.biff == 4) {\n\t\t\t\t\t\tBIFF2FmtTable[BIFF2Fmt++] = val[1];\n\t\t\t\t\t\tfor(var b4idx = 0; b4idx < BIFF2Fmt + 163; ++b4idx) if(table_fmt[b4idx] == val[1]) break;\n\t\t\t\t\t\tif(b4idx >= 163) SSF_load(val[1], BIFF2Fmt + 163);\n\t\t\t\t\t}\n\t\t\t\t\telse SSF_load(val[1], val[0]);\n\t\t\t\t} break;\n\t\t\t\tcase 0x001e /* BIFF2FORMAT */: {\n\t\t\t\t\tBIFF2FmtTable[BIFF2Fmt++] = val;\n\t\t\t\t\tfor(var b2idx = 0; b2idx < BIFF2Fmt + 163; ++b2idx) if(table_fmt[b2idx] == val) break;\n\t\t\t\t\tif(b2idx >= 163) SSF_load(val, BIFF2Fmt + 163);\n\t\t\t\t} break;\n\n\t\t\t\tcase 0x00e5 /* MergeCells */: merges = merges.concat(val); break;\n\n\t\t\t\tcase 0x005d /* Obj */: objects[val.cmo[0]] = opts.lastobj = val; break;\n\t\t\t\tcase 0x01b6 /* TxO */: opts.lastobj.TxO = val; break;\n\t\t\t\tcase 0x007f /* ImData */: opts.lastobj.ImData = val; break;\n\n\t\t\t\tcase 0x01b8 /* HLink */: {\n\t\t\t\t\tfor(rngR = val[0].s.r; rngR <= val[0].e.r; ++rngR)\n\t\t\t\t\t\tfor(rngC = val[0].s.c; rngC <= val[0].e.c; ++rngC) {\n\t\t\t\t\t\t\tcc = options.dense ? (out[rngR]||[])[rngC] : out[encode_cell({c:rngC,r:rngR})];\n\t\t\t\t\t\t\tif(cc) cc.l = val[1];\n\t\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0800 /* HLinkTooltip */: {\n\t\t\t\t\tfor(rngR = val[0].s.r; rngR <= val[0].e.r; ++rngR)\n\t\t\t\t\t\tfor(rngC = val[0].s.c; rngC <= val[0].e.c; ++rngC) {\n\t\t\t\t\t\t\tcc = options.dense ? (out[rngR]||[])[rngC] : out[encode_cell({c:rngC,r:rngR})];\n\t\t\t\t\t\t\tif(cc && cc.l) cc.l.Tooltip = val[1];\n\t\t\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x001c /* Note */: {\n\t\t\t\t\tif(opts.biff <= 5 && opts.biff >= 2) break; /* TODO: BIFF5 */\n\t\t\t\t\tcc = options.dense ? (out[val[0].r]||[])[val[0].c] : out[encode_cell(val[0])];\n\t\t\t\t\tvar noteobj = objects[val[2]];\n\t\t\t\t\tif(!cc) {\n\t\t\t\t\t\tif(options.dense) {\n\t\t\t\t\t\t\tif(!out[val[0].r]) out[val[0].r] = [];\n\t\t\t\t\t\t\tcc = out[val[0].r][val[0].c] = ({t:\"z\"}/*:any*/);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcc = out[encode_cell(val[0])] = ({t:\"z\"}/*:any*/);\n\t\t\t\t\t\t}\n\t\t\t\t\t\trange.e.r = Math.max(range.e.r, val[0].r);\n\t\t\t\t\t\trange.s.r = Math.min(range.s.r, val[0].r);\n\t\t\t\t\t\trange.e.c = Math.max(range.e.c, val[0].c);\n\t\t\t\t\t\trange.s.c = Math.min(range.s.c, val[0].c);\n\t\t\t\t\t}\n\t\t\t\t\tif(!cc.c) cc.c = [];\n\t\t\t\t\tcmnt = {a:val[1],t:noteobj.TxO.t};\n\t\t\t\t\tcc.c.push(cmnt);\n\t\t\t\t} break;\n\t\t\t\tcase 0x087d /* XFExt */: update_xfext(XFs[val.ixfe], val.ext); break;\n\t\t\t\tcase 0x007d /* ColInfo */: {\n\t\t\t\t\tif(!opts.cellStyles) break;\n\t\t\t\t\twhile(val.e >= val.s) {\n\t\t\t\t\t\tcolinfo[val.e--] = { width: val.w/256, level: (val.level || 0), hidden: !!(val.flags & 1) };\n\t\t\t\t\t\tif(!seencol) { seencol = true; find_mdw_colw(val.w/256); }\n\t\t\t\t\t\tprocess_col(colinfo[val.e+1]);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0208 /* Row */: {\n\t\t\t\t\tvar rowobj = {};\n\t\t\t\t\tif(val.level != null) { rowinfo[val.r] = rowobj; rowobj.level = val.level; }\n\t\t\t\t\tif(val.hidden) { rowinfo[val.r] = rowobj; rowobj.hidden = true; }\n\t\t\t\t\tif(val.hpt) {\n\t\t\t\t\t\trowinfo[val.r] = rowobj;\n\t\t\t\t\t\trowobj.hpt = val.hpt; rowobj.hpx = pt2px(val.hpt);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0026 /* LeftMargin */:\n\t\t\t\tcase 0x0027 /* RightMargin */:\n\t\t\t\tcase 0x0028 /* TopMargin */:\n\t\t\t\tcase 0x0029 /* BottomMargin */:\n\t\t\t\t\tif(!out['!margins']) default_margins(out['!margins'] = {});\n\t\t\t\t\tout['!margins'][({0x26: \"left\", 0x27:\"right\", 0x28:\"top\", 0x29:\"bottom\"})[RecordType]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x00a1 /* Setup */: // TODO\n\t\t\t\t\tif(!out['!margins']) default_margins(out['!margins'] = {});\n\t\t\t\t\tout['!margins'].header = val.header;\n\t\t\t\t\tout['!margins'].footer = val.footer;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x023e /* Window2 */: // TODO\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tif(val.RTL) Workbook.Views[0].RTL = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0092 /* Palette */: palette = val; break;\n\t\t\t\tcase 0x0896 /* Theme */: themes = val; break;\n\t\t\t\tcase 0x008c /* Country */: country = val; break;\n\t\t\t\tcase 0x01ba /* CodeName */: {\n\t\t\t\t\t/*:: if(!Workbook.WBProps) Workbook.WBProps = {}; */\n\t\t\t\t\tif(!cur_sheet) Workbook.WBProps.CodeName = val || \"ThisWorkbook\";\n\t\t\t\t\telse wsprops.CodeName = val || wsprops.name;\n\t\t\t\t} break;\n\t\t\t}\n\t\t} else {\n\t\t\tif(!R) console.error(\"Missing Info for XLS Record 0x\" + RecordType.toString(16));\n\t\t\tblob.l += length;\n\t\t}\n\t}\n\twb.SheetNames=keys(Directory).sort(function(a,b) { return Number(a) - Number(b); }).map(function(x){return Directory[x].name;});\n\tif(!options.bookSheets) wb.Sheets=Sheets;\n\tif(!wb.SheetNames.length && Preamble[\"!ref\"]) {\n\t\twb.SheetNames.push(\"Sheet1\");\n\t\t/*jshint -W069 */\n\t\tif(wb.Sheets) wb.Sheets[\"Sheet1\"] = Preamble;\n\t\t/*jshint +W069 */\n\t} else wb.Preamble=Preamble;\n\tif(wb.Sheets) FilterDatabases.forEach(function(r,i) { wb.Sheets[wb.SheetNames[i]]['!autofilter'] = r; });\n\twb.Strings = sst;\n\twb.SSF = dup(table_fmt);\n\tif(opts.enc) wb.Encryption = opts.enc;\n\tif(themes) wb.Themes = themes;\n\twb.Metadata = {};\n\tif(country !== undefined) wb.Metadata.Country = country;\n\tif(supbooks.names.length > 0) Workbook.Names = supbooks.names;\n\twb.Workbook = Workbook;\n\treturn wb;\n}\n\n/* TODO: split props*/\nvar PSCLSID = {\n\tSI: \"e0859ff2f94f6810ab9108002b27b3d9\",\n\tDSI: \"02d5cdd59c2e1b10939708002b2cf9ae\",\n\tUDI: \"05d5cdd59c2e1b10939708002b2cf9ae\"\n};\nfunction parse_xls_props(cfb/*:CFBContainer*/, props, o) {\n\t/* [MS-OSHARED] 2.3.3.2.2 Document Summary Information Property Set */\n\tvar DSI = CFB.find(cfb, '/!DocumentSummaryInformation');\n\tif(DSI && DSI.size > 0) try {\n\t\tvar DocSummary = parse_PropertySetStream(DSI, DocSummaryPIDDSI, PSCLSID.DSI);\n\t\tfor(var d in DocSummary) props[d] = DocSummary[d];\n\t} catch(e) {if(o.WTF) throw e;/* empty */}\n\n\t/* [MS-OSHARED] 2.3.3.2.1 Summary Information Property Set*/\n\tvar SI = CFB.find(cfb, '/!SummaryInformation');\n\tif(SI && SI.size > 0) try {\n\t\tvar Summary = parse_PropertySetStream(SI, SummaryPIDSI, PSCLSID.SI);\n\t\tfor(var s in Summary) if(props[s] == null) props[s] = Summary[s];\n\t} catch(e) {if(o.WTF) throw e;/* empty */}\n\n\tif(props.HeadingPairs && props.TitlesOfParts) {\n\t\tload_props_pairs(props.HeadingPairs, props.TitlesOfParts, props, o);\n\t\tdelete props.HeadingPairs; delete props.TitlesOfParts;\n\t}\n}\nfunction write_xls_props(wb/*:Workbook*/, cfb/*:CFBContainer*/) {\n\tvar DSEntries = [], SEntries = [], CEntries = [];\n\tvar i = 0, Keys;\n\tvar DocSummaryRE/*:{[key:string]:string}*/ = evert_key(DocSummaryPIDDSI, \"n\");\n\tvar SummaryRE/*:{[key:string]:string}*/ = evert_key(SummaryPIDSI, \"n\");\n\tif(wb.Props) {\n\t\tKeys = keys(wb.Props);\n\t\t// $FlowIgnore\n\t\tfor(i = 0; i < Keys.length; ++i) (Object.prototype.hasOwnProperty.call(DocSummaryRE, Keys[i]) ? DSEntries : Object.prototype.hasOwnProperty.call(SummaryRE, Keys[i]) ? SEntries : CEntries).push([Keys[i], wb.Props[Keys[i]]]);\n\t}\n\tif(wb.Custprops) {\n\t\tKeys = keys(wb.Custprops);\n\t\t// $FlowIgnore\n\t\tfor(i = 0; i < Keys.length; ++i) if(!Object.prototype.hasOwnProperty.call((wb.Props||{}), Keys[i])) (Object.prototype.hasOwnProperty.call(DocSummaryRE, Keys[i]) ? DSEntries : Object.prototype.hasOwnProperty.call(SummaryRE, Keys[i]) ? SEntries : CEntries).push([Keys[i], wb.Custprops[Keys[i]]]);\n\t}\n\tvar CEntries2 = [];\n\tfor(i = 0; i < CEntries.length; ++i) {\n\t\tif(XLSPSSkip.indexOf(CEntries[i][0]) > -1 || PseudoPropsPairs.indexOf(CEntries[i][0]) > -1) continue;\n\t\tif(CEntries[i][1] == null) continue;\n\t\tCEntries2.push(CEntries[i]);\n\t}\n\tif(SEntries.length) CFB.utils.cfb_add(cfb, \"/\\u0005SummaryInformation\", write_PropertySetStream(SEntries, PSCLSID.SI, SummaryRE, SummaryPIDSI));\n\tif(DSEntries.length || CEntries2.length) CFB.utils.cfb_add(cfb, \"/\\u0005DocumentSummaryInformation\", write_PropertySetStream(DSEntries, PSCLSID.DSI, DocSummaryRE, DocSummaryPIDDSI, CEntries2.length ? CEntries2 : null, PSCLSID.UDI));\n}\n\nfunction parse_xlscfb(cfb/*:any*/, options/*:?ParseOpts*/)/*:Workbook*/ {\nif(!options) options = {};\nfix_read_opts(options);\nreset_cp();\nif(options.codepage) set_ansi(options.codepage);\nvar CompObj/*:?CFBEntry*/, WB/*:?any*/;\nif(cfb.FullPaths) {\n\tif(CFB.find(cfb, '/encryption')) throw new Error(\"File is password-protected\");\n\tCompObj = CFB.find(cfb, '!CompObj');\n\tWB = CFB.find(cfb, '/Workbook') || CFB.find(cfb, '/Book');\n} else {\n\tswitch(options.type) {\n\t\tcase 'base64': cfb = s2a(Base64_decode(cfb)); break;\n\t\tcase 'binary': cfb = s2a(cfb); break;\n\t\tcase 'buffer': break;\n\t\tcase 'array': if(!Array.isArray(cfb)) cfb = Array.prototype.slice.call(cfb); break;\n\t}\n\tprep_blob(cfb, 0);\n\tWB = ({content: cfb}/*:any*/);\n}\nvar /*::CompObjP, */WorkbookP/*:: :Workbook = XLSX.utils.book_new(); */;\n\nvar _data/*:?any*/;\nif(CompObj) /*::CompObjP = */parse_compobj(CompObj);\nif(options.bookProps && !options.bookSheets) WorkbookP = ({}/*:any*/);\nelse/*:: if(cfb instanceof CFBContainer) */ {\n\tvar T = has_buf ? 'buffer' : 'array';\n\tif(WB && WB.content) WorkbookP = parse_workbook(WB.content, options);\n\t/* Quattro Pro 7-8 */\n\telse if((_data=CFB.find(cfb, 'PerfectOffice_MAIN')) && _data.content) WorkbookP = WK_.to_workbook(_data.content, (options.type = T, options));\n\t/* Quattro Pro 9 */\n\telse if((_data=CFB.find(cfb, 'NativeContent_MAIN')) && _data.content) WorkbookP = WK_.to_workbook(_data.content, (options.type = T, options));\n\t/* Works 4 for Mac */\n\telse if((_data=CFB.find(cfb, 'MN0')) && _data.content) throw new Error(\"Unsupported Works 4 for Mac file\");\n\telse throw new Error(\"Cannot find Workbook stream\");\n\tif(options.bookVBA && cfb.FullPaths && CFB.find(cfb, '/_VBA_PROJECT_CUR/VBA/dir')) WorkbookP.vbaraw = make_vba_xls(cfb);\n}\n\nvar props = {};\nif(cfb.FullPaths) parse_xls_props(/*::((*/cfb/*:: :any):CFBContainer)*/, props, options);\n\nWorkbookP.Props = WorkbookP.Custprops = props; /* TODO: split up properties */\nif(options.bookFiles) WorkbookP.cfb = cfb;\n/*WorkbookP.CompObjP = CompObjP; // TODO: storage? */\nreturn WorkbookP;\n}\n\n\nfunction write_xlscfb(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:CFBContainer*/ {\n\tvar o = opts || {};\n\tvar cfb = CFB.utils.cfb_new({root:\"R\"});\n\tvar wbpath = \"/Workbook\";\n\tswitch(o.bookType || \"xls\") {\n\t\tcase \"xls\": o.bookType = \"biff8\";\n\t\t/* falls through */\n\t\tcase \"xla\": if(!o.bookType) o.bookType = \"xla\";\n\t\t/* falls through */\n\t\tcase \"biff8\": wbpath = \"/Workbook\"; o.biff = 8; break;\n\t\tcase \"biff5\": wbpath = \"/Book\"; o.biff = 5; break;\n\t\tdefault: throw new Error(\"invalid type \" + o.bookType + \" for XLS CFB\");\n\t}\n\tCFB.utils.cfb_add(cfb, wbpath, write_biff_buf(wb, o));\n\tif(o.biff == 8 && (wb.Props || wb.Custprops)) write_xls_props(wb, cfb);\n\t// TODO: SI, DSI, CO\n\tif(o.biff == 8 && wb.vbaraw) fill_vba_xls(cfb, CFB.read(wb.vbaraw, {type: typeof wb.vbaraw == \"string\" ? \"binary\" : \"buffer\"}));\n\treturn cfb;\n}\n/* [MS-XLSB] 2.3 Record Enumeration */\nvar XLSBRecordEnum = {\n\t/*::[*/0x0000/*::]*/: { /* n:\"BrtRowHdr\", */ f:parse_BrtRowHdr },\n\t/*::[*/0x0001/*::]*/: { /* n:\"BrtCellBlank\", */ f:parse_BrtCellBlank },\n\t/*::[*/0x0002/*::]*/: { /* n:\"BrtCellRk\", */ f:parse_BrtCellRk },\n\t/*::[*/0x0003/*::]*/: { /* n:\"BrtCellError\", */ f:parse_BrtCellError },\n\t/*::[*/0x0004/*::]*/: { /* n:\"BrtCellBool\", */ f:parse_BrtCellBool },\n\t/*::[*/0x0005/*::]*/: { /* n:\"BrtCellReal\", */ f:parse_BrtCellReal },\n\t/*::[*/0x0006/*::]*/: { /* n:\"BrtCellSt\", */ f:parse_BrtCellSt },\n\t/*::[*/0x0007/*::]*/: { /* n:\"BrtCellIsst\", */ f:parse_BrtCellIsst },\n\t/*::[*/0x0008/*::]*/: { /* n:\"BrtFmlaString\", */ f:parse_BrtFmlaString },\n\t/*::[*/0x0009/*::]*/: { /* n:\"BrtFmlaNum\", */ f:parse_BrtFmlaNum },\n\t/*::[*/0x000A/*::]*/: { /* n:\"BrtFmlaBool\", */ f:parse_BrtFmlaBool },\n\t/*::[*/0x000B/*::]*/: { /* n:\"BrtFmlaError\", */ f:parse_BrtFmlaError },\n\t/*::[*/0x000C/*::]*/: { /* n:\"BrtShortBlank\", */ f:parse_BrtShortBlank },\n\t/*::[*/0x000D/*::]*/: { /* n:\"BrtShortRk\", */ f:parse_BrtShortRk },\n\t/*::[*/0x000E/*::]*/: { /* n:\"BrtShortError\", */ f:parse_BrtShortError },\n\t/*::[*/0x000F/*::]*/: { /* n:\"BrtShortBool\", */ f:parse_BrtShortBool },\n\t/*::[*/0x0010/*::]*/: { /* n:\"BrtShortReal\", */ f:parse_BrtShortReal },\n\t/*::[*/0x0011/*::]*/: { /* n:\"BrtShortSt\", */ f:parse_BrtShortSt },\n\t/*::[*/0x0012/*::]*/: { /* n:\"BrtShortIsst\", */ f:parse_BrtShortIsst },\n\t/*::[*/0x0013/*::]*/: { /* n:\"BrtSSTItem\", */ f:parse_RichStr },\n\t/*::[*/0x0014/*::]*/: { /* n:\"BrtPCDIMissing\" */ },\n\t/*::[*/0x0015/*::]*/: { /* n:\"BrtPCDINumber\" */ },\n\t/*::[*/0x0016/*::]*/: { /* n:\"BrtPCDIBoolean\" */ },\n\t/*::[*/0x0017/*::]*/: { /* n:\"BrtPCDIError\" */ },\n\t/*::[*/0x0018/*::]*/: { /* n:\"BrtPCDIString\" */ },\n\t/*::[*/0x0019/*::]*/: { /* n:\"BrtPCDIDatetime\" */ },\n\t/*::[*/0x001A/*::]*/: { /* n:\"BrtPCDIIndex\" */ },\n\t/*::[*/0x001B/*::]*/: { /* n:\"BrtPCDIAMissing\" */ },\n\t/*::[*/0x001C/*::]*/: { /* n:\"BrtPCDIANumber\" */ },\n\t/*::[*/0x001D/*::]*/: { /* n:\"BrtPCDIABoolean\" */ },\n\t/*::[*/0x001E/*::]*/: { /* n:\"BrtPCDIAError\" */ },\n\t/*::[*/0x001F/*::]*/: { /* n:\"BrtPCDIAString\" */ },\n\t/*::[*/0x0020/*::]*/: { /* n:\"BrtPCDIADatetime\" */ },\n\t/*::[*/0x0021/*::]*/: { /* n:\"BrtPCRRecord\" */ },\n\t/*::[*/0x0022/*::]*/: { /* n:\"BrtPCRRecordDt\" */ },\n\t/*::[*/0x0023/*::]*/: { /* n:\"BrtFRTBegin\", */ T:1 },\n\t/*::[*/0x0024/*::]*/: { /* n:\"BrtFRTEnd\", */ T:-1 },\n\t/*::[*/0x0025/*::]*/: { /* n:\"BrtACBegin\", */ T:1 },\n\t/*::[*/0x0026/*::]*/: { /* n:\"BrtACEnd\", */ T:-1 },\n\t/*::[*/0x0027/*::]*/: { /* n:\"BrtName\", */ f:parse_BrtName },\n\t/*::[*/0x0028/*::]*/: { /* n:\"BrtIndexRowBlock\" */ },\n\t/*::[*/0x002A/*::]*/: { /* n:\"BrtIndexBlock\" */ },\n\t/*::[*/0x002B/*::]*/: { /* n:\"BrtFont\", */ f:parse_BrtFont },\n\t/*::[*/0x002C/*::]*/: { /* n:\"BrtFmt\", */ f:parse_BrtFmt },\n\t/*::[*/0x002D/*::]*/: { /* n:\"BrtFill\", */ f:parse_BrtFill },\n\t/*::[*/0x002E/*::]*/: { /* n:\"BrtBorder\", */ f:parse_BrtBorder },\n\t/*::[*/0x002F/*::]*/: { /* n:\"BrtXF\", */ f:parse_BrtXF },\n\t/*::[*/0x0030/*::]*/: { /* n:\"BrtStyle\" */ },\n\t/*::[*/0x0031/*::]*/: { /* n:\"BrtCellMeta\", */ f:parse_Int32LE },\n\t/*::[*/0x0032/*::]*/: { /* n:\"BrtValueMeta\" */ },\n\t/*::[*/0x0033/*::]*/: { /* n:\"BrtMdb\" */ f:parse_BrtMdb },\n\t/*::[*/0x0034/*::]*/: { /* n:\"BrtBeginFmd\", */ T:1 },\n\t/*::[*/0x0035/*::]*/: { /* n:\"BrtEndFmd\", */ T:-1 },\n\t/*::[*/0x0036/*::]*/: { /* n:\"BrtBeginMdx\", */ T:1 },\n\t/*::[*/0x0037/*::]*/: { /* n:\"BrtEndMdx\", */ T:-1 },\n\t/*::[*/0x0038/*::]*/: { /* n:\"BrtBeginMdxTuple\", */ T:1 },\n\t/*::[*/0x0039/*::]*/: { /* n:\"BrtEndMdxTuple\", */ T:-1 },\n\t/*::[*/0x003A/*::]*/: { /* n:\"BrtMdxMbrIstr\" */ },\n\t/*::[*/0x003B/*::]*/: { /* n:\"BrtStr\" */ },\n\t/*::[*/0x003C/*::]*/: { /* n:\"BrtColInfo\", */ f:parse_ColInfo },\n\t/*::[*/0x003E/*::]*/: { /* n:\"BrtCellRString\", */ f:parse_BrtCellRString },\n\t/*::[*/0x003F/*::]*/: { /* n:\"BrtCalcChainItem$\", */ f:parse_BrtCalcChainItem$ },\n\t/*::[*/0x0040/*::]*/: { /* n:\"BrtDVal\", */ f:parse_BrtDVal },\n\t/*::[*/0x0041/*::]*/: { /* n:\"BrtSxvcellNum\" */ },\n\t/*::[*/0x0042/*::]*/: { /* n:\"BrtSxvcellStr\" */ },\n\t/*::[*/0x0043/*::]*/: { /* n:\"BrtSxvcellBool\" */ },\n\t/*::[*/0x0044/*::]*/: { /* n:\"BrtSxvcellErr\" */ },\n\t/*::[*/0x0045/*::]*/: { /* n:\"BrtSxvcellDate\" */ },\n\t/*::[*/0x0046/*::]*/: { /* n:\"BrtSxvcellNil\" */ },\n\t/*::[*/0x0080/*::]*/: { /* n:\"BrtFileVersion\" */ },\n\t/*::[*/0x0081/*::]*/: { /* n:\"BrtBeginSheet\", */ T:1 },\n\t/*::[*/0x0082/*::]*/: { /* n:\"BrtEndSheet\", */ T:-1 },\n\t/*::[*/0x0083/*::]*/: { /* n:\"BrtBeginBook\", */ T:1, f:parsenoop, p:0 },\n\t/*::[*/0x0084/*::]*/: { /* n:\"BrtEndBook\", */ T:-1 },\n\t/*::[*/0x0085/*::]*/: { /* n:\"BrtBeginWsViews\", */ T:1 },\n\t/*::[*/0x0086/*::]*/: { /* n:\"BrtEndWsViews\", */ T:-1 },\n\t/*::[*/0x0087/*::]*/: { /* n:\"BrtBeginBookViews\", */ T:1 },\n\t/*::[*/0x0088/*::]*/: { /* n:\"BrtEndBookViews\", */ T:-1 },\n\t/*::[*/0x0089/*::]*/: { /* n:\"BrtBeginWsView\", */ T:1, f:parse_BrtBeginWsView },\n\t/*::[*/0x008A/*::]*/: { /* n:\"BrtEndWsView\", */ T:-1 },\n\t/*::[*/0x008B/*::]*/: { /* n:\"BrtBeginCsViews\", */ T:1 },\n\t/*::[*/0x008C/*::]*/: { /* n:\"BrtEndCsViews\", */ T:-1 },\n\t/*::[*/0x008D/*::]*/: { /* n:\"BrtBeginCsView\", */ T:1 },\n\t/*::[*/0x008E/*::]*/: { /* n:\"BrtEndCsView\", */ T:-1 },\n\t/*::[*/0x008F/*::]*/: { /* n:\"BrtBeginBundleShs\", */ T:1 },\n\t/*::[*/0x0090/*::]*/: { /* n:\"BrtEndBundleShs\", */ T:-1 },\n\t/*::[*/0x0091/*::]*/: { /* n:\"BrtBeginSheetData\", */ T:1 },\n\t/*::[*/0x0092/*::]*/: { /* n:\"BrtEndSheetData\", */ T:-1 },\n\t/*::[*/0x0093/*::]*/: { /* n:\"BrtWsProp\", */ f:parse_BrtWsProp },\n\t/*::[*/0x0094/*::]*/: { /* n:\"BrtWsDim\", */ f:parse_BrtWsDim, p:16 },\n\t/*::[*/0x0097/*::]*/: { /* n:\"BrtPane\", */ f:parse_BrtPane },\n\t/*::[*/0x0098/*::]*/: { /* n:\"BrtSel\" */ },\n\t/*::[*/0x0099/*::]*/: { /* n:\"BrtWbProp\", */ f:parse_BrtWbProp },\n\t/*::[*/0x009A/*::]*/: { /* n:\"BrtWbFactoid\" */ },\n\t/*::[*/0x009B/*::]*/: { /* n:\"BrtFileRecover\" */ },\n\t/*::[*/0x009C/*::]*/: { /* n:\"BrtBundleSh\", */ f:parse_BrtBundleSh },\n\t/*::[*/0x009D/*::]*/: { /* n:\"BrtCalcProp\" */ },\n\t/*::[*/0x009E/*::]*/: { /* n:\"BrtBookView\" */ },\n\t/*::[*/0x009F/*::]*/: { /* n:\"BrtBeginSst\", */ T:1, f:parse_BrtBeginSst },\n\t/*::[*/0x00A0/*::]*/: { /* n:\"BrtEndSst\", */ T:-1 },\n\t/*::[*/0x00A1/*::]*/: { /* n:\"BrtBeginAFilter\", */ T:1, f:parse_UncheckedRfX },\n\t/*::[*/0x00A2/*::]*/: { /* n:\"BrtEndAFilter\", */ T:-1 },\n\t/*::[*/0x00A3/*::]*/: { /* n:\"BrtBeginFilterColumn\", */ T:1 },\n\t/*::[*/0x00A4/*::]*/: { /* n:\"BrtEndFilterColumn\", */ T:-1 },\n\t/*::[*/0x00A5/*::]*/: { /* n:\"BrtBeginFilters\", */ T:1 },\n\t/*::[*/0x00A6/*::]*/: { /* n:\"BrtEndFilters\", */ T:-1 },\n\t/*::[*/0x00A7/*::]*/: { /* n:\"BrtFilter\" */ },\n\t/*::[*/0x00A8/*::]*/: { /* n:\"BrtColorFilter\" */ },\n\t/*::[*/0x00A9/*::]*/: { /* n:\"BrtIconFilter\" */ },\n\t/*::[*/0x00AA/*::]*/: { /* n:\"BrtTop10Filter\" */ },\n\t/*::[*/0x00AB/*::]*/: { /* n:\"BrtDynamicFilter\" */ },\n\t/*::[*/0x00AC/*::]*/: { /* n:\"BrtBeginCustomFilters\", */ T:1 },\n\t/*::[*/0x00AD/*::]*/: { /* n:\"BrtEndCustomFilters\", */ T:-1 },\n\t/*::[*/0x00AE/*::]*/: { /* n:\"BrtCustomFilter\" */ },\n\t/*::[*/0x00AF/*::]*/: { /* n:\"BrtAFilterDateGroupItem\" */ },\n\t/*::[*/0x00B0/*::]*/: { /* n:\"BrtMergeCell\", */ f:parse_BrtMergeCell },\n\t/*::[*/0x00B1/*::]*/: { /* n:\"BrtBeginMergeCells\", */ T:1 },\n\t/*::[*/0x00B2/*::]*/: { /* n:\"BrtEndMergeCells\", */ T:-1 },\n\t/*::[*/0x00B3/*::]*/: { /* n:\"BrtBeginPivotCacheDef\", */ T:1 },\n\t/*::[*/0x00B4/*::]*/: { /* n:\"BrtEndPivotCacheDef\", */ T:-1 },\n\t/*::[*/0x00B5/*::]*/: { /* n:\"BrtBeginPCDFields\", */ T:1 },\n\t/*::[*/0x00B6/*::]*/: { /* n:\"BrtEndPCDFields\", */ T:-1 },\n\t/*::[*/0x00B7/*::]*/: { /* n:\"BrtBeginPCDField\", */ T:1 },\n\t/*::[*/0x00B8/*::]*/: { /* n:\"BrtEndPCDField\", */ T:-1 },\n\t/*::[*/0x00B9/*::]*/: { /* n:\"BrtBeginPCDSource\", */ T:1 },\n\t/*::[*/0x00BA/*::]*/: { /* n:\"BrtEndPCDSource\", */ T:-1 },\n\t/*::[*/0x00BB/*::]*/: { /* n:\"BrtBeginPCDSRange\", */ T:1 },\n\t/*::[*/0x00BC/*::]*/: { /* n:\"BrtEndPCDSRange\", */ T:-1 },\n\t/*::[*/0x00BD/*::]*/: { /* n:\"BrtBeginPCDFAtbl\", */ T:1 },\n\t/*::[*/0x00BE/*::]*/: { /* n:\"BrtEndPCDFAtbl\", */ T:-1 },\n\t/*::[*/0x00BF/*::]*/: { /* n:\"BrtBeginPCDIRun\", */ T:1 },\n\t/*::[*/0x00C0/*::]*/: { /* n:\"BrtEndPCDIRun\", */ T:-1 },\n\t/*::[*/0x00C1/*::]*/: { /* n:\"BrtBeginPivotCacheRecords\", */ T:1 },\n\t/*::[*/0x00C2/*::]*/: { /* n:\"BrtEndPivotCacheRecords\", */ T:-1 },\n\t/*::[*/0x00C3/*::]*/: { /* n:\"BrtBeginPCDHierarchies\", */ T:1 },\n\t/*::[*/0x00C4/*::]*/: { /* n:\"BrtEndPCDHierarchies\", */ T:-1 },\n\t/*::[*/0x00C5/*::]*/: { /* n:\"BrtBeginPCDHierarchy\", */ T:1 },\n\t/*::[*/0x00C6/*::]*/: { /* n:\"BrtEndPCDHierarchy\", */ T:-1 },\n\t/*::[*/0x00C7/*::]*/: { /* n:\"BrtBeginPCDHFieldsUsage\", */ T:1 },\n\t/*::[*/0x00C8/*::]*/: { /* n:\"BrtEndPCDHFieldsUsage\", */ T:-1 },\n\t/*::[*/0x00C9/*::]*/: { /* n:\"BrtBeginExtConnection\", */ T:1 },\n\t/*::[*/0x00CA/*::]*/: { /* n:\"BrtEndExtConnection\", */ T:-1 },\n\t/*::[*/0x00CB/*::]*/: { /* n:\"BrtBeginECDbProps\", */ T:1 },\n\t/*::[*/0x00CC/*::]*/: { /* n:\"BrtEndECDbProps\", */ T:-1 },\n\t/*::[*/0x00CD/*::]*/: { /* n:\"BrtBeginECOlapProps\", */ T:1 },\n\t/*::[*/0x00CE/*::]*/: { /* n:\"BrtEndECOlapProps\", */ T:-1 },\n\t/*::[*/0x00CF/*::]*/: { /* n:\"BrtBeginPCDSConsol\", */ T:1 },\n\t/*::[*/0x00D0/*::]*/: { /* n:\"BrtEndPCDSConsol\", */ T:-1 },\n\t/*::[*/0x00D1/*::]*/: { /* n:\"BrtBeginPCDSCPages\", */ T:1 },\n\t/*::[*/0x00D2/*::]*/: { /* n:\"BrtEndPCDSCPages\", */ T:-1 },\n\t/*::[*/0x00D3/*::]*/: { /* n:\"BrtBeginPCDSCPage\", */ T:1 },\n\t/*::[*/0x00D4/*::]*/: { /* n:\"BrtEndPCDSCPage\", */ T:-1 },\n\t/*::[*/0x00D5/*::]*/: { /* n:\"BrtBeginPCDSCPItem\", */ T:1 },\n\t/*::[*/0x00D6/*::]*/: { /* n:\"BrtEndPCDSCPItem\", */ T:-1 },\n\t/*::[*/0x00D7/*::]*/: { /* n:\"BrtBeginPCDSCSets\", */ T:1 },\n\t/*::[*/0x00D8/*::]*/: { /* n:\"BrtEndPCDSCSets\", */ T:-1 },\n\t/*::[*/0x00D9/*::]*/: { /* n:\"BrtBeginPCDSCSet\", */ T:1 },\n\t/*::[*/0x00DA/*::]*/: { /* n:\"BrtEndPCDSCSet\", */ T:-1 },\n\t/*::[*/0x00DB/*::]*/: { /* n:\"BrtBeginPCDFGroup\", */ T:1 },\n\t/*::[*/0x00DC/*::]*/: { /* n:\"BrtEndPCDFGroup\", */ T:-1 },\n\t/*::[*/0x00DD/*::]*/: { /* n:\"BrtBeginPCDFGItems\", */ T:1 },\n\t/*::[*/0x00DE/*::]*/: { /* n:\"BrtEndPCDFGItems\", */ T:-1 },\n\t/*::[*/0x00DF/*::]*/: { /* n:\"BrtBeginPCDFGRange\", */ T:1 },\n\t/*::[*/0x00E0/*::]*/: { /* n:\"BrtEndPCDFGRange\", */ T:-1 },\n\t/*::[*/0x00E1/*::]*/: { /* n:\"BrtBeginPCDFGDiscrete\", */ T:1 },\n\t/*::[*/0x00E2/*::]*/: { /* n:\"BrtEndPCDFGDiscrete\", */ T:-1 },\n\t/*::[*/0x00E3/*::]*/: { /* n:\"BrtBeginPCDSDTupleCache\", */ T:1 },\n\t/*::[*/0x00E4/*::]*/: { /* n:\"BrtEndPCDSDTupleCache\", */ T:-1 },\n\t/*::[*/0x00E5/*::]*/: { /* n:\"BrtBeginPCDSDTCEntries\", */ T:1 },\n\t/*::[*/0x00E6/*::]*/: { /* n:\"BrtEndPCDSDTCEntries\", */ T:-1 },\n\t/*::[*/0x00E7/*::]*/: { /* n:\"BrtBeginPCDSDTCEMembers\", */ T:1 },\n\t/*::[*/0x00E8/*::]*/: { /* n:\"BrtEndPCDSDTCEMembers\", */ T:-1 },\n\t/*::[*/0x00E9/*::]*/: { /* n:\"BrtBeginPCDSDTCEMember\", */ T:1 },\n\t/*::[*/0x00EA/*::]*/: { /* n:\"BrtEndPCDSDTCEMember\", */ T:-1 },\n\t/*::[*/0x00EB/*::]*/: { /* n:\"BrtBeginPCDSDTCQueries\", */ T:1 },\n\t/*::[*/0x00EC/*::]*/: { /* n:\"BrtEndPCDSDTCQueries\", */ T:-1 },\n\t/*::[*/0x00ED/*::]*/: { /* n:\"BrtBeginPCDSDTCQuery\", */ T:1 },\n\t/*::[*/0x00EE/*::]*/: { /* n:\"BrtEndPCDSDTCQuery\", */ T:-1 },\n\t/*::[*/0x00EF/*::]*/: { /* n:\"BrtBeginPCDSDTCSets\", */ T:1 },\n\t/*::[*/0x00F0/*::]*/: { /* n:\"BrtEndPCDSDTCSets\", */ T:-1 },\n\t/*::[*/0x00F1/*::]*/: { /* n:\"BrtBeginPCDSDTCSet\", */ T:1 },\n\t/*::[*/0x00F2/*::]*/: { /* n:\"BrtEndPCDSDTCSet\", */ T:-1 },\n\t/*::[*/0x00F3/*::]*/: { /* n:\"BrtBeginPCDCalcItems\", */ T:1 },\n\t/*::[*/0x00F4/*::]*/: { /* n:\"BrtEndPCDCalcItems\", */ T:-1 },\n\t/*::[*/0x00F5/*::]*/: { /* n:\"BrtBeginPCDCalcItem\", */ T:1 },\n\t/*::[*/0x00F6/*::]*/: { /* n:\"BrtEndPCDCalcItem\", */ T:-1 },\n\t/*::[*/0x00F7/*::]*/: { /* n:\"BrtBeginPRule\", */ T:1 },\n\t/*::[*/0x00F8/*::]*/: { /* n:\"BrtEndPRule\", */ T:-1 },\n\t/*::[*/0x00F9/*::]*/: { /* n:\"BrtBeginPRFilters\", */ T:1 },\n\t/*::[*/0x00FA/*::]*/: { /* n:\"BrtEndPRFilters\", */ T:-1 },\n\t/*::[*/0x00FB/*::]*/: { /* n:\"BrtBeginPRFilter\", */ T:1 },\n\t/*::[*/0x00FC/*::]*/: { /* n:\"BrtEndPRFilter\", */ T:-1 },\n\t/*::[*/0x00FD/*::]*/: { /* n:\"BrtBeginPNames\", */ T:1 },\n\t/*::[*/0x00FE/*::]*/: { /* n:\"BrtEndPNames\", */ T:-1 },\n\t/*::[*/0x00FF/*::]*/: { /* n:\"BrtBeginPName\", */ T:1 },\n\t/*::[*/0x0100/*::]*/: { /* n:\"BrtEndPName\", */ T:-1 },\n\t/*::[*/0x0101/*::]*/: { /* n:\"BrtBeginPNPairs\", */ T:1 },\n\t/*::[*/0x0102/*::]*/: { /* n:\"BrtEndPNPairs\", */ T:-1 },\n\t/*::[*/0x0103/*::]*/: { /* n:\"BrtBeginPNPair\", */ T:1 },\n\t/*::[*/0x0104/*::]*/: { /* n:\"BrtEndPNPair\", */ T:-1 },\n\t/*::[*/0x0105/*::]*/: { /* n:\"BrtBeginECWebProps\", */ T:1 },\n\t/*::[*/0x0106/*::]*/: { /* n:\"BrtEndECWebProps\", */ T:-1 },\n\t/*::[*/0x0107/*::]*/: { /* n:\"BrtBeginEcWpTables\", */ T:1 },\n\t/*::[*/0x0108/*::]*/: { /* n:\"BrtEndECWPTables\", */ T:-1 },\n\t/*::[*/0x0109/*::]*/: { /* n:\"BrtBeginECParams\", */ T:1 },\n\t/*::[*/0x010A/*::]*/: { /* n:\"BrtEndECParams\", */ T:-1 },\n\t/*::[*/0x010B/*::]*/: { /* n:\"BrtBeginECParam\", */ T:1 },\n\t/*::[*/0x010C/*::]*/: { /* n:\"BrtEndECParam\", */ T:-1 },\n\t/*::[*/0x010D/*::]*/: { /* n:\"BrtBeginPCDKPIs\", */ T:1 },\n\t/*::[*/0x010E/*::]*/: { /* n:\"BrtEndPCDKPIs\", */ T:-1 },\n\t/*::[*/0x010F/*::]*/: { /* n:\"BrtBeginPCDKPI\", */ T:1 },\n\t/*::[*/0x0110/*::]*/: { /* n:\"BrtEndPCDKPI\", */ T:-1 },\n\t/*::[*/0x0111/*::]*/: { /* n:\"BrtBeginDims\", */ T:1 },\n\t/*::[*/0x0112/*::]*/: { /* n:\"BrtEndDims\", */ T:-1 },\n\t/*::[*/0x0113/*::]*/: { /* n:\"BrtBeginDim\", */ T:1 },\n\t/*::[*/0x0114/*::]*/: { /* n:\"BrtEndDim\", */ T:-1 },\n\t/*::[*/0x0115/*::]*/: { /* n:\"BrtIndexPartEnd\" */ },\n\t/*::[*/0x0116/*::]*/: { /* n:\"BrtBeginStyleSheet\", */ T:1 },\n\t/*::[*/0x0117/*::]*/: { /* n:\"BrtEndStyleSheet\", */ T:-1 },\n\t/*::[*/0x0118/*::]*/: { /* n:\"BrtBeginSXView\", */ T:1 },\n\t/*::[*/0x0119/*::]*/: { /* n:\"BrtEndSXVI\", */ T:-1 },\n\t/*::[*/0x011A/*::]*/: { /* n:\"BrtBeginSXVI\", */ T:1 },\n\t/*::[*/0x011B/*::]*/: { /* n:\"BrtBeginSXVIs\", */ T:1 },\n\t/*::[*/0x011C/*::]*/: { /* n:\"BrtEndSXVIs\", */ T:-1 },\n\t/*::[*/0x011D/*::]*/: { /* n:\"BrtBeginSXVD\", */ T:1 },\n\t/*::[*/0x011E/*::]*/: { /* n:\"BrtEndSXVD\", */ T:-1 },\n\t/*::[*/0x011F/*::]*/: { /* n:\"BrtBeginSXVDs\", */ T:1 },\n\t/*::[*/0x0120/*::]*/: { /* n:\"BrtEndSXVDs\", */ T:-1 },\n\t/*::[*/0x0121/*::]*/: { /* n:\"BrtBeginSXPI\", */ T:1 },\n\t/*::[*/0x0122/*::]*/: { /* n:\"BrtEndSXPI\", */ T:-1 },\n\t/*::[*/0x0123/*::]*/: { /* n:\"BrtBeginSXPIs\", */ T:1 },\n\t/*::[*/0x0124/*::]*/: { /* n:\"BrtEndSXPIs\", */ T:-1 },\n\t/*::[*/0x0125/*::]*/: { /* n:\"BrtBeginSXDI\", */ T:1 },\n\t/*::[*/0x0126/*::]*/: { /* n:\"BrtEndSXDI\", */ T:-1 },\n\t/*::[*/0x0127/*::]*/: { /* n:\"BrtBeginSXDIs\", */ T:1 },\n\t/*::[*/0x0128/*::]*/: { /* n:\"BrtEndSXDIs\", */ T:-1 },\n\t/*::[*/0x0129/*::]*/: { /* n:\"BrtBeginSXLI\", */ T:1 },\n\t/*::[*/0x012A/*::]*/: { /* n:\"BrtEndSXLI\", */ T:-1 },\n\t/*::[*/0x012B/*::]*/: { /* n:\"BrtBeginSXLIRws\", */ T:1 },\n\t/*::[*/0x012C/*::]*/: { /* n:\"BrtEndSXLIRws\", */ T:-1 },\n\t/*::[*/0x012D/*::]*/: { /* n:\"BrtBeginSXLICols\", */ T:1 },\n\t/*::[*/0x012E/*::]*/: { /* n:\"BrtEndSXLICols\", */ T:-1 },\n\t/*::[*/0x012F/*::]*/: { /* n:\"BrtBeginSXFormat\", */ T:1 },\n\t/*::[*/0x0130/*::]*/: { /* n:\"BrtEndSXFormat\", */ T:-1 },\n\t/*::[*/0x0131/*::]*/: { /* n:\"BrtBeginSXFormats\", */ T:1 },\n\t/*::[*/0x0132/*::]*/: { /* n:\"BrtEndSxFormats\", */ T:-1 },\n\t/*::[*/0x0133/*::]*/: { /* n:\"BrtBeginSxSelect\", */ T:1 },\n\t/*::[*/0x0134/*::]*/: { /* n:\"BrtEndSxSelect\", */ T:-1 },\n\t/*::[*/0x0135/*::]*/: { /* n:\"BrtBeginISXVDRws\", */ T:1 },\n\t/*::[*/0x0136/*::]*/: { /* n:\"BrtEndISXVDRws\", */ T:-1 },\n\t/*::[*/0x0137/*::]*/: { /* n:\"BrtBeginISXVDCols\", */ T:1 },\n\t/*::[*/0x0138/*::]*/: { /* n:\"BrtEndISXVDCols\", */ T:-1 },\n\t/*::[*/0x0139/*::]*/: { /* n:\"BrtEndSXLocation\", */ T:-1 },\n\t/*::[*/0x013A/*::]*/: { /* n:\"BrtBeginSXLocation\", */ T:1 },\n\t/*::[*/0x013B/*::]*/: { /* n:\"BrtEndSXView\", */ T:-1 },\n\t/*::[*/0x013C/*::]*/: { /* n:\"BrtBeginSXTHs\", */ T:1 },\n\t/*::[*/0x013D/*::]*/: { /* n:\"BrtEndSXTHs\", */ T:-1 },\n\t/*::[*/0x013E/*::]*/: { /* n:\"BrtBeginSXTH\", */ T:1 },\n\t/*::[*/0x013F/*::]*/: { /* n:\"BrtEndSXTH\", */ T:-1 },\n\t/*::[*/0x0140/*::]*/: { /* n:\"BrtBeginISXTHRws\", */ T:1 },\n\t/*::[*/0x0141/*::]*/: { /* n:\"BrtEndISXTHRws\", */ T:-1 },\n\t/*::[*/0x0142/*::]*/: { /* n:\"BrtBeginISXTHCols\", */ T:1 },\n\t/*::[*/0x0143/*::]*/: { /* n:\"BrtEndISXTHCols\", */ T:-1 },\n\t/*::[*/0x0144/*::]*/: { /* n:\"BrtBeginSXTDMPS\", */ T:1 },\n\t/*::[*/0x0145/*::]*/: { /* n:\"BrtEndSXTDMPs\", */ T:-1 },\n\t/*::[*/0x0146/*::]*/: { /* n:\"BrtBeginSXTDMP\", */ T:1 },\n\t/*::[*/0x0147/*::]*/: { /* n:\"BrtEndSXTDMP\", */ T:-1 },\n\t/*::[*/0x0148/*::]*/: { /* n:\"BrtBeginSXTHItems\", */ T:1 },\n\t/*::[*/0x0149/*::]*/: { /* n:\"BrtEndSXTHItems\", */ T:-1 },\n\t/*::[*/0x014A/*::]*/: { /* n:\"BrtBeginSXTHItem\", */ T:1 },\n\t/*::[*/0x014B/*::]*/: { /* n:\"BrtEndSXTHItem\", */ T:-1 },\n\t/*::[*/0x014C/*::]*/: { /* n:\"BrtBeginMetadata\", */ T:1 },\n\t/*::[*/0x014D/*::]*/: { /* n:\"BrtEndMetadata\", */ T:-1 },\n\t/*::[*/0x014E/*::]*/: { /* n:\"BrtBeginEsmdtinfo\", */ T:1 },\n\t/*::[*/0x014F/*::]*/: { /* n:\"BrtMdtinfo\", */ f:parse_BrtMdtinfo },\n\t/*::[*/0x0150/*::]*/: { /* n:\"BrtEndEsmdtinfo\", */ T:-1 },\n\t/*::[*/0x0151/*::]*/: { /* n:\"BrtBeginEsmdb\", */ f:parse_BrtBeginEsmdb, T:1 },\n\t/*::[*/0x0152/*::]*/: { /* n:\"BrtEndEsmdb\", */ T:-1 },\n\t/*::[*/0x0153/*::]*/: { /* n:\"BrtBeginEsfmd\", */ T:1 },\n\t/*::[*/0x0154/*::]*/: { /* n:\"BrtEndEsfmd\", */ T:-1 },\n\t/*::[*/0x0155/*::]*/: { /* n:\"BrtBeginSingleCells\", */ T:1 },\n\t/*::[*/0x0156/*::]*/: { /* n:\"BrtEndSingleCells\", */ T:-1 },\n\t/*::[*/0x0157/*::]*/: { /* n:\"BrtBeginList\", */ T:1 },\n\t/*::[*/0x0158/*::]*/: { /* n:\"BrtEndList\", */ T:-1 },\n\t/*::[*/0x0159/*::]*/: { /* n:\"BrtBeginListCols\", */ T:1 },\n\t/*::[*/0x015A/*::]*/: { /* n:\"BrtEndListCols\", */ T:-1 },\n\t/*::[*/0x015B/*::]*/: { /* n:\"BrtBeginListCol\", */ T:1 },\n\t/*::[*/0x015C/*::]*/: { /* n:\"BrtEndListCol\", */ T:-1 },\n\t/*::[*/0x015D/*::]*/: { /* n:\"BrtBeginListXmlCPr\", */ T:1 },\n\t/*::[*/0x015E/*::]*/: { /* n:\"BrtEndListXmlCPr\", */ T:-1 },\n\t/*::[*/0x015F/*::]*/: { /* n:\"BrtListCCFmla\" */ },\n\t/*::[*/0x0160/*::]*/: { /* n:\"BrtListTrFmla\" */ },\n\t/*::[*/0x0161/*::]*/: { /* n:\"BrtBeginExternals\", */ T:1 },\n\t/*::[*/0x0162/*::]*/: { /* n:\"BrtEndExternals\", */ T:-1 },\n\t/*::[*/0x0163/*::]*/: { /* n:\"BrtSupBookSrc\", */ f:parse_RelID},\n\t/*::[*/0x0165/*::]*/: { /* n:\"BrtSupSelf\" */ },\n\t/*::[*/0x0166/*::]*/: { /* n:\"BrtSupSame\" */ },\n\t/*::[*/0x0167/*::]*/: { /* n:\"BrtSupTabs\" */ },\n\t/*::[*/0x0168/*::]*/: { /* n:\"BrtBeginSupBook\", */ T:1 },\n\t/*::[*/0x0169/*::]*/: { /* n:\"BrtPlaceholderName\" */ },\n\t/*::[*/0x016A/*::]*/: { /* n:\"BrtExternSheet\", */ f:parse_ExternSheet },\n\t/*::[*/0x016B/*::]*/: { /* n:\"BrtExternTableStart\" */ },\n\t/*::[*/0x016C/*::]*/: { /* n:\"BrtExternTableEnd\" */ },\n\t/*::[*/0x016E/*::]*/: { /* n:\"BrtExternRowHdr\" */ },\n\t/*::[*/0x016F/*::]*/: { /* n:\"BrtExternCellBlank\" */ },\n\t/*::[*/0x0170/*::]*/: { /* n:\"BrtExternCellReal\" */ },\n\t/*::[*/0x0171/*::]*/: { /* n:\"BrtExternCellBool\" */ },\n\t/*::[*/0x0172/*::]*/: { /* n:\"BrtExternCellError\" */ },\n\t/*::[*/0x0173/*::]*/: { /* n:\"BrtExternCellString\" */ },\n\t/*::[*/0x0174/*::]*/: { /* n:\"BrtBeginEsmdx\", */ T:1 },\n\t/*::[*/0x0175/*::]*/: { /* n:\"BrtEndEsmdx\", */ T:-1 },\n\t/*::[*/0x0176/*::]*/: { /* n:\"BrtBeginMdxSet\", */ T:1 },\n\t/*::[*/0x0177/*::]*/: { /* n:\"BrtEndMdxSet\", */ T:-1 },\n\t/*::[*/0x0178/*::]*/: { /* n:\"BrtBeginMdxMbrProp\", */ T:1 },\n\t/*::[*/0x0179/*::]*/: { /* n:\"BrtEndMdxMbrProp\", */ T:-1 },\n\t/*::[*/0x017A/*::]*/: { /* n:\"BrtBeginMdxKPI\", */ T:1 },\n\t/*::[*/0x017B/*::]*/: { /* n:\"BrtEndMdxKPI\", */ T:-1 },\n\t/*::[*/0x017C/*::]*/: { /* n:\"BrtBeginEsstr\", */ T:1 },\n\t/*::[*/0x017D/*::]*/: { /* n:\"BrtEndEsstr\", */ T:-1 },\n\t/*::[*/0x017E/*::]*/: { /* n:\"BrtBeginPRFItem\", */ T:1 },\n\t/*::[*/0x017F/*::]*/: { /* n:\"BrtEndPRFItem\", */ T:-1 },\n\t/*::[*/0x0180/*::]*/: { /* n:\"BrtBeginPivotCacheIDs\", */ T:1 },\n\t/*::[*/0x0181/*::]*/: { /* n:\"BrtEndPivotCacheIDs\", */ T:-1 },\n\t/*::[*/0x0182/*::]*/: { /* n:\"BrtBeginPivotCacheID\", */ T:1 },\n\t/*::[*/0x0183/*::]*/: { /* n:\"BrtEndPivotCacheID\", */ T:-1 },\n\t/*::[*/0x0184/*::]*/: { /* n:\"BrtBeginISXVIs\", */ T:1 },\n\t/*::[*/0x0185/*::]*/: { /* n:\"BrtEndISXVIs\", */ T:-1 },\n\t/*::[*/0x0186/*::]*/: { /* n:\"BrtBeginColInfos\", */ T:1 },\n\t/*::[*/0x0187/*::]*/: { /* n:\"BrtEndColInfos\", */ T:-1 },\n\t/*::[*/0x0188/*::]*/: { /* n:\"BrtBeginRwBrk\", */ T:1 },\n\t/*::[*/0x0189/*::]*/: { /* n:\"BrtEndRwBrk\", */ T:-1 },\n\t/*::[*/0x018A/*::]*/: { /* n:\"BrtBeginColBrk\", */ T:1 },\n\t/*::[*/0x018B/*::]*/: { /* n:\"BrtEndColBrk\", */ T:-1 },\n\t/*::[*/0x018C/*::]*/: { /* n:\"BrtBrk\" */ },\n\t/*::[*/0x018D/*::]*/: { /* n:\"BrtUserBookView\" */ },\n\t/*::[*/0x018E/*::]*/: { /* n:\"BrtInfo\" */ },\n\t/*::[*/0x018F/*::]*/: { /* n:\"BrtCUsr\" */ },\n\t/*::[*/0x0190/*::]*/: { /* n:\"BrtUsr\" */ },\n\t/*::[*/0x0191/*::]*/: { /* n:\"BrtBeginUsers\", */ T:1 },\n\t/*::[*/0x0193/*::]*/: { /* n:\"BrtEOF\" */ },\n\t/*::[*/0x0194/*::]*/: { /* n:\"BrtUCR\" */ },\n\t/*::[*/0x0195/*::]*/: { /* n:\"BrtRRInsDel\" */ },\n\t/*::[*/0x0196/*::]*/: { /* n:\"BrtRREndInsDel\" */ },\n\t/*::[*/0x0197/*::]*/: { /* n:\"BrtRRMove\" */ },\n\t/*::[*/0x0198/*::]*/: { /* n:\"BrtRREndMove\" */ },\n\t/*::[*/0x0199/*::]*/: { /* n:\"BrtRRChgCell\" */ },\n\t/*::[*/0x019A/*::]*/: { /* n:\"BrtRREndChgCell\" */ },\n\t/*::[*/0x019B/*::]*/: { /* n:\"BrtRRHeader\" */ },\n\t/*::[*/0x019C/*::]*/: { /* n:\"BrtRRUserView\" */ },\n\t/*::[*/0x019D/*::]*/: { /* n:\"BrtRRRenSheet\" */ },\n\t/*::[*/0x019E/*::]*/: { /* n:\"BrtRRInsertSh\" */ },\n\t/*::[*/0x019F/*::]*/: { /* n:\"BrtRRDefName\" */ },\n\t/*::[*/0x01A0/*::]*/: { /* n:\"BrtRRNote\" */ },\n\t/*::[*/0x01A1/*::]*/: { /* n:\"BrtRRConflict\" */ },\n\t/*::[*/0x01A2/*::]*/: { /* n:\"BrtRRTQSIF\" */ },\n\t/*::[*/0x01A3/*::]*/: { /* n:\"BrtRRFormat\" */ },\n\t/*::[*/0x01A4/*::]*/: { /* n:\"BrtRREndFormat\" */ },\n\t/*::[*/0x01A5/*::]*/: { /* n:\"BrtRRAutoFmt\" */ },\n\t/*::[*/0x01A6/*::]*/: { /* n:\"BrtBeginUserShViews\", */ T:1 },\n\t/*::[*/0x01A7/*::]*/: { /* n:\"BrtBeginUserShView\", */ T:1 },\n\t/*::[*/0x01A8/*::]*/: { /* n:\"BrtEndUserShView\", */ T:-1 },\n\t/*::[*/0x01A9/*::]*/: { /* n:\"BrtEndUserShViews\", */ T:-1 },\n\t/*::[*/0x01AA/*::]*/: { /* n:\"BrtArrFmla\", */ f:parse_BrtArrFmla },\n\t/*::[*/0x01AB/*::]*/: { /* n:\"BrtShrFmla\", */ f:parse_BrtShrFmla },\n\t/*::[*/0x01AC/*::]*/: { /* n:\"BrtTable\" */ },\n\t/*::[*/0x01AD/*::]*/: { /* n:\"BrtBeginExtConnections\", */ T:1 },\n\t/*::[*/0x01AE/*::]*/: { /* n:\"BrtEndExtConnections\", */ T:-1 },\n\t/*::[*/0x01AF/*::]*/: { /* n:\"BrtBeginPCDCalcMems\", */ T:1 },\n\t/*::[*/0x01B0/*::]*/: { /* n:\"BrtEndPCDCalcMems\", */ T:-1 },\n\t/*::[*/0x01B1/*::]*/: { /* n:\"BrtBeginPCDCalcMem\", */ T:1 },\n\t/*::[*/0x01B2/*::]*/: { /* n:\"BrtEndPCDCalcMem\", */ T:-1 },\n\t/*::[*/0x01B3/*::]*/: { /* n:\"BrtBeginPCDHGLevels\", */ T:1 },\n\t/*::[*/0x01B4/*::]*/: { /* n:\"BrtEndPCDHGLevels\", */ T:-1 },\n\t/*::[*/0x01B5/*::]*/: { /* n:\"BrtBeginPCDHGLevel\", */ T:1 },\n\t/*::[*/0x01B6/*::]*/: { /* n:\"BrtEndPCDHGLevel\", */ T:-1 },\n\t/*::[*/0x01B7/*::]*/: { /* n:\"BrtBeginPCDHGLGroups\", */ T:1 },\n\t/*::[*/0x01B8/*::]*/: { /* n:\"BrtEndPCDHGLGroups\", */ T:-1 },\n\t/*::[*/0x01B9/*::]*/: { /* n:\"BrtBeginPCDHGLGroup\", */ T:1 },\n\t/*::[*/0x01BA/*::]*/: { /* n:\"BrtEndPCDHGLGroup\", */ T:-1 },\n\t/*::[*/0x01BB/*::]*/: { /* n:\"BrtBeginPCDHGLGMembers\", */ T:1 },\n\t/*::[*/0x01BC/*::]*/: { /* n:\"BrtEndPCDHGLGMembers\", */ T:-1 },\n\t/*::[*/0x01BD/*::]*/: { /* n:\"BrtBeginPCDHGLGMember\", */ T:1 },\n\t/*::[*/0x01BE/*::]*/: { /* n:\"BrtEndPCDHGLGMember\", */ T:-1 },\n\t/*::[*/0x01BF/*::]*/: { /* n:\"BrtBeginQSI\", */ T:1 },\n\t/*::[*/0x01C0/*::]*/: { /* n:\"BrtEndQSI\", */ T:-1 },\n\t/*::[*/0x01C1/*::]*/: { /* n:\"BrtBeginQSIR\", */ T:1 },\n\t/*::[*/0x01C2/*::]*/: { /* n:\"BrtEndQSIR\", */ T:-1 },\n\t/*::[*/0x01C3/*::]*/: { /* n:\"BrtBeginDeletedNames\", */ T:1 },\n\t/*::[*/0x01C4/*::]*/: { /* n:\"BrtEndDeletedNames\", */ T:-1 },\n\t/*::[*/0x01C5/*::]*/: { /* n:\"BrtBeginDeletedName\", */ T:1 },\n\t/*::[*/0x01C6/*::]*/: { /* n:\"BrtEndDeletedName\", */ T:-1 },\n\t/*::[*/0x01C7/*::]*/: { /* n:\"BrtBeginQSIFs\", */ T:1 },\n\t/*::[*/0x01C8/*::]*/: { /* n:\"BrtEndQSIFs\", */ T:-1 },\n\t/*::[*/0x01C9/*::]*/: { /* n:\"BrtBeginQSIF\", */ T:1 },\n\t/*::[*/0x01CA/*::]*/: { /* n:\"BrtEndQSIF\", */ T:-1 },\n\t/*::[*/0x01CB/*::]*/: { /* n:\"BrtBeginAutoSortScope\", */ T:1 },\n\t/*::[*/0x01CC/*::]*/: { /* n:\"BrtEndAutoSortScope\", */ T:-1 },\n\t/*::[*/0x01CD/*::]*/: { /* n:\"BrtBeginConditionalFormatting\", */ T:1 },\n\t/*::[*/0x01CE/*::]*/: { /* n:\"BrtEndConditionalFormatting\", */ T:-1 },\n\t/*::[*/0x01CF/*::]*/: { /* n:\"BrtBeginCFRule\", */ T:1 },\n\t/*::[*/0x01D0/*::]*/: { /* n:\"BrtEndCFRule\", */ T:-1 },\n\t/*::[*/0x01D1/*::]*/: { /* n:\"BrtBeginIconSet\", */ T:1 },\n\t/*::[*/0x01D2/*::]*/: { /* n:\"BrtEndIconSet\", */ T:-1 },\n\t/*::[*/0x01D3/*::]*/: { /* n:\"BrtBeginDatabar\", */ T:1 },\n\t/*::[*/0x01D4/*::]*/: { /* n:\"BrtEndDatabar\", */ T:-1 },\n\t/*::[*/0x01D5/*::]*/: { /* n:\"BrtBeginColorScale\", */ T:1 },\n\t/*::[*/0x01D6/*::]*/: { /* n:\"BrtEndColorScale\", */ T:-1 },\n\t/*::[*/0x01D7/*::]*/: { /* n:\"BrtCFVO\" */ },\n\t/*::[*/0x01D8/*::]*/: { /* n:\"BrtExternValueMeta\" */ },\n\t/*::[*/0x01D9/*::]*/: { /* n:\"BrtBeginColorPalette\", */ T:1 },\n\t/*::[*/0x01DA/*::]*/: { /* n:\"BrtEndColorPalette\", */ T:-1 },\n\t/*::[*/0x01DB/*::]*/: { /* n:\"BrtIndexedColor\" */ },\n\t/*::[*/0x01DC/*::]*/: { /* n:\"BrtMargins\", */ f:parse_BrtMargins },\n\t/*::[*/0x01DD/*::]*/: { /* n:\"BrtPrintOptions\" */ },\n\t/*::[*/0x01DE/*::]*/: { /* n:\"BrtPageSetup\" */ },\n\t/*::[*/0x01DF/*::]*/: { /* n:\"BrtBeginHeaderFooter\", */ T:1 },\n\t/*::[*/0x01E0/*::]*/: { /* n:\"BrtEndHeaderFooter\", */ T:-1 },\n\t/*::[*/0x01E1/*::]*/: { /* n:\"BrtBeginSXCrtFormat\", */ T:1 },\n\t/*::[*/0x01E2/*::]*/: { /* n:\"BrtEndSXCrtFormat\", */ T:-1 },\n\t/*::[*/0x01E3/*::]*/: { /* n:\"BrtBeginSXCrtFormats\", */ T:1 },\n\t/*::[*/0x01E4/*::]*/: { /* n:\"BrtEndSXCrtFormats\", */ T:-1 },\n\t/*::[*/0x01E5/*::]*/: { /* n:\"BrtWsFmtInfo\", */ f:parse_BrtWsFmtInfo },\n\t/*::[*/0x01E6/*::]*/: { /* n:\"BrtBeginMgs\", */ T:1 },\n\t/*::[*/0x01E7/*::]*/: { /* n:\"BrtEndMGs\", */ T:-1 },\n\t/*::[*/0x01E8/*::]*/: { /* n:\"BrtBeginMGMaps\", */ T:1 },\n\t/*::[*/0x01E9/*::]*/: { /* n:\"BrtEndMGMaps\", */ T:-1 },\n\t/*::[*/0x01EA/*::]*/: { /* n:\"BrtBeginMG\", */ T:1 },\n\t/*::[*/0x01EB/*::]*/: { /* n:\"BrtEndMG\", */ T:-1 },\n\t/*::[*/0x01EC/*::]*/: { /* n:\"BrtBeginMap\", */ T:1 },\n\t/*::[*/0x01ED/*::]*/: { /* n:\"BrtEndMap\", */ T:-1 },\n\t/*::[*/0x01EE/*::]*/: { /* n:\"BrtHLink\", */ f:parse_BrtHLink },\n\t/*::[*/0x01EF/*::]*/: { /* n:\"BrtBeginDCon\", */ T:1 },\n\t/*::[*/0x01F0/*::]*/: { /* n:\"BrtEndDCon\", */ T:-1 },\n\t/*::[*/0x01F1/*::]*/: { /* n:\"BrtBeginDRefs\", */ T:1 },\n\t/*::[*/0x01F2/*::]*/: { /* n:\"BrtEndDRefs\", */ T:-1 },\n\t/*::[*/0x01F3/*::]*/: { /* n:\"BrtDRef\" */ },\n\t/*::[*/0x01F4/*::]*/: { /* n:\"BrtBeginScenMan\", */ T:1 },\n\t/*::[*/0x01F5/*::]*/: { /* n:\"BrtEndScenMan\", */ T:-1 },\n\t/*::[*/0x01F6/*::]*/: { /* n:\"BrtBeginSct\", */ T:1 },\n\t/*::[*/0x01F7/*::]*/: { /* n:\"BrtEndSct\", */ T:-1 },\n\t/*::[*/0x01F8/*::]*/: { /* n:\"BrtSlc\" */ },\n\t/*::[*/0x01F9/*::]*/: { /* n:\"BrtBeginDXFs\", */ T:1 },\n\t/*::[*/0x01FA/*::]*/: { /* n:\"BrtEndDXFs\", */ T:-1 },\n\t/*::[*/0x01FB/*::]*/: { /* n:\"BrtDXF\" */ },\n\t/*::[*/0x01FC/*::]*/: { /* n:\"BrtBeginTableStyles\", */ T:1 },\n\t/*::[*/0x01FD/*::]*/: { /* n:\"BrtEndTableStyles\", */ T:-1 },\n\t/*::[*/0x01FE/*::]*/: { /* n:\"BrtBeginTableStyle\", */ T:1 },\n\t/*::[*/0x01FF/*::]*/: { /* n:\"BrtEndTableStyle\", */ T:-1 },\n\t/*::[*/0x0200/*::]*/: { /* n:\"BrtTableStyleElement\" */ },\n\t/*::[*/0x0201/*::]*/: { /* n:\"BrtTableStyleClient\" */ },\n\t/*::[*/0x0202/*::]*/: { /* n:\"BrtBeginVolDeps\", */ T:1 },\n\t/*::[*/0x0203/*::]*/: { /* n:\"BrtEndVolDeps\", */ T:-1 },\n\t/*::[*/0x0204/*::]*/: { /* n:\"BrtBeginVolType\", */ T:1 },\n\t/*::[*/0x0205/*::]*/: { /* n:\"BrtEndVolType\", */ T:-1 },\n\t/*::[*/0x0206/*::]*/: { /* n:\"BrtBeginVolMain\", */ T:1 },\n\t/*::[*/0x0207/*::]*/: { /* n:\"BrtEndVolMain\", */ T:-1 },\n\t/*::[*/0x0208/*::]*/: { /* n:\"BrtBeginVolTopic\", */ T:1 },\n\t/*::[*/0x0209/*::]*/: { /* n:\"BrtEndVolTopic\", */ T:-1 },\n\t/*::[*/0x020A/*::]*/: { /* n:\"BrtVolSubtopic\" */ },\n\t/*::[*/0x020B/*::]*/: { /* n:\"BrtVolRef\" */ },\n\t/*::[*/0x020C/*::]*/: { /* n:\"BrtVolNum\" */ },\n\t/*::[*/0x020D/*::]*/: { /* n:\"BrtVolErr\" */ },\n\t/*::[*/0x020E/*::]*/: { /* n:\"BrtVolStr\" */ },\n\t/*::[*/0x020F/*::]*/: { /* n:\"BrtVolBool\" */ },\n\t/*::[*/0x0210/*::]*/: { /* n:\"BrtBeginCalcChain$\", */ T:1 },\n\t/*::[*/0x0211/*::]*/: { /* n:\"BrtEndCalcChain$\", */ T:-1 },\n\t/*::[*/0x0212/*::]*/: { /* n:\"BrtBeginSortState\", */ T:1 },\n\t/*::[*/0x0213/*::]*/: { /* n:\"BrtEndSortState\", */ T:-1 },\n\t/*::[*/0x0214/*::]*/: { /* n:\"BrtBeginSortCond\", */ T:1 },\n\t/*::[*/0x0215/*::]*/: { /* n:\"BrtEndSortCond\", */ T:-1 },\n\t/*::[*/0x0216/*::]*/: { /* n:\"BrtBookProtection\" */ },\n\t/*::[*/0x0217/*::]*/: { /* n:\"BrtSheetProtection\" */ },\n\t/*::[*/0x0218/*::]*/: { /* n:\"BrtRangeProtection\" */ },\n\t/*::[*/0x0219/*::]*/: { /* n:\"BrtPhoneticInfo\" */ },\n\t/*::[*/0x021A/*::]*/: { /* n:\"BrtBeginECTxtWiz\", */ T:1 },\n\t/*::[*/0x021B/*::]*/: { /* n:\"BrtEndECTxtWiz\", */ T:-1 },\n\t/*::[*/0x021C/*::]*/: { /* n:\"BrtBeginECTWFldInfoLst\", */ T:1 },\n\t/*::[*/0x021D/*::]*/: { /* n:\"BrtEndECTWFldInfoLst\", */ T:-1 },\n\t/*::[*/0x021E/*::]*/: { /* n:\"BrtBeginECTwFldInfo\", */ T:1 },\n\t/*::[*/0x0224/*::]*/: { /* n:\"BrtFileSharing\" */ },\n\t/*::[*/0x0225/*::]*/: { /* n:\"BrtOleSize\" */ },\n\t/*::[*/0x0226/*::]*/: { /* n:\"BrtDrawing\", */ f:parse_RelID },\n\t/*::[*/0x0227/*::]*/: { /* n:\"BrtLegacyDrawing\" */ },\n\t/*::[*/0x0228/*::]*/: { /* n:\"BrtLegacyDrawingHF\" */ },\n\t/*::[*/0x0229/*::]*/: { /* n:\"BrtWebOpt\" */ },\n\t/*::[*/0x022A/*::]*/: { /* n:\"BrtBeginWebPubItems\", */ T:1 },\n\t/*::[*/0x022B/*::]*/: { /* n:\"BrtEndWebPubItems\", */ T:-1 },\n\t/*::[*/0x022C/*::]*/: { /* n:\"BrtBeginWebPubItem\", */ T:1 },\n\t/*::[*/0x022D/*::]*/: { /* n:\"BrtEndWebPubItem\", */ T:-1 },\n\t/*::[*/0x022E/*::]*/: { /* n:\"BrtBeginSXCondFmt\", */ T:1 },\n\t/*::[*/0x022F/*::]*/: { /* n:\"BrtEndSXCondFmt\", */ T:-1 },\n\t/*::[*/0x0230/*::]*/: { /* n:\"BrtBeginSXCondFmts\", */ T:1 },\n\t/*::[*/0x0231/*::]*/: { /* n:\"BrtEndSXCondFmts\", */ T:-1 },\n\t/*::[*/0x0232/*::]*/: { /* n:\"BrtBkHim\" */ },\n\t/*::[*/0x0234/*::]*/: { /* n:\"BrtColor\" */ },\n\t/*::[*/0x0235/*::]*/: { /* n:\"BrtBeginIndexedColors\", */ T:1 },\n\t/*::[*/0x0236/*::]*/: { /* n:\"BrtEndIndexedColors\", */ T:-1 },\n\t/*::[*/0x0239/*::]*/: { /* n:\"BrtBeginMRUColors\", */ T:1 },\n\t/*::[*/0x023A/*::]*/: { /* n:\"BrtEndMRUColors\", */ T:-1 },\n\t/*::[*/0x023C/*::]*/: { /* n:\"BrtMRUColor\" */ },\n\t/*::[*/0x023D/*::]*/: { /* n:\"BrtBeginDVals\", */ T:1 },\n\t/*::[*/0x023E/*::]*/: { /* n:\"BrtEndDVals\", */ T:-1 },\n\t/*::[*/0x0241/*::]*/: { /* n:\"BrtSupNameStart\" */ },\n\t/*::[*/0x0242/*::]*/: { /* n:\"BrtSupNameValueStart\" */ },\n\t/*::[*/0x0243/*::]*/: { /* n:\"BrtSupNameValueEnd\" */ },\n\t/*::[*/0x0244/*::]*/: { /* n:\"BrtSupNameNum\" */ },\n\t/*::[*/0x0245/*::]*/: { /* n:\"BrtSupNameErr\" */ },\n\t/*::[*/0x0246/*::]*/: { /* n:\"BrtSupNameSt\" */ },\n\t/*::[*/0x0247/*::]*/: { /* n:\"BrtSupNameNil\" */ },\n\t/*::[*/0x0248/*::]*/: { /* n:\"BrtSupNameBool\" */ },\n\t/*::[*/0x0249/*::]*/: { /* n:\"BrtSupNameFmla\" */ },\n\t/*::[*/0x024A/*::]*/: { /* n:\"BrtSupNameBits\" */ },\n\t/*::[*/0x024B/*::]*/: { /* n:\"BrtSupNameEnd\" */ },\n\t/*::[*/0x024C/*::]*/: { /* n:\"BrtEndSupBook\", */ T:-1 },\n\t/*::[*/0x024D/*::]*/: { /* n:\"BrtCellSmartTagProperty\" */ },\n\t/*::[*/0x024E/*::]*/: { /* n:\"BrtBeginCellSmartTag\", */ T:1 },\n\t/*::[*/0x024F/*::]*/: { /* n:\"BrtEndCellSmartTag\", */ T:-1 },\n\t/*::[*/0x0250/*::]*/: { /* n:\"BrtBeginCellSmartTags\", */ T:1 },\n\t/*::[*/0x0251/*::]*/: { /* n:\"BrtEndCellSmartTags\", */ T:-1 },\n\t/*::[*/0x0252/*::]*/: { /* n:\"BrtBeginSmartTags\", */ T:1 },\n\t/*::[*/0x0253/*::]*/: { /* n:\"BrtEndSmartTags\", */ T:-1 },\n\t/*::[*/0x0254/*::]*/: { /* n:\"BrtSmartTagType\" */ },\n\t/*::[*/0x0255/*::]*/: { /* n:\"BrtBeginSmartTagTypes\", */ T:1 },\n\t/*::[*/0x0256/*::]*/: { /* n:\"BrtEndSmartTagTypes\", */ T:-1 },\n\t/*::[*/0x0257/*::]*/: { /* n:\"BrtBeginSXFilters\", */ T:1 },\n\t/*::[*/0x0258/*::]*/: { /* n:\"BrtEndSXFilters\", */ T:-1 },\n\t/*::[*/0x0259/*::]*/: { /* n:\"BrtBeginSXFILTER\", */ T:1 },\n\t/*::[*/0x025A/*::]*/: { /* n:\"BrtEndSXFilter\", */ T:-1 },\n\t/*::[*/0x025B/*::]*/: { /* n:\"BrtBeginFills\", */ T:1 },\n\t/*::[*/0x025C/*::]*/: { /* n:\"BrtEndFills\", */ T:-1 },\n\t/*::[*/0x025D/*::]*/: { /* n:\"BrtBeginCellWatches\", */ T:1 },\n\t/*::[*/0x025E/*::]*/: { /* n:\"BrtEndCellWatches\", */ T:-1 },\n\t/*::[*/0x025F/*::]*/: { /* n:\"BrtCellWatch\" */ },\n\t/*::[*/0x0260/*::]*/: { /* n:\"BrtBeginCRErrs\", */ T:1 },\n\t/*::[*/0x0261/*::]*/: { /* n:\"BrtEndCRErrs\", */ T:-1 },\n\t/*::[*/0x0262/*::]*/: { /* n:\"BrtCrashRecErr\" */ },\n\t/*::[*/0x0263/*::]*/: { /* n:\"BrtBeginFonts\", */ T:1 },\n\t/*::[*/0x0264/*::]*/: { /* n:\"BrtEndFonts\", */ T:-1 },\n\t/*::[*/0x0265/*::]*/: { /* n:\"BrtBeginBorders\", */ T:1 },\n\t/*::[*/0x0266/*::]*/: { /* n:\"BrtEndBorders\", */ T:-1 },\n\t/*::[*/0x0267/*::]*/: { /* n:\"BrtBeginFmts\", */ T:1 },\n\t/*::[*/0x0268/*::]*/: { /* n:\"BrtEndFmts\", */ T:-1 },\n\t/*::[*/0x0269/*::]*/: { /* n:\"BrtBeginCellXFs\", */ T:1 },\n\t/*::[*/0x026A/*::]*/: { /* n:\"BrtEndCellXFs\", */ T:-1 },\n\t/*::[*/0x026B/*::]*/: { /* n:\"BrtBeginStyles\", */ T:1 },\n\t/*::[*/0x026C/*::]*/: { /* n:\"BrtEndStyles\", */ T:-1 },\n\t/*::[*/0x0271/*::]*/: { /* n:\"BrtBigName\" */ },\n\t/*::[*/0x0272/*::]*/: { /* n:\"BrtBeginCellStyleXFs\", */ T:1 },\n\t/*::[*/0x0273/*::]*/: { /* n:\"BrtEndCellStyleXFs\", */ T:-1 },\n\t/*::[*/0x0274/*::]*/: { /* n:\"BrtBeginComments\", */ T:1 },\n\t/*::[*/0x0275/*::]*/: { /* n:\"BrtEndComments\", */ T:-1 },\n\t/*::[*/0x0276/*::]*/: { /* n:\"BrtBeginCommentAuthors\", */ T:1 },\n\t/*::[*/0x0277/*::]*/: { /* n:\"BrtEndCommentAuthors\", */ T:-1 },\n\t/*::[*/0x0278/*::]*/: { /* n:\"BrtCommentAuthor\", */ f:parse_BrtCommentAuthor },\n\t/*::[*/0x0279/*::]*/: { /* n:\"BrtBeginCommentList\", */ T:1 },\n\t/*::[*/0x027A/*::]*/: { /* n:\"BrtEndCommentList\", */ T:-1 },\n\t/*::[*/0x027B/*::]*/: { /* n:\"BrtBeginComment\", */ T:1, f:parse_BrtBeginComment},\n\t/*::[*/0x027C/*::]*/: { /* n:\"BrtEndComment\", */ T:-1 },\n\t/*::[*/0x027D/*::]*/: { /* n:\"BrtCommentText\", */ f:parse_BrtCommentText },\n\t/*::[*/0x027E/*::]*/: { /* n:\"BrtBeginOleObjects\", */ T:1 },\n\t/*::[*/0x027F/*::]*/: { /* n:\"BrtOleObject\" */ },\n\t/*::[*/0x0280/*::]*/: { /* n:\"BrtEndOleObjects\", */ T:-1 },\n\t/*::[*/0x0281/*::]*/: { /* n:\"BrtBeginSxrules\", */ T:1 },\n\t/*::[*/0x0282/*::]*/: { /* n:\"BrtEndSxRules\", */ T:-1 },\n\t/*::[*/0x0283/*::]*/: { /* n:\"BrtBeginActiveXControls\", */ T:1 },\n\t/*::[*/0x0284/*::]*/: { /* n:\"BrtActiveX\" */ },\n\t/*::[*/0x0285/*::]*/: { /* n:\"BrtEndActiveXControls\", */ T:-1 },\n\t/*::[*/0x0286/*::]*/: { /* n:\"BrtBeginPCDSDTCEMembersSortBy\", */ T:1 },\n\t/*::[*/0x0288/*::]*/: { /* n:\"BrtBeginCellIgnoreECs\", */ T:1 },\n\t/*::[*/0x0289/*::]*/: { /* n:\"BrtCellIgnoreEC\" */ },\n\t/*::[*/0x028A/*::]*/: { /* n:\"BrtEndCellIgnoreECs\", */ T:-1 },\n\t/*::[*/0x028B/*::]*/: { /* n:\"BrtCsProp\", */ f:parse_BrtCsProp },\n\t/*::[*/0x028C/*::]*/: { /* n:\"BrtCsPageSetup\" */ },\n\t/*::[*/0x028D/*::]*/: { /* n:\"BrtBeginUserCsViews\", */ T:1 },\n\t/*::[*/0x028E/*::]*/: { /* n:\"BrtEndUserCsViews\", */ T:-1 },\n\t/*::[*/0x028F/*::]*/: { /* n:\"BrtBeginUserCsView\", */ T:1 },\n\t/*::[*/0x0290/*::]*/: { /* n:\"BrtEndUserCsView\", */ T:-1 },\n\t/*::[*/0x0291/*::]*/: { /* n:\"BrtBeginPcdSFCIEntries\", */ T:1 },\n\t/*::[*/0x0292/*::]*/: { /* n:\"BrtEndPCDSFCIEntries\", */ T:-1 },\n\t/*::[*/0x0293/*::]*/: { /* n:\"BrtPCDSFCIEntry\" */ },\n\t/*::[*/0x0294/*::]*/: { /* n:\"BrtBeginListParts\", */ T:1 },\n\t/*::[*/0x0295/*::]*/: { /* n:\"BrtListPart\" */ },\n\t/*::[*/0x0296/*::]*/: { /* n:\"BrtEndListParts\", */ T:-1 },\n\t/*::[*/0x0297/*::]*/: { /* n:\"BrtSheetCalcProp\" */ },\n\t/*::[*/0x0298/*::]*/: { /* n:\"BrtBeginFnGroup\", */ T:1 },\n\t/*::[*/0x0299/*::]*/: { /* n:\"BrtFnGroup\" */ },\n\t/*::[*/0x029A/*::]*/: { /* n:\"BrtEndFnGroup\", */ T:-1 },\n\t/*::[*/0x029B/*::]*/: { /* n:\"BrtSupAddin\" */ },\n\t/*::[*/0x029C/*::]*/: { /* n:\"BrtSXTDMPOrder\" */ },\n\t/*::[*/0x029D/*::]*/: { /* n:\"BrtCsProtection\" */ },\n\t/*::[*/0x029F/*::]*/: { /* n:\"BrtBeginWsSortMap\", */ T:1 },\n\t/*::[*/0x02A0/*::]*/: { /* n:\"BrtEndWsSortMap\", */ T:-1 },\n\t/*::[*/0x02A1/*::]*/: { /* n:\"BrtBeginRRSort\", */ T:1 },\n\t/*::[*/0x02A2/*::]*/: { /* n:\"BrtEndRRSort\", */ T:-1 },\n\t/*::[*/0x02A3/*::]*/: { /* n:\"BrtRRSortItem\" */ },\n\t/*::[*/0x02A4/*::]*/: { /* n:\"BrtFileSharingIso\" */ },\n\t/*::[*/0x02A5/*::]*/: { /* n:\"BrtBookProtectionIso\" */ },\n\t/*::[*/0x02A6/*::]*/: { /* n:\"BrtSheetProtectionIso\" */ },\n\t/*::[*/0x02A7/*::]*/: { /* n:\"BrtCsProtectionIso\" */ },\n\t/*::[*/0x02A8/*::]*/: { /* n:\"BrtRangeProtectionIso\" */ },\n\t/*::[*/0x02A9/*::]*/: { /* n:\"BrtDValList\" */ },\n\t/*::[*/0x0400/*::]*/: { /* n:\"BrtRwDescent\" */ },\n\t/*::[*/0x0401/*::]*/: { /* n:\"BrtKnownFonts\" */ },\n\t/*::[*/0x0402/*::]*/: { /* n:\"BrtBeginSXTupleSet\", */ T:1 },\n\t/*::[*/0x0403/*::]*/: { /* n:\"BrtEndSXTupleSet\", */ T:-1 },\n\t/*::[*/0x0404/*::]*/: { /* n:\"BrtBeginSXTupleSetHeader\", */ T:1 },\n\t/*::[*/0x0405/*::]*/: { /* n:\"BrtEndSXTupleSetHeader\", */ T:-1 },\n\t/*::[*/0x0406/*::]*/: { /* n:\"BrtSXTupleSetHeaderItem\" */ },\n\t/*::[*/0x0407/*::]*/: { /* n:\"BrtBeginSXTupleSetData\", */ T:1 },\n\t/*::[*/0x0408/*::]*/: { /* n:\"BrtEndSXTupleSetData\", */ T:-1 },\n\t/*::[*/0x0409/*::]*/: { /* n:\"BrtBeginSXTupleSetRow\", */ T:1 },\n\t/*::[*/0x040A/*::]*/: { /* n:\"BrtEndSXTupleSetRow\", */ T:-1 },\n\t/*::[*/0x040B/*::]*/: { /* n:\"BrtSXTupleSetRowItem\" */ },\n\t/*::[*/0x040C/*::]*/: { /* n:\"BrtNameExt\" */ },\n\t/*::[*/0x040D/*::]*/: { /* n:\"BrtPCDH14\" */ },\n\t/*::[*/0x040E/*::]*/: { /* n:\"BrtBeginPCDCalcMem14\", */ T:1 },\n\t/*::[*/0x040F/*::]*/: { /* n:\"BrtEndPCDCalcMem14\", */ T:-1 },\n\t/*::[*/0x0410/*::]*/: { /* n:\"BrtSXTH14\" */ },\n\t/*::[*/0x0411/*::]*/: { /* n:\"BrtBeginSparklineGroup\", */ T:1 },\n\t/*::[*/0x0412/*::]*/: { /* n:\"BrtEndSparklineGroup\", */ T:-1 },\n\t/*::[*/0x0413/*::]*/: { /* n:\"BrtSparkline\" */ },\n\t/*::[*/0x0414/*::]*/: { /* n:\"BrtSXDI14\" */ },\n\t/*::[*/0x0415/*::]*/: { /* n:\"BrtWsFmtInfoEx14\" */ },\n\t/*::[*/0x0416/*::]*/: { /* n:\"BrtBeginConditionalFormatting14\", */ T:1 },\n\t/*::[*/0x0417/*::]*/: { /* n:\"BrtEndConditionalFormatting14\", */ T:-1 },\n\t/*::[*/0x0418/*::]*/: { /* n:\"BrtBeginCFRule14\", */ T:1 },\n\t/*::[*/0x0419/*::]*/: { /* n:\"BrtEndCFRule14\", */ T:-1 },\n\t/*::[*/0x041A/*::]*/: { /* n:\"BrtCFVO14\" */ },\n\t/*::[*/0x041B/*::]*/: { /* n:\"BrtBeginDatabar14\", */ T:1 },\n\t/*::[*/0x041C/*::]*/: { /* n:\"BrtBeginIconSet14\", */ T:1 },\n\t/*::[*/0x041D/*::]*/: { /* n:\"BrtDVal14\", */ f: parse_BrtDVal14 },\n\t/*::[*/0x041E/*::]*/: { /* n:\"BrtBeginDVals14\", */ T:1 },\n\t/*::[*/0x041F/*::]*/: { /* n:\"BrtColor14\" */ },\n\t/*::[*/0x0420/*::]*/: { /* n:\"BrtBeginSparklines\", */ T:1 },\n\t/*::[*/0x0421/*::]*/: { /* n:\"BrtEndSparklines\", */ T:-1 },\n\t/*::[*/0x0422/*::]*/: { /* n:\"BrtBeginSparklineGroups\", */ T:1 },\n\t/*::[*/0x0423/*::]*/: { /* n:\"BrtEndSparklineGroups\", */ T:-1 },\n\t/*::[*/0x0425/*::]*/: { /* n:\"BrtSXVD14\" */ },\n\t/*::[*/0x0426/*::]*/: { /* n:\"BrtBeginSXView14\", */ T:1 },\n\t/*::[*/0x0427/*::]*/: { /* n:\"BrtEndSXView14\", */ T:-1 },\n\t/*::[*/0x0428/*::]*/: { /* n:\"BrtBeginSXView16\", */ T:1 },\n\t/*::[*/0x0429/*::]*/: { /* n:\"BrtEndSXView16\", */ T:-1 },\n\t/*::[*/0x042A/*::]*/: { /* n:\"BrtBeginPCD14\", */ T:1 },\n\t/*::[*/0x042B/*::]*/: { /* n:\"BrtEndPCD14\", */ T:-1 },\n\t/*::[*/0x042C/*::]*/: { /* n:\"BrtBeginExtConn14\", */ T:1 },\n\t/*::[*/0x042D/*::]*/: { /* n:\"BrtEndExtConn14\", */ T:-1 },\n\t/*::[*/0x042E/*::]*/: { /* n:\"BrtBeginSlicerCacheIDs\", */ T:1 },\n\t/*::[*/0x042F/*::]*/: { /* n:\"BrtEndSlicerCacheIDs\", */ T:-1 },\n\t/*::[*/0x0430/*::]*/: { /* n:\"BrtBeginSlicerCacheID\", */ T:1 },\n\t/*::[*/0x0431/*::]*/: { /* n:\"BrtEndSlicerCacheID\", */ T:-1 },\n\t/*::[*/0x0433/*::]*/: { /* n:\"BrtBeginSlicerCache\", */ T:1 },\n\t/*::[*/0x0434/*::]*/: { /* n:\"BrtEndSlicerCache\", */ T:-1 },\n\t/*::[*/0x0435/*::]*/: { /* n:\"BrtBeginSlicerCacheDef\", */ T:1 },\n\t/*::[*/0x0436/*::]*/: { /* n:\"BrtEndSlicerCacheDef\", */ T:-1 },\n\t/*::[*/0x0437/*::]*/: { /* n:\"BrtBeginSlicersEx\", */ T:1 },\n\t/*::[*/0x0438/*::]*/: { /* n:\"BrtEndSlicersEx\", */ T:-1 },\n\t/*::[*/0x0439/*::]*/: { /* n:\"BrtBeginSlicerEx\", */ T:1 },\n\t/*::[*/0x043A/*::]*/: { /* n:\"BrtEndSlicerEx\", */ T:-1 },\n\t/*::[*/0x043B/*::]*/: { /* n:\"BrtBeginSlicer\", */ T:1 },\n\t/*::[*/0x043C/*::]*/: { /* n:\"BrtEndSlicer\", */ T:-1 },\n\t/*::[*/0x043D/*::]*/: { /* n:\"BrtSlicerCachePivotTables\" */ },\n\t/*::[*/0x043E/*::]*/: { /* n:\"BrtBeginSlicerCacheOlapImpl\", */ T:1 },\n\t/*::[*/0x043F/*::]*/: { /* n:\"BrtEndSlicerCacheOlapImpl\", */ T:-1 },\n\t/*::[*/0x0440/*::]*/: { /* n:\"BrtBeginSlicerCacheLevelsData\", */ T:1 },\n\t/*::[*/0x0441/*::]*/: { /* n:\"BrtEndSlicerCacheLevelsData\", */ T:-1 },\n\t/*::[*/0x0442/*::]*/: { /* n:\"BrtBeginSlicerCacheLevelData\", */ T:1 },\n\t/*::[*/0x0443/*::]*/: { /* n:\"BrtEndSlicerCacheLevelData\", */ T:-1 },\n\t/*::[*/0x0444/*::]*/: { /* n:\"BrtBeginSlicerCacheSiRanges\", */ T:1 },\n\t/*::[*/0x0445/*::]*/: { /* n:\"BrtEndSlicerCacheSiRanges\", */ T:-1 },\n\t/*::[*/0x0446/*::]*/: { /* n:\"BrtBeginSlicerCacheSiRange\", */ T:1 },\n\t/*::[*/0x0447/*::]*/: { /* n:\"BrtEndSlicerCacheSiRange\", */ T:-1 },\n\t/*::[*/0x0448/*::]*/: { /* n:\"BrtSlicerCacheOlapItem\" */ },\n\t/*::[*/0x0449/*::]*/: { /* n:\"BrtBeginSlicerCacheSelections\", */ T:1 },\n\t/*::[*/0x044A/*::]*/: { /* n:\"BrtSlicerCacheSelection\" */ },\n\t/*::[*/0x044B/*::]*/: { /* n:\"BrtEndSlicerCacheSelections\", */ T:-1 },\n\t/*::[*/0x044C/*::]*/: { /* n:\"BrtBeginSlicerCacheNative\", */ T:1 },\n\t/*::[*/0x044D/*::]*/: { /* n:\"BrtEndSlicerCacheNative\", */ T:-1 },\n\t/*::[*/0x044E/*::]*/: { /* n:\"BrtSlicerCacheNativeItem\" */ },\n\t/*::[*/0x044F/*::]*/: { /* n:\"BrtRangeProtection14\" */ },\n\t/*::[*/0x0450/*::]*/: { /* n:\"BrtRangeProtectionIso14\" */ },\n\t/*::[*/0x0451/*::]*/: { /* n:\"BrtCellIgnoreEC14\" */ },\n\t/*::[*/0x0457/*::]*/: { /* n:\"BrtList14\" */ },\n\t/*::[*/0x0458/*::]*/: { /* n:\"BrtCFIcon\" */ },\n\t/*::[*/0x0459/*::]*/: { /* n:\"BrtBeginSlicerCachesPivotCacheIDs\", */ T:1 },\n\t/*::[*/0x045A/*::]*/: { /* n:\"BrtEndSlicerCachesPivotCacheIDs\", */ T:-1 },\n\t/*::[*/0x045B/*::]*/: { /* n:\"BrtBeginSlicers\", */ T:1 },\n\t/*::[*/0x045C/*::]*/: { /* n:\"BrtEndSlicers\", */ T:-1 },\n\t/*::[*/0x045D/*::]*/: { /* n:\"BrtWbProp14\" */ },\n\t/*::[*/0x045E/*::]*/: { /* n:\"BrtBeginSXEdit\", */ T:1 },\n\t/*::[*/0x045F/*::]*/: { /* n:\"BrtEndSXEdit\", */ T:-1 },\n\t/*::[*/0x0460/*::]*/: { /* n:\"BrtBeginSXEdits\", */ T:1 },\n\t/*::[*/0x0461/*::]*/: { /* n:\"BrtEndSXEdits\", */ T:-1 },\n\t/*::[*/0x0462/*::]*/: { /* n:\"BrtBeginSXChange\", */ T:1 },\n\t/*::[*/0x0463/*::]*/: { /* n:\"BrtEndSXChange\", */ T:-1 },\n\t/*::[*/0x0464/*::]*/: { /* n:\"BrtBeginSXChanges\", */ T:1 },\n\t/*::[*/0x0465/*::]*/: { /* n:\"BrtEndSXChanges\", */ T:-1 },\n\t/*::[*/0x0466/*::]*/: { /* n:\"BrtSXTupleItems\" */ },\n\t/*::[*/0x0468/*::]*/: { /* n:\"BrtBeginSlicerStyle\", */ T:1 },\n\t/*::[*/0x0469/*::]*/: { /* n:\"BrtEndSlicerStyle\", */ T:-1 },\n\t/*::[*/0x046A/*::]*/: { /* n:\"BrtSlicerStyleElement\" */ },\n\t/*::[*/0x046B/*::]*/: { /* n:\"BrtBeginStyleSheetExt14\", */ T:1 },\n\t/*::[*/0x046C/*::]*/: { /* n:\"BrtEndStyleSheetExt14\", */ T:-1 },\n\t/*::[*/0x046D/*::]*/: { /* n:\"BrtBeginSlicerCachesPivotCacheID\", */ T:1 },\n\t/*::[*/0x046E/*::]*/: { /* n:\"BrtEndSlicerCachesPivotCacheID\", */ T:-1 },\n\t/*::[*/0x046F/*::]*/: { /* n:\"BrtBeginConditionalFormattings\", */ T:1 },\n\t/*::[*/0x0470/*::]*/: { /* n:\"BrtEndConditionalFormattings\", */ T:-1 },\n\t/*::[*/0x0471/*::]*/: { /* n:\"BrtBeginPCDCalcMemExt\", */ T:1 },\n\t/*::[*/0x0472/*::]*/: { /* n:\"BrtEndPCDCalcMemExt\", */ T:-1 },\n\t/*::[*/0x0473/*::]*/: { /* n:\"BrtBeginPCDCalcMemsExt\", */ T:1 },\n\t/*::[*/0x0474/*::]*/: { /* n:\"BrtEndPCDCalcMemsExt\", */ T:-1 },\n\t/*::[*/0x0475/*::]*/: { /* n:\"BrtPCDField14\" */ },\n\t/*::[*/0x0476/*::]*/: { /* n:\"BrtBeginSlicerStyles\", */ T:1 },\n\t/*::[*/0x0477/*::]*/: { /* n:\"BrtEndSlicerStyles\", */ T:-1 },\n\t/*::[*/0x0478/*::]*/: { /* n:\"BrtBeginSlicerStyleElements\", */ T:1 },\n\t/*::[*/0x0479/*::]*/: { /* n:\"BrtEndSlicerStyleElements\", */ T:-1 },\n\t/*::[*/0x047A/*::]*/: { /* n:\"BrtCFRuleExt\" */ },\n\t/*::[*/0x047B/*::]*/: { /* n:\"BrtBeginSXCondFmt14\", */ T:1 },\n\t/*::[*/0x047C/*::]*/: { /* n:\"BrtEndSXCondFmt14\", */ T:-1 },\n\t/*::[*/0x047D/*::]*/: { /* n:\"BrtBeginSXCondFmts14\", */ T:1 },\n\t/*::[*/0x047E/*::]*/: { /* n:\"BrtEndSXCondFmts14\", */ T:-1 },\n\t/*::[*/0x0480/*::]*/: { /* n:\"BrtBeginSortCond14\", */ T:1 },\n\t/*::[*/0x0481/*::]*/: { /* n:\"BrtEndSortCond14\", */ T:-1 },\n\t/*::[*/0x0482/*::]*/: { /* n:\"BrtEndDVals14\", */ T:-1 },\n\t/*::[*/0x0483/*::]*/: { /* n:\"BrtEndIconSet14\", */ T:-1 },\n\t/*::[*/0x0484/*::]*/: { /* n:\"BrtEndDatabar14\", */ T:-1 },\n\t/*::[*/0x0485/*::]*/: { /* n:\"BrtBeginColorScale14\", */ T:1 },\n\t/*::[*/0x0486/*::]*/: { /* n:\"BrtEndColorScale14\", */ T:-1 },\n\t/*::[*/0x0487/*::]*/: { /* n:\"BrtBeginSxrules14\", */ T:1 },\n\t/*::[*/0x0488/*::]*/: { /* n:\"BrtEndSxrules14\", */ T:-1 },\n\t/*::[*/0x0489/*::]*/: { /* n:\"BrtBeginPRule14\", */ T:1 },\n\t/*::[*/0x048A/*::]*/: { /* n:\"BrtEndPRule14\", */ T:-1 },\n\t/*::[*/0x048B/*::]*/: { /* n:\"BrtBeginPRFilters14\", */ T:1 },\n\t/*::[*/0x048C/*::]*/: { /* n:\"BrtEndPRFilters14\", */ T:-1 },\n\t/*::[*/0x048D/*::]*/: { /* n:\"BrtBeginPRFilter14\", */ T:1 },\n\t/*::[*/0x048E/*::]*/: { /* n:\"BrtEndPRFilter14\", */ T:-1 },\n\t/*::[*/0x048F/*::]*/: { /* n:\"BrtBeginPRFItem14\", */ T:1 },\n\t/*::[*/0x0490/*::]*/: { /* n:\"BrtEndPRFItem14\", */ T:-1 },\n\t/*::[*/0x0491/*::]*/: { /* n:\"BrtBeginCellIgnoreECs14\", */ T:1 },\n\t/*::[*/0x0492/*::]*/: { /* n:\"BrtEndCellIgnoreECs14\", */ T:-1 },\n\t/*::[*/0x0493/*::]*/: { /* n:\"BrtDxf14\" */ },\n\t/*::[*/0x0494/*::]*/: { /* n:\"BrtBeginDxF14s\", */ T:1 },\n\t/*::[*/0x0495/*::]*/: { /* n:\"BrtEndDxf14s\", */ T:-1 },\n\t/*::[*/0x0499/*::]*/: { /* n:\"BrtFilter14\" */ },\n\t/*::[*/0x049A/*::]*/: { /* n:\"BrtBeginCustomFilters14\", */ T:1 },\n\t/*::[*/0x049C/*::]*/: { /* n:\"BrtCustomFilter14\" */ },\n\t/*::[*/0x049D/*::]*/: { /* n:\"BrtIconFilter14\" */ },\n\t/*::[*/0x049E/*::]*/: { /* n:\"BrtPivotCacheConnectionName\" */ },\n\t/*::[*/0x0800/*::]*/: { /* n:\"BrtBeginDecoupledPivotCacheIDs\", */ T:1 },\n\t/*::[*/0x0801/*::]*/: { /* n:\"BrtEndDecoupledPivotCacheIDs\", */ T:-1 },\n\t/*::[*/0x0802/*::]*/: { /* n:\"BrtDecoupledPivotCacheID\" */ },\n\t/*::[*/0x0803/*::]*/: { /* n:\"BrtBeginPivotTableRefs\", */ T:1 },\n\t/*::[*/0x0804/*::]*/: { /* n:\"BrtEndPivotTableRefs\", */ T:-1 },\n\t/*::[*/0x0805/*::]*/: { /* n:\"BrtPivotTableRef\" */ },\n\t/*::[*/0x0806/*::]*/: { /* n:\"BrtSlicerCacheBookPivotTables\" */ },\n\t/*::[*/0x0807/*::]*/: { /* n:\"BrtBeginSxvcells\", */ T:1 },\n\t/*::[*/0x0808/*::]*/: { /* n:\"BrtEndSxvcells\", */ T:-1 },\n\t/*::[*/0x0809/*::]*/: { /* n:\"BrtBeginSxRow\", */ T:1 },\n\t/*::[*/0x080A/*::]*/: { /* n:\"BrtEndSxRow\", */ T:-1 },\n\t/*::[*/0x080C/*::]*/: { /* n:\"BrtPcdCalcMem15\" */ },\n\t/*::[*/0x0813/*::]*/: { /* n:\"BrtQsi15\" */ },\n\t/*::[*/0x0814/*::]*/: { /* n:\"BrtBeginWebExtensions\", */ T:1 },\n\t/*::[*/0x0815/*::]*/: { /* n:\"BrtEndWebExtensions\", */ T:-1 },\n\t/*::[*/0x0816/*::]*/: { /* n:\"BrtWebExtension\" */ },\n\t/*::[*/0x0817/*::]*/: { /* n:\"BrtAbsPath15\" */ },\n\t/*::[*/0x0818/*::]*/: { /* n:\"BrtBeginPivotTableUISettings\", */ T:1 },\n\t/*::[*/0x0819/*::]*/: { /* n:\"BrtEndPivotTableUISettings\", */ T:-1 },\n\t/*::[*/0x081B/*::]*/: { /* n:\"BrtTableSlicerCacheIDs\" */ },\n\t/*::[*/0x081C/*::]*/: { /* n:\"BrtTableSlicerCacheID\" */ },\n\t/*::[*/0x081D/*::]*/: { /* n:\"BrtBeginTableSlicerCache\", */ T:1 },\n\t/*::[*/0x081E/*::]*/: { /* n:\"BrtEndTableSlicerCache\", */ T:-1 },\n\t/*::[*/0x081F/*::]*/: { /* n:\"BrtSxFilter15\" */ },\n\t/*::[*/0x0820/*::]*/: { /* n:\"BrtBeginTimelineCachePivotCacheIDs\", */ T:1 },\n\t/*::[*/0x0821/*::]*/: { /* n:\"BrtEndTimelineCachePivotCacheIDs\", */ T:-1 },\n\t/*::[*/0x0822/*::]*/: { /* n:\"BrtTimelineCachePivotCacheID\" */ },\n\t/*::[*/0x0823/*::]*/: { /* n:\"BrtBeginTimelineCacheIDs\", */ T:1 },\n\t/*::[*/0x0824/*::]*/: { /* n:\"BrtEndTimelineCacheIDs\", */ T:-1 },\n\t/*::[*/0x0825/*::]*/: { /* n:\"BrtBeginTimelineCacheID\", */ T:1 },\n\t/*::[*/0x0826/*::]*/: { /* n:\"BrtEndTimelineCacheID\", */ T:-1 },\n\t/*::[*/0x0827/*::]*/: { /* n:\"BrtBeginTimelinesEx\", */ T:1 },\n\t/*::[*/0x0828/*::]*/: { /* n:\"BrtEndTimelinesEx\", */ T:-1 },\n\t/*::[*/0x0829/*::]*/: { /* n:\"BrtBeginTimelineEx\", */ T:1 },\n\t/*::[*/0x082A/*::]*/: { /* n:\"BrtEndTimelineEx\", */ T:-1 },\n\t/*::[*/0x082B/*::]*/: { /* n:\"BrtWorkBookPr15\" */ },\n\t/*::[*/0x082C/*::]*/: { /* n:\"BrtPCDH15\" */ },\n\t/*::[*/0x082D/*::]*/: { /* n:\"BrtBeginTimelineStyle\", */ T:1 },\n\t/*::[*/0x082E/*::]*/: { /* n:\"BrtEndTimelineStyle\", */ T:-1 },\n\t/*::[*/0x082F/*::]*/: { /* n:\"BrtTimelineStyleElement\" */ },\n\t/*::[*/0x0830/*::]*/: { /* n:\"BrtBeginTimelineStylesheetExt15\", */ T:1 },\n\t/*::[*/0x0831/*::]*/: { /* n:\"BrtEndTimelineStylesheetExt15\", */ T:-1 },\n\t/*::[*/0x0832/*::]*/: { /* n:\"BrtBeginTimelineStyles\", */ T:1 },\n\t/*::[*/0x0833/*::]*/: { /* n:\"BrtEndTimelineStyles\", */ T:-1 },\n\t/*::[*/0x0834/*::]*/: { /* n:\"BrtBeginTimelineStyleElements\", */ T:1 },\n\t/*::[*/0x0835/*::]*/: { /* n:\"BrtEndTimelineStyleElements\", */ T:-1 },\n\t/*::[*/0x0836/*::]*/: { /* n:\"BrtDxf15\" */ },\n\t/*::[*/0x0837/*::]*/: { /* n:\"BrtBeginDxfs15\", */ T:1 },\n\t/*::[*/0x0838/*::]*/: { /* n:\"BrtEndDxfs15\", */ T:-1 },\n\t/*::[*/0x0839/*::]*/: { /* n:\"BrtSlicerCacheHideItemsWithNoData\" */ },\n\t/*::[*/0x083A/*::]*/: { /* n:\"BrtBeginItemUniqueNames\", */ T:1 },\n\t/*::[*/0x083B/*::]*/: { /* n:\"BrtEndItemUniqueNames\", */ T:-1 },\n\t/*::[*/0x083C/*::]*/: { /* n:\"BrtItemUniqueName\" */ },\n\t/*::[*/0x083D/*::]*/: { /* n:\"BrtBeginExtConn15\", */ T:1 },\n\t/*::[*/0x083E/*::]*/: { /* n:\"BrtEndExtConn15\", */ T:-1 },\n\t/*::[*/0x083F/*::]*/: { /* n:\"BrtBeginOledbPr15\", */ T:1 },\n\t/*::[*/0x0840/*::]*/: { /* n:\"BrtEndOledbPr15\", */ T:-1 },\n\t/*::[*/0x0841/*::]*/: { /* n:\"BrtBeginDataFeedPr15\", */ T:1 },\n\t/*::[*/0x0842/*::]*/: { /* n:\"BrtEndDataFeedPr15\", */ T:-1 },\n\t/*::[*/0x0843/*::]*/: { /* n:\"BrtTextPr15\" */ },\n\t/*::[*/0x0844/*::]*/: { /* n:\"BrtRangePr15\" */ },\n\t/*::[*/0x0845/*::]*/: { /* n:\"BrtDbCommand15\" */ },\n\t/*::[*/0x0846/*::]*/: { /* n:\"BrtBeginDbTables15\", */ T:1 },\n\t/*::[*/0x0847/*::]*/: { /* n:\"BrtEndDbTables15\", */ T:-1 },\n\t/*::[*/0x0848/*::]*/: { /* n:\"BrtDbTable15\" */ },\n\t/*::[*/0x0849/*::]*/: { /* n:\"BrtBeginDataModel\", */ T:1 },\n\t/*::[*/0x084A/*::]*/: { /* n:\"BrtEndDataModel\", */ T:-1 },\n\t/*::[*/0x084B/*::]*/: { /* n:\"BrtBeginModelTables\", */ T:1 },\n\t/*::[*/0x084C/*::]*/: { /* n:\"BrtEndModelTables\", */ T:-1 },\n\t/*::[*/0x084D/*::]*/: { /* n:\"BrtModelTable\" */ },\n\t/*::[*/0x084E/*::]*/: { /* n:\"BrtBeginModelRelationships\", */ T:1 },\n\t/*::[*/0x084F/*::]*/: { /* n:\"BrtEndModelRelationships\", */ T:-1 },\n\t/*::[*/0x0850/*::]*/: { /* n:\"BrtModelRelationship\" */ },\n\t/*::[*/0x0851/*::]*/: { /* n:\"BrtBeginECTxtWiz15\", */ T:1 },\n\t/*::[*/0x0852/*::]*/: { /* n:\"BrtEndECTxtWiz15\", */ T:-1 },\n\t/*::[*/0x0853/*::]*/: { /* n:\"BrtBeginECTWFldInfoLst15\", */ T:1 },\n\t/*::[*/0x0854/*::]*/: { /* n:\"BrtEndECTWFldInfoLst15\", */ T:-1 },\n\t/*::[*/0x0855/*::]*/: { /* n:\"BrtBeginECTWFldInfo15\", */ T:1 },\n\t/*::[*/0x0856/*::]*/: { /* n:\"BrtFieldListActiveItem\" */ },\n\t/*::[*/0x0857/*::]*/: { /* n:\"BrtPivotCacheIdVersion\" */ },\n\t/*::[*/0x0858/*::]*/: { /* n:\"BrtSXDI15\" */ },\n\t/*::[*/0x0859/*::]*/: { /* n:\"BrtBeginModelTimeGroupings\", */ T:1 },\n\t/*::[*/0x085A/*::]*/: { /* n:\"BrtEndModelTimeGroupings\", */ T:-1 },\n\t/*::[*/0x085B/*::]*/: { /* n:\"BrtBeginModelTimeGrouping\", */ T:1 },\n\t/*::[*/0x085C/*::]*/: { /* n:\"BrtEndModelTimeGrouping\", */ T:-1 },\n\t/*::[*/0x085D/*::]*/: { /* n:\"BrtModelTimeGroupingCalcCol\" */ },\n\t/*::[*/0x0C00/*::]*/: { /* n:\"BrtUid\" */ },\n\t/*::[*/0x0C01/*::]*/: { /* n:\"BrtRevisionPtr\" */ },\n\t/*::[*/0x1000/*::]*/: { /* n:\"BrtBeginDynamicArrayPr\", */ T:1 },\n\t/*::[*/0x1001/*::]*/: { /* n:\"BrtEndDynamicArrayPr\", */ T:-1 },\n\t/*::[*/0x138A/*::]*/: { /* n:\"BrtBeginRichValueBlock\", */ T:1 },\n\t/*::[*/0x138B/*::]*/: { /* n:\"BrtEndRichValueBlock\", */ T:-1 },\n\t/*::[*/0x13D9/*::]*/: { /* n:\"BrtBeginRichFilters\", */ T:1 },\n\t/*::[*/0x13DA/*::]*/: { /* n:\"BrtEndRichFilters\", */ T:-1 },\n\t/*::[*/0x13DB/*::]*/: { /* n:\"BrtRichFilter\" */ },\n\t/*::[*/0x13DC/*::]*/: { /* n:\"BrtBeginRichFilterColumn\", */ T:1 },\n\t/*::[*/0x13DD/*::]*/: { /* n:\"BrtEndRichFilterColumn\", */ T:-1 },\n\t/*::[*/0x13DE/*::]*/: { /* n:\"BrtBeginCustomRichFilters\", */ T:1 },\n\t/*::[*/0x13DF/*::]*/: { /* n:\"BrtEndCustomRichFilters\", */ T:-1 },\n\t/*::[*/0x13E0/*::]*/: { /* n:\"BrtCustomRichFilter\" */ },\n\t/*::[*/0x13E1/*::]*/: { /* n:\"BrtTop10RichFilter\" */ },\n\t/*::[*/0x13E2/*::]*/: { /* n:\"BrtDynamicRichFilter\" */ },\n\t/*::[*/0x13E4/*::]*/: { /* n:\"BrtBeginRichSortCondition\", */ T:1 },\n\t/*::[*/0x13E5/*::]*/: { /* n:\"BrtEndRichSortCondition\", */ T:-1 },\n\t/*::[*/0x13E6/*::]*/: { /* n:\"BrtRichFilterDateGroupItem\" */ },\n\t/*::[*/0x13E7/*::]*/: { /* n:\"BrtBeginCalcFeatures\", */ T:1 },\n\t/*::[*/0x13E8/*::]*/: { /* n:\"BrtEndCalcFeatures\", */ T:-1 },\n\t/*::[*/0x13E9/*::]*/: { /* n:\"BrtCalcFeature\" */ },\n\t/*::[*/0x13EB/*::]*/: { /* n:\"BrtExternalLinksPr\" */ },\n\t/*::[*/0xFFFF/*::]*/: { n:\"\" }\n};\n\n/* [MS-XLS] 2.3 Record Enumeration (and other sources) */\nvar XLSRecordEnum = {\n\t/* [MS-XLS] 2.3 Record Enumeration 2021-08-17 */\n\t/*::[*/0x0006/*::]*/: { /* n:\"Formula\", */ f:parse_Formula },\n\t/*::[*/0x000a/*::]*/: { /* n:\"EOF\", */ f:parsenoop2 },\n\t/*::[*/0x000c/*::]*/: { /* n:\"CalcCount\", */ f:parseuint16 }, //\n\t/*::[*/0x000d/*::]*/: { /* n:\"CalcMode\", */ f:parseuint16 }, //\n\t/*::[*/0x000e/*::]*/: { /* n:\"CalcPrecision\", */ f:parsebool }, //\n\t/*::[*/0x000f/*::]*/: { /* n:\"CalcRefMode\", */ f:parsebool }, //\n\t/*::[*/0x0010/*::]*/: { /* n:\"CalcDelta\", */ f:parse_Xnum }, //\n\t/*::[*/0x0011/*::]*/: { /* n:\"CalcIter\", */ f:parsebool }, //\n\t/*::[*/0x0012/*::]*/: { /* n:\"Protect\", */ f:parsebool },\n\t/*::[*/0x0013/*::]*/: { /* n:\"Password\", */ f:parseuint16 },\n\t/*::[*/0x0014/*::]*/: { /* n:\"Header\", */ f:parse_XLHeaderFooter },\n\t/*::[*/0x0015/*::]*/: { /* n:\"Footer\", */ f:parse_XLHeaderFooter },\n\t/*::[*/0x0017/*::]*/: { /* n:\"ExternSheet\", */ f:parse_ExternSheet },\n\t/*::[*/0x0018/*::]*/: { /* n:\"Lbl\", */ f:parse_Lbl },\n\t/*::[*/0x0019/*::]*/: { /* n:\"WinProtect\", */ f:parsebool },\n\t/*::[*/0x001a/*::]*/: { /* n:\"VerticalPageBreaks\", */ },\n\t/*::[*/0x001b/*::]*/: { /* n:\"HorizontalPageBreaks\", */ },\n\t/*::[*/0x001c/*::]*/: { /* n:\"Note\", */ f:parse_Note },\n\t/*::[*/0x001d/*::]*/: { /* n:\"Selection\", */ },\n\t/*::[*/0x0022/*::]*/: { /* n:\"Date1904\", */ f:parsebool },\n\t/*::[*/0x0023/*::]*/: { /* n:\"ExternName\", */ f:parse_ExternName },\n\t/*::[*/0x0026/*::]*/: { /* n:\"LeftMargin\", */ f:parse_Xnum }, // *\n\t/*::[*/0x0027/*::]*/: { /* n:\"RightMargin\", */ f:parse_Xnum }, // *\n\t/*::[*/0x0028/*::]*/: { /* n:\"TopMargin\", */ f:parse_Xnum }, // *\n\t/*::[*/0x0029/*::]*/: { /* n:\"BottomMargin\", */ f:parse_Xnum }, // *\n\t/*::[*/0x002a/*::]*/: { /* n:\"PrintRowCol\", */ f:parsebool },\n\t/*::[*/0x002b/*::]*/: { /* n:\"PrintGrid\", */ f:parsebool },\n\t/*::[*/0x002f/*::]*/: { /* n:\"FilePass\", */ f:parse_FilePass },\n\t/*::[*/0x0031/*::]*/: { /* n:\"Font\", */ f:parse_Font },\n\t/*::[*/0x0033/*::]*/: { /* n:\"PrintSize\", */ f:parseuint16 },\n\t/*::[*/0x003c/*::]*/: { /* n:\"Continue\", */ },\n\t/*::[*/0x003d/*::]*/: { /* n:\"Window1\", */ f:parse_Window1 },\n\t/*::[*/0x0040/*::]*/: { /* n:\"Backup\", */ f:parsebool },\n\t/*::[*/0x0041/*::]*/: { /* n:\"Pane\", */ f:parse_Pane },\n\t/*::[*/0x0042/*::]*/: { /* n:\"CodePage\", */ f:parseuint16 },\n\t/*::[*/0x004d/*::]*/: { /* n:\"Pls\", */ },\n\t/*::[*/0x0050/*::]*/: { /* n:\"DCon\", */ },\n\t/*::[*/0x0051/*::]*/: { /* n:\"DConRef\", */ },\n\t/*::[*/0x0052/*::]*/: { /* n:\"DConName\", */ },\n\t/*::[*/0x0055/*::]*/: { /* n:\"DefColWidth\", */ f:parseuint16 },\n\t/*::[*/0x0059/*::]*/: { /* n:\"XCT\", */ },\n\t/*::[*/0x005a/*::]*/: { /* n:\"CRN\", */ },\n\t/*::[*/0x005b/*::]*/: { /* n:\"FileSharing\", */ },\n\t/*::[*/0x005c/*::]*/: { /* n:\"WriteAccess\", */ f:parse_WriteAccess },\n\t/*::[*/0x005d/*::]*/: { /* n:\"Obj\", */ f:parse_Obj },\n\t/*::[*/0x005e/*::]*/: { /* n:\"Uncalced\", */ },\n\t/*::[*/0x005f/*::]*/: { /* n:\"CalcSaveRecalc\", */ f:parsebool }, //\n\t/*::[*/0x0060/*::]*/: { /* n:\"Template\", */ },\n\t/*::[*/0x0061/*::]*/: { /* n:\"Intl\", */ },\n\t/*::[*/0x0063/*::]*/: { /* n:\"ObjProtect\", */ f:parsebool },\n\t/*::[*/0x007d/*::]*/: { /* n:\"ColInfo\", */ f:parse_ColInfo },\n\t/*::[*/0x0080/*::]*/: { /* n:\"Guts\", */ f:parse_Guts },\n\t/*::[*/0x0081/*::]*/: { /* n:\"WsBool\", */ f:parse_WsBool },\n\t/*::[*/0x0082/*::]*/: { /* n:\"GridSet\", */ f:parseuint16 },\n\t/*::[*/0x0083/*::]*/: { /* n:\"HCenter\", */ f:parsebool },\n\t/*::[*/0x0084/*::]*/: { /* n:\"VCenter\", */ f:parsebool },\n\t/*::[*/0x0085/*::]*/: { /* n:\"BoundSheet8\", */ f:parse_BoundSheet8 },\n\t/*::[*/0x0086/*::]*/: { /* n:\"WriteProtect\", */ },\n\t/*::[*/0x008c/*::]*/: { /* n:\"Country\", */ f:parse_Country },\n\t/*::[*/0x008d/*::]*/: { /* n:\"HideObj\", */ f:parseuint16 },\n\t/*::[*/0x0090/*::]*/: { /* n:\"Sort\", */ },\n\t/*::[*/0x0092/*::]*/: { /* n:\"Palette\", */ f:parse_Palette },\n\t/*::[*/0x0097/*::]*/: { /* n:\"Sync\", */ },\n\t/*::[*/0x0098/*::]*/: { /* n:\"LPr\", */ },\n\t/*::[*/0x0099/*::]*/: { /* n:\"DxGCol\", */ },\n\t/*::[*/0x009a/*::]*/: { /* n:\"FnGroupName\", */ },\n\t/*::[*/0x009b/*::]*/: { /* n:\"FilterMode\", */ },\n\t/*::[*/0x009c/*::]*/: { /* n:\"BuiltInFnGroupCount\", */ f:parseuint16 },\n\t/*::[*/0x009d/*::]*/: { /* n:\"AutoFilterInfo\", */ },\n\t/*::[*/0x009e/*::]*/: { /* n:\"AutoFilter\", */ },\n\t/*::[*/0x00a0/*::]*/: { /* n:\"Scl\", */ f:parse_Scl },\n\t/*::[*/0x00a1/*::]*/: { /* n:\"Setup\", */ f:parse_Setup },\n\t/*::[*/0x00ae/*::]*/: { /* n:\"ScenMan\", */ },\n\t/*::[*/0x00af/*::]*/: { /* n:\"SCENARIO\", */ },\n\t/*::[*/0x00b0/*::]*/: { /* n:\"SxView\", */ },\n\t/*::[*/0x00b1/*::]*/: { /* n:\"Sxvd\", */ },\n\t/*::[*/0x00b2/*::]*/: { /* n:\"SXVI\", */ },\n\t/*::[*/0x00b4/*::]*/: { /* n:\"SxIvd\", */ },\n\t/*::[*/0x00b5/*::]*/: { /* n:\"SXLI\", */ },\n\t/*::[*/0x00b6/*::]*/: { /* n:\"SXPI\", */ },\n\t/*::[*/0x00b8/*::]*/: { /* n:\"DocRoute\", */ },\n\t/*::[*/0x00b9/*::]*/: { /* n:\"RecipName\", */ },\n\t/*::[*/0x00bd/*::]*/: { /* n:\"MulRk\", */ f:parse_MulRk },\n\t/*::[*/0x00be/*::]*/: { /* n:\"MulBlank\", */ f:parse_MulBlank },\n\t/*::[*/0x00c1/*::]*/: { /* n:\"Mms\", */ f:parsenoop2 },\n\t/*::[*/0x00c5/*::]*/: { /* n:\"SXDI\", */ },\n\t/*::[*/0x00c6/*::]*/: { /* n:\"SXDB\", */ },\n\t/*::[*/0x00c7/*::]*/: { /* n:\"SXFDB\", */ },\n\t/*::[*/0x00c8/*::]*/: { /* n:\"SXDBB\", */ },\n\t/*::[*/0x00c9/*::]*/: { /* n:\"SXNum\", */ },\n\t/*::[*/0x00ca/*::]*/: { /* n:\"SxBool\", */ f:parsebool },\n\t/*::[*/0x00cb/*::]*/: { /* n:\"SxErr\", */ },\n\t/*::[*/0x00cc/*::]*/: { /* n:\"SXInt\", */ },\n\t/*::[*/0x00cd/*::]*/: { /* n:\"SXString\", */ },\n\t/*::[*/0x00ce/*::]*/: { /* n:\"SXDtr\", */ },\n\t/*::[*/0x00cf/*::]*/: { /* n:\"SxNil\", */ },\n\t/*::[*/0x00d0/*::]*/: { /* n:\"SXTbl\", */ },\n\t/*::[*/0x00d1/*::]*/: { /* n:\"SXTBRGIITM\", */ },\n\t/*::[*/0x00d2/*::]*/: { /* n:\"SxTbpg\", */ },\n\t/*::[*/0x00d3/*::]*/: { /* n:\"ObProj\", */ },\n\t/*::[*/0x00d5/*::]*/: { /* n:\"SXStreamID\", */ },\n\t/*::[*/0x00d7/*::]*/: { /* n:\"DBCell\", */ },\n\t/*::[*/0x00d8/*::]*/: { /* n:\"SXRng\", */ },\n\t/*::[*/0x00d9/*::]*/: { /* n:\"SxIsxoper\", */ },\n\t/*::[*/0x00da/*::]*/: { /* n:\"BookBool\", */ f:parseuint16 },\n\t/*::[*/0x00dc/*::]*/: { /* n:\"DbOrParamQry\", */ },\n\t/*::[*/0x00dd/*::]*/: { /* n:\"ScenarioProtect\", */ f:parsebool },\n\t/*::[*/0x00de/*::]*/: { /* n:\"OleObjectSize\", */ },\n\t/*::[*/0x00e0/*::]*/: { /* n:\"XF\", */ f:parse_XF },\n\t/*::[*/0x00e1/*::]*/: { /* n:\"InterfaceHdr\", */ f:parse_InterfaceHdr },\n\t/*::[*/0x00e2/*::]*/: { /* n:\"InterfaceEnd\", */ f:parsenoop2 },\n\t/*::[*/0x00e3/*::]*/: { /* n:\"SXVS\", */ },\n\t/*::[*/0x00e5/*::]*/: { /* n:\"MergeCells\", */ f:parse_MergeCells },\n\t/*::[*/0x00e9/*::]*/: { /* n:\"BkHim\", */ },\n\t/*::[*/0x00eb/*::]*/: { /* n:\"MsoDrawingGroup\", */ },\n\t/*::[*/0x00ec/*::]*/: { /* n:\"MsoDrawing\", */ },\n\t/*::[*/0x00ed/*::]*/: { /* n:\"MsoDrawingSelection\", */ },\n\t/*::[*/0x00ef/*::]*/: { /* n:\"PhoneticInfo\", */ },\n\t/*::[*/0x00f0/*::]*/: { /* n:\"SxRule\", */ },\n\t/*::[*/0x00f1/*::]*/: { /* n:\"SXEx\", */ },\n\t/*::[*/0x00f2/*::]*/: { /* n:\"SxFilt\", */ },\n\t/*::[*/0x00f4/*::]*/: { /* n:\"SxDXF\", */ },\n\t/*::[*/0x00f5/*::]*/: { /* n:\"SxItm\", */ },\n\t/*::[*/0x00f6/*::]*/: { /* n:\"SxName\", */ },\n\t/*::[*/0x00f7/*::]*/: { /* n:\"SxSelect\", */ },\n\t/*::[*/0x00f8/*::]*/: { /* n:\"SXPair\", */ },\n\t/*::[*/0x00f9/*::]*/: { /* n:\"SxFmla\", */ },\n\t/*::[*/0x00fb/*::]*/: { /* n:\"SxFormat\", */ },\n\t/*::[*/0x00fc/*::]*/: { /* n:\"SST\", */ f:parse_SST },\n\t/*::[*/0x00fd/*::]*/: { /* n:\"LabelSst\", */ f:parse_LabelSst },\n\t/*::[*/0x00ff/*::]*/: { /* n:\"ExtSST\", */ f:parse_ExtSST },\n\t/*::[*/0x0100/*::]*/: { /* n:\"SXVDEx\", */ },\n\t/*::[*/0x0103/*::]*/: { /* n:\"SXFormula\", */ },\n\t/*::[*/0x0122/*::]*/: { /* n:\"SXDBEx\", */ },\n\t/*::[*/0x0137/*::]*/: { /* n:\"RRDInsDel\", */ },\n\t/*::[*/0x0138/*::]*/: { /* n:\"RRDHead\", */ },\n\t/*::[*/0x013b/*::]*/: { /* n:\"RRDChgCell\", */ },\n\t/*::[*/0x013d/*::]*/: { /* n:\"RRTabId\", */ f:parseuint16a },\n\t/*::[*/0x013e/*::]*/: { /* n:\"RRDRenSheet\", */ },\n\t/*::[*/0x013f/*::]*/: { /* n:\"RRSort\", */ },\n\t/*::[*/0x0140/*::]*/: { /* n:\"RRDMove\", */ },\n\t/*::[*/0x014a/*::]*/: { /* n:\"RRFormat\", */ },\n\t/*::[*/0x014b/*::]*/: { /* n:\"RRAutoFmt\", */ },\n\t/*::[*/0x014d/*::]*/: { /* n:\"RRInsertSh\", */ },\n\t/*::[*/0x014e/*::]*/: { /* n:\"RRDMoveBegin\", */ },\n\t/*::[*/0x014f/*::]*/: { /* n:\"RRDMoveEnd\", */ },\n\t/*::[*/0x0150/*::]*/: { /* n:\"RRDInsDelBegin\", */ },\n\t/*::[*/0x0151/*::]*/: { /* n:\"RRDInsDelEnd\", */ },\n\t/*::[*/0x0152/*::]*/: { /* n:\"RRDConflict\", */ },\n\t/*::[*/0x0153/*::]*/: { /* n:\"RRDDefName\", */ },\n\t/*::[*/0x0154/*::]*/: { /* n:\"RRDRstEtxp\", */ },\n\t/*::[*/0x015f/*::]*/: { /* n:\"LRng\", */ },\n\t/*::[*/0x0160/*::]*/: { /* n:\"UsesELFs\", */ f:parsebool },\n\t/*::[*/0x0161/*::]*/: { /* n:\"DSF\", */ f:parsenoop2 },\n\t/*::[*/0x0191/*::]*/: { /* n:\"CUsr\", */ },\n\t/*::[*/0x0192/*::]*/: { /* n:\"CbUsr\", */ },\n\t/*::[*/0x0193/*::]*/: { /* n:\"UsrInfo\", */ },\n\t/*::[*/0x0194/*::]*/: { /* n:\"UsrExcl\", */ },\n\t/*::[*/0x0195/*::]*/: { /* n:\"FileLock\", */ },\n\t/*::[*/0x0196/*::]*/: { /* n:\"RRDInfo\", */ },\n\t/*::[*/0x0197/*::]*/: { /* n:\"BCUsrs\", */ },\n\t/*::[*/0x0198/*::]*/: { /* n:\"UsrChk\", */ },\n\t/*::[*/0x01a9/*::]*/: { /* n:\"UserBView\", */ },\n\t/*::[*/0x01aa/*::]*/: { /* n:\"UserSViewBegin\", */ },\n\t/*::[*/0x01ab/*::]*/: { /* n:\"UserSViewEnd\", */ },\n\t/*::[*/0x01ac/*::]*/: { /* n:\"RRDUserView\", */ },\n\t/*::[*/0x01ad/*::]*/: { /* n:\"Qsi\", */ },\n\t/*::[*/0x01ae/*::]*/: { /* n:\"SupBook\", */ f:parse_SupBook },\n\t/*::[*/0x01af/*::]*/: { /* n:\"Prot4Rev\", */ f:parsebool },\n\t/*::[*/0x01b0/*::]*/: { /* n:\"CondFmt\", */ },\n\t/*::[*/0x01b1/*::]*/: { /* n:\"CF\", */ },\n\t/*::[*/0x01b2/*::]*/: { /* n:\"DVal\", */ },\n\t/*::[*/0x01b5/*::]*/: { /* n:\"DConBin\", */ },\n\t/*::[*/0x01b6/*::]*/: { /* n:\"TxO\", */ f:parse_TxO },\n\t/*::[*/0x01b7/*::]*/: { /* n:\"RefreshAll\", */ f:parsebool }, //\n\t/*::[*/0x01b8/*::]*/: { /* n:\"HLink\", */ f:parse_HLink },\n\t/*::[*/0x01b9/*::]*/: { /* n:\"Lel\", */ },\n\t/*::[*/0x01ba/*::]*/: { /* n:\"CodeName\", */ f:parse_XLUnicodeString },\n\t/*::[*/0x01bb/*::]*/: { /* n:\"SXFDBType\", */ },\n\t/*::[*/0x01bc/*::]*/: { /* n:\"Prot4RevPass\", */ f:parseuint16 },\n\t/*::[*/0x01bd/*::]*/: { /* n:\"ObNoMacros\", */ },\n\t/*::[*/0x01be/*::]*/: { /* n:\"Dv\", */ },\n\t/*::[*/0x01c0/*::]*/: { /* n:\"Excel9File\", */ f:parsenoop2 },\n\t/*::[*/0x01c1/*::]*/: { /* n:\"RecalcId\", */ f:parse_RecalcId, r:2},\n\t/*::[*/0x01c2/*::]*/: { /* n:\"EntExU2\", */ f:parsenoop2 },\n\t/*::[*/0x0200/*::]*/: { /* n:\"Dimensions\", */ f:parse_Dimensions },\n\t/*::[*/0x0201/*::]*/: { /* n:\"Blank\", */ f:parse_Blank },\n\t/*::[*/0x0203/*::]*/: { /* n:\"Number\", */ f:parse_Number },\n\t/*::[*/0x0204/*::]*/: { /* n:\"Label\", */ f:parse_Label },\n\t/*::[*/0x0205/*::]*/: { /* n:\"BoolErr\", */ f:parse_BoolErr },\n\t/*::[*/0x0207/*::]*/: { /* n:\"String\", */ f:parse_String },\n\t/*::[*/0x0208/*::]*/: { /* n:\"Row\", */ f:parse_Row },\n\t/*::[*/0x020b/*::]*/: { /* n:\"Index\", */ },\n\t/*::[*/0x0221/*::]*/: { /* n:\"Array\", */ f:parse_Array },\n\t/*::[*/0x0225/*::]*/: { /* n:\"DefaultRowHeight\", */ f:parse_DefaultRowHeight },\n\t/*::[*/0x0236/*::]*/: { /* n:\"Table\", */ },\n\t/*::[*/0x023e/*::]*/: { /* n:\"Window2\", */ f:parse_Window2 },\n\t/*::[*/0x027e/*::]*/: { /* n:\"RK\", */ f:parse_RK },\n\t/*::[*/0x0293/*::]*/: { /* n:\"Style\", */ },\n\t/*::[*/0x0418/*::]*/: { /* n:\"BigName\", */ },\n\t/*::[*/0x041e/*::]*/: { /* n:\"Format\", */ f:parse_Format },\n\t/*::[*/0x043c/*::]*/: { /* n:\"ContinueBigName\", */ },\n\t/*::[*/0x04bc/*::]*/: { /* n:\"ShrFmla\", */ f:parse_ShrFmla },\n\t/*::[*/0x0800/*::]*/: { /* n:\"HLinkTooltip\", */ f:parse_HLinkTooltip },\n\t/*::[*/0x0801/*::]*/: { /* n:\"WebPub\", */ },\n\t/*::[*/0x0802/*::]*/: { /* n:\"QsiSXTag\", */ },\n\t/*::[*/0x0803/*::]*/: { /* n:\"DBQueryExt\", */ },\n\t/*::[*/0x0804/*::]*/: { /* n:\"ExtString\", */ },\n\t/*::[*/0x0805/*::]*/: { /* n:\"TxtQry\", */ },\n\t/*::[*/0x0806/*::]*/: { /* n:\"Qsir\", */ },\n\t/*::[*/0x0807/*::]*/: { /* n:\"Qsif\", */ },\n\t/*::[*/0x0808/*::]*/: { /* n:\"RRDTQSIF\", */ },\n\t/*::[*/0x0809/*::]*/: { /* n:\"BOF\", */ f:parse_BOF },\n\t/*::[*/0x080a/*::]*/: { /* n:\"OleDbConn\", */ },\n\t/*::[*/0x080b/*::]*/: { /* n:\"WOpt\", */ },\n\t/*::[*/0x080c/*::]*/: { /* n:\"SXViewEx\", */ },\n\t/*::[*/0x080d/*::]*/: { /* n:\"SXTH\", */ },\n\t/*::[*/0x080e/*::]*/: { /* n:\"SXPIEx\", */ },\n\t/*::[*/0x080f/*::]*/: { /* n:\"SXVDTEx\", */ },\n\t/*::[*/0x0810/*::]*/: { /* n:\"SXViewEx9\", */ },\n\t/*::[*/0x0812/*::]*/: { /* n:\"ContinueFrt\", */ },\n\t/*::[*/0x0813/*::]*/: { /* n:\"RealTimeData\", */ },\n\t/*::[*/0x0850/*::]*/: { /* n:\"ChartFrtInfo\", */ },\n\t/*::[*/0x0851/*::]*/: { /* n:\"FrtWrapper\", */ },\n\t/*::[*/0x0852/*::]*/: { /* n:\"StartBlock\", */ },\n\t/*::[*/0x0853/*::]*/: { /* n:\"EndBlock\", */ },\n\t/*::[*/0x0854/*::]*/: { /* n:\"StartObject\", */ },\n\t/*::[*/0x0855/*::]*/: { /* n:\"EndObject\", */ },\n\t/*::[*/0x0856/*::]*/: { /* n:\"CatLab\", */ },\n\t/*::[*/0x0857/*::]*/: { /* n:\"YMult\", */ },\n\t/*::[*/0x0858/*::]*/: { /* n:\"SXViewLink\", */ },\n\t/*::[*/0x0859/*::]*/: { /* n:\"PivotChartBits\", */ },\n\t/*::[*/0x085a/*::]*/: { /* n:\"FrtFontList\", */ },\n\t/*::[*/0x0862/*::]*/: { /* n:\"SheetExt\", */ },\n\t/*::[*/0x0863/*::]*/: { /* n:\"BookExt\", */ r:12},\n\t/*::[*/0x0864/*::]*/: { /* n:\"SXAddl\", */ },\n\t/*::[*/0x0865/*::]*/: { /* n:\"CrErr\", */ },\n\t/*::[*/0x0866/*::]*/: { /* n:\"HFPicture\", */ },\n\t/*::[*/0x0867/*::]*/: { /* n:\"FeatHdr\", */ f:parsenoop2 },\n\t/*::[*/0x0868/*::]*/: { /* n:\"Feat\", */ },\n\t/*::[*/0x086a/*::]*/: { /* n:\"DataLabExt\", */ },\n\t/*::[*/0x086b/*::]*/: { /* n:\"DataLabExtContents\", */ },\n\t/*::[*/0x086c/*::]*/: { /* n:\"CellWatch\", */ },\n\t/*::[*/0x0871/*::]*/: { /* n:\"FeatHdr11\", */ },\n\t/*::[*/0x0872/*::]*/: { /* n:\"Feature11\", */ },\n\t/*::[*/0x0874/*::]*/: { /* n:\"DropDownObjIds\", */ },\n\t/*::[*/0x0875/*::]*/: { /* n:\"ContinueFrt11\", */ },\n\t/*::[*/0x0876/*::]*/: { /* n:\"DConn\", */ },\n\t/*::[*/0x0877/*::]*/: { /* n:\"List12\", */ },\n\t/*::[*/0x0878/*::]*/: { /* n:\"Feature12\", */ },\n\t/*::[*/0x0879/*::]*/: { /* n:\"CondFmt12\", */ },\n\t/*::[*/0x087a/*::]*/: { /* n:\"CF12\", */ },\n\t/*::[*/0x087b/*::]*/: { /* n:\"CFEx\", */ },\n\t/*::[*/0x087c/*::]*/: { /* n:\"XFCRC\", */ f:parse_XFCRC, r:12 },\n\t/*::[*/0x087d/*::]*/: { /* n:\"XFExt\", */ f:parse_XFExt, r:12 },\n\t/*::[*/0x087e/*::]*/: { /* n:\"AutoFilter12\", */ },\n\t/*::[*/0x087f/*::]*/: { /* n:\"ContinueFrt12\", */ },\n\t/*::[*/0x0884/*::]*/: { /* n:\"MDTInfo\", */ },\n\t/*::[*/0x0885/*::]*/: { /* n:\"MDXStr\", */ },\n\t/*::[*/0x0886/*::]*/: { /* n:\"MDXTuple\", */ },\n\t/*::[*/0x0887/*::]*/: { /* n:\"MDXSet\", */ },\n\t/*::[*/0x0888/*::]*/: { /* n:\"MDXProp\", */ },\n\t/*::[*/0x0889/*::]*/: { /* n:\"MDXKPI\", */ },\n\t/*::[*/0x088a/*::]*/: { /* n:\"MDB\", */ },\n\t/*::[*/0x088b/*::]*/: { /* n:\"PLV\", */ },\n\t/*::[*/0x088c/*::]*/: { /* n:\"Compat12\", */ f:parsebool, r:12 },\n\t/*::[*/0x088d/*::]*/: { /* n:\"DXF\", */ },\n\t/*::[*/0x088e/*::]*/: { /* n:\"TableStyles\", */ r:12 },\n\t/*::[*/0x088f/*::]*/: { /* n:\"TableStyle\", */ },\n\t/*::[*/0x0890/*::]*/: { /* n:\"TableStyleElement\", */ },\n\t/*::[*/0x0892/*::]*/: { /* n:\"StyleExt\", */ },\n\t/*::[*/0x0893/*::]*/: { /* n:\"NamePublish\", */ },\n\t/*::[*/0x0894/*::]*/: { /* n:\"NameCmt\", */ f:parse_NameCmt, r:12 },\n\t/*::[*/0x0895/*::]*/: { /* n:\"SortData\", */ },\n\t/*::[*/0x0896/*::]*/: { /* n:\"Theme\", */ f:parse_Theme, r:12 },\n\t/*::[*/0x0897/*::]*/: { /* n:\"GUIDTypeLib\", */ },\n\t/*::[*/0x0898/*::]*/: { /* n:\"FnGrp12\", */ },\n\t/*::[*/0x0899/*::]*/: { /* n:\"NameFnGrp12\", */ },\n\t/*::[*/0x089a/*::]*/: { /* n:\"MTRSettings\", */ f:parse_MTRSettings, r:12 },\n\t/*::[*/0x089b/*::]*/: { /* n:\"CompressPictures\", */ f:parsenoop2 },\n\t/*::[*/0x089c/*::]*/: { /* n:\"HeaderFooter\", */ },\n\t/*::[*/0x089d/*::]*/: { /* n:\"CrtLayout12\", */ },\n\t/*::[*/0x089e/*::]*/: { /* n:\"CrtMlFrt\", */ },\n\t/*::[*/0x089f/*::]*/: { /* n:\"CrtMlFrtContinue\", */ },\n\t/*::[*/0x08a3/*::]*/: { /* n:\"ForceFullCalculation\", */ f:parse_ForceFullCalculation },\n\t/*::[*/0x08a4/*::]*/: { /* n:\"ShapePropsStream\", */ },\n\t/*::[*/0x08a5/*::]*/: { /* n:\"TextPropsStream\", */ },\n\t/*::[*/0x08a6/*::]*/: { /* n:\"RichTextStream\", */ },\n\t/*::[*/0x08a7/*::]*/: { /* n:\"CrtLayout12A\", */ },\n\t/*::[*/0x1001/*::]*/: { /* n:\"Units\", */ },\n\t/*::[*/0x1002/*::]*/: { /* n:\"Chart\", */ },\n\t/*::[*/0x1003/*::]*/: { /* n:\"Series\", */ },\n\t/*::[*/0x1006/*::]*/: { /* n:\"DataFormat\", */ },\n\t/*::[*/0x1007/*::]*/: { /* n:\"LineFormat\", */ },\n\t/*::[*/0x1009/*::]*/: { /* n:\"MarkerFormat\", */ },\n\t/*::[*/0x100a/*::]*/: { /* n:\"AreaFormat\", */ },\n\t/*::[*/0x100b/*::]*/: { /* n:\"PieFormat\", */ },\n\t/*::[*/0x100c/*::]*/: { /* n:\"AttachedLabel\", */ },\n\t/*::[*/0x100d/*::]*/: { /* n:\"SeriesText\", */ },\n\t/*::[*/0x1014/*::]*/: { /* n:\"ChartFormat\", */ },\n\t/*::[*/0x1015/*::]*/: { /* n:\"Legend\", */ },\n\t/*::[*/0x1016/*::]*/: { /* n:\"SeriesList\", */ },\n\t/*::[*/0x1017/*::]*/: { /* n:\"Bar\", */ },\n\t/*::[*/0x1018/*::]*/: { /* n:\"Line\", */ },\n\t/*::[*/0x1019/*::]*/: { /* n:\"Pie\", */ },\n\t/*::[*/0x101a/*::]*/: { /* n:\"Area\", */ },\n\t/*::[*/0x101b/*::]*/: { /* n:\"Scatter\", */ },\n\t/*::[*/0x101c/*::]*/: { /* n:\"CrtLine\", */ },\n\t/*::[*/0x101d/*::]*/: { /* n:\"Axis\", */ },\n\t/*::[*/0x101e/*::]*/: { /* n:\"Tick\", */ },\n\t/*::[*/0x101f/*::]*/: { /* n:\"ValueRange\", */ },\n\t/*::[*/0x1020/*::]*/: { /* n:\"CatSerRange\", */ },\n\t/*::[*/0x1021/*::]*/: { /* n:\"AxisLine\", */ },\n\t/*::[*/0x1022/*::]*/: { /* n:\"CrtLink\", */ },\n\t/*::[*/0x1024/*::]*/: { /* n:\"DefaultText\", */ },\n\t/*::[*/0x1025/*::]*/: { /* n:\"Text\", */ },\n\t/*::[*/0x1026/*::]*/: { /* n:\"FontX\", */ f:parseuint16 },\n\t/*::[*/0x1027/*::]*/: { /* n:\"ObjectLink\", */ },\n\t/*::[*/0x1032/*::]*/: { /* n:\"Frame\", */ },\n\t/*::[*/0x1033/*::]*/: { /* n:\"Begin\", */ },\n\t/*::[*/0x1034/*::]*/: { /* n:\"End\", */ },\n\t/*::[*/0x1035/*::]*/: { /* n:\"PlotArea\", */ },\n\t/*::[*/0x103a/*::]*/: { /* n:\"Chart3d\", */ },\n\t/*::[*/0x103c/*::]*/: { /* n:\"PicF\", */ },\n\t/*::[*/0x103d/*::]*/: { /* n:\"DropBar\", */ },\n\t/*::[*/0x103e/*::]*/: { /* n:\"Radar\", */ },\n\t/*::[*/0x103f/*::]*/: { /* n:\"Surf\", */ },\n\t/*::[*/0x1040/*::]*/: { /* n:\"RadarArea\", */ },\n\t/*::[*/0x1041/*::]*/: { /* n:\"AxisParent\", */ },\n\t/*::[*/0x1043/*::]*/: { /* n:\"LegendException\", */ },\n\t/*::[*/0x1044/*::]*/: { /* n:\"ShtProps\", */ f:parse_ShtProps },\n\t/*::[*/0x1045/*::]*/: { /* n:\"SerToCrt\", */ },\n\t/*::[*/0x1046/*::]*/: { /* n:\"AxesUsed\", */ },\n\t/*::[*/0x1048/*::]*/: { /* n:\"SBaseRef\", */ },\n\t/*::[*/0x104a/*::]*/: { /* n:\"SerParent\", */ },\n\t/*::[*/0x104b/*::]*/: { /* n:\"SerAuxTrend\", */ },\n\t/*::[*/0x104e/*::]*/: { /* n:\"IFmtRecord\", */ },\n\t/*::[*/0x104f/*::]*/: { /* n:\"Pos\", */ },\n\t/*::[*/0x1050/*::]*/: { /* n:\"AlRuns\", */ },\n\t/*::[*/0x1051/*::]*/: { /* n:\"BRAI\", */ },\n\t/*::[*/0x105b/*::]*/: { /* n:\"SerAuxErrBar\", */ },\n\t/*::[*/0x105c/*::]*/: { /* n:\"ClrtClient\", */ f:parse_ClrtClient },\n\t/*::[*/0x105d/*::]*/: { /* n:\"SerFmt\", */ },\n\t/*::[*/0x105f/*::]*/: { /* n:\"Chart3DBarShape\", */ },\n\t/*::[*/0x1060/*::]*/: { /* n:\"Fbi\", */ },\n\t/*::[*/0x1061/*::]*/: { /* n:\"BopPop\", */ },\n\t/*::[*/0x1062/*::]*/: { /* n:\"AxcExt\", */ },\n\t/*::[*/0x1063/*::]*/: { /* n:\"Dat\", */ },\n\t/*::[*/0x1064/*::]*/: { /* n:\"PlotGrowth\", */ },\n\t/*::[*/0x1065/*::]*/: { /* n:\"SIIndex\", */ },\n\t/*::[*/0x1066/*::]*/: { /* n:\"GelFrame\", */ },\n\t/*::[*/0x1067/*::]*/: { /* n:\"BopPopCustom\", */ },\n\t/*::[*/0x1068/*::]*/: { /* n:\"Fbi2\", */ },\n\n\t/*::[*/0x0000/*::]*/: { /* n:\"Dimensions\", */ f:parse_Dimensions },\n\t/*::[*/0x0001/*::]*/: { /* n:\"BIFF2BLANK\", */ },\n\t/*::[*/0x0002/*::]*/: { /* n:\"BIFF2INT\", */ f:parse_BIFF2INT },\n\t/*::[*/0x0003/*::]*/: { /* n:\"BIFF2NUM\", */ f:parse_BIFF2NUM },\n\t/*::[*/0x0004/*::]*/: { /* n:\"BIFF2STR\", */ f:parse_BIFF2STR },\n\t/*::[*/0x0005/*::]*/: { /* n:\"BoolErr\", */ f:parse_BoolErr },\n\t/*::[*/0x0007/*::]*/: { /* n:\"String\", */ f:parse_BIFF2STRING },\n\t/*::[*/0x0008/*::]*/: { /* n:\"BIFF2ROW\", */ },\n\t/*::[*/0x0009/*::]*/: { /* n:\"BOF\", */ f:parse_BOF },\n\t/*::[*/0x000b/*::]*/: { /* n:\"Index\", */ },\n\t/*::[*/0x0016/*::]*/: { /* n:\"ExternCount\", */ f:parseuint16 },\n\t/*::[*/0x001e/*::]*/: { /* n:\"BIFF2FORMAT\", */ f:parse_BIFF2Format },\n\t/*::[*/0x001f/*::]*/: { /* n:\"BIFF2FMTCNT\", */ }, /* 16-bit cnt of BIFF2FORMAT records */\n\t/*::[*/0x0020/*::]*/: { /* n:\"BIFF2COLINFO\", */ },\n\t/*::[*/0x0021/*::]*/: { /* n:\"Array\", */ f:parse_Array },\n\t/*::[*/0x0024/*::]*/: { /* n:\"COLWIDTH\", */ },\n\t/*::[*/0x0025/*::]*/: { /* n:\"DefaultRowHeight\", */ f:parse_DefaultRowHeight },\n\t// 0x2c ??\n\t// 0x2d ??\n\t// 0x2e ??\n\t// 0x30 FONTCOUNT: number of fonts\n\t/*::[*/0x0032/*::]*/: { /* n:\"BIFF2FONTXTRA\", */ f:parse_BIFF2FONTXTRA },\n\t// 0x35: INFOOPTS\n\t// 0x36: TABLE (BIFF2 only)\n\t// 0x37: TABLE2 (BIFF2 only)\n\t// 0x38: WNDESK\n\t// 0x39 ??\n\t// 0x3a: BEGINPREF\n\t// 0x3b: ENDPREF\n\t/*::[*/0x003e/*::]*/: { /* n:\"BIFF2WINDOW2\", */ },\n\t// 0x3f ??\n\t// 0x46: SHOWSCROLL\n\t// 0x47: SHOWFORMULA\n\t// 0x48: STATUSBAR\n\t// 0x49: SHORTMENUS\n\t// 0x4A:\n\t// 0x4B:\n\t// 0x4C:\n\t// 0x4E:\n\t// 0x4F:\n\t// 0x58: TOOLBAR (BIFF3)\n\n\t/* - - - */\n\t/*::[*/0x0034/*::]*/: { /* n:\"DDEObjName\", */ },\n\t/*::[*/0x0043/*::]*/: { /* n:\"BIFF2XF\", */ },\n\t/*::[*/0x0044/*::]*/: { /* n:\"BIFF2XFINDEX\", */ f:parseuint16 },\n\t/*::[*/0x0045/*::]*/: { /* n:\"BIFF2FONTCLR\", */ },\n\t/*::[*/0x0056/*::]*/: { /* n:\"BIFF4FMTCNT\", */ }, /* 16-bit cnt, similar to BIFF2 */\n\t/*::[*/0x007e/*::]*/: { /* n:\"RK\", */ }, /* Not necessarily same as 0x027e */\n\t/*::[*/0x007f/*::]*/: { /* n:\"ImData\", */ f:parse_ImData },\n\t/*::[*/0x0087/*::]*/: { /* n:\"Addin\", */ },\n\t/*::[*/0x0088/*::]*/: { /* n:\"Edg\", */ },\n\t/*::[*/0x0089/*::]*/: { /* n:\"Pub\", */ },\n\t// 0x8A\n\t// 0x8B LH: alternate menu key flag (BIFF3/4)\n\t// 0x8E\n\t// 0x8F\n\t/*::[*/0x0091/*::]*/: { /* n:\"Sub\", */ },\n\t// 0x93 STYLE\n\t/*::[*/0x0094/*::]*/: { /* n:\"LHRecord\", */ },\n\t/*::[*/0x0095/*::]*/: { /* n:\"LHNGraph\", */ },\n\t/*::[*/0x0096/*::]*/: { /* n:\"Sound\", */ },\n\t// 0xA2 FNPROTO: function prototypes (BIFF4)\n\t// 0xA3\n\t// 0xA8\n\t/*::[*/0x00a9/*::]*/: { /* n:\"CoordList\", */ },\n\t/*::[*/0x00ab/*::]*/: { /* n:\"GCW\", */ },\n\t/*::[*/0x00bc/*::]*/: { /* n:\"ShrFmla\", */ }, /* Not necessarily same as 0x04bc */\n\t/*::[*/0x00bf/*::]*/: { /* n:\"ToolbarHdr\", */ },\n\t/*::[*/0x00c0/*::]*/: { /* n:\"ToolbarEnd\", */ },\n\t/*::[*/0x00c2/*::]*/: { /* n:\"AddMenu\", */ },\n\t/*::[*/0x00c3/*::]*/: { /* n:\"DelMenu\", */ },\n\t/*::[*/0x00d6/*::]*/: { /* n:\"RString\", */ f:parse_RString },\n\t/*::[*/0x00df/*::]*/: { /* n:\"UDDesc\", */ },\n\t/*::[*/0x00ea/*::]*/: { /* n:\"TabIdConf\", */ },\n\t/*::[*/0x0162/*::]*/: { /* n:\"XL5Modify\", */ },\n\t/*::[*/0x01a5/*::]*/: { /* n:\"FileSharing2\", */ },\n\t/*::[*/0x0206/*::]*/: { /* n:\"Formula\", */ f:parse_Formula },\n\t/*::[*/0x0209/*::]*/: { /* n:\"BOF\", */ f:parse_BOF },\n\t/*::[*/0x0218/*::]*/: { /* n:\"Lbl\", */ f:parse_Lbl },\n\t/*::[*/0x0223/*::]*/: { /* n:\"ExternName\", */ f:parse_ExternName },\n\t/*::[*/0x0231/*::]*/: { /* n:\"Font\", */ },\n\t/*::[*/0x0243/*::]*/: { /* n:\"BIFF3XF\", */ },\n\t/*::[*/0x0406/*::]*/: { /* n:\"Formula\", */ f:parse_Formula },\n\t/*::[*/0x0409/*::]*/: { /* n:\"BOF\", */ f:parse_BOF },\n\t/*::[*/0x0443/*::]*/: { /* n:\"BIFF4XF\", */ },\n\t/*::[*/0x086d/*::]*/: { /* n:\"FeatInfo\", */ },\n\t/*::[*/0x0873/*::]*/: { /* n:\"FeatInfo11\", */ },\n\t/*::[*/0x0881/*::]*/: { /* n:\"SXAddl12\", */ },\n\t/*::[*/0x08c0/*::]*/: { /* n:\"AutoWebPub\", */ },\n\t/*::[*/0x08c1/*::]*/: { /* n:\"ListObj\", */ },\n\t/*::[*/0x08c2/*::]*/: { /* n:\"ListField\", */ },\n\t/*::[*/0x08c3/*::]*/: { /* n:\"ListDV\", */ },\n\t/*::[*/0x08c4/*::]*/: { /* n:\"ListCondFmt\", */ },\n\t/*::[*/0x08c5/*::]*/: { /* n:\"ListCF\", */ },\n\t/*::[*/0x08c6/*::]*/: { /* n:\"FMQry\", */ },\n\t/*::[*/0x08c7/*::]*/: { /* n:\"FMSQry\", */ },\n\t/*::[*/0x08c8/*::]*/: { /* n:\"PLV\", */ },\n\t/*::[*/0x08c9/*::]*/: { /* n:\"LnExt\", */ },\n\t/*::[*/0x08ca/*::]*/: { /* n:\"MkrExt\", */ },\n\t/*::[*/0x08cb/*::]*/: { /* n:\"CrtCoopt\", */ },\n\t/*::[*/0x08d6/*::]*/: { /* n:\"FRTArchId$\", */ r:12 },\n\n\t/*::[*/0x7262/*::]*/: {}\n};\n\nfunction write_biff_rec(ba/*:BufArray*/, type/*:number*/, payload, length/*:?number*/)/*:void*/ {\n\tvar t/*:number*/ = type;\n\tif(isNaN(t)) return;\n\tvar len = length || (payload||[]).length || 0;\n\tvar o = ba.next(4);\n\to.write_shift(2, t);\n\to.write_shift(2, len);\n\tif(/*:: len != null &&*/len > 0 && is_buf(payload)) ba.push(payload);\n}\n\nfunction write_biff_continue(ba/*:BufArray*/, type/*:number*/, payload, length/*:?number*/)/*:void*/ {\n\tvar len = length || (payload||[]).length || 0;\n\tif(len <= 8224) return write_biff_rec(ba, type, payload, len);\n\tvar t = type;\n\tif(isNaN(t)) return;\n\tvar parts = payload.parts || [], sidx = 0;\n\tvar i = 0, w = 0;\n\twhile(w + (parts[sidx] || 8224) <= 8224) { w+= (parts[sidx] || 8224); sidx++; }\n\tvar o = ba.next(4);\n\to.write_shift(2, t);\n\to.write_shift(2, w);\n\tba.push(payload.slice(i, i + w));\n\ti += w;\n\twhile(i < len) {\n\t\to = ba.next(4);\n\t\to.write_shift(2, 0x3c); // TODO: figure out correct continue type\n\t\tw = 0;\n\t\twhile(w + (parts[sidx] || 8224) <= 8224) { w+= (parts[sidx] || 8224); sidx++; }\n\t\to.write_shift(2, w);\n\t\tba.push(payload.slice(i, i+w)); i+= w;\n\t}\n}\n\nfunction write_BIFF2Cell(out, r/*:number*/, c/*:number*/) {\n\tif(!out) out = new_buf(7);\n\tout.write_shift(2, r);\n\tout.write_shift(2, c);\n\tout.write_shift(2, 0);\n\tout.write_shift(1, 0);\n\treturn out;\n}\n\nfunction write_BIFF2BERR(r/*:number*/, c/*:number*/, val, t/*:?string*/) {\n\tvar out = new_buf(9);\n\twrite_BIFF2Cell(out, r, c);\n\twrite_Bes(val, t || 'b', out);\n\treturn out;\n}\n\n/* TODO: codepage, large strings */\nfunction write_BIFF2LABEL(r/*:number*/, c/*:number*/, val) {\n\tvar out = new_buf(8 + 2*val.length);\n\twrite_BIFF2Cell(out, r, c);\n\tout.write_shift(1, val.length);\n\tout.write_shift(val.length, val, 'sbcs');\n\treturn out.l < out.length ? out.slice(0, out.l) : out;\n}\n\nfunction write_ws_biff2_cell(ba/*:BufArray*/, cell/*:Cell*/, R/*:number*/, C/*:number*//*::, opts*/) {\n\tif(cell.v != null) switch(cell.t) {\n\t\tcase 'd': case 'n':\n\t\t\tvar v = cell.t == 'd' ? datenum(parseDate(cell.v)) : cell.v;\n\t\t\tif((v == (v|0)) && (v >= 0) && (v < 65536))\n\t\t\t\twrite_biff_rec(ba, 0x0002, write_BIFF2INT(R, C, v));\n\t\t\telse\n\t\t\t\twrite_biff_rec(ba, 0x0003, write_BIFF2NUM(R,C, v));\n\t\t\treturn;\n\t\tcase 'b': case 'e': write_biff_rec(ba, 0x0005, write_BIFF2BERR(R, C, cell.v, cell.t)); return;\n\t\t/* TODO: codepage, sst */\n\t\tcase 's': case 'str':\n\t\t\twrite_biff_rec(ba, 0x0004, write_BIFF2LABEL(R, C, (cell.v||\"\").slice(0,255)));\n\t\t\treturn;\n\t}\n\twrite_biff_rec(ba, 0x0001, write_BIFF2Cell(null, R, C));\n}\n\nfunction write_ws_biff2(ba/*:BufArray*/, ws/*:Worksheet*/, idx/*:number*/, opts/*::, wb:Workbook*/) {\n\tvar dense = Array.isArray(ws);\n\tvar range = safe_decode_range(ws['!ref'] || \"A1\"), ref/*:string*/, rr = \"\", cols/*:Array<string>*/ = [];\n\tif(range.e.c > 0xFF || range.e.r > 0x3FFF) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + (ws['!ref'] || \"A1\") + \" exceeds format limit A1:IV16384\");\n\t\trange.e.c = Math.min(range.e.c, 0xFF);\n\t\trange.e.r = Math.min(range.e.c, 0x3FFF);\n\t\tref = encode_range(range);\n\t}\n\tfor(var R = range.s.r; R <= range.e.r; ++R) {\n\t\trr = encode_row(R);\n\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\tref = cols[C] + rr;\n\t\t\tvar cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\tif(!cell) continue;\n\t\t\t/* write cell */\n\t\t\twrite_ws_biff2_cell(ba, cell, R, C, opts);\n\t\t}\n\t}\n}\n\n/* Based on test files */\nfunction write_biff2_buf(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\tvar o = opts || {};\n\tif(DENSE != null && o.dense == null) o.dense = DENSE;\n\tvar ba = buf_array();\n\tvar idx = 0;\n\tfor(var i=0;i<wb.SheetNames.length;++i) if(wb.SheetNames[i] == o.sheet) idx=i;\n\tif(idx == 0 && !!o.sheet && wb.SheetNames[0] != o.sheet) throw new Error(\"Sheet not found: \" + o.sheet);\n\twrite_biff_rec(ba, (o.biff == 4 ? 0x0409 : (o.biff == 3 ? 0x0209 : 0x0009)), write_BOF(wb, 0x10, o));\n\t/* ... */\n\twrite_ws_biff2(ba, wb.Sheets[wb.SheetNames[idx]], idx, o, wb);\n\t/* ... */\n\twrite_biff_rec(ba, 0x000A);\n\treturn ba.end();\n}\n\nfunction write_FONTS_biff8(ba, data, opts) {\n\twrite_biff_rec(ba, 0x0031 /* Font */, write_Font({\n\t\tsz:12,\n\t\tcolor: {theme:1},\n\t\tname: \"Arial\",\n\t\tfamily: 2,\n\t\tscheme: \"minor\"\n\t}, opts));\n}\n\n\nfunction write_FMTS_biff8(ba, NF/*:?SSFTable*/, opts) {\n\tif(!NF) return;\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\t/*:: if(!NF) return; */\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) write_biff_rec(ba, 0x041E /* Format */, write_Format(i, NF[i], opts));\n\t});\n}\n\nfunction write_FEAT(ba, ws) {\n\t/* [MS-XLS] 2.4.112 */\n\tvar o = new_buf(19);\n\to.write_shift(4, 0x867); o.write_shift(4, 0); o.write_shift(4, 0);\n\to.write_shift(2, 3); o.write_shift(1, 1); o.write_shift(4, 0);\n\twrite_biff_rec(ba, 0x0867 /* FeatHdr */, o);\n\t/* [MS-XLS] 2.4.111 */\n\to = new_buf(39);\n\to.write_shift(4, 0x868); o.write_shift(4, 0); o.write_shift(4, 0);\n\to.write_shift(2, 3); o.write_shift(1, 0); o.write_shift(4, 0);\n\to.write_shift(2, 1); o.write_shift(4, 4); o.write_shift(2, 0);\n\twrite_Ref8U(safe_decode_range(ws['!ref']||\"A1\"), o);\n\to.write_shift(4, 4);\n\twrite_biff_rec(ba, 0x0868 /* Feat */, o);\n}\n\nfunction write_CELLXFS_biff8(ba, opts) {\n\tfor(var i = 0; i < 16; ++i) write_biff_rec(ba, 0x00e0 /* XF */, write_XF({numFmtId:0, style:true}, 0, opts));\n\topts.cellXfs.forEach(function(c) {\n\t\twrite_biff_rec(ba, 0x00e0 /* XF */, write_XF(c, 0, opts));\n\t});\n}\n\nfunction write_ws_biff8_hlinks(ba/*:BufArray*/, ws) {\n\tfor(var R=0; R<ws['!links'].length; ++R) {\n\t\tvar HL = ws['!links'][R];\n\t\twrite_biff_rec(ba, 0x01b8 /* HLink */, write_HLink(HL));\n\t\tif(HL[1].Tooltip) write_biff_rec(ba, 0x0800 /* HLinkTooltip */, write_HLinkTooltip(HL));\n\t}\n\tdelete ws['!links'];\n}\n\nfunction write_ws_cols_biff8(ba, cols) {\n\tif(!cols) return;\n\tvar cnt = 0;\n\tcols.forEach(function(col, idx) {\n\t\tif(++cnt <= 256 && col) {\n\t\t\twrite_biff_rec(ba, 0x007d /* ColInfo */, write_ColInfo(col_obj_w(idx, col), idx));\n\t\t}\n\t});\n}\n\nfunction write_ws_biff8_cell(ba/*:BufArray*/, cell/*:Cell*/, R/*:number*/, C/*:number*/, opts) {\n\tvar os = 16 + get_cell_style(opts.cellXfs, cell, opts);\n\tif(cell.v == null && !cell.bf) {\n\t\twrite_biff_rec(ba, 0x0201 /* Blank */, write_XLSCell(R, C, os));\n\t\treturn;\n\t}\n\tif(cell.bf) write_biff_rec(ba, 0x0006 /* Formula */, write_Formula(cell, R, C, opts, os));\n\telse switch(cell.t) {\n\t\tcase 'd': case 'n':\n\t\t\tvar v = cell.t == 'd' ? datenum(parseDate(cell.v)) : cell.v;\n\t\t\t/* TODO: emit RK as appropriate */\n\t\t\twrite_biff_rec(ba, 0x0203 /* Number */, write_Number(R, C, v, os, opts));\n\t\t\tbreak;\n\t\tcase 'b': case 'e':\n\t\t\twrite_biff_rec(ba, 0x0205 /* BoolErr */, write_BoolErr(R, C, cell.v, os, opts, cell.t));\n\t\t\tbreak;\n\t\t/* TODO: codepage, sst */\n\t\tcase 's': case 'str':\n\t\t\tif(opts.bookSST) {\n\t\t\t\tvar isst = get_sst_id(opts.Strings, cell.v, opts.revStrings);\n\t\t\t\twrite_biff_rec(ba, 0x00fd /* LabelSst */, write_LabelSst(R, C, isst, os, opts));\n\t\t\t} else write_biff_rec(ba, 0x0204 /* Label */, write_Label(R, C, (cell.v||\"\").slice(0,255), os, opts));\n\t\t\tbreak;\n\t\tdefault:\n\t\t\twrite_biff_rec(ba, 0x0201 /* Blank */, write_XLSCell(R, C, os));\n\t}\n}\n\n/* [MS-XLS] 2.1.7.20.5 */\nfunction write_ws_biff8(idx/*:number*/, opts, wb/*:Workbook*/) {\n\tvar ba = buf_array();\n\tvar s = wb.SheetNames[idx], ws = wb.Sheets[s] || {};\n\tvar _WB/*:WBWBProps*/ = ((wb||{}).Workbook||{}/*:any*/);\n\tvar _sheet/*:WBWSProp*/ = ((_WB.Sheets||[])[idx]||{}/*:any*/);\n\tvar dense = Array.isArray(ws);\n\tvar b8 = opts.biff == 8;\n\tvar ref/*:string*/, rr = \"\", cols/*:Array<string>*/ = [];\n\tvar range = safe_decode_range(ws['!ref'] || \"A1\");\n\tvar MAX_ROWS = b8 ? 65536 : 16384;\n\tif(range.e.c > 0xFF || range.e.r >= MAX_ROWS) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + (ws['!ref'] || \"A1\") + \" exceeds format limit A1:IV16384\");\n\t\trange.e.c = Math.min(range.e.c, 0xFF);\n\t\trange.e.r = Math.min(range.e.c, MAX_ROWS-1);\n\t}\n\n\twrite_biff_rec(ba, 0x0809, write_BOF(wb, 0x10, opts));\n\t/* [Uncalced] Index */\n\twrite_biff_rec(ba, 0x000d /* CalcMode */, writeuint16(1));\n\twrite_biff_rec(ba, 0x000c /* CalcCount */, writeuint16(100));\n\twrite_biff_rec(ba, 0x000f /* CalcRefMode */, writebool(true));\n\twrite_biff_rec(ba, 0x0011 /* CalcIter */, writebool(false));\n\twrite_biff_rec(ba, 0x0010 /* CalcDelta */, write_Xnum(0.001));\n\twrite_biff_rec(ba, 0x005f /* CalcSaveRecalc */, writebool(true));\n\twrite_biff_rec(ba, 0x002a /* PrintRowCol */, writebool(false));\n\twrite_biff_rec(ba, 0x002b /* PrintGrid */, writebool(false));\n\twrite_biff_rec(ba, 0x0082 /* GridSet */, writeuint16(1));\n\twrite_biff_rec(ba, 0x0080 /* Guts */, write_Guts([0,0]));\n\t/* DefaultRowHeight WsBool [Sync] [LPr] [HorizontalPageBreaks] [VerticalPageBreaks] */\n\t/* Header (string) */\n\t/* Footer (string) */\n\twrite_biff_rec(ba, 0x0083 /* HCenter */, writebool(false));\n\twrite_biff_rec(ba, 0x0084 /* VCenter */, writebool(false));\n\t/* ... */\n\tif(b8) write_ws_cols_biff8(ba, ws[\"!cols\"]);\n\t/* ... */\n\twrite_biff_rec(ba, 0x200, write_Dimensions(range, opts));\n\t/* ... */\n\n\tif(b8) ws['!links'] = [];\n\tfor(var R = range.s.r; R <= range.e.r; ++R) {\n\t\trr = encode_row(R);\n\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\tref = cols[C] + rr;\n\t\t\tvar cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\tif(!cell) continue;\n\t\t\t/* write cell */\n\t\t\twrite_ws_biff8_cell(ba, cell, R, C, opts);\n\t\t\tif(b8 && cell.l) ws['!links'].push([ref, cell.l]);\n\t\t}\n\t}\n\tvar cname/*:string*/ = _sheet.CodeName || _sheet.name || s;\n\t/* ... */\n\tif(b8) write_biff_rec(ba, 0x023e /* Window2 */, write_Window2((_WB.Views||[])[0]));\n\t/* ... */\n\tif(b8 && (ws['!merges']||[]).length) write_biff_rec(ba, 0x00e5 /* MergeCells */, write_MergeCells(ws['!merges']));\n\t/* [LRng] *QUERYTABLE [PHONETICINFO] CONDFMTS */\n\tif(b8) write_ws_biff8_hlinks(ba, ws);\n\t/* [DVAL] */\n\twrite_biff_rec(ba, 0x01ba /* CodeName */, write_XLUnicodeString(cname, opts));\n\t/* *WebPub *CellWatch [SheetExt] */\n\tif(b8) write_FEAT(ba, ws);\n\t/* *FEAT11 *RECORD12 */\n\twrite_biff_rec(ba, 0x000a /* EOF */);\n\treturn ba.end();\n}\n\n/* [MS-XLS] 2.1.7.20.3 */\nfunction write_biff8_global(wb/*:Workbook*/, bufs, opts/*:WriteOpts*/) {\n\tvar A = buf_array();\n\tvar _WB/*:WBWBProps*/ = ((wb||{}).Workbook||{}/*:any*/);\n\tvar _sheets/*:Array<WBWSProp>*/ = (_WB.Sheets||[]);\n\tvar _wb/*:WBProps*/ = /*::((*/_WB.WBProps||{/*::CodeName:\"ThisWorkbook\"*/}/*:: ):any)*/;\n\tvar b8 = opts.biff == 8, b5 = opts.biff == 5;\n\twrite_biff_rec(A, 0x0809, write_BOF(wb, 0x05, opts));\n\tif(opts.bookType == \"xla\") write_biff_rec(A, 0x0087 /* Addin */);\n\twrite_biff_rec(A, 0x00e1 /* InterfaceHdr */, b8 ? writeuint16(0x04b0) : null);\n\twrite_biff_rec(A, 0x00c1 /* Mms */, writezeroes(2));\n\tif(b5) write_biff_rec(A, 0x00bf /* ToolbarHdr */);\n\tif(b5) write_biff_rec(A, 0x00c0 /* ToolbarEnd */);\n\twrite_biff_rec(A, 0x00e2 /* InterfaceEnd */);\n\twrite_biff_rec(A, 0x005c /* WriteAccess */, write_WriteAccess(\"SheetJS\", opts));\n\t/* [FileSharing] */\n\twrite_biff_rec(A, 0x0042 /* CodePage */, writeuint16(b8 ? 0x04b0 : 0x04E4));\n\t/* *2047 Lel */\n\tif(b8) write_biff_rec(A, 0x0161 /* DSF */, writeuint16(0));\n\tif(b8) write_biff_rec(A, 0x01c0 /* Excel9File */);\n\twrite_biff_rec(A, 0x013d /* RRTabId */, write_RRTabId(wb.SheetNames.length));\n\tif(b8 && wb.vbaraw) write_biff_rec(A, 0x00d3 /* ObProj */);\n\t/* [ObNoMacros] */\n\tif(b8 && wb.vbaraw) {\n\t\tvar cname/*:string*/ = _wb.CodeName || \"ThisWorkbook\";\n\t\twrite_biff_rec(A, 0x01ba /* CodeName */, write_XLUnicodeString(cname, opts));\n\t}\n\twrite_biff_rec(A, 0x009c /* BuiltInFnGroupCount */, writeuint16(0x11));\n\t/* *FnGroupName *FnGrp12 */\n\t/* *Lbl */\n\t/* [OleObjectSize] */\n\twrite_biff_rec(A, 0x0019 /* WinProtect */, writebool(false));\n\twrite_biff_rec(A, 0x0012 /* Protect */, writebool(false));\n\twrite_biff_rec(A, 0x0013 /* Password */, writeuint16(0));\n\tif(b8) write_biff_rec(A, 0x01af /* Prot4Rev */, writebool(false));\n\tif(b8) write_biff_rec(A, 0x01bc /* Prot4RevPass */, writeuint16(0));\n\twrite_biff_rec(A, 0x003d /* Window1 */, write_Window1(opts));\n\twrite_biff_rec(A, 0x0040 /* Backup */, writebool(false));\n\twrite_biff_rec(A, 0x008d /* HideObj */, writeuint16(0));\n\twrite_biff_rec(A, 0x0022 /* Date1904 */, writebool(safe1904(wb)==\"true\"));\n\twrite_biff_rec(A, 0x000e /* CalcPrecision */, writebool(true));\n\tif(b8) write_biff_rec(A, 0x01b7 /* RefreshAll */, writebool(false));\n\twrite_biff_rec(A, 0x00DA /* BookBool */, writeuint16(0));\n\t/* ... */\n\twrite_FONTS_biff8(A, wb, opts);\n\twrite_FMTS_biff8(A, wb.SSF, opts);\n\twrite_CELLXFS_biff8(A, opts);\n\t/* ... */\n\tif(b8) write_biff_rec(A, 0x0160 /* UsesELFs */, writebool(false));\n\tvar a = A.end();\n\n\tvar C = buf_array();\n\t/* METADATA [MTRSettings] [ForceFullCalculation] */\n\tif(b8) write_biff_rec(C, 0x008C, write_Country());\n\t/* *SUPBOOK *LBL *RTD [RecalcId] *HFPicture *MSODRAWINGGROUP */\n\n\t/* BIFF8: [SST *Continue] ExtSST */\n\tif(b8 && opts.Strings) write_biff_continue(C, 0x00FC, write_SST(opts.Strings, opts));\n\n\t/* *WebPub [WOpt] [CrErr] [BookExt] *FeatHdr *DConn [THEME] [CompressPictures] [Compat12] [GUIDTypeLib] */\n\twrite_biff_rec(C, 0x000A /* EOF */);\n\tvar c = C.end();\n\n\tvar B = buf_array();\n\tvar blen = 0, j = 0;\n\tfor(j = 0; j < wb.SheetNames.length; ++j) blen += (b8 ? 12 : 11) + (b8 ? 2 : 1) * wb.SheetNames[j].length;\n\tvar start = a.length + blen + c.length;\n\tfor(j = 0; j < wb.SheetNames.length; ++j) {\n\t\tvar _sheet/*:WBWSProp*/ = _sheets[j] || ({}/*:any*/);\n\t\twrite_biff_rec(B, 0x0085 /* BoundSheet8 */, write_BoundSheet8({pos:start, hs:_sheet.Hidden||0, dt:0, name:wb.SheetNames[j]}, opts));\n\t\tstart += bufs[j].length;\n\t}\n\t/* 1*BoundSheet8 */\n\tvar b = B.end();\n\tif(blen != b.length) throw new Error(\"BS8 \" + blen + \" != \" + b.length);\n\n\tvar out = [];\n\tif(a.length) out.push(a);\n\tif(b.length) out.push(b);\n\tif(c.length) out.push(c);\n\treturn bconcat(out);\n}\n\n/* [MS-XLS] 2.1.7.20 Workbook Stream */\nfunction write_biff8_buf(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\tvar o = opts || {};\n\tvar bufs = [];\n\n\tif(wb && !wb.SSF) {\n\t\twb.SSF = dup(table_fmt);\n\t}\n\tif(wb && wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\to.revssf = evert_num(wb.SSF); o.revssf[wb.SSF[65535]] = 0;\n\t\to.ssf = wb.SSF;\n\t}\n\n\to.Strings = /*::((*/[]/*:: :any):SST)*/; o.Strings.Count = 0; o.Strings.Unique = 0;\n\tfix_write_opts(o);\n\n\to.cellXfs = [];\n\tget_cell_style(o.cellXfs, {}, {revssf:{\"General\":0}});\n\n\tif(!wb.Props) wb.Props = {};\n\n\tfor(var i = 0; i < wb.SheetNames.length; ++i) bufs[bufs.length] = write_ws_biff8(i, o, wb);\n\tbufs.unshift(write_biff8_global(wb, bufs, o));\n\treturn bconcat(bufs);\n}\n\nfunction write_biff_buf(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\tfor(var i = 0; i <= wb.SheetNames.length; ++i) {\n\t\tvar ws = wb.Sheets[wb.SheetNames[i]];\n\t\tif(!ws || !ws[\"!ref\"]) continue;\n\t\tvar range = decode_range(ws[\"!ref\"]);\n\t\tif(range.e.c > 255) { // note: 255 is IV\n\t\tif(typeof console != \"undefined\" && console.error) console.error(\"Worksheet '\" + wb.SheetNames[i] + \"' extends beyond column IV (255).  Data may be lost.\");\n\t\t}\n\t}\n\n\tvar o = opts || {};\n\tswitch(o.biff || 2) {\n\t\tcase 8: case 5: return write_biff8_buf(wb, opts);\n\t\tcase 4: case 3: case 2: return write_biff2_buf(wb, opts);\n\t}\n\tthrow new Error(\"invalid type \" + o.bookType + \" for BIFF\");\n}\n/* note: browser DOM element cannot see mso- style attrs, must parse */\nfunction html_to_sheet(str/*:string*/, _opts)/*:Workbook*/ {\n\tvar opts = _opts || {};\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\tvar ws/*:Worksheet*/ = opts.dense ? ([]/*:any*/) : ({}/*:any*/);\n\tstr = str.replace(/<!--.*?-->/g, \"\");\n\tvar mtch/*:any*/ = str.match(/<table/i);\n\tif(!mtch) throw new Error(\"Invalid HTML: could not find <table>\");\n\tvar mtch2/*:any*/ = str.match(/<\\/table/i);\n\tvar i/*:number*/ = mtch.index, j/*:number*/ = mtch2 && mtch2.index || str.length;\n\tvar rows = split_regex(str.slice(i, j), /(:?<tr[^>]*>)/i, \"<tr>\");\n\tvar R = -1, C = 0, RS = 0, CS = 0;\n\tvar range/*:Range*/ = {s:{r:10000000, c:10000000},e:{r:0,c:0}};\n\tvar merges/*:Array<Range>*/ = [];\n\tfor(i = 0; i < rows.length; ++i) {\n\t\tvar row = rows[i].trim();\n\t\tvar hd = row.slice(0,3).toLowerCase();\n\t\tif(hd == \"<tr\") { ++R; if(opts.sheetRows && opts.sheetRows <= R) { --R; break; } C = 0; continue; }\n\t\tif(hd != \"<td\" && hd != \"<th\") continue;\n\t\tvar cells = row.split(/<\\/t[dh]>/i);\n\t\tfor(j = 0; j < cells.length; ++j) {\n\t\t\tvar cell = cells[j].trim();\n\t\t\tif(!cell.match(/<t[dh]/i)) continue;\n\t\t\tvar m = cell, cc = 0;\n\t\t\t/* TODO: parse styles etc */\n\t\t\twhile(m.charAt(0) == \"<\" && (cc = m.indexOf(\">\")) > -1) m = m.slice(cc+1);\n\t\t\tfor(var midx = 0; midx < merges.length; ++midx) {\n\t\t\t\tvar _merge/*:Range*/ = merges[midx];\n\t\t\t\tif(_merge.s.c == C && _merge.s.r < R && R <= _merge.e.r) { C = _merge.e.c + 1; midx = -1; }\n\t\t\t}\n\t\t\tvar tag = parsexmltag(cell.slice(0, cell.indexOf(\">\")));\n\t\t\tCS = tag.colspan ? +tag.colspan : 1;\n\t\t\tif((RS = +tag.rowspan)>1 || CS>1) merges.push({s:{r:R,c:C},e:{r:R + (RS||1) - 1, c:C + CS - 1}});\n\t\t\tvar _t/*:string*/ = tag.t || tag[\"data-t\"] || \"\";\n\t\t\t/* TODO: generate stub cells */\n\t\t\tif(!m.length) { C += CS; continue; }\n\t\t\tm = htmldecode(m);\n\t\t\tif(range.s.r > R) range.s.r = R; if(range.e.r < R) range.e.r = R;\n\t\t\tif(range.s.c > C) range.s.c = C; if(range.e.c < C) range.e.c = C;\n\t\t\tif(!m.length) { C += CS; continue; }\n\t\t\tvar o/*:Cell*/ = {t:'s', v:m};\n\t\t\tif(opts.raw || !m.trim().length || _t == 's'){}\n\t\t\telse if(m === 'TRUE') o = {t:'b', v:true};\n\t\t\telse if(m === 'FALSE') o = {t:'b', v:false};\n\t\t\telse if(!isNaN(fuzzynum(m))) o = {t:'n', v:fuzzynum(m)};\n\t\t\telse if(!isNaN(fuzzydate(m).getDate())) {\n\t\t\t\to = ({t:'d', v:parseDate(m)}/*:any*/);\n\t\t\t\tif(!opts.cellDates) o = ({t:'n', v:datenum(o.v)}/*:any*/);\n\t\t\t\to.z = opts.dateNF || table_fmt[14];\n\t\t\t}\n\t\t\tif(opts.dense) { if(!ws[R]) ws[R] = []; ws[R][C] = o; }\n\t\t\telse ws[encode_cell({r:R, c:C})] = o;\n\t\t\tC += CS;\n\t\t}\n\t}\n\tws['!ref'] = encode_range(range);\n\tif(merges.length) ws[\"!merges\"] = merges;\n\treturn ws;\n}\nfunction make_html_row(ws/*:Worksheet*/, r/*:Range*/, R/*:number*/, o/*:Sheet2HTMLOpts*/)/*:string*/ {\n\tvar M/*:Array<Range>*/ = (ws['!merges'] ||[]);\n\tvar oo/*:Array<string>*/ = [];\n\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\tvar RS = 0, CS = 0;\n\t\tfor(var j = 0; j < M.length; ++j) {\n\t\t\tif(M[j].s.r > R || M[j].s.c > C) continue;\n\t\t\tif(M[j].e.r < R || M[j].e.c < C) continue;\n\t\t\tif(M[j].s.r < R || M[j].s.c < C) { RS = -1; break; }\n\t\t\tRS = M[j].e.r - M[j].s.r + 1; CS = M[j].e.c - M[j].s.c + 1; break;\n\t\t}\n\t\tif(RS < 0) continue;\n\t\tvar coord = encode_cell({r:R,c:C});\n\t\tvar cell = o.dense ? (ws[R]||[])[C] : ws[coord];\n\t\t/* TODO: html entities */\n\t\tvar w = (cell && cell.v != null) && (cell.h || escapehtml(cell.w || (format_cell(cell), cell.w) || \"\")) || \"\";\n\t\tvar sp = ({}/*:any*/);\n\t\tif(RS > 1) sp.rowspan = RS;\n\t\tif(CS > 1) sp.colspan = CS;\n\t\tif(o.editable) w = '<span contenteditable=\"true\">' + w + '</span>';\n\t\telse if(cell) {\n\t\t\tsp[\"data-t\"] = cell && cell.t || 'z';\n\t\t\tif(cell.v != null) sp[\"data-v\"] = cell.v;\n\t\t\tif(cell.z != null) sp[\"data-z\"] = cell.z;\n\t\t\tif(cell.l && (cell.l.Target || \"#\").charAt(0) != \"#\") w = '<a href=\"' + cell.l.Target +'\">' + w + '</a>';\n\t\t}\n\t\tsp.id = (o.id || \"sjs\") + \"-\" + coord;\n\t\too.push(writextag('td', w, sp));\n\t}\n\tvar preamble = \"<tr>\";\n\treturn preamble + oo.join(\"\") + \"</tr>\";\n}\n\nvar HTML_BEGIN = '<html><head><meta charset=\"utf-8\"/><title>SheetJS Table Export</title></head><body>';\nvar HTML_END = '</body></html>';\n\nfunction html_to_workbook(str/*:string*/, opts)/*:Workbook*/ {\n\tvar mtch = str.match(/<table[\\s\\S]*?>[\\s\\S]*?<\\/table>/gi);\n\tif(!mtch || mtch.length == 0) throw new Error(\"Invalid HTML: could not find <table>\");\n\tif(mtch.length == 1) return sheet_to_workbook(html_to_sheet(mtch[0], opts), opts);\n\tvar wb = book_new();\n\tmtch.forEach(function(s, idx) { book_append_sheet(wb, html_to_sheet(s, opts), \"Sheet\" + (idx+1)); });\n\treturn wb;\n}\n\nfunction make_html_preamble(ws/*:Worksheet*/, R/*:Range*/, o/*:Sheet2HTMLOpts*/)/*:string*/ {\n\tvar out/*:Array<string>*/ = [];\n\treturn out.join(\"\") + '<table' + (o && o.id ? ' id=\"' + o.id + '\"' : \"\") + '>';\n}\n\nfunction sheet_to_html(ws/*:Worksheet*/, opts/*:?Sheet2HTMLOpts*//*, wb:?Workbook*/)/*:string*/ {\n\tvar o = opts || {};\n\tvar header = o.header != null ? o.header : HTML_BEGIN;\n\tvar footer = o.footer != null ? o.footer : HTML_END;\n\tvar out/*:Array<string>*/ = [header];\n\tvar r = decode_range(ws['!ref']);\n\to.dense = Array.isArray(ws);\n\tout.push(make_html_preamble(ws, r, o));\n\tfor(var R = r.s.r; R <= r.e.r; ++R) out.push(make_html_row(ws, r, R, o));\n\tout.push(\"</table>\" + footer);\n\treturn out.join(\"\");\n}\n\nfunction sheet_add_dom(ws/*:Worksheet*/, table/*:HTMLElement*/, _opts/*:?any*/)/*:Worksheet*/ {\n\tvar opts = _opts || {};\n\tif(DENSE != null) opts.dense = DENSE;\n\tvar or_R = 0, or_C = 0;\n\tif(opts.origin != null) {\n\t\tif(typeof opts.origin == 'number') or_R = opts.origin;\n\t\telse {\n\t\t\tvar _origin/*:CellAddress*/ = typeof opts.origin == \"string\" ? decode_cell(opts.origin) : opts.origin;\n\t\t\tor_R = _origin.r; or_C = _origin.c;\n\t\t}\n\t}\n\n\tvar rows/*:HTMLCollection<HTMLTableRowElement>*/ = table.getElementsByTagName('tr');\n\tvar sheetRows = Math.min(opts.sheetRows||10000000, rows.length);\n\tvar range/*:Range*/ = {s:{r:0,c:0},e:{r:or_R,c:or_C}};\n\tif(ws[\"!ref\"]) {\n\t\tvar _range/*:Range*/ = decode_range(ws[\"!ref\"]);\n\t\trange.s.r = Math.min(range.s.r, _range.s.r);\n\t\trange.s.c = Math.min(range.s.c, _range.s.c);\n\t\trange.e.r = Math.max(range.e.r, _range.e.r);\n\t\trange.e.c = Math.max(range.e.c, _range.e.c);\n\t\tif(or_R == -1) range.e.r = or_R = _range.e.r + 1;\n\t}\n\tvar merges/*:Array<Range>*/ = [], midx = 0;\n\tvar rowinfo/*:Array<RowInfo>*/ = ws[\"!rows\"] || (ws[\"!rows\"] = []);\n\tvar _R = 0, R = 0, _C = 0, C = 0, RS = 0, CS = 0;\n\tif(!ws[\"!cols\"]) ws['!cols'] = [];\n\tfor(; _R < rows.length && R < sheetRows; ++_R) {\n\t\tvar row/*:HTMLTableRowElement*/ = rows[_R];\n\t\tif (is_dom_element_hidden(row)) {\n\t\t\tif (opts.display) continue;\n\t\t\trowinfo[R] = {hidden: true};\n\t\t}\n\t\tvar elts/*:HTMLCollection<HTMLTableCellElement>*/ = (row.children/*:any*/);\n\t\tfor(_C = C = 0; _C < elts.length; ++_C) {\n\t\t\tvar elt/*:HTMLTableCellElement*/ = elts[_C];\n\t\t\tif (opts.display && is_dom_element_hidden(elt)) continue;\n\t\t\tvar v/*:?string*/ = elt.hasAttribute('data-v') ? elt.getAttribute('data-v') : elt.hasAttribute('v') ? elt.getAttribute('v') : htmldecode(elt.innerHTML);\n\t\t\tvar z/*:?string*/ = elt.getAttribute('data-z') || elt.getAttribute('z');\n\t\t\tfor(midx = 0; midx < merges.length; ++midx) {\n\t\t\t\tvar m/*:Range*/ = merges[midx];\n\t\t\t\tif(m.s.c == C + or_C && m.s.r < R + or_R && R + or_R <= m.e.r) { C = m.e.c+1 - or_C; midx = -1; }\n\t\t\t}\n\t\t\t/* TODO: figure out how to extract nonstandard mso- style */\n\t\t\tCS = +elt.getAttribute(\"colspan\") || 1;\n\t\t\tif( ((RS = (+elt.getAttribute(\"rowspan\") || 1)))>1 || CS>1) merges.push({s:{r:R + or_R,c:C + or_C},e:{r:R + or_R + (RS||1) - 1, c:C + or_C + (CS||1) - 1}});\n\t\t\tvar o/*:Cell*/ = {t:'s', v:v};\n\t\t\tvar _t/*:string*/ = elt.getAttribute(\"data-t\") || elt.getAttribute(\"t\") || \"\";\n\t\t\tif(v != null) {\n\t\t\t\tif(v.length == 0) o.t = _t || 'z';\n\t\t\t\telse if(opts.raw || v.trim().length == 0 || _t == \"s\"){}\n\t\t\t\telse if(v === 'TRUE') o = {t:'b', v:true};\n\t\t\t\telse if(v === 'FALSE') o = {t:'b', v:false};\n\t\t\t\telse if(!isNaN(fuzzynum(v))) o = {t:'n', v:fuzzynum(v)};\n\t\t\t\telse if(!isNaN(fuzzydate(v).getDate())) {\n\t\t\t\t\to = ({t:'d', v:parseDate(v)}/*:any*/);\n\t\t\t\t\tif(!opts.cellDates) o = ({t:'n', v:datenum(o.v)}/*:any*/);\n\t\t\t\t\to.z = opts.dateNF || table_fmt[14];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(o.z === undefined && z != null) o.z = z;\n\t\t\t/* The first link is used.  Links are assumed to be fully specified.\n\t\t\t * TODO: The right way to process relative links is to make a new <a> */\n\t\t\tvar l = \"\", Aelts = elt.getElementsByTagName(\"A\");\n\t\t\tif(Aelts && Aelts.length) for(var Aelti = 0; Aelti < Aelts.length; ++Aelti)\tif(Aelts[Aelti].hasAttribute(\"href\")) {\n\t\t\t\tl = Aelts[Aelti].getAttribute(\"href\"); if(l.charAt(0) != \"#\") break;\n\t\t\t}\n\t\t\tif(l && l.charAt(0) != \"#\") o.l = ({ Target: l });\n\t\t\tif(opts.dense) { if(!ws[R + or_R]) ws[R + or_R] = []; ws[R + or_R][C + or_C] = o; }\n\t\t\telse ws[encode_cell({c:C + or_C, r:R + or_R})] = o;\n\t\t\tif(range.e.c < C + or_C) range.e.c = C + or_C;\n\t\t\tC += CS;\n\t\t}\n\t\t++R;\n\t}\n\tif(merges.length) ws['!merges'] = (ws[\"!merges\"] || []).concat(merges);\n\trange.e.r = Math.max(range.e.r, R - 1 + or_R);\n\tws['!ref'] = encode_range(range);\n\tif(R >= sheetRows) ws['!fullref'] = encode_range((range.e.r = rows.length-_R+R-1 + or_R,range)); // We can count the real number of rows to parse but we don't to improve the performance\n\treturn ws;\n}\n\nfunction parse_dom_table(table/*:HTMLElement*/, _opts/*:?any*/)/*:Worksheet*/ {\n\tvar opts = _opts || {};\n\tvar ws/*:Worksheet*/ = opts.dense ? ([]/*:any*/) : ({}/*:any*/);\n\treturn sheet_add_dom(ws, table, _opts);\n}\n\nfunction table_to_book(table/*:HTMLElement*/, opts/*:?any*/)/*:Workbook*/ {\n\treturn sheet_to_workbook(parse_dom_table(table, opts), opts);\n}\n\nfunction is_dom_element_hidden(element/*:HTMLElement*/)/*:boolean*/ {\n\tvar display/*:string*/ = '';\n\tvar get_computed_style/*:?function*/ = get_get_computed_style_function(element);\n\tif(get_computed_style) display = get_computed_style(element).getPropertyValue('display');\n\tif(!display) display = element.style && element.style.display;\n\treturn display === 'none';\n}\n\n/* global getComputedStyle */\nfunction get_get_computed_style_function(element/*:HTMLElement*/)/*:?function*/ {\n\t// The proper getComputedStyle implementation is the one defined in the element window\n\tif(element.ownerDocument.defaultView && typeof element.ownerDocument.defaultView.getComputedStyle === 'function') return element.ownerDocument.defaultView.getComputedStyle;\n\t// If it is not available, try to get one from the global namespace\n\tif(typeof getComputedStyle === 'function') return getComputedStyle;\n\treturn null;\n}\n/* OpenDocument */\nfunction parse_text_p(text/*:string*//*::, tag*/)/*:Array<any>*/ {\n\t/* 6.1.2 White Space Characters */\n\tvar fixed = text\n\t\t.replace(/[\\t\\r\\n]/g, \" \").trim().replace(/ +/g, \" \")\n\t\t.replace(/<text:s\\/>/g,\" \")\n\t\t.replace(/<text:s text:c=\"(\\d+)\"\\/>/g, function($$,$1) { return Array(parseInt($1,10)+1).join(\" \"); })\n\t\t.replace(/<text:tab[^>]*\\/>/g,\"\\t\")\n\t\t.replace(/<text:line-break\\/>/g,\"\\n\");\n\tvar v = unescapexml(fixed.replace(/<[^>]*>/g,\"\"));\n\n\treturn [v];\n}\n\nvar number_formats_ods = {\n\t/* ods name: [short ssf fmt, long ssf fmt] */\n\tday:           [\"d\",   \"dd\"],\n\tmonth:         [\"m\",   \"mm\"],\n\tyear:          [\"y\",   \"yy\"],\n\thours:         [\"h\",   \"hh\"],\n\tminutes:       [\"m\",   \"mm\"],\n\tseconds:       [\"s\",   \"ss\"],\n\t\"am-pm\":       [\"A/P\", \"AM/PM\"],\n\t\"day-of-week\": [\"ddd\", \"dddd\"],\n\tera:           [\"e\",   \"ee\"],\n\t/* there is no native representation of LO \"Q\" format */\n\tquarter:       [\"\\\\Qm\", \"m\\\\\\\"th quarter\\\"\"]\n};\n\n\nfunction parse_content_xml(d/*:string*/, _opts)/*:Workbook*/ {\n\t\tvar opts = _opts || {};\n\t\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\t\tvar str = xlml_normalize(d);\n\t\tvar state/*:Array<any>*/ = [], tmp;\n\t\tvar tag/*:: = {}*/;\n\t\tvar NFtag = {name:\"\"}, NF = \"\", pidx = 0;\n\t\tvar sheetag/*:: = {name:\"\", '名称':\"\"}*/;\n\t\tvar rowtag/*:: = {'行号':\"\"}*/;\n\t\tvar Sheets = {}, SheetNames/*:Array<string>*/ = [];\n\t\tvar ws = opts.dense ? ([]/*:any*/) : ({}/*:any*/);\n\t\tvar Rn, q/*:: :any = ({t:\"\", v:null, z:null, w:\"\",c:[],}:any)*/;\n\t\tvar ctag = ({value:\"\"}/*:any*/);\n\t\tvar textp = \"\", textpidx = 0, textptag/*:: = {}*/;\n\t\tvar textR = [];\n\t\tvar R = -1, C = -1, range = {s: {r:1000000,c:10000000}, e: {r:0, c:0}};\n\t\tvar row_ol = 0;\n\t\tvar number_format_map = {};\n\t\tvar merges/*:Array<Range>*/ = [], mrange = {}, mR = 0, mC = 0;\n\t\tvar rowinfo/*:Array<RowInfo>*/ = [], rowpeat = 1, colpeat = 1;\n\t\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\t\tvar WB = {Names:[]};\n\t\tvar atag = ({}/*:any*/);\n\t\tvar _Ref/*:[string, string]*/ = [\"\", \"\"];\n\t\tvar comments/*:Array<Comment>*/ = [], comment/*:Comment*/ = ({}/*:any*/);\n\t\tvar creator = \"\", creatoridx = 0;\n\t\tvar isstub = false, intable = false;\n\t\tvar i = 0;\n\t\txlmlregex.lastIndex = 0;\n\t\tstr = str.replace(/<!--([\\s\\S]*?)-->/mg,\"\").replace(/<!DOCTYPE[^\\[]*\\[[^\\]]*\\]>/gm,\"\");\n\t\twhile((Rn = xlmlregex.exec(str))) switch((Rn[3]=Rn[3].replace(/_.*$/,\"\"))) {\n\n\t\t\tcase 'table': case '工作表': // 9.1.2 <table:table>\n\t\t\t\tif(Rn[1]==='/') {\n\t\t\t\t\tif(range.e.c >= range.s.c && range.e.r >= range.s.r) ws['!ref'] = encode_range(range);\n\t\t\t\t\telse ws['!ref'] = \"A1:A1\";\n\t\t\t\t\tif(opts.sheetRows > 0 && opts.sheetRows <= range.e.r) {\n\t\t\t\t\t\tws['!fullref'] = ws['!ref'];\n\t\t\t\t\t\trange.e.r = opts.sheetRows - 1;\n\t\t\t\t\t\tws['!ref'] = encode_range(range);\n\t\t\t\t\t}\n\t\t\t\t\tif(merges.length) ws['!merges'] = merges;\n\t\t\t\t\tif(rowinfo.length) ws[\"!rows\"] = rowinfo;\n\t\t\t\t\tsheetag.name = sheetag['名称'] || sheetag.name;\n\t\t\t\t\tif(typeof JSON !== 'undefined') JSON.stringify(sheetag);\n\t\t\t\t\tSheetNames.push(sheetag.name);\n\t\t\t\t\tSheets[sheetag.name] = ws;\n\t\t\t\t\tintable = false;\n\t\t\t\t}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\t\tsheetag = parsexmltag(Rn[0], false);\n\t\t\t\t\tR = C = -1;\n\t\t\t\t\trange.s.r = range.s.c = 10000000; range.e.r = range.e.c = 0;\n\t\t\t\t\tws = opts.dense ? ([]/*:any*/) : ({}/*:any*/); merges = [];\n\t\t\t\t\trowinfo = [];\n\t\t\t\t\tintable = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'table-row-group': // 9.1.9 <table:table-row-group>\n\t\t\t\tif(Rn[1] === \"/\") --row_ol; else ++row_ol;\n\t\t\t\tbreak;\n\t\t\tcase 'table-row': case '行': // 9.1.3 <table:table-row>\n\t\t\t\tif(Rn[1] === '/') { R+=rowpeat; rowpeat = 1; break; }\n\t\t\t\trowtag = parsexmltag(Rn[0], false);\n\t\t\t\tif(rowtag['行号']) R = rowtag['行号'] - 1; else if(R == -1) R = 0;\n\t\t\t\trowpeat = +rowtag['number-rows-repeated'] || 1;\n\t\t\t\t/* TODO: remove magic */\n\t\t\t\tif(rowpeat < 10) for(i = 0; i < rowpeat; ++i) if(row_ol > 0) rowinfo[R + i] = {level: row_ol};\n\t\t\t\tC = -1; break;\n\t\t\tcase 'covered-table-cell': // 9.1.5 <table:covered-table-cell>\n\t\t\t\tif(Rn[1] !== '/') ++C;\n\t\t\t\tif(opts.sheetStubs) {\n\t\t\t\t\tif(opts.dense) { if(!ws[R]) ws[R] = []; ws[R][C] = {t:'z'}; }\n\t\t\t\t\telse ws[encode_cell({r:R,c:C})] = {t:'z'};\n\t\t\t\t}\n\t\t\t\ttextp = \"\"; textR = [];\n\t\t\t\tbreak; /* stub */\n\t\t\tcase 'table-cell': case '数据':\n\t\t\t\tif(Rn[0].charAt(Rn[0].length-2) === '/') {\n\t\t\t\t\t++C;\n\t\t\t\t\tctag = parsexmltag(Rn[0], false);\n\t\t\t\t\tcolpeat = parseInt(ctag['number-columns-repeated']||\"1\", 10);\n\t\t\t\t\tq = ({t:'z', v:null/*:: , z:null, w:\"\",c:[]*/}/*:any*/);\n\t\t\t\t\tif(ctag.formula && opts.cellFormula != false) q.f = ods_to_csf_formula(unescapexml(ctag.formula));\n\t\t\t\t\tif((ctag['数据类型'] || ctag['value-type']) == \"string\") {\n\t\t\t\t\t\tq.t = \"s\"; q.v = unescapexml(ctag['string-value'] || \"\");\n\t\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\t\tif(!ws[R]) ws[R] = [];\n\t\t\t\t\t\t\tws[R][C] = q;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tws[encode_cell({r:R,c:C})] = q;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tC+= colpeat-1;\n\t\t\t\t} else if(Rn[1]!=='/') {\n\t\t\t\t\t++C;\n\t\t\t\t\ttextp = \"\"; textpidx = 0; textR = [];\n\t\t\t\t\tcolpeat = 1;\n\t\t\t\t\tvar rptR = rowpeat ? R + rowpeat - 1 : R;\n\t\t\t\t\tif(C > range.e.c) range.e.c = C;\n\t\t\t\t\tif(C < range.s.c) range.s.c = C;\n\t\t\t\t\tif(R < range.s.r) range.s.r = R;\n\t\t\t\t\tif(rptR > range.e.r) range.e.r = rptR;\n\t\t\t\t\tctag = parsexmltag(Rn[0], false);\n\t\t\t\t\tcomments = []; comment = ({}/*:any*/);\n\t\t\t\t\tq = ({t:ctag['数据类型'] || ctag['value-type'], v:null/*:: , z:null, w:\"\",c:[]*/}/*:any*/);\n\t\t\t\t\tif(opts.cellFormula) {\n\t\t\t\t\t\tif(ctag.formula) ctag.formula = unescapexml(ctag.formula);\n\t\t\t\t\t\tif(ctag['number-matrix-columns-spanned'] && ctag['number-matrix-rows-spanned']) {\n\t\t\t\t\t\t\tmR = parseInt(ctag['number-matrix-rows-spanned'],10) || 0;\n\t\t\t\t\t\t\tmC = parseInt(ctag['number-matrix-columns-spanned'],10) || 0;\n\t\t\t\t\t\t\tmrange = {s: {r:R,c:C}, e:{r:R + mR-1,c:C + mC-1}};\n\t\t\t\t\t\t\tq.F = encode_range(mrange);\n\t\t\t\t\t\t\tarrayf.push([mrange, q.F]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(ctag.formula) q.f = ods_to_csf_formula(ctag.formula);\n\t\t\t\t\t\telse for(i = 0; i < arrayf.length; ++i)\n\t\t\t\t\t\t\tif(R >= arrayf[i][0].s.r && R <= arrayf[i][0].e.r)\n\t\t\t\t\t\t\t\tif(C >= arrayf[i][0].s.c && C <= arrayf[i][0].e.c)\n\t\t\t\t\t\t\t\t\tq.F = arrayf[i][1];\n\t\t\t\t\t}\n\t\t\t\t\tif(ctag['number-columns-spanned'] || ctag['number-rows-spanned']) {\n\t\t\t\t\t\tmR = parseInt(ctag['number-rows-spanned'],10) || 0;\n\t\t\t\t\t\tmC = parseInt(ctag['number-columns-spanned'],10) || 0;\n\t\t\t\t\t\tmrange = {s: {r:R,c:C}, e:{r:R + mR-1,c:C + mC-1}};\n\t\t\t\t\t\tmerges.push(mrange);\n\t\t\t\t\t}\n\n\t\t\t\t\t/* 19.675.2 table:number-columns-repeated */\n\t\t\t\t\tif(ctag['number-columns-repeated']) colpeat = parseInt(ctag['number-columns-repeated'], 10);\n\n\t\t\t\t\t/* 19.385 office:value-type */\n\t\t\t\t\tswitch(q.t) {\n\t\t\t\t\t\tcase 'boolean': q.t = 'b'; q.v = parsexmlbool(ctag['boolean-value']); break;\n\t\t\t\t\t\tcase 'float': q.t = 'n'; q.v = parseFloat(ctag.value); break;\n\t\t\t\t\t\tcase 'percentage': q.t = 'n'; q.v = parseFloat(ctag.value); break;\n\t\t\t\t\t\tcase 'currency': q.t = 'n'; q.v = parseFloat(ctag.value); break;\n\t\t\t\t\t\tcase 'date': q.t = 'd'; q.v = parseDate(ctag['date-value']);\n\t\t\t\t\t\t\tif(!opts.cellDates) { q.t = 'n'; q.v = datenum(q.v); }\n\t\t\t\t\t\t\tq.z = 'm/d/yy'; break;\n\t\t\t\t\t\tcase 'time': q.t = 'n'; q.v = parse_isodur(ctag['time-value'])/86400;\n\t\t\t\t\t\t\tif(opts.cellDates) { q.t = 'd'; q.v = numdate(q.v); }\n\t\t\t\t\t\t\tq.z = 'HH:MM:SS'; break;\n\t\t\t\t\t\tcase 'number': q.t = 'n'; q.v = parseFloat(ctag['数据数值']); break;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif(q.t === 'string' || q.t === 'text' || !q.t) {\n\t\t\t\t\t\t\t\tq.t = 's';\n\t\t\t\t\t\t\t\tif(ctag['string-value'] != null) { textp = unescapexml(ctag['string-value']); textR = []; }\n\t\t\t\t\t\t\t} else throw new Error('Unsupported value type ' + q.t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tisstub = false;\n\t\t\t\t\tif(q.t === 's') {\n\t\t\t\t\t\tq.v = textp || '';\n\t\t\t\t\t\tif(textR.length) q.R = textR;\n\t\t\t\t\t\tisstub = textpidx == 0;\n\t\t\t\t\t}\n\t\t\t\t\tif(atag.Target) q.l = atag;\n\t\t\t\t\tif(comments.length > 0) { q.c = comments; comments = []; }\n\t\t\t\t\tif(textp && opts.cellText !== false) q.w = textp;\n\t\t\t\t\tif(isstub) { q.t = \"z\"; delete q.v; }\n\t\t\t\t\tif(!isstub || opts.sheetStubs) {\n\t\t\t\t\t\tif(!(opts.sheetRows && opts.sheetRows <= R)) {\n\t\t\t\t\t\t\tfor(var rpt = 0; rpt < rowpeat; ++rpt) {\n\t\t\t\t\t\t\t\tcolpeat = parseInt(ctag['number-columns-repeated']||\"1\", 10);\n\t\t\t\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\t\t\t\tif(!ws[R + rpt]) ws[R + rpt] = [];\n\t\t\t\t\t\t\t\t\tws[R + rpt][C] = rpt == 0 ? q : dup(q);\n\t\t\t\t\t\t\t\t\twhile(--colpeat > 0) ws[R + rpt][C + colpeat] = dup(q);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tws[encode_cell({r:R + rpt,c:C})] = q;\n\t\t\t\t\t\t\t\t\twhile(--colpeat > 0) ws[encode_cell({r:R + rpt,c:C + colpeat})] = dup(q);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(range.e.c <= C) range.e.c = C;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcolpeat = parseInt(ctag['number-columns-repeated']||\"1\", 10);\n\t\t\t\t\tC += colpeat-1; colpeat = 0;\n\t\t\t\t\tq = {/*:: t:\"\", v:null, z:null, w:\"\",c:[]*/};\n\t\t\t\t\ttextp = \"\"; textR = [];\n\t\t\t\t}\n\t\t\t\tatag = ({}/*:any*/);\n\t\t\t\tbreak; // 9.1.4 <table:table-cell>\n\n\t\t\t/* pure state */\n\t\t\tcase 'document': // TODO: <office:document> is the root for FODS\n\t\t\tcase 'document-content': case '电子表格文档': // 3.1.3.2 <office:document-content>\n\t\t\tcase 'spreadsheet': case '主体': // 3.7 <office:spreadsheet>\n\t\t\tcase 'scripts': // 3.12 <office:scripts>\n\t\t\tcase 'styles': // TODO <office:styles>\n\t\t\tcase 'font-face-decls': // 3.14 <office:font-face-decls>\n\t\t\tcase 'master-styles': // 3.15.4 <office:master-styles> -- relevant for FODS\n\t\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\t\tbreak;\n\n\t\t\tcase 'annotation': // 14.1 <office:annotation>\n\t\t\t\tif(Rn[1]==='/'){\n\t\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;\n\t\t\t\t\tcomment.t = textp;\n\t\t\t\t\tif(textR.length) /*::(*/comment/*:: :any)*/.R = textR;\n\t\t\t\t\tcomment.a = creator;\n\t\t\t\t\tcomments.push(comment);\n\t\t\t\t}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') {state.push([Rn[3], false]);}\n\t\t\t\tcreator = \"\"; creatoridx = 0;\n\t\t\t\ttextp = \"\"; textpidx = 0; textR = [];\n\t\t\t\tbreak;\n\n\t\t\tcase 'creator': // 4.3.2.7 <dc:creator>\n\t\t\t\tif(Rn[1]==='/') { creator = str.slice(creatoridx,Rn.index); }\n\t\t\t\telse creatoridx = Rn.index + Rn[0].length;\n\t\t\t\tbreak;\n\n\t\t\t/* ignore state */\n\t\t\tcase 'meta': case '元数据': // TODO: <office:meta> <uof:元数据> FODS/UOF\n\t\t\tcase 'settings': // TODO: <office:settings>\n\t\t\tcase 'config-item-set': // TODO: <office:config-item-set>\n\t\t\tcase 'config-item-map-indexed': // TODO: <office:config-item-map-indexed>\n\t\t\tcase 'config-item-map-entry': // TODO: <office:config-item-map-entry>\n\t\t\tcase 'config-item-map-named': // TODO: <office:config-item-map-entry>\n\t\t\tcase 'shapes': // 9.2.8 <table:shapes>\n\t\t\tcase 'frame': // 10.4.2 <draw:frame>\n\t\t\tcase 'text-box': // 10.4.3 <draw:text-box>\n\t\t\tcase 'image': // 10.4.4 <draw:image>\n\t\t\tcase 'data-pilot-tables': // 9.6.2 <table:data-pilot-tables>\n\t\t\tcase 'list-style': // 16.30 <text:list-style>\n\t\t\tcase 'form': // 13.13 <form:form>\n\t\t\tcase 'dde-links': // 9.8 <table:dde-links>\n\t\t\tcase 'event-listeners': // TODO\n\t\t\tcase 'chart': // TODO\n\t\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], false]);\n\t\t\t\ttextp = \"\"; textpidx = 0; textR = [];\n\t\t\t\tbreak;\n\n\t\t\tcase 'scientific-number': // TODO: <number:scientific-number>\n\t\t\t\tbreak;\n\t\t\tcase 'currency-symbol': // TODO: <number:currency-symbol>\n\t\t\t\tbreak;\n\t\t\tcase 'currency-style': // TODO: <number:currency-style>\n\t\t\t\tbreak;\n\t\t\tcase 'number-style': // 16.27.2 <number:number-style>\n\t\t\tcase 'percentage-style': // 16.27.9 <number:percentage-style>\n\t\t\tcase 'date-style': // 16.27.10 <number:date-style>\n\t\t\tcase 'time-style': // 16.27.18 <number:time-style>\n\t\t\t\tif(Rn[1]==='/'){\n\t\t\t\t\tnumber_format_map[NFtag.name] = NF;\n\t\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;\n\t\t\t\t} else if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\t\tNF = \"\";\n\t\t\t\t\tNFtag = parsexmltag(Rn[0], false);\n\t\t\t\t\tstate.push([Rn[3], true]);\n\t\t\t\t} break;\n\n\t\t\tcase 'script': break; // 3.13 <office:script>\n\t\t\tcase 'libraries': break; // TODO: <ooo:libraries>\n\t\t\tcase 'automatic-styles': break; // 3.15.3 <office:automatic-styles>\n\n\t\t\tcase 'default-style': // TODO: <style:default-style>\n\t\t\tcase 'page-layout': break; // TODO: <style:page-layout>\n\t\t\tcase 'style': // 16.2 <style:style>\n\t\t\t\tbreak;\n\t\t\tcase 'map': break; // 16.3 <style:map>\n\t\t\tcase 'font-face': break; // 16.21 <style:font-face>\n\n\t\t\tcase 'paragraph-properties': break; // 17.6 <style:paragraph-properties>\n\t\t\tcase 'table-properties': break; // 17.15 <style:table-properties>\n\t\t\tcase 'table-column-properties': break; // 17.16 <style:table-column-properties>\n\t\t\tcase 'table-row-properties': break; // 17.17 <style:table-row-properties>\n\t\t\tcase 'table-cell-properties': break; // 17.18 <style:table-cell-properties>\n\n\t\t\tcase 'number': // 16.27.3 <number:number>\n\t\t\t\tswitch(state[state.length-1][0]) {\n\t\t\t\t\tcase 'time-style':\n\t\t\t\t\tcase 'date-style':\n\t\t\t\t\t\ttag = parsexmltag(Rn[0], false);\n\t\t\t\t\t\tNF += number_formats_ods[Rn[3]][tag.style==='long'?1:0]; break;\n\t\t\t\t} break;\n\n\t\t\tcase 'fraction': break; // TODO 16.27.6 <number:fraction>\n\n\t\t\tcase 'day': // 16.27.11 <number:day>\n\t\t\tcase 'month': // 16.27.12 <number:month>\n\t\t\tcase 'year': // 16.27.13 <number:year>\n\t\t\tcase 'era': // 16.27.14 <number:era>\n\t\t\tcase 'day-of-week': // 16.27.15 <number:day-of-week>\n\t\t\tcase 'week-of-year': // 16.27.16 <number:week-of-year>\n\t\t\tcase 'quarter': // 16.27.17 <number:quarter>\n\t\t\tcase 'hours': // 16.27.19 <number:hours>\n\t\t\tcase 'minutes': // 16.27.20 <number:minutes>\n\t\t\tcase 'seconds': // 16.27.21 <number:seconds>\n\t\t\tcase 'am-pm': // 16.27.22 <number:am-pm>\n\t\t\t\tswitch(state[state.length-1][0]) {\n\t\t\t\t\tcase 'time-style':\n\t\t\t\t\tcase 'date-style':\n\t\t\t\t\t\ttag = parsexmltag(Rn[0], false);\n\t\t\t\t\t\tNF += number_formats_ods[Rn[3]][tag.style==='long'?1:0]; break;\n\t\t\t\t} break;\n\n\t\t\tcase 'boolean-style': break; // 16.27.23 <number:boolean-style>\n\t\t\tcase 'boolean': break; // 16.27.24 <number:boolean>\n\t\t\tcase 'text-style': break; // 16.27.25 <number:text-style>\n\t\t\tcase 'text': // 16.27.26 <number:text>\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\t\telse if(Rn[1]===\"/\") switch(state[state.length-1][0]) {\n\t\t\t\t\tcase 'number-style':\n\t\t\t\t\tcase 'date-style':\n\t\t\t\t\tcase 'time-style':\n\t\t\t\t\t\tNF += str.slice(pidx, Rn.index);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse pidx = Rn.index + Rn[0].length;\n\t\t\t\tbreak;\n\n\t\t\tcase 'named-range': // 9.4.12 <table:named-range>\n\t\t\t\ttag = parsexmltag(Rn[0], false);\n\t\t\t\t_Ref = ods_to_csf_3D(tag['cell-range-address']);\n\t\t\t\tvar nrange = ({Name:tag.name, Ref:_Ref[0] + '!' + _Ref[1]}/*:any*/);\n\t\t\t\tif(intable) nrange.Sheet = SheetNames.length;\n\t\t\t\tWB.Names.push(nrange);\n\t\t\t\tbreak;\n\n\t\t\tcase 'text-content': break; // 16.27.27 <number:text-content>\n\t\t\tcase 'text-properties': break; // 16.27.27 <style:text-properties>\n\t\t\tcase 'embedded-text': break; // 16.27.4 <number:embedded-text>\n\n\t\t\tcase 'body': case '电子表格': break; // 3.3 16.9.6 19.726.3\n\n\t\t\tcase 'forms': break; // 12.25.2 13.2\n\t\t\tcase 'table-column': break; // 9.1.6 <table:table-column>\n\t\t\tcase 'table-header-rows': break; // 9.1.7 <table:table-header-rows>\n\t\t\tcase 'table-rows': break; // 9.1.12 <table:table-rows>\n\t\t\t/* TODO: outline levels */\n\t\t\tcase 'table-column-group': break; // 9.1.10 <table:table-column-group>\n\t\t\tcase 'table-header-columns': break; // 9.1.11 <table:table-header-columns>\n\t\t\tcase 'table-columns': break; // 9.1.12 <table:table-columns>\n\n\t\t\tcase 'null-date': break; // 9.4.2 <table:null-date> TODO: date1904\n\n\t\t\tcase 'graphic-properties': break; // 17.21 <style:graphic-properties>\n\t\t\tcase 'calculation-settings': break; // 9.4.1 <table:calculation-settings>\n\t\t\tcase 'named-expressions': break; // 9.4.11 <table:named-expressions>\n\t\t\tcase 'label-range': break; // 9.4.9 <table:label-range>\n\t\t\tcase 'label-ranges': break; // 9.4.10 <table:label-ranges>\n\t\t\tcase 'named-expression': break; // 9.4.13 <table:named-expression>\n\t\t\tcase 'sort': break; // 9.4.19 <table:sort>\n\t\t\tcase 'sort-by': break; // 9.4.20 <table:sort-by>\n\t\t\tcase 'sort-groups': break; // 9.4.22 <table:sort-groups>\n\n\t\t\tcase 'tab': break; // 6.1.4 <text:tab>\n\t\t\tcase 'line-break': break; // 6.1.5 <text:line-break>\n\t\t\tcase 'span': break; // 6.1.7 <text:span>\n\t\t\tcase 'p': case '文本串': // 5.1.3 <text:p>\n\t\t\t\tif(['master-styles'].indexOf(state[state.length-1][0]) > -1) break;\n\t\t\t\tif(Rn[1]==='/' && (!ctag || !ctag['string-value'])) {\n\t\t\t\t\tvar ptp = parse_text_p(str.slice(textpidx,Rn.index), textptag);\n\t\t\t\t\ttextp = (textp.length > 0 ? textp + \"\\n\" : \"\") + ptp[0];\n\t\t\t\t} else { textptag = parsexmltag(Rn[0], false); textpidx = Rn.index + Rn[0].length; }\n\t\t\t\tbreak; // <text:p>\n\t\t\tcase 's': break; // <text:s>\n\n\t\t\tcase 'database-range': // 9.4.15 <table:database-range>\n\t\t\t\tif(Rn[1]==='/') break;\n\t\t\t\ttry {\n\t\t\t\t\t_Ref = ods_to_csf_3D(parsexmltag(Rn[0])['target-range-address']);\n\t\t\t\t\tSheets[_Ref[0]]['!autofilter'] = { ref:_Ref[1] };\n\t\t\t\t} catch(e) {/* empty */}\n\t\t\t\tbreak;\n\n\t\t\tcase 'date': break; // <*:date>\n\n\t\t\tcase 'object': break; // 10.4.6.2 <draw:object>\n\t\t\tcase 'title': case '标题': break; // <*:title> OR <uof:标题>\n\t\t\tcase 'desc': break; // <*:desc>\n\t\t\tcase 'binary-data': break; // 10.4.5 TODO: b64 blob\n\n\t\t\t/* 9.2 Advanced Tables */\n\t\t\tcase 'table-source': break; // 9.2.6\n\t\t\tcase 'scenario': break; // 9.2.6\n\n\t\t\tcase 'iteration': break; // 9.4.3 <table:iteration>\n\t\t\tcase 'content-validations': break; // 9.4.4 <table:\n\t\t\tcase 'content-validation': break; // 9.4.5 <table:\n\t\t\tcase 'help-message': break; // 9.4.6 <table:\n\t\t\tcase 'error-message': break; // 9.4.7 <table:\n\t\t\tcase 'database-ranges': break; // 9.4.14 <table:database-ranges>\n\t\t\tcase 'filter': break; // 9.5.2 <table:filter>\n\t\t\tcase 'filter-and': break; // 9.5.3 <table:filter-and>\n\t\t\tcase 'filter-or': break; // 9.5.4 <table:filter-or>\n\t\t\tcase 'filter-condition': break; // 9.5.5 <table:filter-condition>\n\n\t\t\tcase 'list-level-style-bullet': break; // 16.31 <text:\n\t\t\tcase 'list-level-style-number': break; // 16.32 <text:\n\t\t\tcase 'list-level-properties': break; // 17.19 <style:\n\n\t\t\t/* 7.3 Document Fields */\n\t\t\tcase 'sender-firstname': // 7.3.6.2\n\t\t\tcase 'sender-lastname': // 7.3.6.3\n\t\t\tcase 'sender-initials': // 7.3.6.4\n\t\t\tcase 'sender-title': // 7.3.6.5\n\t\t\tcase 'sender-position': // 7.3.6.6\n\t\t\tcase 'sender-email': // 7.3.6.7\n\t\t\tcase 'sender-phone-private': // 7.3.6.8\n\t\t\tcase 'sender-fax': // 7.3.6.9\n\t\t\tcase 'sender-company': // 7.3.6.10\n\t\t\tcase 'sender-phone-work': // 7.3.6.11\n\t\t\tcase 'sender-street': // 7.3.6.12\n\t\t\tcase 'sender-city': // 7.3.6.13\n\t\t\tcase 'sender-postal-code': // 7.3.6.14\n\t\t\tcase 'sender-country': // 7.3.6.15\n\t\t\tcase 'sender-state-or-province': // 7.3.6.16\n\t\t\tcase 'author-name': // 7.3.7.1\n\t\t\tcase 'author-initials': // 7.3.7.2\n\t\t\tcase 'chapter': // 7.3.8\n\t\t\tcase 'file-name': // 7.3.9\n\t\t\tcase 'template-name': // 7.3.9\n\t\t\tcase 'sheet-name': // 7.3.9\n\t\t\t\tbreak;\n\n\t\t\tcase 'event-listener':\n\t\t\t\tbreak;\n\t\t\t/* TODO: FODS Properties */\n\t\t\tcase 'initial-creator':\n\t\t\tcase 'creation-date':\n\t\t\tcase 'print-date':\n\t\t\tcase 'generator':\n\t\t\tcase 'document-statistic':\n\t\t\tcase 'user-defined':\n\t\t\tcase 'editing-duration':\n\t\t\tcase 'editing-cycles':\n\t\t\t\tbreak;\n\n\t\t\t/* TODO: FODS Config */\n\t\t\tcase 'config-item':\n\t\t\t\tbreak;\n\n\t\t\t/* TODO: style tokens */\n\t\t\tcase 'page-number': break; // TODO <text:page-number>\n\t\t\tcase 'page-count': break; // TODO <text:page-count>\n\t\t\tcase 'time': break; // TODO <text:time>\n\n\t\t\t/* 9.3 Advanced Table Cells */\n\t\t\tcase 'cell-range-source': break; // 9.3.1 <table:\n\t\t\tcase 'detective': break; // 9.3.2 <table:\n\t\t\tcase 'operation': break; // 9.3.3 <table:\n\t\t\tcase 'highlighted-range': break; // 9.3.4 <table:\n\n\t\t\t/* 9.6 Data Pilot Tables <table: */\n\t\t\tcase 'data-pilot-table': // 9.6.3\n\t\t\tcase 'source-cell-range': // 9.6.5\n\t\t\tcase 'source-service': // 9.6.6\n\t\t\tcase 'data-pilot-field': // 9.6.7\n\t\t\tcase 'data-pilot-level': // 9.6.8\n\t\t\tcase 'data-pilot-subtotals': // 9.6.9\n\t\t\tcase 'data-pilot-subtotal': // 9.6.10\n\t\t\tcase 'data-pilot-members': // 9.6.11\n\t\t\tcase 'data-pilot-member': // 9.6.12\n\t\t\tcase 'data-pilot-display-info': // 9.6.13\n\t\t\tcase 'data-pilot-sort-info': // 9.6.14\n\t\t\tcase 'data-pilot-layout-info': // 9.6.15\n\t\t\tcase 'data-pilot-field-reference': // 9.6.16\n\t\t\tcase 'data-pilot-groups': // 9.6.17\n\t\t\tcase 'data-pilot-group': // 9.6.18\n\t\t\tcase 'data-pilot-group-member': // 9.6.19\n\t\t\t\tbreak;\n\n\t\t\t/* 10.3 Drawing Shapes */\n\t\t\tcase 'rect': // 10.3.2\n\t\t\t\tbreak;\n\n\t\t\t/* 14.6 DDE Connections */\n\t\t\tcase 'dde-connection-decls': // 14.6.2 <text:\n\t\t\tcase 'dde-connection-decl': // 14.6.3 <text:\n\t\t\tcase 'dde-link': // 14.6.4 <table:\n\t\t\tcase 'dde-source': // 14.6.5 <office:\n\t\t\t\tbreak;\n\n\t\t\tcase 'properties': break; // 13.7 <form:properties>\n\t\t\tcase 'property': break; // 13.8 <form:property>\n\n\t\t\tcase 'a': // 6.1.8 hyperlink\n\t\t\t\tif(Rn[1]!== '/') {\n\t\t\t\t\tatag = parsexmltag(Rn[0], false);\n\t\t\t\t\tif(!atag.href) break;\n\t\t\t\t\tatag.Target = unescapexml(atag.href); delete atag.href;\n\t\t\t\t\tif(atag.Target.charAt(0) == \"#\" && atag.Target.indexOf(\".\") > -1) {\n\t\t\t\t\t\t_Ref = ods_to_csf_3D(atag.Target.slice(1));\n\t\t\t\t\t\tatag.Target = \"#\" + _Ref[0] + \"!\" + _Ref[1];\n\t\t\t\t\t} else if(atag.Target.match(/^\\.\\.[\\\\\\/]/)) atag.Target = atag.Target.slice(3);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t/* non-standard */\n\t\t\tcase 'table-protection': break;\n\t\t\tcase 'data-pilot-grand-total': break; // <table:\n\t\t\tcase 'office-document-common-attrs': break; // bare\n\t\t\tdefault: switch(Rn[2]) {\n\t\t\t\tcase 'dc:':       // TODO: properties\n\t\t\t\tcase 'calcext:':  // ignore undocumented extensions\n\t\t\t\tcase 'loext:':    // ignore undocumented extensions\n\t\t\t\tcase 'ooo:':      // ignore undocumented extensions\n\t\t\t\tcase 'chartooo:': // ignore undocumented extensions\n\t\t\t\tcase 'draw:':     // TODO: drawing\n\t\t\t\tcase 'style:':    // TODO: styles\n\t\t\t\tcase 'chart:':    // TODO: charts\n\t\t\t\tcase 'form:':     // TODO: forms\n\t\t\t\tcase 'uof:':      // TODO: uof\n\t\t\t\tcase '表:':       // TODO: uof\n\t\t\t\tcase '字:':       // TODO: uof\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: if(opts.WTF) throw new Error(Rn);\n\t\t\t}\n\t\t}\n\t\tvar out/*:Workbook*/ = ({\n\t\t\tSheets: Sheets,\n\t\t\tSheetNames: SheetNames,\n\t\t\tWorkbook: WB\n\t\t}/*:any*/);\n\t\tif(opts.bookSheets) delete /*::(*/out/*:: :any)*/.Sheets;\n\t\treturn out;\n}\n\nfunction parse_ods(zip/*:ZIPFile*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\topts = opts || ({}/*:any*/);\n\tif(safegetzipfile(zip, 'META-INF/manifest.xml')) parse_manifest(getzipdata(zip, 'META-INF/manifest.xml'), opts);\n\tvar content = getzipstr(zip, 'content.xml');\n\tif(!content) throw new Error(\"Missing content.xml in ODS / UOF file\");\n\tvar wb = parse_content_xml(utf8read(content), opts);\n\tif(safegetzipfile(zip, 'meta.xml')) wb.Props = parse_core_props(getzipdata(zip, 'meta.xml'));\n\treturn wb;\n}\nfunction parse_fods(data/*:string*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\treturn parse_content_xml(data, opts);\n}\n\n/* OpenDocument */\nvar write_styles_ods/*:{(wb:any, opts:any):string}*/ = /* @__PURE__ */(function() {\n\tvar master_styles = [\n\t\t'<office:master-styles>',\n\t\t\t'<style:master-page style:name=\"mp1\" style:page-layout-name=\"mp1\">',\n\t\t\t\t'<style:header/>',\n\t\t\t\t'<style:header-left style:display=\"false\"/>',\n\t\t\t\t'<style:footer/>',\n\t\t\t\t'<style:footer-left style:display=\"false\"/>',\n\t\t\t'</style:master-page>',\n\t\t'</office:master-styles>'\n\t].join(\"\");\n\n\tvar payload = '<office:document-styles ' + wxt_helper({\n\t\t'xmlns:office':   \"urn:oasis:names:tc:opendocument:xmlns:office:1.0\",\n\t\t'xmlns:table':    \"urn:oasis:names:tc:opendocument:xmlns:table:1.0\",\n\t\t'xmlns:style':    \"urn:oasis:names:tc:opendocument:xmlns:style:1.0\",\n\t\t'xmlns:text':     \"urn:oasis:names:tc:opendocument:xmlns:text:1.0\",\n\t\t'xmlns:draw':     \"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0\",\n\t\t'xmlns:fo':       \"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0\",\n\t\t'xmlns:xlink':    \"http://www.w3.org/1999/xlink\",\n\t\t'xmlns:dc':       \"http://purl.org/dc/elements/1.1/\",\n\t\t'xmlns:number':   \"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0\",\n\t\t'xmlns:svg':      \"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0\",\n\t\t'xmlns:of':       \"urn:oasis:names:tc:opendocument:xmlns:of:1.2\",\n\t\t'office:version': \"1.2\"\n\t}) + '>' + master_styles + '</office:document-styles>';\n\n\treturn function wso(/*::wb, opts*/) {\n\t\treturn XML_HEADER + payload;\n\t};\n})();\nvar write_content_ods/*:{(wb:any, opts:any):string}*/ = /* @__PURE__ */(function() {\n\t/* 6.1.2 White Space Characters */\n\tvar write_text_p = function(text/*:string*/)/*:string*/ {\n\t\treturn escapexml(text)\n\t\t\t.replace(/  +/g, function($$){return '<text:s text:c=\"'+$$.length+'\"/>';})\n\t\t\t.replace(/\\t/g, \"<text:tab/>\")\n\t\t\t.replace(/\\n/g, \"</text:p><text:p>\")\n\t\t\t.replace(/^ /, \"<text:s/>\").replace(/ $/, \"<text:s/>\");\n\t};\n\n\tvar null_cell_xml = '          <table:table-cell />\\n';\n\tvar covered_cell_xml = '          <table:covered-table-cell/>\\n';\n\tvar write_ws = function(ws, wb/*:Workbook*/, i/*:number*//*::, opts*/)/*:string*/ {\n\t\t/* Section 9 Tables */\n\t\tvar o/*:Array<string>*/ = [];\n\t\to.push('      <table:table table:name=\"' + escapexml(wb.SheetNames[i]) + '\" table:style-name=\"ta1\">\\n');\n\t\tvar R=0,C=0, range = decode_range(ws['!ref']||\"A1\");\n\t\tvar marr/*:Array<Range>*/ = ws['!merges'] || [], mi = 0;\n\t\tvar dense = Array.isArray(ws);\n\t\tif(ws[\"!cols\"]) {\n\t\t\tfor(C = 0; C <= range.e.c; ++C) o.push('        <table:table-column' + (ws[\"!cols\"][C] ? ' table:style-name=\"co' + ws[\"!cols\"][C].ods + '\"' : '') + '></table:table-column>\\n');\n\t\t}\n\t\tvar H = \"\", ROWS = ws[\"!rows\"]||[];\n\t\tfor(R = 0; R < range.s.r; ++R) {\n\t\t\tH = ROWS[R] ? ' table:style-name=\"ro' + ROWS[R].ods + '\"' : \"\";\n\t\t\to.push('        <table:table-row' + H + '></table:table-row>\\n');\n\t\t}\n\t\tfor(; R <= range.e.r; ++R) {\n\t\t\tH = ROWS[R] ? ' table:style-name=\"ro' + ROWS[R].ods + '\"' : \"\";\n\t\t\to.push('        <table:table-row' + H + '>\\n');\n\t\t\tfor(C=0; C < range.s.c; ++C) o.push(null_cell_xml);\n\t\t\tfor(; C <= range.e.c; ++C) {\n\t\t\t\tvar skip = false, ct = {}, textp = \"\";\n\t\t\t\tfor(mi = 0; mi != marr.length; ++mi) {\n\t\t\t\t\tif(marr[mi].s.c > C) continue;\n\t\t\t\t\tif(marr[mi].s.r > R) continue;\n\t\t\t\t\tif(marr[mi].e.c < C) continue;\n\t\t\t\t\tif(marr[mi].e.r < R) continue;\n\t\t\t\t\tif(marr[mi].s.c != C || marr[mi].s.r != R) skip = true;\n\t\t\t\t\tct['table:number-columns-spanned'] = (marr[mi].e.c - marr[mi].s.c + 1);\n\t\t\t\t\tct['table:number-rows-spanned'] =    (marr[mi].e.r - marr[mi].s.r + 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(skip) { o.push(covered_cell_xml); continue; }\n\t\t\t\tvar ref = encode_cell({r:R, c:C}), cell = dense ? (ws[R]||[])[C]: ws[ref];\n\t\t\t\tif(cell && cell.f) {\n\t\t\t\t\tct['table:formula'] = escapexml(csf_to_ods_formula(cell.f));\n\t\t\t\t\tif(cell.F) {\n\t\t\t\t\t\tif(cell.F.slice(0, ref.length) == ref) {\n\t\t\t\t\t\t\tvar _Fref = decode_range(cell.F);\n\t\t\t\t\t\t\tct['table:number-matrix-columns-spanned'] = (_Fref.e.c - _Fref.s.c + 1);\n\t\t\t\t\t\t\tct['table:number-matrix-rows-spanned'] =    (_Fref.e.r - _Fref.s.r + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!cell) { o.push(null_cell_xml); continue; }\n\t\t\t\tswitch(cell.t) {\n\t\t\t\t\tcase 'b':\n\t\t\t\t\t\ttextp = (cell.v ? 'TRUE' : 'FALSE');\n\t\t\t\t\t\tct['office:value-type'] = \"boolean\";\n\t\t\t\t\t\tct['office:boolean-value'] = (cell.v ? 'true' : 'false');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'n':\n\t\t\t\t\t\ttextp = (cell.w||String(cell.v||0));\n\t\t\t\t\t\tct['office:value-type'] = \"float\";\n\t\t\t\t\t\tct['office:value'] = (cell.v||0);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 's': case 'str':\n\t\t\t\t\t\ttextp = cell.v == null ? \"\" : cell.v;\n\t\t\t\t\t\tct['office:value-type'] = \"string\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'd':\n\t\t\t\t\t\ttextp = (cell.w||(parseDate(cell.v).toISOString()));\n\t\t\t\t\t\tct['office:value-type'] = \"date\";\n\t\t\t\t\t\tct['office:date-value'] = (parseDate(cell.v).toISOString());\n\t\t\t\t\t\tct['table:style-name'] = \"ce1\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t//case 'e':\n\t\t\t\t\tdefault: o.push(null_cell_xml); continue;\n\t\t\t\t}\n\t\t\t\tvar text_p = write_text_p(textp);\n\t\t\t\tif(cell.l && cell.l.Target) {\n\t\t\t\t\tvar _tgt = cell.l.Target;\n\t\t\t\t\t_tgt = _tgt.charAt(0) == \"#\" ? \"#\" + csf_to_ods_3D(_tgt.slice(1)) : _tgt;\n\t\t\t\t\t// TODO: choose correct parent path format based on link delimiters\n\t\t\t\t\tif(_tgt.charAt(0) != \"#\" && !_tgt.match(/^\\w+:/)) _tgt = '../' + _tgt;\n\t\t\t\t\ttext_p = writextag('text:a', text_p, {'xlink:href': _tgt.replace(/&/g, \"&amp;\")});\n\t\t\t\t}\n\t\t\t\to.push('          ' + writextag('table:table-cell', writextag('text:p', text_p, {}), ct) + '\\n');\n\t\t\t}\n\t\t\to.push('        </table:table-row>\\n');\n\t\t}\n\t\to.push('      </table:table>\\n');\n\t\treturn o.join(\"\");\n\t};\n\n\tvar write_automatic_styles_ods = function(o/*:Array<string>*/, wb) {\n\t\to.push(' <office:automatic-styles>\\n');\n\n\t\to.push('  <number:date-style style:name=\"N37\" number:automatic-order=\"true\">\\n');\n\t\to.push('   <number:month number:style=\"long\"/>\\n');\n\t\to.push('   <number:text>/</number:text>\\n');\n\t\to.push('   <number:day number:style=\"long\"/>\\n');\n\t\to.push('   <number:text>/</number:text>\\n');\n\t\to.push('   <number:year/>\\n');\n\t\to.push('  </number:date-style>\\n');\n\n\t\t/* column styles */\n\t\tvar cidx = 0;\n\t\twb.SheetNames.map(function(n) { return wb.Sheets[n]; }).forEach(function(ws) {\n\t\t\tif(!ws) return;\n\t\t\tif(ws[\"!cols\"]) {\n\t\t\t\tfor(var C = 0; C < ws[\"!cols\"].length; ++C) if(ws[\"!cols\"][C]) {\n\t\t\t\t\tvar colobj = ws[\"!cols\"][C];\n\t\t\t\t\tif(colobj.width == null && colobj.wpx == null && colobj.wch == null) continue;\n\t\t\t\t\tprocess_col(colobj);\n\t\t\t\t\tcolobj.ods = cidx;\n\t\t\t\t\tvar w = ws[\"!cols\"][C].wpx + \"px\";\n\t\t\t\t\to.push('  <style:style style:name=\"co' + cidx + '\" style:family=\"table-column\">\\n');\n\t\t\t\t\to.push('   <style:table-column-properties fo:break-before=\"auto\" style:column-width=\"' + w + '\"/>\\n');\n\t\t\t\t\to.push('  </style:style>\\n');\n\t\t\t\t\t++cidx;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t/* row styles */\n\t\tvar ridx = 0;\n\t\twb.SheetNames.map(function(n) { return wb.Sheets[n]; }).forEach(function(ws) {\n\t\t\tif(!ws) return;\n\t\t\tif(ws[\"!rows\"]) {\n\t\t\t\tfor(var R = 0; R < ws[\"!rows\"].length; ++R) if(ws[\"!rows\"][R]) {\n\t\t\t\t\tws[\"!rows\"][R].ods = ridx;\n\t\t\t\t\tvar h = ws[\"!rows\"][R].hpx + \"px\";\n\t\t\t\t\to.push('  <style:style style:name=\"ro' + ridx + '\" style:family=\"table-row\">\\n');\n\t\t\t\t\to.push('   <style:table-row-properties fo:break-before=\"auto\" style:row-height=\"' + h + '\"/>\\n');\n\t\t\t\t\to.push('  </style:style>\\n');\n\t\t\t\t\t++ridx;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t/* table */\n\t\to.push('  <style:style style:name=\"ta1\" style:family=\"table\" style:master-page-name=\"mp1\">\\n');\n\t\to.push('   <style:table-properties table:display=\"true\" style:writing-mode=\"lr-tb\"/>\\n');\n\t\to.push('  </style:style>\\n');\n\n\t\t/* table cells, text */\n\t\to.push('  <style:style style:name=\"ce1\" style:family=\"table-cell\" style:parent-style-name=\"Default\" style:data-style-name=\"N37\"/>\\n');\n\n\t\t/* page-layout */\n\n\t\to.push(' </office:automatic-styles>\\n');\n\t};\n\n\treturn function wcx(wb, opts) {\n\t\tvar o = [XML_HEADER];\n\t\t/* 3.1.3.2 */\n\t\tvar attr = wxt_helper({\n\t\t\t'xmlns:office':       \"urn:oasis:names:tc:opendocument:xmlns:office:1.0\",\n\t\t\t'xmlns:table':        \"urn:oasis:names:tc:opendocument:xmlns:table:1.0\",\n\t\t\t'xmlns:style':        \"urn:oasis:names:tc:opendocument:xmlns:style:1.0\",\n\t\t\t'xmlns:text':         \"urn:oasis:names:tc:opendocument:xmlns:text:1.0\",\n\t\t\t'xmlns:draw':         \"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0\",\n\t\t\t'xmlns:fo':           \"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0\",\n\t\t\t'xmlns:xlink':        \"http://www.w3.org/1999/xlink\",\n\t\t\t'xmlns:dc':           \"http://purl.org/dc/elements/1.1/\",\n\t\t\t'xmlns:meta':         \"urn:oasis:names:tc:opendocument:xmlns:meta:1.0\",\n\t\t\t'xmlns:number':       \"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0\",\n\t\t\t'xmlns:presentation': \"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0\",\n\t\t\t'xmlns:svg':          \"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0\",\n\t\t\t'xmlns:chart':        \"urn:oasis:names:tc:opendocument:xmlns:chart:1.0\",\n\t\t\t'xmlns:dr3d':         \"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0\",\n\t\t\t'xmlns:math':         \"http://www.w3.org/1998/Math/MathML\",\n\t\t\t'xmlns:form':         \"urn:oasis:names:tc:opendocument:xmlns:form:1.0\",\n\t\t\t'xmlns:script':       \"urn:oasis:names:tc:opendocument:xmlns:script:1.0\",\n\t\t\t'xmlns:ooo':          \"http://openoffice.org/2004/office\",\n\t\t\t'xmlns:ooow':         \"http://openoffice.org/2004/writer\",\n\t\t\t'xmlns:oooc':         \"http://openoffice.org/2004/calc\",\n\t\t\t'xmlns:dom':          \"http://www.w3.org/2001/xml-events\",\n\t\t\t'xmlns:xforms':       \"http://www.w3.org/2002/xforms\",\n\t\t\t'xmlns:xsd':          \"http://www.w3.org/2001/XMLSchema\",\n\t\t\t'xmlns:xsi':          \"http://www.w3.org/2001/XMLSchema-instance\",\n\t\t\t'xmlns:sheet':        \"urn:oasis:names:tc:opendocument:sh33tjs:1.0\",\n\t\t\t'xmlns:rpt':          \"http://openoffice.org/2005/report\",\n\t\t\t'xmlns:of':           \"urn:oasis:names:tc:opendocument:xmlns:of:1.2\",\n\t\t\t'xmlns:xhtml':        \"http://www.w3.org/1999/xhtml\",\n\t\t\t'xmlns:grddl':        \"http://www.w3.org/2003/g/data-view#\",\n\t\t\t'xmlns:tableooo':     \"http://openoffice.org/2009/table\",\n\t\t\t'xmlns:drawooo':      \"http://openoffice.org/2010/draw\",\n\t\t\t'xmlns:calcext':      \"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0\",\n\t\t\t'xmlns:loext':        \"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0\",\n\t\t\t'xmlns:field':        \"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0\",\n\t\t\t'xmlns:formx':        \"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0\",\n\t\t\t'xmlns:css3t':        \"http://www.w3.org/TR/css3-text/\",\n\t\t\t'office:version':     \"1.2\"\n\t\t});\n\n\t\tvar fods = wxt_helper({\n\t\t\t'xmlns:config':    \"urn:oasis:names:tc:opendocument:xmlns:config:1.0\",\n\t\t\t'office:mimetype': \"application/vnd.oasis.opendocument.spreadsheet\"\n\t\t});\n\n\t\tif(opts.bookType == \"fods\") {\n\t\t\to.push('<office:document' + attr + fods + '>\\n');\n\t\t\to.push(write_meta_ods().replace(/office:document-meta/g, \"office:meta\"));\n\t\t\t// TODO: settings (equiv of settings.xml for ODS)\n\t\t} else o.push('<office:document-content' + attr  + '>\\n');\n\t\t// o.push('  <office:scripts/>\\n');\n\t\twrite_automatic_styles_ods(o, wb);\n\t\to.push('  <office:body>\\n');\n\t\to.push('    <office:spreadsheet>\\n');\n\t\tfor(var i = 0; i != wb.SheetNames.length; ++i) o.push(write_ws(wb.Sheets[wb.SheetNames[i]], wb, i, opts));\n\t\to.push('    </office:spreadsheet>\\n');\n\t\to.push('  </office:body>\\n');\n\t\tif(opts.bookType == \"fods\") o.push('</office:document>');\n\t\telse o.push('</office:document-content>');\n\t\treturn o.join(\"\");\n\t};\n})();\n\nfunction write_ods(wb/*:any*/, opts/*:any*/) {\n\tif(opts.bookType == \"fods\") return write_content_ods(wb, opts);\n\n\tvar zip = zip_new();\n\tvar f = \"\";\n\n\tvar manifest/*:Array<Array<string> >*/ = [];\n\tvar rdf/*:Array<[string, string]>*/ = [];\n\n\t/* Part 3 Section 3.3 MIME Media Type */\n\tf = \"mimetype\";\n\tzip_add_file(zip, f, \"application/vnd.oasis.opendocument.spreadsheet\");\n\n\t/* Part 1 Section 2.2 Documents */\n\tf = \"content.xml\";\n\tzip_add_file(zip, f, write_content_ods(wb, opts));\n\tmanifest.push([f, \"text/xml\"]);\n\trdf.push([f, \"ContentFile\"]);\n\n\t/* TODO: these are hard-coded styles to satiate excel */\n\tf = \"styles.xml\";\n\tzip_add_file(zip, f, write_styles_ods(wb, opts));\n\tmanifest.push([f, \"text/xml\"]);\n\trdf.push([f, \"StylesFile\"]);\n\n\t/* TODO: this is hard-coded to satiate excel */\n\tf = \"meta.xml\";\n\tzip_add_file(zip, f, XML_HEADER + write_meta_ods(/*::wb, opts*/));\n\tmanifest.push([f, \"text/xml\"]);\n\trdf.push([f, \"MetadataFile\"]);\n\n\t/* Part 3 Section 6 Metadata Manifest File */\n\tf = \"manifest.rdf\";\n\tzip_add_file(zip, f, write_rdf(rdf/*, opts*/));\n\tmanifest.push([f, \"application/rdf+xml\"]);\n\n\t/* Part 3 Section 4 Manifest File */\n\tf = \"META-INF/manifest.xml\";\n\tzip_add_file(zip, f, write_manifest(manifest/*, opts*/));\n\n\treturn zip;\n}\n\n/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */\nfunction u8_to_dataview(array) {\n  return new DataView(array.buffer, array.byteOffset, array.byteLength);\n}\nfunction u8str(u8) {\n  return typeof TextDecoder != \"undefined\" ? new TextDecoder().decode(u8) : utf8read(a2s(u8));\n}\nfunction stru8(str) {\n  return typeof TextEncoder != \"undefined\" ? new TextEncoder().encode(str) : s2a(utf8write(str));\n}\nfunction u8contains(body, search) {\n  outer:\n    for (var L = 0; L <= body.length - search.length; ++L) {\n      for (var j = 0; j < search.length; ++j)\n        if (body[L + j] != search[j])\n          continue outer;\n      return true;\n    }\n  return false;\n}\nfunction u8concat(u8a) {\n  var len = u8a.reduce(function(acc, x) {\n    return acc + x.length;\n  }, 0);\n  var out = new Uint8Array(len);\n  var off = 0;\n  u8a.forEach(function(u8) {\n    out.set(u8, off);\n    off += u8.length;\n  });\n  return out;\n}\nfunction popcnt(x) {\n  x -= x >> 1 & 1431655765;\n  x = (x & 858993459) + (x >> 2 & 858993459);\n  return (x + (x >> 4) & 252645135) * 16843009 >>> 24;\n}\nfunction readDecimal128LE(buf, offset) {\n  var exp = (buf[offset + 15] & 127) << 7 | buf[offset + 14] >> 1;\n  var mantissa = buf[offset + 14] & 1;\n  for (var j = offset + 13; j >= offset; --j)\n    mantissa = mantissa * 256 + buf[j];\n  return (buf[offset + 15] & 128 ? -mantissa : mantissa) * Math.pow(10, exp - 6176);\n}\nfunction writeDecimal128LE(buf, offset, value) {\n  var exp = Math.floor(value == 0 ? 0 : Math.LOG10E * Math.log(Math.abs(value))) + 6176 - 20;\n  var mantissa = value / Math.pow(10, exp - 6176);\n  buf[offset + 15] |= exp >> 7;\n  buf[offset + 14] |= (exp & 127) << 1;\n  for (var i = 0; mantissa >= 1; ++i, mantissa /= 256)\n    buf[offset + i] = mantissa & 255;\n  buf[offset + 15] |= value >= 0 ? 0 : 128;\n}\nfunction parse_varint49(buf, ptr) {\n  var l = ptr ? ptr[0] : 0;\n  var usz = buf[l] & 127;\n  varint:\n    if (buf[l++] >= 128) {\n      usz |= (buf[l] & 127) << 7;\n      if (buf[l++] < 128)\n        break varint;\n      usz |= (buf[l] & 127) << 14;\n      if (buf[l++] < 128)\n        break varint;\n      usz |= (buf[l] & 127) << 21;\n      if (buf[l++] < 128)\n        break varint;\n      usz += (buf[l] & 127) * Math.pow(2, 28);\n      ++l;\n      if (buf[l++] < 128)\n        break varint;\n      usz += (buf[l] & 127) * Math.pow(2, 35);\n      ++l;\n      if (buf[l++] < 128)\n        break varint;\n      usz += (buf[l] & 127) * Math.pow(2, 42);\n      ++l;\n      if (buf[l++] < 128)\n        break varint;\n    }\n  if (ptr)\n    ptr[0] = l;\n  return usz;\n}\nfunction write_varint49(v) {\n  var usz = new Uint8Array(7);\n  usz[0] = v & 127;\n  var L = 1;\n  sz:\n    if (v > 127) {\n      usz[L - 1] |= 128;\n      usz[L] = v >> 7 & 127;\n      ++L;\n      if (v <= 16383)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v >> 14 & 127;\n      ++L;\n      if (v <= 2097151)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v >> 21 & 127;\n      ++L;\n      if (v <= 268435455)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v / 256 >>> 21 & 127;\n      ++L;\n      if (v <= 34359738367)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v / 65536 >>> 21 & 127;\n      ++L;\n      if (v <= 4398046511103)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v / 16777216 >>> 21 & 127;\n      ++L;\n    }\n  return usz.slice(0, L);\n}\nfunction varint_to_i32(buf) {\n  var l = 0, i32 = buf[l] & 127;\n  varint:\n    if (buf[l++] >= 128) {\n      i32 |= (buf[l] & 127) << 7;\n      if (buf[l++] < 128)\n        break varint;\n      i32 |= (buf[l] & 127) << 14;\n      if (buf[l++] < 128)\n        break varint;\n      i32 |= (buf[l] & 127) << 21;\n      if (buf[l++] < 128)\n        break varint;\n      i32 |= (buf[l] & 127) << 28;\n    }\n  return i32;\n}\nfunction parse_shallow(buf) {\n  var out = [], ptr = [0];\n  while (ptr[0] < buf.length) {\n    var off = ptr[0];\n    var num = parse_varint49(buf, ptr);\n    var type = num & 7;\n    num = Math.floor(num / 8);\n    var len = 0;\n    var res;\n    if (num == 0)\n      break;\n    switch (type) {\n      case 0:\n        {\n          var l = ptr[0];\n          while (buf[ptr[0]++] >= 128)\n            ;\n          res = buf.slice(l, ptr[0]);\n        }\n        break;\n      case 5:\n        len = 4;\n        res = buf.slice(ptr[0], ptr[0] + len);\n        ptr[0] += len;\n        break;\n      case 1:\n        len = 8;\n        res = buf.slice(ptr[0], ptr[0] + len);\n        ptr[0] += len;\n        break;\n      case 2:\n        len = parse_varint49(buf, ptr);\n        res = buf.slice(ptr[0], ptr[0] + len);\n        ptr[0] += len;\n        break;\n      case 3:\n      case 4:\n      default:\n        throw new Error(\"PB Type \".concat(type, \" for Field \").concat(num, \" at offset \").concat(off));\n    }\n    var v = { data: res, type: type };\n    if (out[num] == null)\n      out[num] = [v];\n    else\n      out[num].push(v);\n  }\n  return out;\n}\nfunction write_shallow(proto) {\n  var out = [];\n  proto.forEach(function(field, idx) {\n    field.forEach(function(item) {\n      if (!item.data)\n        return;\n      out.push(write_varint49(idx * 8 + item.type));\n      if (item.type == 2)\n        out.push(write_varint49(item.data.length));\n      out.push(item.data);\n    });\n  });\n  return u8concat(out);\n}\nfunction mappa(data, cb) {\n  return (data == null ? void 0 : data.map(function(d) {\n    return cb(d.data);\n  })) || [];\n}\nfunction parse_iwa_file(buf) {\n  var _a;\n  var out = [], ptr = [0];\n  while (ptr[0] < buf.length) {\n    var len = parse_varint49(buf, ptr);\n    var ai = parse_shallow(buf.slice(ptr[0], ptr[0] + len));\n    ptr[0] += len;\n    var res = {\n      id: varint_to_i32(ai[1][0].data),\n      messages: []\n    };\n    ai[2].forEach(function(b) {\n      var mi = parse_shallow(b.data);\n      var fl = varint_to_i32(mi[3][0].data);\n      res.messages.push({\n        meta: mi,\n        data: buf.slice(ptr[0], ptr[0] + fl)\n      });\n      ptr[0] += fl;\n    });\n    if ((_a = ai[3]) == null ? void 0 : _a[0])\n      res.merge = varint_to_i32(ai[3][0].data) >>> 0 > 0;\n    out.push(res);\n  }\n  return out;\n}\nfunction write_iwa_file(ias) {\n  var bufs = [];\n  ias.forEach(function(ia) {\n    var ai = [];\n    ai[1] = [{ data: write_varint49(ia.id), type: 0 }];\n    ai[2] = [];\n    if (ia.merge != null)\n      ai[3] = [{ data: write_varint49(+!!ia.merge), type: 0 }];\n    var midata = [];\n    ia.messages.forEach(function(mi) {\n      midata.push(mi.data);\n      mi.meta[3] = [{ type: 0, data: write_varint49(mi.data.length) }];\n      ai[2].push({ data: write_shallow(mi.meta), type: 2 });\n    });\n    var aipayload = write_shallow(ai);\n    bufs.push(write_varint49(aipayload.length));\n    bufs.push(aipayload);\n    midata.forEach(function(mid) {\n      return bufs.push(mid);\n    });\n  });\n  return u8concat(bufs);\n}\nfunction parse_snappy_chunk(type, buf) {\n  if (type != 0)\n    throw new Error(\"Unexpected Snappy chunk type \".concat(type));\n  var ptr = [0];\n  var usz = parse_varint49(buf, ptr);\n  var chunks = [];\n  while (ptr[0] < buf.length) {\n    var tag = buf[ptr[0]] & 3;\n    if (tag == 0) {\n      var len = buf[ptr[0]++] >> 2;\n      if (len < 60)\n        ++len;\n      else {\n        var c = len - 59;\n        len = buf[ptr[0]];\n        if (c > 1)\n          len |= buf[ptr[0] + 1] << 8;\n        if (c > 2)\n          len |= buf[ptr[0] + 2] << 16;\n        if (c > 3)\n          len |= buf[ptr[0] + 3] << 24;\n        len >>>= 0;\n        len++;\n        ptr[0] += c;\n      }\n      chunks.push(buf.slice(ptr[0], ptr[0] + len));\n      ptr[0] += len;\n      continue;\n    } else {\n      var offset = 0, length = 0;\n      if (tag == 1) {\n        length = (buf[ptr[0]] >> 2 & 7) + 4;\n        offset = (buf[ptr[0]++] & 224) << 3;\n        offset |= buf[ptr[0]++];\n      } else {\n        length = (buf[ptr[0]++] >> 2) + 1;\n        if (tag == 2) {\n          offset = buf[ptr[0]] | buf[ptr[0] + 1] << 8;\n          ptr[0] += 2;\n        } else {\n          offset = (buf[ptr[0]] | buf[ptr[0] + 1] << 8 | buf[ptr[0] + 2] << 16 | buf[ptr[0] + 3] << 24) >>> 0;\n          ptr[0] += 4;\n        }\n      }\n      chunks = [u8concat(chunks)];\n      if (offset == 0)\n        throw new Error(\"Invalid offset 0\");\n      if (offset > chunks[0].length)\n        throw new Error(\"Invalid offset beyond length\");\n      if (length >= offset) {\n        chunks.push(chunks[0].slice(-offset));\n        length -= offset;\n        while (length >= chunks[chunks.length - 1].length) {\n          chunks.push(chunks[chunks.length - 1]);\n          length -= chunks[chunks.length - 1].length;\n        }\n      }\n      chunks.push(chunks[0].slice(-offset, -offset + length));\n    }\n  }\n  var o = u8concat(chunks);\n  if (o.length != usz)\n    throw new Error(\"Unexpected length: \".concat(o.length, \" != \").concat(usz));\n  return o;\n}\nfunction decompress_iwa_file(buf) {\n  var out = [];\n  var l = 0;\n  while (l < buf.length) {\n    var t = buf[l++];\n    var len = buf[l] | buf[l + 1] << 8 | buf[l + 2] << 16;\n    l += 3;\n    out.push(parse_snappy_chunk(t, buf.slice(l, l + len)));\n    l += len;\n  }\n  if (l !== buf.length)\n    throw new Error(\"data is not a valid framed stream!\");\n  return u8concat(out);\n}\nfunction compress_iwa_file(buf) {\n  var out = [];\n  var l = 0;\n  while (l < buf.length) {\n    var c = Math.min(buf.length - l, 268435455);\n    var frame = new Uint8Array(4);\n    out.push(frame);\n    var usz = write_varint49(c);\n    var L = usz.length;\n    out.push(usz);\n    if (c <= 60) {\n      L++;\n      out.push(new Uint8Array([c - 1 << 2]));\n    } else if (c <= 256) {\n      L += 2;\n      out.push(new Uint8Array([240, c - 1 & 255]));\n    } else if (c <= 65536) {\n      L += 3;\n      out.push(new Uint8Array([244, c - 1 & 255, c - 1 >> 8 & 255]));\n    } else if (c <= 16777216) {\n      L += 4;\n      out.push(new Uint8Array([248, c - 1 & 255, c - 1 >> 8 & 255, c - 1 >> 16 & 255]));\n    } else if (c <= 4294967296) {\n      L += 5;\n      out.push(new Uint8Array([252, c - 1 & 255, c - 1 >> 8 & 255, c - 1 >> 16 & 255, c - 1 >>> 24 & 255]));\n    }\n    out.push(buf.slice(l, l + c));\n    L += c;\n    frame[0] = 0;\n    frame[1] = L & 255;\n    frame[2] = L >> 8 & 255;\n    frame[3] = L >> 16 & 255;\n    l += c;\n  }\n  return u8concat(out);\n}\nfunction parse_old_storage(buf, sst, rsst, v) {\n  var dv = u8_to_dataview(buf);\n  var flags = dv.getUint32(4, true);\n  var data_offset = (v > 1 ? 12 : 8) + popcnt(flags & (v > 1 ? 3470 : 398)) * 4;\n  var ridx = -1, sidx = -1, ieee = NaN, dt = new Date(2001, 0, 1);\n  if (flags & 512) {\n    ridx = dv.getUint32(data_offset, true);\n    data_offset += 4;\n  }\n  data_offset += popcnt(flags & (v > 1 ? 12288 : 4096)) * 4;\n  if (flags & 16) {\n    sidx = dv.getUint32(data_offset, true);\n    data_offset += 4;\n  }\n  if (flags & 32) {\n    ieee = dv.getFloat64(data_offset, true);\n    data_offset += 8;\n  }\n  if (flags & 64) {\n    dt.setTime(dt.getTime() + dv.getFloat64(data_offset, true) * 1e3);\n    data_offset += 8;\n  }\n  var ret;\n  switch (buf[2]) {\n    case 0:\n      break;\n    case 2:\n      ret = { t: \"n\", v: ieee };\n      break;\n    case 3:\n      ret = { t: \"s\", v: sst[sidx] };\n      break;\n    case 5:\n      ret = { t: \"d\", v: dt };\n      break;\n    case 6:\n      ret = { t: \"b\", v: ieee > 0 };\n      break;\n    case 7:\n      ret = { t: \"n\", v: ieee / 86400 };\n      break;\n    case 8:\n      ret = { t: \"e\", v: 0 };\n      break;\n    case 9:\n      {\n        if (ridx > -1)\n          ret = { t: \"s\", v: rsst[ridx] };\n        else if (sidx > -1)\n          ret = { t: \"s\", v: sst[sidx] };\n        else if (!isNaN(ieee))\n          ret = { t: \"n\", v: ieee };\n        else\n          throw new Error(\"Unsupported cell type \".concat(buf.slice(0, 4)));\n      }\n      break;\n    default:\n      throw new Error(\"Unsupported cell type \".concat(buf.slice(0, 4)));\n  }\n  return ret;\n}\nfunction parse_new_storage(buf, sst, rsst) {\n  var dv = u8_to_dataview(buf);\n  var flags = dv.getUint32(8, true);\n  var data_offset = 12;\n  var ridx = -1, sidx = -1, d128 = NaN, ieee = NaN, dt = new Date(2001, 0, 1);\n  if (flags & 1) {\n    d128 = readDecimal128LE(buf, data_offset);\n    data_offset += 16;\n  }\n  if (flags & 2) {\n    ieee = dv.getFloat64(data_offset, true);\n    data_offset += 8;\n  }\n  if (flags & 4) {\n    dt.setTime(dt.getTime() + dv.getFloat64(data_offset, true) * 1e3);\n    data_offset += 8;\n  }\n  if (flags & 8) {\n    sidx = dv.getUint32(data_offset, true);\n    data_offset += 4;\n  }\n  if (flags & 16) {\n    ridx = dv.getUint32(data_offset, true);\n    data_offset += 4;\n  }\n  var ret;\n  switch (buf[1]) {\n    case 0:\n      break;\n    case 2:\n      ret = { t: \"n\", v: d128 };\n      break;\n    case 3:\n      ret = { t: \"s\", v: sst[sidx] };\n      break;\n    case 5:\n      ret = { t: \"d\", v: dt };\n      break;\n    case 6:\n      ret = { t: \"b\", v: ieee > 0 };\n      break;\n    case 7:\n      ret = { t: \"n\", v: ieee / 86400 };\n      break;\n    case 8:\n      ret = { t: \"e\", v: 0 };\n      break;\n    case 9:\n      {\n        if (ridx > -1)\n          ret = { t: \"s\", v: rsst[ridx] };\n        else\n          throw new Error(\"Unsupported cell type \".concat(buf[1], \" : \").concat(flags & 31, \" : \").concat(buf.slice(0, 4)));\n      }\n      break;\n    case 10:\n      ret = { t: \"n\", v: d128 };\n      break;\n    default:\n      throw new Error(\"Unsupported cell type \".concat(buf[1], \" : \").concat(flags & 31, \" : \").concat(buf.slice(0, 4)));\n  }\n  return ret;\n}\nfunction write_new_storage(cell, sst) {\n  var out = new Uint8Array(32), dv = u8_to_dataview(out), l = 12, flags = 0;\n  out[0] = 5;\n  switch (cell.t) {\n    case \"n\":\n      out[1] = 2;\n      writeDecimal128LE(out, l, cell.v);\n      flags |= 1;\n      l += 16;\n      break;\n    case \"b\":\n      out[1] = 6;\n      dv.setFloat64(l, cell.v ? 1 : 0, true);\n      flags |= 2;\n      l += 8;\n      break;\n    case \"s\":\n      if (sst.indexOf(cell.v) == -1)\n        throw new Error(\"Value \".concat(cell.v, \" missing from SST!\"));\n      out[1] = 3;\n      dv.setUint32(l, sst.indexOf(cell.v), true);\n      flags |= 8;\n      l += 4;\n      break;\n    default:\n      throw \"unsupported cell type \" + cell.t;\n  }\n  dv.setUint32(8, flags, true);\n  return out.slice(0, l);\n}\nfunction write_old_storage(cell, sst) {\n  var out = new Uint8Array(32), dv = u8_to_dataview(out), l = 12, flags = 0;\n  out[0] = 3;\n  switch (cell.t) {\n    case \"n\":\n      out[2] = 2;\n      dv.setFloat64(l, cell.v, true);\n      flags |= 32;\n      l += 8;\n      break;\n    case \"b\":\n      out[2] = 6;\n      dv.setFloat64(l, cell.v ? 1 : 0, true);\n      flags |= 32;\n      l += 8;\n      break;\n    case \"s\":\n      if (sst.indexOf(cell.v) == -1)\n        throw new Error(\"Value \".concat(cell.v, \" missing from SST!\"));\n      out[2] = 3;\n      dv.setUint32(l, sst.indexOf(cell.v), true);\n      flags |= 16;\n      l += 4;\n      break;\n    default:\n      throw \"unsupported cell type \" + cell.t;\n  }\n  dv.setUint32(4, flags, true);\n  return out.slice(0, l);\n}\nfunction parse_cell_storage(buf, sst, rsst) {\n  switch (buf[0]) {\n    case 0:\n    case 1:\n    case 2:\n    case 3:\n      return parse_old_storage(buf, sst, rsst, buf[0]);\n    case 5:\n      return parse_new_storage(buf, sst, rsst);\n    default:\n      throw new Error(\"Unsupported payload version \".concat(buf[0]));\n  }\n}\nfunction parse_TSP_Reference(buf) {\n  var pb = parse_shallow(buf);\n  return parse_varint49(pb[1][0].data);\n}\nfunction write_TSP_Reference(idx) {\n  var out = [];\n  out[1] = [{ type: 0, data: write_varint49(idx) }];\n  return write_shallow(out);\n}\nfunction parse_TST_TableDataList(M, root) {\n  var pb = parse_shallow(root.data);\n  var type = varint_to_i32(pb[1][0].data);\n  var entries = pb[3];\n  var data = [];\n  (entries || []).forEach(function(entry) {\n    var le = parse_shallow(entry.data);\n    var key = varint_to_i32(le[1][0].data) >>> 0;\n    switch (type) {\n      case 1:\n        data[key] = u8str(le[3][0].data);\n        break;\n      case 8:\n        {\n          var rt = M[parse_TSP_Reference(le[9][0].data)][0];\n          var rtp = parse_shallow(rt.data);\n          var rtpref = M[parse_TSP_Reference(rtp[1][0].data)][0];\n          var mtype = varint_to_i32(rtpref.meta[1][0].data);\n          if (mtype != 2001)\n            throw new Error(\"2000 unexpected reference to \".concat(mtype));\n          var tswpsa = parse_shallow(rtpref.data);\n          data[key] = tswpsa[3].map(function(x) {\n            return u8str(x.data);\n          }).join(\"\");\n        }\n        break;\n    }\n  });\n  return data;\n}\nfunction parse_TST_TileRowInfo(u8, type) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;\n  var pb = parse_shallow(u8);\n  var R = varint_to_i32(pb[1][0].data) >>> 0;\n  var cnt = varint_to_i32(pb[2][0].data) >>> 0;\n  var wide_offsets = ((_b = (_a = pb[8]) == null ? void 0 : _a[0]) == null ? void 0 : _b.data) && varint_to_i32(pb[8][0].data) > 0 || false;\n  var used_storage_u8, used_storage;\n  if (((_d = (_c = pb[7]) == null ? void 0 : _c[0]) == null ? void 0 : _d.data) && type != 0) {\n    used_storage_u8 = (_f = (_e = pb[7]) == null ? void 0 : _e[0]) == null ? void 0 : _f.data;\n    used_storage = (_h = (_g = pb[6]) == null ? void 0 : _g[0]) == null ? void 0 : _h.data;\n  } else if (((_j = (_i = pb[4]) == null ? void 0 : _i[0]) == null ? void 0 : _j.data) && type != 1) {\n    used_storage_u8 = (_l = (_k = pb[4]) == null ? void 0 : _k[0]) == null ? void 0 : _l.data;\n    used_storage = (_n = (_m = pb[3]) == null ? void 0 : _m[0]) == null ? void 0 : _n.data;\n  } else\n    throw \"NUMBERS Tile missing \".concat(type, \" cell storage\");\n  var width = wide_offsets ? 4 : 1;\n  var used_storage_offsets = u8_to_dataview(used_storage_u8);\n  var offsets = [];\n  for (var C = 0; C < used_storage_u8.length / 2; ++C) {\n    var off = used_storage_offsets.getUint16(C * 2, true);\n    if (off < 65535)\n      offsets.push([C, off]);\n  }\n  if (offsets.length != cnt)\n    throw \"Expected \".concat(cnt, \" cells, found \").concat(offsets.length);\n  var cells = [];\n  for (C = 0; C < offsets.length - 1; ++C)\n    cells[offsets[C][0]] = used_storage.subarray(offsets[C][1] * width, offsets[C + 1][1] * width);\n  if (offsets.length >= 1)\n    cells[offsets[offsets.length - 1][0]] = used_storage.subarray(offsets[offsets.length - 1][1] * width);\n  return { R: R, cells: cells };\n}\nfunction parse_TST_Tile(M, root) {\n  var _a;\n  var pb = parse_shallow(root.data);\n  var storage = ((_a = pb == null ? void 0 : pb[7]) == null ? void 0 : _a[0]) ? varint_to_i32(pb[7][0].data) >>> 0 > 0 ? 1 : 0 : -1;\n  var ri = mappa(pb[5], function(u8) {\n    return parse_TST_TileRowInfo(u8, storage);\n  });\n  return {\n    nrows: varint_to_i32(pb[4][0].data) >>> 0,\n    data: ri.reduce(function(acc, x) {\n      if (!acc[x.R])\n        acc[x.R] = [];\n      x.cells.forEach(function(cell, C) {\n        if (acc[x.R][C])\n          throw new Error(\"Duplicate cell r=\".concat(x.R, \" c=\").concat(C));\n        acc[x.R][C] = cell;\n      });\n      return acc;\n    }, [])\n  };\n}\nfunction parse_TST_TableModelArchive(M, root, ws) {\n  var _a;\n  var pb = parse_shallow(root.data);\n  var range = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } };\n  range.e.r = (varint_to_i32(pb[6][0].data) >>> 0) - 1;\n  if (range.e.r < 0)\n    throw new Error(\"Invalid row varint \".concat(pb[6][0].data));\n  range.e.c = (varint_to_i32(pb[7][0].data) >>> 0) - 1;\n  if (range.e.c < 0)\n    throw new Error(\"Invalid col varint \".concat(pb[7][0].data));\n  ws[\"!ref\"] = encode_range(range);\n  var store = parse_shallow(pb[4][0].data);\n  var sst = parse_TST_TableDataList(M, M[parse_TSP_Reference(store[4][0].data)][0]);\n  var rsst = ((_a = store[17]) == null ? void 0 : _a[0]) ? parse_TST_TableDataList(M, M[parse_TSP_Reference(store[17][0].data)][0]) : [];\n  var tile = parse_shallow(store[3][0].data);\n  var _R = 0;\n  tile[1].forEach(function(t) {\n    var tl = parse_shallow(t.data);\n    var ref = M[parse_TSP_Reference(tl[2][0].data)][0];\n    var mtype = varint_to_i32(ref.meta[1][0].data);\n    if (mtype != 6002)\n      throw new Error(\"6001 unexpected reference to \".concat(mtype));\n    var _tile = parse_TST_Tile(M, ref);\n    _tile.data.forEach(function(row, R) {\n      row.forEach(function(buf, C) {\n        var addr = encode_cell({ r: _R + R, c: C });\n        var res = parse_cell_storage(buf, sst, rsst);\n        if (res)\n          ws[addr] = res;\n      });\n    });\n    _R += _tile.nrows;\n  });\n}\nfunction parse_TST_TableInfoArchive(M, root) {\n  var pb = parse_shallow(root.data);\n  var out = { \"!ref\": \"A1\" };\n  var tableref = M[parse_TSP_Reference(pb[2][0].data)];\n  var mtype = varint_to_i32(tableref[0].meta[1][0].data);\n  if (mtype != 6001)\n    throw new Error(\"6000 unexpected reference to \".concat(mtype));\n  parse_TST_TableModelArchive(M, tableref[0], out);\n  return out;\n}\nfunction parse_TN_SheetArchive(M, root) {\n  var _a;\n  var pb = parse_shallow(root.data);\n  var out = {\n    name: ((_a = pb[1]) == null ? void 0 : _a[0]) ? u8str(pb[1][0].data) : \"\",\n    sheets: []\n  };\n  var shapeoffs = mappa(pb[2], parse_TSP_Reference);\n  shapeoffs.forEach(function(off) {\n    M[off].forEach(function(m) {\n      var mtype = varint_to_i32(m.meta[1][0].data);\n      if (mtype == 6e3)\n        out.sheets.push(parse_TST_TableInfoArchive(M, m));\n    });\n  });\n  return out;\n}\nfunction parse_TN_DocumentArchive(M, root) {\n  var out = book_new();\n  var pb = parse_shallow(root.data);\n  var sheetoffs = mappa(pb[1], parse_TSP_Reference);\n  sheetoffs.forEach(function(off) {\n    M[off].forEach(function(m) {\n      var mtype = varint_to_i32(m.meta[1][0].data);\n      if (mtype == 2) {\n        var root2 = parse_TN_SheetArchive(M, m);\n        root2.sheets.forEach(function(sheet, idx) {\n          book_append_sheet(out, sheet, idx == 0 ? root2.name : root2.name + \"_\" + idx, true);\n        });\n      }\n    });\n  });\n  if (out.SheetNames.length == 0)\n    throw new Error(\"Empty NUMBERS file\");\n  return out;\n}\nfunction parse_numbers_iwa(cfb) {\n  var _a, _b, _c, _d;\n  var M = {}, indices = [];\n  cfb.FullPaths.forEach(function(p) {\n    if (p.match(/\\.iwpv2/))\n      throw new Error(\"Unsupported password protection\");\n  });\n  cfb.FileIndex.forEach(function(s) {\n    if (!s.name.match(/\\.iwa$/))\n      return;\n    var o;\n    try {\n      o = decompress_iwa_file(s.content);\n    } catch (e) {\n      return console.log(\"?? \" + s.content.length + \" \" + (e.message || e));\n    }\n    var packets;\n    try {\n      packets = parse_iwa_file(o);\n    } catch (e) {\n      return console.log(\"## \" + (e.message || e));\n    }\n    packets.forEach(function(packet) {\n      M[packet.id] = packet.messages;\n      indices.push(packet.id);\n    });\n  });\n  if (!indices.length)\n    throw new Error(\"File has no messages\");\n  var docroot = ((_d = (_c = (_b = (_a = M == null ? void 0 : M[1]) == null ? void 0 : _a[0]) == null ? void 0 : _b.meta) == null ? void 0 : _c[1]) == null ? void 0 : _d[0].data) && varint_to_i32(M[1][0].meta[1][0].data) == 1 && M[1][0];\n  if (!docroot)\n    indices.forEach(function(idx) {\n      M[idx].forEach(function(iwam) {\n        var mtype = varint_to_i32(iwam.meta[1][0].data) >>> 0;\n        if (mtype == 1) {\n          if (!docroot)\n            docroot = iwam;\n          else\n            throw new Error(\"Document has multiple roots\");\n        }\n      });\n    });\n  if (!docroot)\n    throw new Error(\"Cannot find Document root\");\n  return parse_TN_DocumentArchive(M, docroot);\n}\nfunction write_tile_row(tri, data, SST) {\n  var _a, _b, _c, _d;\n  if (!((_a = tri[6]) == null ? void 0 : _a[0]) || !((_b = tri[7]) == null ? void 0 : _b[0]))\n    throw \"Mutation only works on post-BNC storages!\";\n  var wide_offsets = ((_d = (_c = tri[8]) == null ? void 0 : _c[0]) == null ? void 0 : _d.data) && varint_to_i32(tri[8][0].data) > 0 || false;\n  if (wide_offsets)\n    throw \"Math only works with normal offsets\";\n  var cnt = 0;\n  var dv = u8_to_dataview(tri[7][0].data), last_offset = 0, cell_storage = [];\n  var _dv = u8_to_dataview(tri[4][0].data), _last_offset = 0, _cell_storage = [];\n  for (var C = 0; C < data.length; ++C) {\n    if (data[C] == null) {\n      dv.setUint16(C * 2, 65535, true);\n      _dv.setUint16(C * 2, 65535);\n      continue;\n    }\n    dv.setUint16(C * 2, last_offset, true);\n    _dv.setUint16(C * 2, _last_offset, true);\n    var celload, _celload;\n    switch (typeof data[C]) {\n      case \"string\":\n        celload = write_new_storage({ t: \"s\", v: data[C] }, SST);\n        _celload = write_old_storage({ t: \"s\", v: data[C] }, SST);\n        break;\n      case \"number\":\n        celload = write_new_storage({ t: \"n\", v: data[C] }, SST);\n        _celload = write_old_storage({ t: \"n\", v: data[C] }, SST);\n        break;\n      case \"boolean\":\n        celload = write_new_storage({ t: \"b\", v: data[C] }, SST);\n        _celload = write_old_storage({ t: \"b\", v: data[C] }, SST);\n        break;\n      default:\n        throw new Error(\"Unsupported value \" + data[C]);\n    }\n    cell_storage.push(celload);\n    last_offset += celload.length;\n    _cell_storage.push(_celload);\n    _last_offset += _celload.length;\n    ++cnt;\n  }\n  tri[2][0].data = write_varint49(cnt);\n  for (; C < tri[7][0].data.length / 2; ++C) {\n    dv.setUint16(C * 2, 65535, true);\n    _dv.setUint16(C * 2, 65535, true);\n  }\n  tri[6][0].data = u8concat(cell_storage);\n  tri[3][0].data = u8concat(_cell_storage);\n  return cnt;\n}\nfunction write_numbers_iwa(wb, opts) {\n  if (!opts || !opts.numbers)\n    throw new Error(\"Must pass a `numbers` option -- check the README\");\n  var ws = wb.Sheets[wb.SheetNames[0]];\n  if (wb.SheetNames.length > 1)\n    console.error(\"The Numbers writer currently writes only the first table\");\n  var range = decode_range(ws[\"!ref\"]);\n  range.s.r = range.s.c = 0;\n  var trunc = false;\n  if (range.e.c > 9) {\n    trunc = true;\n    range.e.c = 9;\n  }\n  if (range.e.r > 49) {\n    trunc = true;\n    range.e.r = 49;\n  }\n  if (trunc)\n    console.error(\"The Numbers writer is currently limited to \".concat(encode_range(range)));\n  var data = sheet_to_json(ws, { range: range, header: 1 });\n  var SST = [\"~Sh33tJ5~\"];\n  data.forEach(function(row) {\n    return row.forEach(function(cell) {\n      if (typeof cell == \"string\")\n        SST.push(cell);\n    });\n  });\n  var dependents = {};\n  var indices = [];\n  var cfb = CFB.read(opts.numbers, { type: \"base64\" });\n  cfb.FileIndex.map(function(fi, idx) {\n    return [fi, cfb.FullPaths[idx]];\n  }).forEach(function(row) {\n    var fi = row[0], fp = row[1];\n    if (fi.type != 2)\n      return;\n    if (!fi.name.match(/\\.iwa/))\n      return;\n    var old_content = fi.content;\n    var raw1 = decompress_iwa_file(old_content);\n    var x2 = parse_iwa_file(raw1);\n    x2.forEach(function(packet2) {\n      indices.push(packet2.id);\n      dependents[packet2.id] = { deps: [], location: fp, type: varint_to_i32(packet2.messages[0].meta[1][0].data) };\n    });\n  });\n  indices.sort(function(x2, y2) {\n    return x2 - y2;\n  });\n  var indices_varint = indices.filter(function(x2) {\n    return x2 > 1;\n  }).map(function(x2) {\n    return [x2, write_varint49(x2)];\n  });\n  cfb.FileIndex.map(function(fi, idx) {\n    return [fi, cfb.FullPaths[idx]];\n  }).forEach(function(row) {\n    var fi = row[0], fp = row[1];\n    if (!fi.name.match(/\\.iwa/))\n      return;\n    var x2 = parse_iwa_file(decompress_iwa_file(fi.content));\n    x2.forEach(function(ia) {\n      ia.messages.forEach(function(m) {\n        indices_varint.forEach(function(ivi) {\n          if (ia.messages.some(function(mess) {\n            return varint_to_i32(mess.meta[1][0].data) != 11006 && u8contains(mess.data, ivi[1]);\n          })) {\n            dependents[ivi[0]].deps.push(ia.id);\n          }\n        });\n      });\n    });\n  });\n  function get_unique_msgid() {\n    for (var i = 927262; i < 2e6; ++i)\n      if (!dependents[i])\n        return i;\n    throw new Error(\"Too many messages\");\n  }\n  var entry = CFB.find(cfb, dependents[1].location);\n  var x = parse_iwa_file(decompress_iwa_file(entry.content));\n  var docroot;\n  for (var xi = 0; xi < x.length; ++xi) {\n    var packet = x[xi];\n    if (packet.id == 1)\n      docroot = packet;\n  }\n  var sheetrootref = parse_TSP_Reference(parse_shallow(docroot.messages[0].data)[1][0].data);\n  entry = CFB.find(cfb, dependents[sheetrootref].location);\n  x = parse_iwa_file(decompress_iwa_file(entry.content));\n  for (xi = 0; xi < x.length; ++xi) {\n    packet = x[xi];\n    if (packet.id == sheetrootref)\n      docroot = packet;\n  }\n  sheetrootref = parse_TSP_Reference(parse_shallow(docroot.messages[0].data)[2][0].data);\n  entry = CFB.find(cfb, dependents[sheetrootref].location);\n  x = parse_iwa_file(decompress_iwa_file(entry.content));\n  for (xi = 0; xi < x.length; ++xi) {\n    packet = x[xi];\n    if (packet.id == sheetrootref)\n      docroot = packet;\n  }\n  sheetrootref = parse_TSP_Reference(parse_shallow(docroot.messages[0].data)[2][0].data);\n  entry = CFB.find(cfb, dependents[sheetrootref].location);\n  x = parse_iwa_file(decompress_iwa_file(entry.content));\n  for (xi = 0; xi < x.length; ++xi) {\n    packet = x[xi];\n    if (packet.id == sheetrootref)\n      docroot = packet;\n  }\n  var pb = parse_shallow(docroot.messages[0].data);\n  {\n    pb[6][0].data = write_varint49(range.e.r + 1);\n    pb[7][0].data = write_varint49(range.e.c + 1);\n    var cruidsref = parse_TSP_Reference(pb[46][0].data);\n    var oldbucket = CFB.find(cfb, dependents[cruidsref].location);\n    var _x = parse_iwa_file(decompress_iwa_file(oldbucket.content));\n    {\n      for (var j = 0; j < _x.length; ++j) {\n        if (_x[j].id == cruidsref)\n          break;\n      }\n      if (_x[j].id != cruidsref)\n        throw \"Bad ColumnRowUIDMapArchive\";\n      var cruids = parse_shallow(_x[j].messages[0].data);\n      cruids[1] = [];\n      cruids[2] = [], cruids[3] = [];\n      for (var C = 0; C <= range.e.c; ++C) {\n        var uuid = [];\n        uuid[1] = uuid[2] = [{ type: 0, data: write_varint49(C + 420690) }];\n        cruids[1].push({ type: 2, data: write_shallow(uuid) });\n        cruids[2].push({ type: 0, data: write_varint49(C) });\n        cruids[3].push({ type: 0, data: write_varint49(C) });\n      }\n      cruids[4] = [];\n      cruids[5] = [], cruids[6] = [];\n      for (var R = 0; R <= range.e.r; ++R) {\n        uuid = [];\n        uuid[1] = uuid[2] = [{ type: 0, data: write_varint49(R + 726270) }];\n        cruids[4].push({ type: 2, data: write_shallow(uuid) });\n        cruids[5].push({ type: 0, data: write_varint49(R) });\n        cruids[6].push({ type: 0, data: write_varint49(R) });\n      }\n      _x[j].messages[0].data = write_shallow(cruids);\n    }\n    oldbucket.content = compress_iwa_file(write_iwa_file(_x));\n    oldbucket.size = oldbucket.content.length;\n    delete pb[46];\n    var store = parse_shallow(pb[4][0].data);\n    {\n      store[7][0].data = write_varint49(range.e.r + 1);\n      var row_headers = parse_shallow(store[1][0].data);\n      var row_header_ref = parse_TSP_Reference(row_headers[2][0].data);\n      oldbucket = CFB.find(cfb, dependents[row_header_ref].location);\n      _x = parse_iwa_file(decompress_iwa_file(oldbucket.content));\n      {\n        if (_x[0].id != row_header_ref)\n          throw \"Bad HeaderStorageBucket\";\n        var base_bucket = parse_shallow(_x[0].messages[0].data);\n        for (R = 0; R < data.length; ++R) {\n          var _bucket = parse_shallow(base_bucket[2][0].data);\n          _bucket[1][0].data = write_varint49(R);\n          _bucket[4][0].data = write_varint49(data[R].length);\n          base_bucket[2][R] = { type: base_bucket[2][0].type, data: write_shallow(_bucket) };\n        }\n        _x[0].messages[0].data = write_shallow(base_bucket);\n      }\n      oldbucket.content = compress_iwa_file(write_iwa_file(_x));\n      oldbucket.size = oldbucket.content.length;\n      var col_header_ref = parse_TSP_Reference(store[2][0].data);\n      oldbucket = CFB.find(cfb, dependents[col_header_ref].location);\n      _x = parse_iwa_file(decompress_iwa_file(oldbucket.content));\n      {\n        if (_x[0].id != col_header_ref)\n          throw \"Bad HeaderStorageBucket\";\n        base_bucket = parse_shallow(_x[0].messages[0].data);\n        for (C = 0; C <= range.e.c; ++C) {\n          _bucket = parse_shallow(base_bucket[2][0].data);\n          _bucket[1][0].data = write_varint49(C);\n          _bucket[4][0].data = write_varint49(range.e.r + 1);\n          base_bucket[2][C] = { type: base_bucket[2][0].type, data: write_shallow(_bucket) };\n        }\n        _x[0].messages[0].data = write_shallow(base_bucket);\n      }\n      oldbucket.content = compress_iwa_file(write_iwa_file(_x));\n      oldbucket.size = oldbucket.content.length;\n      var sstref = parse_TSP_Reference(store[4][0].data);\n      (function() {\n        var sentry = CFB.find(cfb, dependents[sstref].location);\n        var sx = parse_iwa_file(decompress_iwa_file(sentry.content));\n        var sstroot;\n        for (var sxi = 0; sxi < sx.length; ++sxi) {\n          var packet2 = sx[sxi];\n          if (packet2.id == sstref)\n            sstroot = packet2;\n        }\n        var sstdata = parse_shallow(sstroot.messages[0].data);\n        {\n          sstdata[3] = [];\n          var newsst = [];\n          SST.forEach(function(str, i) {\n            newsst[1] = [{ type: 0, data: write_varint49(i) }];\n            newsst[2] = [{ type: 0, data: write_varint49(1) }];\n            newsst[3] = [{ type: 2, data: stru8(str) }];\n            sstdata[3].push({ type: 2, data: write_shallow(newsst) });\n          });\n        }\n        sstroot.messages[0].data = write_shallow(sstdata);\n        var sy = write_iwa_file(sx);\n        var raw32 = compress_iwa_file(sy);\n        sentry.content = raw32;\n        sentry.size = sentry.content.length;\n      })();\n      var tile = parse_shallow(store[3][0].data);\n      {\n        var t = tile[1][0];\n        delete tile[2];\n        var tl = parse_shallow(t.data);\n        {\n          var tileref = parse_TSP_Reference(tl[2][0].data);\n          (function() {\n            var tentry = CFB.find(cfb, dependents[tileref].location);\n            var tx = parse_iwa_file(decompress_iwa_file(tentry.content));\n            var tileroot;\n            for (var sxi = 0; sxi < tx.length; ++sxi) {\n              var packet2 = tx[sxi];\n              if (packet2.id == tileref)\n                tileroot = packet2;\n            }\n            var tiledata = parse_shallow(tileroot.messages[0].data);\n            {\n              delete tiledata[6];\n              delete tile[7];\n              var rowload = new Uint8Array(tiledata[5][0].data);\n              tiledata[5] = [];\n              var cnt = 0;\n              for (var R2 = 0; R2 <= range.e.r; ++R2) {\n                var tilerow = parse_shallow(rowload);\n                cnt += write_tile_row(tilerow, data[R2], SST);\n                tilerow[1][0].data = write_varint49(R2);\n                tiledata[5].push({ data: write_shallow(tilerow), type: 2 });\n              }\n              tiledata[1] = [{ type: 0, data: write_varint49(range.e.c + 1) }];\n              tiledata[2] = [{ type: 0, data: write_varint49(range.e.r + 1) }];\n              tiledata[3] = [{ type: 0, data: write_varint49(cnt) }];\n              tiledata[4] = [{ type: 0, data: write_varint49(range.e.r + 1) }];\n            }\n            tileroot.messages[0].data = write_shallow(tiledata);\n            var ty = write_iwa_file(tx);\n            var raw32 = compress_iwa_file(ty);\n            tentry.content = raw32;\n            tentry.size = tentry.content.length;\n          })();\n        }\n        t.data = write_shallow(tl);\n      }\n      store[3][0].data = write_shallow(tile);\n    }\n    pb[4][0].data = write_shallow(store);\n  }\n  docroot.messages[0].data = write_shallow(pb);\n  var y = write_iwa_file(x);\n  var raw3 = compress_iwa_file(y);\n  entry.content = raw3;\n  entry.size = entry.content.length;\n  return cfb;\n}\nfunction fix_opts_func(defaults/*:Array<Array<any> >*/)/*:{(o:any):void}*/ {\n\treturn function fix_opts(opts) {\n\t\tfor(var i = 0; i != defaults.length; ++i) {\n\t\t\tvar d = defaults[i];\n\t\t\tif(opts[d[0]] === undefined) opts[d[0]] = d[1];\n\t\t\tif(d[2] === 'n') opts[d[0]] = Number(opts[d[0]]);\n\t\t}\n\t};\n}\n\nfunction fix_read_opts(opts) {\nfix_opts_func([\n\t['cellNF', false], /* emit cell number format string as .z */\n\t['cellHTML', true], /* emit html string as .h */\n\t['cellFormula', true], /* emit formulae as .f */\n\t['cellStyles', false], /* emits style/theme as .s */\n\t['cellText', true], /* emit formatted text as .w */\n\t['cellDates', false], /* emit date cells with type `d` */\n\n\t['sheetStubs', false], /* emit empty cells */\n\t['sheetRows', 0, 'n'], /* read n rows (0 = read all rows) */\n\n\t['bookDeps', false], /* parse calculation chains */\n\t['bookSheets', false], /* only try to get sheet names (no Sheets) */\n\t['bookProps', false], /* only try to get properties (no Sheets) */\n\t['bookFiles', false], /* include raw file structure (keys, files, cfb) */\n\t['bookVBA', false], /* include vba raw data (vbaraw) */\n\n\t['password',''], /* password */\n\t['WTF', false] /* WTF mode (throws errors) */\n])(opts);\n}\n\nfunction fix_write_opts(opts) {\nfix_opts_func([\n\t['cellDates', false], /* write date cells with type `d` */\n\n\t['bookSST', false], /* Generate Shared String Table */\n\n\t['bookType', 'xlsx'], /* Type of workbook (xlsx/m/b) */\n\n\t['compression', false], /* Use file compression */\n\n\t['WTF', false] /* WTF mode (throws errors) */\n])(opts);\n}\nfunction get_sheet_type(n/*:string*/)/*:string*/ {\n\tif(RELS.WS.indexOf(n) > -1) return \"sheet\";\n\tif(RELS.CS && n == RELS.CS) return \"chart\";\n\tif(RELS.DS && n == RELS.DS) return \"dialog\";\n\tif(RELS.MS && n == RELS.MS) return \"macro\";\n\treturn (n && n.length) ? n : \"sheet\";\n}\nfunction safe_parse_wbrels(wbrels, sheets) {\n\tif(!wbrels) return 0;\n\ttry {\n\t\twbrels = sheets.map(function pwbr(w) { if(!w.id) w.id = w.strRelID; return [w.name, wbrels['!id'][w.id].Target, get_sheet_type(wbrels['!id'][w.id].Type)]; });\n\t} catch(e) { return null; }\n\treturn !wbrels || wbrels.length === 0 ? null : wbrels;\n}\n\nfunction safe_parse_sheet(zip, path/*:string*/, relsPath/*:string*/, sheet, idx/*:number*/, sheetRels, sheets, stype/*:string*/, opts, wb, themes, styles) {\n\ttry {\n\t\tsheetRels[sheet]=parse_rels(getzipstr(zip, relsPath, true), path);\n\t\tvar data = getzipdata(zip, path);\n\t\tvar _ws;\n\t\tswitch(stype) {\n\t\t\tcase 'sheet':  _ws = parse_ws(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;\n\t\t\tcase 'chart':  _ws = parse_cs(data, path, idx, opts, sheetRels[sheet], wb, themes, styles);\n\t\t\t\tif(!_ws || !_ws['!drawel']) break;\n\t\t\t\tvar dfile = resolve_path(_ws['!drawel'].Target, path);\n\t\t\t\tvar drelsp = get_rels_path(dfile);\n\t\t\t\tvar draw = parse_drawing(getzipstr(zip, dfile, true), parse_rels(getzipstr(zip, drelsp, true), dfile));\n\t\t\t\tvar chartp = resolve_path(draw, dfile);\n\t\t\t\tvar crelsp = get_rels_path(chartp);\n\t\t\t\t_ws = parse_chart(getzipstr(zip, chartp, true), chartp, opts, parse_rels(getzipstr(zip, crelsp, true), chartp), wb, _ws);\n\t\t\t\tbreak;\n\t\t\tcase 'macro':  _ws = parse_ms(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;\n\t\t\tcase 'dialog': _ws = parse_ds(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;\n\t\t\tdefault: throw new Error(\"Unrecognized sheet type \" + stype);\n\t\t}\n\t\tsheets[sheet] = _ws;\n\n\t\t/* scan rels for comments and threaded comments */\n\t\tvar tcomments = [];\n\t\tif(sheetRels && sheetRels[sheet]) keys(sheetRels[sheet]).forEach(function(n) {\n\t\t\tvar dfile = \"\";\n\t\t\tif(sheetRels[sheet][n].Type == RELS.CMNT) {\n\t\t\t\tdfile = resolve_path(sheetRels[sheet][n].Target, path);\n\t\t\t\tvar comments = parse_cmnt(getzipdata(zip, dfile, true), dfile, opts);\n\t\t\t\tif(!comments || !comments.length) return;\n\t\t\t\tsheet_insert_comments(_ws, comments, false);\n\t\t\t}\n\t\t\tif(sheetRels[sheet][n].Type == RELS.TCMNT) {\n\t\t\t\tdfile = resolve_path(sheetRels[sheet][n].Target, path);\n\t\t\t\ttcomments = tcomments.concat(parse_tcmnt_xml(getzipdata(zip, dfile, true), opts));\n\t\t\t}\n\t\t});\n\t\tif(tcomments && tcomments.length) sheet_insert_comments(_ws, tcomments, true, opts.people || []);\n\t} catch(e) { if(opts.WTF) throw e; }\n}\n\nfunction strip_front_slash(x/*:string*/)/*:string*/ { return x.charAt(0) == '/' ? x.slice(1) : x; }\n\nfunction parse_zip(zip/*:ZIP*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tmake_ssf();\n\topts = opts || {};\n\tfix_read_opts(opts);\n\n\t/* OpenDocument Part 3 Section 2.2.1 OpenDocument Package */\n\tif(safegetzipfile(zip, 'META-INF/manifest.xml')) return parse_ods(zip, opts);\n\t/* UOC */\n\tif(safegetzipfile(zip, 'objectdata.xml')) return parse_ods(zip, opts);\n\t/* Numbers */\n\tif(safegetzipfile(zip, 'Index/Document.iwa')) {\n\t\tif(typeof Uint8Array == \"undefined\") throw new Error('NUMBERS file parsing requires Uint8Array support');\n\t\tif(typeof parse_numbers_iwa != \"undefined\") {\n\t\t\tif(zip.FileIndex) return parse_numbers_iwa(zip);\n\t\t\tvar _zip = CFB.utils.cfb_new();\n\t\t\tzipentries(zip).forEach(function(e) { zip_add_file(_zip, e, getzipbin(zip, e)); });\n\t\t\treturn parse_numbers_iwa(_zip);\n\t\t}\n\t\tthrow new Error('Unsupported NUMBERS file');\n\t}\n\tif(!safegetzipfile(zip, '[Content_Types].xml')) {\n\t\tif(safegetzipfile(zip, 'index.xml.gz')) throw new Error('Unsupported NUMBERS 08 file');\n\t\tif(safegetzipfile(zip, 'index.xml')) throw new Error('Unsupported NUMBERS 09 file');\n\t\tthrow new Error('Unsupported ZIP file');\n\t}\n\n\tvar entries = zipentries(zip);\n\tvar dir = parse_ct((getzipstr(zip, '[Content_Types].xml')/*:?any*/));\n\tvar xlsb = false;\n\tvar sheets, binname;\n\tif(dir.workbooks.length === 0) {\n\t\tbinname = \"xl/workbook.xml\";\n\t\tif(getzipdata(zip,binname, true)) dir.workbooks.push(binname);\n\t}\n\tif(dir.workbooks.length === 0) {\n\t\tbinname = \"xl/workbook.bin\";\n\t\tif(!getzipdata(zip,binname,true)) throw new Error(\"Could not find workbook\");\n\t\tdir.workbooks.push(binname);\n\t\txlsb = true;\n\t}\n\tif(dir.workbooks[0].slice(-3) == \"bin\") xlsb = true;\n\n\tvar themes = ({}/*:any*/);\n\tvar styles = ({}/*:any*/);\n\tif(!opts.bookSheets && !opts.bookProps) {\n\t\tstrs = [];\n\t\tif(dir.sst) try { strs=parse_sst(getzipdata(zip, strip_front_slash(dir.sst)), dir.sst, opts); } catch(e) { if(opts.WTF) throw e; }\n\n\t\tif(opts.cellStyles && dir.themes.length) themes = parse_theme(getzipstr(zip, dir.themes[0].replace(/^\\//,''), true)||\"\",dir.themes[0], opts);\n\n\t\tif(dir.style) styles = parse_sty(getzipdata(zip, strip_front_slash(dir.style)), dir.style, themes, opts);\n\t}\n\n\t/*var externbooks = */dir.links.map(function(link) {\n\t\ttry {\n\t\t\tvar rels = parse_rels(getzipstr(zip, get_rels_path(strip_front_slash(link))), link);\n\t\t\treturn parse_xlink(getzipdata(zip, strip_front_slash(link)), rels, link, opts);\n\t\t} catch(e) {}\n\t});\n\n\tvar wb = parse_wb(getzipdata(zip, strip_front_slash(dir.workbooks[0])), dir.workbooks[0], opts);\n\n\tvar props = {}, propdata = \"\";\n\n\tif(dir.coreprops.length) {\n\t\tpropdata = getzipdata(zip, strip_front_slash(dir.coreprops[0]), true);\n\t\tif(propdata) props = parse_core_props(propdata);\n\t\tif(dir.extprops.length !== 0) {\n\t\t\tpropdata = getzipdata(zip, strip_front_slash(dir.extprops[0]), true);\n\t\t\tif(propdata) parse_ext_props(propdata, props, opts);\n\t\t}\n\t}\n\n\tvar custprops = {};\n\tif(!opts.bookSheets || opts.bookProps) {\n\t\tif (dir.custprops.length !== 0) {\n\t\t\tpropdata = getzipstr(zip, strip_front_slash(dir.custprops[0]), true);\n\t\t\tif(propdata) custprops = parse_cust_props(propdata, opts);\n\t\t}\n\t}\n\n\tvar out = ({}/*:any*/);\n\tif(opts.bookSheets || opts.bookProps) {\n\t\tif(wb.Sheets) sheets = wb.Sheets.map(function pluck(x){ return x.name; });\n\t\telse if(props.Worksheets && props.SheetNames.length > 0) sheets=props.SheetNames;\n\t\tif(opts.bookProps) { out.Props = props; out.Custprops = custprops; }\n\t\tif(opts.bookSheets && typeof sheets !== 'undefined') out.SheetNames = sheets;\n\t\tif(opts.bookSheets ? out.SheetNames : opts.bookProps) return out;\n\t}\n\tsheets = {};\n\n\tvar deps = {};\n\tif(opts.bookDeps && dir.calcchain) deps=parse_cc(getzipdata(zip, strip_front_slash(dir.calcchain)),dir.calcchain,opts);\n\n\tvar i=0;\n\tvar sheetRels = ({}/*:any*/);\n\tvar path, relsPath;\n\n\t{\n\t\tvar wbsheets = wb.Sheets;\n\t\tprops.Worksheets = wbsheets.length;\n\t\tprops.SheetNames = [];\n\t\tfor(var j = 0; j != wbsheets.length; ++j) {\n\t\t\tprops.SheetNames[j] = wbsheets[j].name;\n\t\t}\n\t}\n\n\tvar wbext = xlsb ? \"bin\" : \"xml\";\n\tvar wbrelsi = dir.workbooks[0].lastIndexOf(\"/\");\n\tvar wbrelsfile = (dir.workbooks[0].slice(0, wbrelsi+1) + \"_rels/\" + dir.workbooks[0].slice(wbrelsi+1) + \".rels\").replace(/^\\//,\"\");\n\tif(!safegetzipfile(zip, wbrelsfile)) wbrelsfile = 'xl/_rels/workbook.' + wbext + '.rels';\n\tvar wbrels = parse_rels(getzipstr(zip, wbrelsfile, true), wbrelsfile.replace(/_rels.*/, \"s5s\"));\n\n\tif((dir.metadata || []).length >= 1) {\n\t\t/* TODO: MDX and other types of metadata */\n\t\topts.xlmeta = parse_xlmeta(getzipdata(zip, strip_front_slash(dir.metadata[0])),dir.metadata[0],opts);\n\t}\n\n\tif((dir.people || []).length >= 1) {\n\t\topts.people = parse_people_xml(getzipdata(zip, strip_front_slash(dir.people[0])),opts);\n\t}\n\n\tif(wbrels) wbrels = safe_parse_wbrels(wbrels, wb.Sheets);\n\n\t/* Numbers iOS hack */\n\tvar nmode = (getzipdata(zip,\"xl/worksheets/sheet.xml\",true))?1:0;\n\twsloop: for(i = 0; i != props.Worksheets; ++i) {\n\t\tvar stype = \"sheet\";\n\t\tif(wbrels && wbrels[i]) {\n\t\t\tpath = 'xl/' + (wbrels[i][1]).replace(/[\\/]?xl\\//, \"\");\n\t\t\tif(!safegetzipfile(zip, path)) path = wbrels[i][1];\n\t\t\tif(!safegetzipfile(zip, path)) path = wbrelsfile.replace(/_rels\\/.*$/,\"\") + wbrels[i][1];\n\t\t\tstype = wbrels[i][2];\n\t\t} else {\n\t\t\tpath = 'xl/worksheets/sheet'+(i+1-nmode)+\".\" + wbext;\n\t\t\tpath = path.replace(/sheet0\\./,\"sheet.\");\n\t\t}\n\t\trelsPath = path.replace(/^(.*)(\\/)([^\\/]*)$/, \"$1/_rels/$3.rels\");\n\t\tif(opts && opts.sheets != null) switch(typeof opts.sheets) {\n\t\t\tcase \"number\": if(i != opts.sheets) continue wsloop; break;\n\t\t\tcase \"string\": if(props.SheetNames[i].toLowerCase() != opts.sheets.toLowerCase()) continue wsloop; break;\n\t\t\tdefault: if(Array.isArray && Array.isArray(opts.sheets)) {\n\t\t\t\tvar snjseen = false;\n\t\t\t\tfor(var snj = 0; snj != opts.sheets.length; ++snj) {\n\t\t\t\t\tif(typeof opts.sheets[snj] == \"number\" && opts.sheets[snj] == i) snjseen=1;\n\t\t\t\t\tif(typeof opts.sheets[snj] == \"string\" && opts.sheets[snj].toLowerCase() == props.SheetNames[i].toLowerCase()) snjseen = 1;\n\t\t\t\t}\n\t\t\t\tif(!snjseen) continue wsloop;\n\t\t\t}\n\t\t}\n\t\tsafe_parse_sheet(zip, path, relsPath, props.SheetNames[i], i, sheetRels, sheets, stype, opts, wb, themes, styles);\n\t}\n\n\tout = ({\n\t\tDirectory: dir,\n\t\tWorkbook: wb,\n\t\tProps: props,\n\t\tCustprops: custprops,\n\t\tDeps: deps,\n\t\tSheets: sheets,\n\t\tSheetNames: props.SheetNames,\n\t\tStrings: strs,\n\t\tStyles: styles,\n\t\tThemes: themes,\n\t\tSSF: dup(table_fmt)\n\t}/*:any*/);\n\tif(opts && opts.bookFiles) {\n\t\tif(zip.files) {\n\t\t\tout.keys = entries;\n\t\t\tout.files = zip.files;\n\t\t} else {\n\t\t\tout.keys = [];\n\t\t\tout.files = {};\n\t\t\tzip.FullPaths.forEach(function(p, idx) {\n\t\t\t\tp = p.replace(/^Root Entry[\\/]/, \"\");\n\t\t\t\tout.keys.push(p);\n\t\t\t\tout.files[p] = zip.FileIndex[idx];\n\t\t\t});\n\t\t}\n\t}\n\tif(opts && opts.bookVBA) {\n\t\tif(dir.vba.length > 0) out.vbaraw = getzipdata(zip,strip_front_slash(dir.vba[0]),true);\n\t\telse if(dir.defaults && dir.defaults.bin === CT_VBA) out.vbaraw = getzipdata(zip, 'xl/vbaProject.bin',true);\n\t}\n\treturn out;\n}\n\n/* [MS-OFFCRYPTO] 2.1.1 */\nfunction parse_xlsxcfb(cfb, _opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tvar opts = _opts || {};\n\tvar f = 'Workbook', data = CFB.find(cfb, f);\n\ttry {\n\tf = '/!DataSpaces/Version';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\t/*var version = */parse_DataSpaceVersionInfo(data.content);\n\n\t/* 2.3.4.1 */\n\tf = '/!DataSpaces/DataSpaceMap';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\tvar dsm = parse_DataSpaceMap(data.content);\n\tif(dsm.length !== 1 || dsm[0].comps.length !== 1 || dsm[0].comps[0].t !== 0 || dsm[0].name !== \"StrongEncryptionDataSpace\" || dsm[0].comps[0].v !== \"EncryptedPackage\")\n\t\tthrow new Error(\"ECMA-376 Encrypted file bad \" + f);\n\n\t/* 2.3.4.2 */\n\tf = '/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\tvar seds = parse_DataSpaceDefinition(data.content);\n\tif(seds.length != 1 || seds[0] != \"StrongEncryptionTransform\")\n\t\tthrow new Error(\"ECMA-376 Encrypted file bad \" + f);\n\n\t/* 2.3.4.3 */\n\tf = '/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\t/*var hdr = */parse_Primary(data.content);\n\t} catch(e) {}\n\n\tf = '/EncryptionInfo';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\tvar einfo = parse_EncryptionInfo(data.content);\n\n\t/* 2.3.4.4 */\n\tf = '/EncryptedPackage';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\n/*global decrypt_agile */\n/*:: declare var decrypt_agile:any; */\n\tif(einfo[0] == 0x04 && typeof decrypt_agile !== 'undefined') return decrypt_agile(einfo[1], data.content, opts.password || \"\", opts);\n/*global decrypt_std76 */\n/*:: declare var decrypt_std76:any; */\n\tif(einfo[0] == 0x02 && typeof decrypt_std76 !== 'undefined') return decrypt_std76(einfo[1], data.content, opts.password || \"\", opts);\n\tthrow new Error(\"File is password-protected\");\n}\n\nfunction write_zip(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:ZIP*/ {\n\tif(opts.bookType == \"ods\") return write_ods(wb, opts);\n\tif(opts.bookType == \"numbers\") return write_numbers_iwa(wb, opts);\n\tif(opts.bookType == \"xlsb\") return write_zip_xlsxb(wb, opts);\n\treturn write_zip_xlsx(wb, opts);\n}\n\n/* XLSX and XLSB writing are very similar.  Originally they were unified in one\n   export function.  This is horrible for tree shaking in the common case (most\n   applications need to export files in one format) so this function supports\n   both formats while write_zip_xlsx only handles XLSX */\nfunction write_zip_xlsxb(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:ZIP*/ {\n\t_shapeid = 1024;\n\tif(wb && !wb.SSF) {\n\t\twb.SSF = dup(table_fmt);\n\t}\n\tif(wb && wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\topts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;\n\t\topts.ssf = wb.SSF;\n\t}\n\topts.rels = {}; opts.wbrels = {};\n\topts.Strings = /*::((*/[]/*:: :any):SST)*/; opts.Strings.Count = 0; opts.Strings.Unique = 0;\n\tif(browser_has_Map) opts.revStrings = new Map();\n\telse { opts.revStrings = {}; opts.revStrings.foo = []; delete opts.revStrings.foo; }\n\tvar wbext = opts.bookType == \"xlsb\" ? \"bin\" : \"xml\";\n\tvar vbafmt = VBAFMTS.indexOf(opts.bookType) > -1;\n\tvar ct = new_ct();\n\tfix_write_opts(opts = opts || {});\n\tvar zip = zip_new();\n\tvar f = \"\", rId = 0;\n\n\topts.cellXfs = [];\n\tget_cell_style(opts.cellXfs, {}, {revssf:{\"General\":0}});\n\n\tif(!wb.Props) wb.Props = {};\n\n\tf = \"docProps/core.xml\";\n\tzip_add_file(zip, f, write_core_props(wb.Props, opts));\n\tct.coreprops.push(f);\n\tadd_rels(opts.rels, 2, f, RELS.CORE_PROPS);\n\n\t/*::if(!wb.Props) throw \"unreachable\"; */\n\tf = \"docProps/app.xml\";\n\tif(wb.Props && wb.Props.SheetNames){/* empty */}\n\telse if(!wb.Workbook || !wb.Workbook.Sheets) wb.Props.SheetNames = wb.SheetNames;\n\telse {\n\t\tvar _sn = [];\n\t\tfor(var _i = 0; _i < wb.SheetNames.length; ++_i)\n\t\t\tif((wb.Workbook.Sheets[_i]||{}).Hidden != 2) _sn.push(wb.SheetNames[_i]);\n\t\twb.Props.SheetNames = _sn;\n\t}\n\twb.Props.Worksheets = wb.Props.SheetNames.length;\n\tzip_add_file(zip, f, write_ext_props(wb.Props, opts));\n\tct.extprops.push(f);\n\tadd_rels(opts.rels, 3, f, RELS.EXT_PROPS);\n\n\tif(wb.Custprops !== wb.Props && keys(wb.Custprops||{}).length > 0) {\n\t\tf = \"docProps/custom.xml\";\n\t\tzip_add_file(zip, f, write_cust_props(wb.Custprops, opts));\n\t\tct.custprops.push(f);\n\t\tadd_rels(opts.rels, 4, f, RELS.CUST_PROPS);\n\t}\n\n\tfor(rId=1;rId <= wb.SheetNames.length; ++rId) {\n\t\tvar wsrels = {'!id':{}};\n\t\tvar ws = wb.Sheets[wb.SheetNames[rId-1]];\n\t\tvar _type = (ws || {})[\"!type\"] || \"sheet\";\n\t\tswitch(_type) {\n\t\tcase \"chart\":\n\t\t\t/* falls through */\n\t\tdefault:\n\t\t\tf = \"xl/worksheets/sheet\" + rId + \".\" + wbext;\n\t\t\tzip_add_file(zip, f, write_ws(rId-1, f, opts, wb, wsrels));\n\t\t\tct.sheets.push(f);\n\t\t\tadd_rels(opts.wbrels, -1, \"worksheets/sheet\" + rId + \".\" + wbext, RELS.WS[0]);\n\t\t}\n\n\t\tif(ws) {\n\t\t\tvar comments = ws['!comments'];\n\t\t\tvar need_vml = false;\n\t\t\tvar cf = \"\";\n\t\t\tif(comments && comments.length > 0) {\n\t\t\t\tcf = \"xl/comments\" + rId + \".\" + wbext;\n\t\t\t\tzip_add_file(zip, cf, write_cmnt(comments, cf, opts));\n\t\t\t\tct.comments.push(cf);\n\t\t\t\tadd_rels(wsrels, -1, \"../comments\" + rId + \".\" + wbext, RELS.CMNT);\n\t\t\t\tneed_vml = true;\n\t\t\t}\n\t\t\tif(ws['!legacy']) {\n\t\t\t\tif(need_vml) zip_add_file(zip, \"xl/drawings/vmlDrawing\" + (rId) + \".vml\", write_comments_vml(rId, ws['!comments']));\n\t\t\t}\n\t\t\tdelete ws['!comments'];\n\t\t\tdelete ws['!legacy'];\n\t\t}\n\n\t\tif(wsrels['!id'].rId1) zip_add_file(zip, get_rels_path(f), write_rels(wsrels));\n\t}\n\n\tif(opts.Strings != null && opts.Strings.length > 0) {\n\t\tf = \"xl/sharedStrings.\" + wbext;\n\t\tzip_add_file(zip, f, write_sst(opts.Strings, f, opts));\n\t\tct.strs.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"sharedStrings.\" + wbext, RELS.SST);\n\t}\n\n\tf = \"xl/workbook.\" + wbext;\n\tzip_add_file(zip, f, write_wb(wb, f, opts));\n\tct.workbooks.push(f);\n\tadd_rels(opts.rels, 1, f, RELS.WB);\n\n\t/* TODO: something more intelligent with themes */\n\n\tf = \"xl/theme/theme1.xml\";\n\tzip_add_file(zip, f, write_theme(wb.Themes, opts));\n\tct.themes.push(f);\n\tadd_rels(opts.wbrels, -1, \"theme/theme1.xml\", RELS.THEME);\n\n\t/* TODO: something more intelligent with styles */\n\n\tf = \"xl/styles.\" + wbext;\n\tzip_add_file(zip, f, write_sty(wb, f, opts));\n\tct.styles.push(f);\n\tadd_rels(opts.wbrels, -1, \"styles.\" + wbext, RELS.STY);\n\n\tif(wb.vbaraw && vbafmt) {\n\t\tf = \"xl/vbaProject.bin\";\n\t\tzip_add_file(zip, f, wb.vbaraw);\n\t\tct.vba.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"vbaProject.bin\", RELS.VBA);\n\t}\n\n\tf = \"xl/metadata.\" + wbext;\n\tzip_add_file(zip, f, write_xlmeta(f));\n\tct.metadata.push(f);\n\tadd_rels(opts.wbrels, -1, \"metadata.\" + wbext, RELS.XLMETA);\n\n\tzip_add_file(zip, \"[Content_Types].xml\", write_ct(ct, opts));\n\tzip_add_file(zip, '_rels/.rels', write_rels(opts.rels));\n\tzip_add_file(zip, 'xl/_rels/workbook.' + wbext + '.rels', write_rels(opts.wbrels));\n\n\tdelete opts.revssf; delete opts.ssf;\n\treturn zip;\n}\n\nfunction write_zip_xlsx(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:ZIP*/ {\n\t_shapeid = 1024;\n\tif(wb && !wb.SSF) {\n\t\twb.SSF = dup(table_fmt);\n\t}\n\tif(wb && wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\topts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;\n\t\topts.ssf = wb.SSF;\n\t}\n\topts.rels = {}; opts.wbrels = {};\n\topts.Strings = /*::((*/[]/*:: :any):SST)*/; opts.Strings.Count = 0; opts.Strings.Unique = 0;\n\tif(browser_has_Map) opts.revStrings = new Map();\n\telse { opts.revStrings = {}; opts.revStrings.foo = []; delete opts.revStrings.foo; }\n\tvar wbext = \"xml\";\n\tvar vbafmt = VBAFMTS.indexOf(opts.bookType) > -1;\n\tvar ct = new_ct();\n\tfix_write_opts(opts = opts || {});\n\tvar zip = zip_new();\n\tvar f = \"\", rId = 0;\n\n\topts.cellXfs = [];\n\tget_cell_style(opts.cellXfs, {}, {revssf:{\"General\":0}});\n\n\tif(!wb.Props) wb.Props = {};\n\n\tf = \"docProps/core.xml\";\n\tzip_add_file(zip, f, write_core_props(wb.Props, opts));\n\tct.coreprops.push(f);\n\tadd_rels(opts.rels, 2, f, RELS.CORE_PROPS);\n\n\t/*::if(!wb.Props) throw \"unreachable\"; */\n\tf = \"docProps/app.xml\";\n\tif(wb.Props && wb.Props.SheetNames){/* empty */}\n\telse if(!wb.Workbook || !wb.Workbook.Sheets) wb.Props.SheetNames = wb.SheetNames;\n\telse {\n\t\tvar _sn = [];\n\t\tfor(var _i = 0; _i < wb.SheetNames.length; ++_i)\n\t\t\tif((wb.Workbook.Sheets[_i]||{}).Hidden != 2) _sn.push(wb.SheetNames[_i]);\n\t\twb.Props.SheetNames = _sn;\n\t}\n\twb.Props.Worksheets = wb.Props.SheetNames.length;\n\tzip_add_file(zip, f, write_ext_props(wb.Props, opts));\n\tct.extprops.push(f);\n\tadd_rels(opts.rels, 3, f, RELS.EXT_PROPS);\n\n\tif(wb.Custprops !== wb.Props && keys(wb.Custprops||{}).length > 0) {\n\t\tf = \"docProps/custom.xml\";\n\t\tzip_add_file(zip, f, write_cust_props(wb.Custprops, opts));\n\t\tct.custprops.push(f);\n\t\tadd_rels(opts.rels, 4, f, RELS.CUST_PROPS);\n\t}\n\n\tvar people = [\"SheetJ5\"];\n\topts.tcid = 0;\n\n\tfor(rId=1;rId <= wb.SheetNames.length; ++rId) {\n\t\tvar wsrels = {'!id':{}};\n\t\tvar ws = wb.Sheets[wb.SheetNames[rId-1]];\n\t\tvar _type = (ws || {})[\"!type\"] || \"sheet\";\n\t\tswitch(_type) {\n\t\tcase \"chart\":\n\t\t\t/* falls through */\n\t\tdefault:\n\t\t\tf = \"xl/worksheets/sheet\" + rId + \".\" + wbext;\n\t\t\tzip_add_file(zip, f, write_ws_xml(rId-1, opts, wb, wsrels));\n\t\t\tct.sheets.push(f);\n\t\t\tadd_rels(opts.wbrels, -1, \"worksheets/sheet\" + rId + \".\" + wbext, RELS.WS[0]);\n\t\t}\n\n\t\tif(ws) {\n\t\t\tvar comments = ws['!comments'];\n\t\t\tvar need_vml = false;\n\t\t\tvar cf = \"\";\n\t\t\tif(comments && comments.length > 0) {\n\t\t\t\tvar needtc = false;\n\t\t\t\tcomments.forEach(function(carr) {\n\t\t\t\t\tcarr[1].forEach(function(c) { if(c.T == true) needtc = true; });\n\t\t\t\t});\n\t\t\t\tif(needtc) {\n\t\t\t\t\tcf = \"xl/threadedComments/threadedComment\" + rId + \".\" + wbext;\n\t\t\t\t\tzip_add_file(zip, cf, write_tcmnt_xml(comments, people, opts));\n\t\t\t\t\tct.threadedcomments.push(cf);\n\t\t\t\t\tadd_rels(wsrels, -1, \"../threadedComments/threadedComment\" + rId + \".\" + wbext, RELS.TCMNT);\n\t\t\t\t}\n\n\t\t\t\tcf = \"xl/comments\" + rId + \".\" + wbext;\n\t\t\t\tzip_add_file(zip, cf, write_comments_xml(comments, opts));\n\t\t\t\tct.comments.push(cf);\n\t\t\t\tadd_rels(wsrels, -1, \"../comments\" + rId + \".\" + wbext, RELS.CMNT);\n\t\t\t\tneed_vml = true;\n\t\t\t}\n\t\t\tif(ws['!legacy']) {\n\t\t\t\tif(need_vml) zip_add_file(zip, \"xl/drawings/vmlDrawing\" + (rId) + \".vml\", write_comments_vml(rId, ws['!comments']));\n\t\t\t}\n\t\t\tdelete ws['!comments'];\n\t\t\tdelete ws['!legacy'];\n\t\t}\n\n\t\tif(wsrels['!id'].rId1) zip_add_file(zip, get_rels_path(f), write_rels(wsrels));\n\t}\n\n\tif(opts.Strings != null && opts.Strings.length > 0) {\n\t\tf = \"xl/sharedStrings.\" + wbext;\n\t\tzip_add_file(zip, f, write_sst_xml(opts.Strings, opts));\n\t\tct.strs.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"sharedStrings.\" + wbext, RELS.SST);\n\t}\n\n\tf = \"xl/workbook.\" + wbext;\n\tzip_add_file(zip, f, write_wb_xml(wb, opts));\n\tct.workbooks.push(f);\n\tadd_rels(opts.rels, 1, f, RELS.WB);\n\n\t/* TODO: something more intelligent with themes */\n\n\tf = \"xl/theme/theme1.xml\";\n\tzip_add_file(zip, f, write_theme(wb.Themes, opts));\n\tct.themes.push(f);\n\tadd_rels(opts.wbrels, -1, \"theme/theme1.xml\", RELS.THEME);\n\n\t/* TODO: something more intelligent with styles */\n\n\tf = \"xl/styles.\" + wbext;\n\tzip_add_file(zip, f, write_sty_xml(wb, opts));\n\tct.styles.push(f);\n\tadd_rels(opts.wbrels, -1, \"styles.\" + wbext, RELS.STY);\n\n\tif(wb.vbaraw && vbafmt) {\n\t\tf = \"xl/vbaProject.bin\";\n\t\tzip_add_file(zip, f, wb.vbaraw);\n\t\tct.vba.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"vbaProject.bin\", RELS.VBA);\n\t}\n\n\tf = \"xl/metadata.\" + wbext;\n\tzip_add_file(zip, f, write_xlmeta_xml());\n\tct.metadata.push(f);\n\tadd_rels(opts.wbrels, -1, \"metadata.\" + wbext, RELS.XLMETA);\n\n\tif(people.length > 1) {\n\t\tf = \"xl/persons/person.xml\";\n\t\tzip_add_file(zip, f, write_people_xml(people, opts));\n\t\tct.people.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"persons/person.xml\", RELS.PEOPLE);\n\t}\n\n\tzip_add_file(zip, \"[Content_Types].xml\", write_ct(ct, opts));\n\tzip_add_file(zip, '_rels/.rels', write_rels(opts.rels));\n\tzip_add_file(zip, 'xl/_rels/workbook.' + wbext + '.rels', write_rels(opts.wbrels));\n\n\tdelete opts.revssf; delete opts.ssf;\n\treturn zip;\n}\n\nfunction firstbyte(f/*:RawData*/,o/*:?TypeOpts*/)/*:Array<number>*/ {\n\tvar x = \"\";\n\tswitch((o||{}).type || \"base64\") {\n\t\tcase 'buffer': return [f[0], f[1], f[2], f[3], f[4], f[5], f[6], f[7]];\n\t\tcase 'base64': x = Base64_decode(f.slice(0,12)); break;\n\t\tcase 'binary': x = f; break;\n\t\tcase 'array':  return [f[0], f[1], f[2], f[3], f[4], f[5], f[6], f[7]];\n\t\tdefault: throw new Error(\"Unrecognized type \" + (o && o.type || \"undefined\"));\n\t}\n\treturn [x.charCodeAt(0), x.charCodeAt(1), x.charCodeAt(2), x.charCodeAt(3), x.charCodeAt(4), x.charCodeAt(5), x.charCodeAt(6), x.charCodeAt(7)];\n}\n\nfunction read_cfb(cfb/*:CFBContainer*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tif(CFB.find(cfb, \"EncryptedPackage\")) return parse_xlsxcfb(cfb, opts);\n\treturn parse_xlscfb(cfb, opts);\n}\n\nfunction read_zip(data/*:RawData*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tvar zip, d = data;\n\tvar o = opts||{};\n\tif(!o.type) o.type = (has_buf && Buffer.isBuffer(data)) ? \"buffer\" : \"base64\";\n\tzip = zip_read(d, o);\n\treturn parse_zip(zip, o);\n}\n\nfunction read_plaintext(data/*:string*/, o/*:ParseOpts*/)/*:Workbook*/ {\n\tvar i = 0;\n\tmain: while(i < data.length) switch(data.charCodeAt(i)) {\n\t\tcase 0x0A: case 0x0D: case 0x20: ++i; break;\n\t\tcase 0x3C: return parse_xlml(data.slice(i),o);\n\t\tdefault: break main;\n\t}\n\treturn PRN.to_workbook(data, o);\n}\n\nfunction read_plaintext_raw(data/*:RawData*/, o/*:ParseOpts*/)/*:Workbook*/ {\n\tvar str = \"\", bytes = firstbyte(data, o);\n\tswitch(o.type) {\n\t\tcase 'base64': str = Base64_decode(data); break;\n\t\tcase 'binary': str = data; break;\n\t\tcase 'buffer': str = data.toString('binary'); break;\n\t\tcase 'array': str = cc2str(data); break;\n\t\tdefault: throw new Error(\"Unrecognized type \" + o.type);\n\t}\n\tif(bytes[0] == 0xEF && bytes[1] == 0xBB && bytes[2] == 0xBF) str = utf8read(str);\n\to.type = \"binary\";\n\treturn read_plaintext(str, o);\n}\n\nfunction read_utf16(data/*:RawData*/, o/*:ParseOpts*/)/*:Workbook*/ {\n\tvar d = data;\n\tif(o.type == 'base64') d = Base64_decode(d);\n\td = $cptable.utils.decode(1200, d.slice(2), 'str');\n\to.type = \"binary\";\n\treturn read_plaintext(d, o);\n}\n\nfunction bstrify(data/*:string*/)/*:string*/ {\n\treturn !data.match(/[^\\x00-\\x7F]/) ? data : utf8write(data);\n}\n\nfunction read_prn(data, d, o, str) {\n\tif(str) { o.type = \"string\"; return PRN.to_workbook(data, o); }\n\treturn PRN.to_workbook(d, o);\n}\n\nfunction readSync(data/*:RawData*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\treset_cp();\n\tvar o = opts||{};\n\tif(typeof ArrayBuffer !== 'undefined' && data instanceof ArrayBuffer) return readSync(new Uint8Array(data), (o = dup(o), o.type = \"array\", o));\n\tif(typeof Uint8Array !== 'undefined' && data instanceof Uint8Array && !o.type) o.type = typeof Deno !== \"undefined\" ? \"buffer\" : \"array\";\n\tvar d = data, n = [0,0,0,0], str = false;\n\tif(o.cellStyles) { o.cellNF = true; o.sheetStubs = true; }\n\t_ssfopts = {};\n\tif(o.dateNF) _ssfopts.dateNF = o.dateNF;\n\tif(!o.type) o.type = (has_buf && Buffer.isBuffer(data)) ? \"buffer\" : \"base64\";\n\tif(o.type == \"file\") { o.type = has_buf ? \"buffer\" : \"binary\"; d = read_binary(data); if(typeof Uint8Array !== 'undefined' && !has_buf) o.type = \"array\"; }\n\tif(o.type == \"string\") { str = true; o.type = \"binary\"; o.codepage = 65001; d = bstrify(data); }\n\tif(o.type == 'array' && typeof Uint8Array !== 'undefined' && data instanceof Uint8Array && typeof ArrayBuffer !== 'undefined') {\n\t\t// $FlowIgnore\n\t\tvar ab=new ArrayBuffer(3), vu=new Uint8Array(ab); vu.foo=\"bar\";\n\t\t// $FlowIgnore\n\t\tif(!vu.foo) {o=dup(o); o.type='array'; return readSync(ab2a(d), o);}\n\t}\n\tswitch((n = firstbyte(d, o))[0]) {\n\t\tcase 0xD0: if(n[1] === 0xCF && n[2] === 0x11 && n[3] === 0xE0 && n[4] === 0xA1 && n[5] === 0xB1 && n[6] === 0x1A && n[7] === 0xE1) return read_cfb(CFB.read(d, o), o); break;\n\t\tcase 0x09: if(n[1] <= 0x08) return parse_xlscfb(d, o); break;\n\t\tcase 0x3C: return parse_xlml(d, o);\n\t\tcase 0x49:\n\t\t\tif(n[1] === 0x49 && n[2] === 0x2a && n[3] === 0x00) throw new Error(\"TIFF Image File is not a spreadsheet\");\n\t\t\tif(n[1] === 0x44) return read_wb_ID(d, o);\n\t\t\tbreak;\n\t\tcase 0x54: if(n[1] === 0x41 && n[2] === 0x42 && n[3] === 0x4C) return DIF.to_workbook(d, o); break;\n\t\tcase 0x50: return (n[1] === 0x4B && n[2] < 0x09 && n[3] < 0x09) ? read_zip(d, o) : read_prn(data, d, o, str);\n\t\tcase 0xEF: return n[3] === 0x3C ? parse_xlml(d, o) : read_prn(data, d, o, str);\n\t\tcase 0xFF:\n\t\t\tif(n[1] === 0xFE) { return read_utf16(d, o); }\n\t\t\telse if(n[1] === 0x00 && n[2] === 0x02 && n[3] === 0x00) return WK_.to_workbook(d, o);\n\t\t\tbreak;\n\t\tcase 0x00:\n\t\t\tif(n[1] === 0x00) {\n\t\t\t\tif(n[2] >= 0x02 && n[3] === 0x00) return WK_.to_workbook(d, o);\n\t\t\t\tif(n[2] === 0x00 && (n[3] === 0x08 || n[3] === 0x09)) return WK_.to_workbook(d, o);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 0x03: case 0x83: case 0x8B: case 0x8C: return DBF.to_workbook(d, o);\n\t\tcase 0x7B: if(n[1] === 0x5C && n[2] === 0x72 && n[3] === 0x74) return RTF.to_workbook(d, o); break;\n\t\tcase 0x0A: case 0x0D: case 0x20: return read_plaintext_raw(d, o);\n\t\tcase 0x89: if(n[1] === 0x50 && n[2] === 0x4E && n[3] === 0x47) throw new Error(\"PNG Image File is not a spreadsheet\"); break;\n\t}\n\tif(DBF_SUPPORTED_VERSIONS.indexOf(n[0]) > -1 && n[2] <= 12 && n[3] <= 31) return DBF.to_workbook(d, o);\n\treturn read_prn(data, d, o, str);\n}\n\nfunction readFileSync(filename/*:string*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tvar o = opts||{}; o.type = 'file';\n\treturn readSync(filename, o);\n}\nfunction write_cfb_ctr(cfb/*:CFBContainer*/, o/*:WriteOpts*/)/*:any*/ {\n\tswitch(o.type) {\n\t\tcase \"base64\": case \"binary\": break;\n\t\tcase \"buffer\": case \"array\": o.type = \"\"; break;\n\t\tcase \"file\": return write_dl(o.file, CFB.write(cfb, {type:has_buf ? 'buffer' : \"\"}));\n\t\tcase \"string\": throw new Error(\"'string' output type invalid for '\" + o.bookType + \"' files\");\n\t\tdefault: throw new Error(\"Unrecognized type \" + o.type);\n\t}\n\treturn CFB.write(cfb, o);\n}\n\n/*:: declare var encrypt_agile:any; */\nfunction write_zip_type(wb/*:Workbook*/, opts/*:?WriteOpts*/)/*:any*/ {\n\tvar o = dup(opts||{});\n\tvar z = write_zip(wb, o);\n\treturn write_zip_denouement(z, o);\n}\nfunction write_zip_typeXLSX(wb/*:Workbook*/, opts/*:?WriteOpts*/)/*:any*/ {\n\tvar o = dup(opts||{});\n\tvar z = write_zip_xlsx(wb, o);\n\treturn write_zip_denouement(z, o);\n}\nfunction write_zip_denouement(z/*:any*/, o/*:?WriteOpts*/)/*:any*/ {\n\tvar oopts = {};\n\tvar ftype = has_buf ? \"nodebuffer\" : (typeof Uint8Array !== \"undefined\" ? \"array\" : \"string\");\n\tif(o.compression) oopts.compression = 'DEFLATE';\n\tif(o.password) oopts.type = ftype;\n\telse switch(o.type) {\n\t\tcase \"base64\": oopts.type = \"base64\"; break;\n\t\tcase \"binary\": oopts.type = \"string\"; break;\n\t\tcase \"string\": throw new Error(\"'string' output type invalid for '\" + o.bookType + \"' files\");\n\t\tcase \"buffer\":\n\t\tcase \"file\": oopts.type = ftype; break;\n\t\tdefault: throw new Error(\"Unrecognized type \" + o.type);\n\t}\n\tvar out = z.FullPaths ? CFB.write(z, {fileType:\"zip\", type: /*::(*/{\"nodebuffer\": \"buffer\", \"string\": \"binary\"}/*:: :any)*/[oopts.type] || oopts.type, compression: !!o.compression}) : z.generate(oopts);\n\tif(typeof Deno !== \"undefined\") {\n\t\tif(typeof out == \"string\") {\n\t\t\tif(o.type == \"binary\" || o.type == \"base64\") return out;\n\t\t\tout = new Uint8Array(s2ab(out));\n\t\t}\n\t}\n/*jshint -W083 */\n\tif(o.password && typeof encrypt_agile !== 'undefined') return write_cfb_ctr(encrypt_agile(out, o.password), o); // eslint-disable-line no-undef\n/*jshint +W083 */\n\tif(o.type === \"file\") return write_dl(o.file, out);\n\treturn o.type == \"string\" ? utf8read(/*::(*/out/*:: :any)*/) : out;\n}\n\nfunction write_cfb_type(wb/*:Workbook*/, opts/*:?WriteOpts*/)/*:any*/ {\n\tvar o = opts||{};\n\tvar cfb/*:CFBContainer*/ = write_xlscfb(wb, o);\n\treturn write_cfb_ctr(cfb, o);\n}\n\nfunction write_string_type(out/*:string*/, opts/*:WriteOpts*/, bom/*:?string*/)/*:any*/ {\n\tif(!bom) bom = \"\";\n\tvar o = bom + out;\n\tswitch(opts.type) {\n\t\tcase \"base64\": return Base64_encode(utf8write(o));\n\t\tcase \"binary\": return utf8write(o);\n\t\tcase \"string\": return out;\n\t\tcase \"file\": return write_dl(opts.file, o, 'utf8');\n\t\tcase \"buffer\": {\n\t\t\tif(has_buf) return Buffer_from(o, 'utf8');\n\t\t\telse if(typeof TextEncoder !== \"undefined\") return new TextEncoder().encode(o);\n\t\t\telse return write_string_type(o, {type:'binary'}).split(\"\").map(function(c) { return c.charCodeAt(0); });\n\t\t}\n\t}\n\tthrow new Error(\"Unrecognized type \" + opts.type);\n}\n\nfunction write_stxt_type(out/*:string*/, opts/*:WriteOpts*/)/*:any*/ {\n\tswitch(opts.type) {\n\t\tcase \"base64\": return Base64_encode(out);\n\t\tcase \"binary\": return out;\n\t\tcase \"string\": return out; /* override in sheet_to_txt */\n\t\tcase \"file\": return write_dl(opts.file, out, 'binary');\n\t\tcase \"buffer\": {\n\t\t\tif(has_buf) return Buffer_from(out, 'binary');\n\t\t\telse return out.split(\"\").map(function(c) { return c.charCodeAt(0); });\n\t\t}\n\t}\n\tthrow new Error(\"Unrecognized type \" + opts.type);\n}\n\n/* TODO: test consistency */\nfunction write_binary_type(out, opts/*:WriteOpts*/)/*:any*/ {\n\tswitch(opts.type) {\n\t\tcase \"string\":\n\t\tcase \"base64\":\n\t\tcase \"binary\":\n\t\t\tvar bstr = \"\";\n\t\t\t// $FlowIgnore\n\t\t\tfor(var i = 0; i < out.length; ++i) bstr += String.fromCharCode(out[i]);\n\t\t\treturn opts.type == 'base64' ? Base64_encode(bstr) : opts.type == 'string' ? utf8read(bstr) : bstr;\n\t\tcase \"file\": return write_dl(opts.file, out);\n\t\tcase \"buffer\": return out;\n\t\tdefault: throw new Error(\"Unrecognized type \" + opts.type);\n\t}\n}\n\nfunction writeSyncXLSX(wb/*:Workbook*/, opts/*:?WriteOpts*/) {\n\treset_cp();\n\tcheck_wb(wb);\n\tvar o = dup(opts||{});\n\tif(o.cellStyles) { o.cellNF = true; o.sheetStubs = true; }\n\tif(o.type == \"array\") { o.type = \"binary\"; var out/*:string*/ = (writeSyncXLSX(wb, o)/*:any*/); o.type = \"array\"; return s2ab(out); }\n\treturn write_zip_typeXLSX(wb, o);\n}\n\nfunction writeSync(wb/*:Workbook*/, opts/*:?WriteOpts*/) {\n\treset_cp();\n\tcheck_wb(wb);\n\tvar o = dup(opts||{});\n\tif(o.cellStyles) { o.cellNF = true; o.sheetStubs = true; }\n\tif(o.type == \"array\") { o.type = \"binary\"; var out/*:string*/ = (writeSync(wb, o)/*:any*/); o.type = \"array\"; return s2ab(out); }\n\tvar idx = 0;\n\tif(o.sheet) {\n\t\tif(typeof o.sheet == \"number\") idx = o.sheet;\n\t\telse idx = wb.SheetNames.indexOf(o.sheet);\n\t\tif(!wb.SheetNames[idx]) throw new Error(\"Sheet not found: \" + o.sheet + \" : \" + (typeof o.sheet));\n\t}\n\tswitch(o.bookType || 'xlsb') {\n\t\tcase 'xml':\n\t\tcase 'xlml': return write_string_type(write_xlml(wb, o), o);\n\t\tcase 'slk':\n\t\tcase 'sylk': return write_string_type(SYLK.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'htm':\n\t\tcase 'html': return write_string_type(sheet_to_html(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'txt': return write_stxt_type(sheet_to_txt(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'csv': return write_string_type(sheet_to_csv(wb.Sheets[wb.SheetNames[idx]], o), o, \"\\ufeff\");\n\t\tcase 'dif': return write_string_type(DIF.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'dbf': return write_binary_type(DBF.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'prn': return write_string_type(PRN.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'rtf': return write_string_type(RTF.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'eth': return write_string_type(ETH.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'fods': return write_string_type(write_ods(wb, o), o);\n\t\tcase 'wk1': return write_binary_type(WK_.sheet_to_wk1(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'wk3': return write_binary_type(WK_.book_to_wk3(wb, o), o);\n\t\tcase 'biff2': if(!o.biff) o.biff = 2; /* falls through */\n\t\tcase 'biff3': if(!o.biff) o.biff = 3; /* falls through */\n\t\tcase 'biff4': if(!o.biff) o.biff = 4; return write_binary_type(write_biff_buf(wb, o), o);\n\t\tcase 'biff5': if(!o.biff) o.biff = 5; /* falls through */\n\t\tcase 'biff8':\n\t\tcase 'xla':\n\t\tcase 'xls': if(!o.biff) o.biff = 8; return write_cfb_type(wb, o);\n\t\tcase 'xlsx':\n\t\tcase 'xlsm':\n\t\tcase 'xlam':\n\t\tcase 'xlsb':\n\t\tcase 'numbers':\n\t\tcase 'ods': return write_zip_type(wb, o);\n\t\tdefault: throw new Error (\"Unrecognized bookType |\" + o.bookType + \"|\");\n\t}\n}\n\nfunction resolve_book_type(o/*:WriteFileOpts*/) {\n\tif(o.bookType) return;\n\tvar _BT = {\n\t\t\"xls\": \"biff8\",\n\t\t\"htm\": \"html\",\n\t\t\"slk\": \"sylk\",\n\t\t\"socialcalc\": \"eth\",\n\t\t\"Sh33tJS\": \"WTF\"\n\t};\n\tvar ext = o.file.slice(o.file.lastIndexOf(\".\")).toLowerCase();\n\tif(ext.match(/^\\.[a-z]+$/)) o.bookType = ext.slice(1);\n\to.bookType = _BT[o.bookType] || o.bookType;\n}\n\nfunction writeFileSync(wb/*:Workbook*/, filename/*:string*/, opts/*:?WriteFileOpts*/) {\n\tvar o = opts||{}; o.type = 'file';\n\to.file = filename;\n\tresolve_book_type(o);\n\treturn writeSync(wb, o);\n}\n\nfunction writeFileSyncXLSX(wb/*:Workbook*/, filename/*:string*/, opts/*:?WriteFileOpts*/) {\n\tvar o = opts||{}; o.type = 'file';\n\to.file = filename;\n\tresolve_book_type(o);\n\treturn writeSyncXLSX(wb, o);\n}\n\n\nfunction writeFileAsync(filename/*:string*/, wb/*:Workbook*/, opts/*:?WriteFileOpts*/, cb/*:?(e?:ErrnoError)=>void*/) {\n\tvar o = opts||{}; o.type = 'file';\n\to.file = filename;\n\tresolve_book_type(o);\n\to.type = 'buffer';\n\tvar _cb = cb; if(!(_cb instanceof Function)) _cb = (opts/*:any*/);\n\treturn _fs.writeFile(filename, writeSync(wb, o), _cb);\n}\n/*::\ntype MJRObject = {\n\trow: any;\n\tisempty: boolean;\n};\n*/\nfunction make_json_row(sheet/*:Worksheet*/, r/*:Range*/, R/*:number*/, cols/*:Array<string>*/, header/*:number*/, hdr/*:Array<any>*/, dense/*:boolean*/, o/*:Sheet2JSONOpts*/)/*:MJRObject*/ {\n\tvar rr = encode_row(R);\n\tvar defval = o.defval, raw = o.raw || !Object.prototype.hasOwnProperty.call(o, \"raw\");\n\tvar isempty = true;\n\tvar row/*:any*/ = (header === 1) ? [] : {};\n\tif(header !== 1) {\n\t\tif(Object.defineProperty) try { Object.defineProperty(row, '__rowNum__', {value:R, enumerable:false}); } catch(e) { row.__rowNum__ = R; }\n\t\telse row.__rowNum__ = R;\n\t}\n\tif(!dense || sheet[R]) for (var C = r.s.c; C <= r.e.c; ++C) {\n\t\tvar val = dense ? sheet[R][C] : sheet[cols[C] + rr];\n\t\tif(val === undefined || val.t === undefined) {\n\t\t\tif(defval === undefined) continue;\n\t\t\tif(hdr[C] != null) { row[hdr[C]] = defval; }\n\t\t\tcontinue;\n\t\t}\n\t\tvar v = val.v;\n\t\tswitch(val.t){\n\t\t\tcase 'z': if(v == null) break; continue;\n\t\t\tcase 'e': v = (v == 0 ? null : void 0); break;\n\t\t\tcase 's': case 'd': case 'b': case 'n': break;\n\t\t\tdefault: throw new Error('unrecognized type ' + val.t);\n\t\t}\n\t\tif(hdr[C] != null) {\n\t\t\tif(v == null) {\n\t\t\t\tif(val.t == \"e\" && v === null) row[hdr[C]] = null;\n\t\t\t\telse if(defval !== undefined) row[hdr[C]] = defval;\n\t\t\t\telse if(raw && v === null) row[hdr[C]] = null;\n\t\t\t\telse continue;\n\t\t\t} else {\n\t\t\t\trow[hdr[C]] = raw && (val.t !== \"n\" || (val.t === \"n\" && o.rawNumbers !== false)) ? v : format_cell(val,v,o);\n\t\t\t}\n\t\t\tif(v != null) isempty = false;\n\t\t}\n\t}\n\treturn { row: row, isempty: isempty };\n}\n\n\nfunction sheet_to_json(sheet/*:Worksheet*/, opts/*:?Sheet2JSONOpts*/) {\n\tif(sheet == null || sheet[\"!ref\"] == null) return [];\n\tvar val = {t:'n',v:0}, header = 0, offset = 1, hdr/*:Array<any>*/ = [], v=0, vv=\"\";\n\tvar r = {s:{r:0,c:0},e:{r:0,c:0}};\n\tvar o = opts || {};\n\tvar range = o.range != null ? o.range : sheet[\"!ref\"];\n\tif(o.header === 1) header = 1;\n\telse if(o.header === \"A\") header = 2;\n\telse if(Array.isArray(o.header)) header = 3;\n\telse if(o.header == null) header = 0;\n\tswitch(typeof range) {\n\t\tcase 'string': r = safe_decode_range(range); break;\n\t\tcase 'number': r = safe_decode_range(sheet[\"!ref\"]); r.s.r = range; break;\n\t\tdefault: r = range;\n\t}\n\tif(header > 0) offset = 0;\n\tvar rr = encode_row(r.s.r);\n\tvar cols/*:Array<string>*/ = [];\n\tvar out/*:Array<any>*/ = [];\n\tvar outi = 0, counter = 0;\n\tvar dense = Array.isArray(sheet);\n\tvar R = r.s.r, C = 0;\n\tvar header_cnt = {};\n\tif(dense && !sheet[R]) sheet[R] = [];\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\tif(((colinfo[C]||{}).hidden)) continue;\n\t\tcols[C] = encode_col(C);\n\t\tval = dense ? sheet[R][C] : sheet[cols[C] + rr];\n\t\tswitch(header) {\n\t\t\tcase 1: hdr[C] = C - r.s.c; break;\n\t\t\tcase 2: hdr[C] = cols[C]; break;\n\t\t\tcase 3: hdr[C] = o.header[C - r.s.c]; break;\n\t\t\tdefault:\n\t\t\t\tif(val == null) val = {w: \"__EMPTY\", t: \"s\"};\n\t\t\t\tvv = v = format_cell(val, null, o);\n\t\t\t\tcounter = header_cnt[v] || 0;\n\t\t\t\tif(!counter) header_cnt[v] = 1;\n\t\t\t\telse {\n\t\t\t\t\tdo { vv = v + \"_\" + (counter++); } while(header_cnt[vv]); header_cnt[v] = counter;\n\t\t\t\t\theader_cnt[vv] = 1;\n\t\t\t\t}\n\t\t\t\thdr[C] = vv;\n\t\t}\n\t}\n\tfor (R = r.s.r + offset; R <= r.e.r; ++R) {\n\t\tif ((rowinfo[R]||{}).hidden) continue;\n\t\tvar row = make_json_row(sheet, r, R, cols, header, hdr, dense, o);\n\t\tif((row.isempty === false) || (header === 1 ? o.blankrows !== false : !!o.blankrows)) out[outi++] = row.row;\n\t}\n\tout.length = outi;\n\treturn out;\n}\n\nvar qreg = /\"/g;\nfunction make_csv_row(sheet/*:Worksheet*/, r/*:Range*/, R/*:number*/, cols/*:Array<string>*/, fs/*:number*/, rs/*:number*/, FS/*:string*/, o/*:Sheet2CSVOpts*/)/*:?string*/ {\n\tvar isempty = true;\n\tvar row/*:Array<string>*/ = [], txt = \"\", rr = encode_row(R);\n\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\tif (!cols[C]) continue;\n\t\tvar val = o.dense ? (sheet[R]||[])[C]: sheet[cols[C] + rr];\n\t\tif(val == null) txt = \"\";\n\t\telse if(val.v != null) {\n\t\t\tisempty = false;\n\t\t\ttxt = ''+(o.rawNumbers && val.t == \"n\" ? val.v : format_cell(val, null, o));\n\t\t\tfor(var i = 0, cc = 0; i !== txt.length; ++i) if((cc = txt.charCodeAt(i)) === fs || cc === rs || cc === 34 || o.forceQuotes) {txt = \"\\\"\" + txt.replace(qreg, '\"\"') + \"\\\"\"; break; }\n\t\t\tif(txt == \"ID\") txt = '\"ID\"';\n\t\t} else if(val.f != null && !val.F) {\n\t\t\tisempty = false;\n\t\t\ttxt = '=' + val.f; if(txt.indexOf(\",\") >= 0) txt = '\"' + txt.replace(qreg, '\"\"') + '\"';\n\t\t} else txt = \"\";\n\t\t/* NOTE: Excel CSV does not support array formulae */\n\t\trow.push(txt);\n\t}\n\tif(o.blankrows === false && isempty) return null;\n\treturn row.join(FS);\n}\n\nfunction sheet_to_csv(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/)/*:string*/ {\n\tvar out/*:Array<string>*/ = [];\n\tvar o = opts == null ? {} : opts;\n\tif(sheet == null || sheet[\"!ref\"] == null) return \"\";\n\tvar r = safe_decode_range(sheet[\"!ref\"]);\n\tvar FS = o.FS !== undefined ? o.FS : \",\", fs = FS.charCodeAt(0);\n\tvar RS = o.RS !== undefined ? o.RS : \"\\n\", rs = RS.charCodeAt(0);\n\tvar endregex = new RegExp((FS==\"|\" ? \"\\\\|\" : FS)+\"+$\");\n\tvar row = \"\", cols/*:Array<string>*/ = [];\n\to.dense = Array.isArray(sheet);\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(var C = r.s.c; C <= r.e.c; ++C) if (!((colinfo[C]||{}).hidden)) cols[C] = encode_col(C);\n\tvar w = 0;\n\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\tif ((rowinfo[R]||{}).hidden) continue;\n\t\trow = make_csv_row(sheet, r, R, cols, fs, rs, FS, o);\n\t\tif(row == null) { continue; }\n\t\tif(o.strip) row = row.replace(endregex,\"\");\n\t\tif(row || (o.blankrows !== false)) out.push((w++ ? RS : \"\") + row);\n\t}\n\tdelete o.dense;\n\treturn out.join(\"\");\n}\n\nfunction sheet_to_txt(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/) {\n\tif(!opts) opts = {}; opts.FS = \"\\t\"; opts.RS = \"\\n\";\n\tvar s = sheet_to_csv(sheet, opts);\n\tif(typeof $cptable == 'undefined' || opts.type == 'string') return s;\n\tvar o = $cptable.utils.encode(1200, s, 'str');\n\treturn String.fromCharCode(255) + String.fromCharCode(254) + o;\n}\n\nfunction sheet_to_formulae(sheet/*:Worksheet*/)/*:Array<string>*/ {\n\tvar y = \"\", x, val=\"\";\n\tif(sheet == null || sheet[\"!ref\"] == null) return [];\n\tvar r = safe_decode_range(sheet['!ref']), rr = \"\", cols/*:Array<string>*/ = [], C;\n\tvar cmds/*:Array<string>*/ = [];\n\tvar dense = Array.isArray(sheet);\n\tfor(C = r.s.c; C <= r.e.c; ++C) cols[C] = encode_col(C);\n\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\trr = encode_row(R);\n\t\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\t\ty = cols[C] + rr;\n\t\t\tx = dense ? (sheet[R]||[])[C] : sheet[y];\n\t\t\tval = \"\";\n\t\t\tif(x === undefined) continue;\n\t\t\telse if(x.F != null) {\n\t\t\t\ty = x.F;\n\t\t\t\tif(!x.f) continue;\n\t\t\t\tval = x.f;\n\t\t\t\tif(y.indexOf(\":\") == -1) y = y + \":\" + y;\n\t\t\t}\n\t\t\tif(x.f != null) val = x.f;\n\t\t\telse if(x.t == 'z') continue;\n\t\t\telse if(x.t == 'n' && x.v != null) val = \"\" + x.v;\n\t\t\telse if(x.t == 'b') val = x.v ? \"TRUE\" : \"FALSE\";\n\t\t\telse if(x.w !== undefined) val = \"'\" + x.w;\n\t\t\telse if(x.v === undefined) continue;\n\t\t\telse if(x.t == 's') val = \"'\" + x.v;\n\t\t\telse val = \"\"+x.v;\n\t\t\tcmds[cmds.length] = y + \"=\" + val;\n\t\t}\n\t}\n\treturn cmds;\n}\n\nfunction sheet_add_json(_ws/*:?Worksheet*/, js/*:Array<any>*/, opts)/*:Worksheet*/ {\n\tvar o = opts || {};\n\tvar offset = +!o.skipHeader;\n\tvar ws/*:Worksheet*/ = _ws || ({}/*:any*/);\n\tvar _R = 0, _C = 0;\n\tif(ws && o.origin != null) {\n\t\tif(typeof o.origin == 'number') _R = o.origin;\n\t\telse {\n\t\t\tvar _origin/*:CellAddress*/ = typeof o.origin == \"string\" ? decode_cell(o.origin) : o.origin;\n\t\t\t_R = _origin.r; _C = _origin.c;\n\t\t}\n\t}\n\tvar cell/*:Cell*/;\n\tvar range/*:Range*/ = ({s: {c:0, r:0}, e: {c:_C, r:_R + js.length - 1 + offset}}/*:any*/);\n\tif(ws['!ref']) {\n\t\tvar _range = safe_decode_range(ws['!ref']);\n\t\trange.e.c = Math.max(range.e.c, _range.e.c);\n\t\trange.e.r = Math.max(range.e.r, _range.e.r);\n\t\tif(_R == -1) { _R = _range.e.r + 1; range.e.r = _R + js.length - 1 + offset; }\n\t} else {\n\t\tif(_R == -1) { _R = 0; range.e.r = js.length - 1 + offset; }\n\t}\n\tvar hdr/*:Array<string>*/ = o.header || [], C = 0;\n\n\tjs.forEach(function (JS, R/*:number*/) {\n\t\tkeys(JS).forEach(function(k) {\n\t\t\tif((C=hdr.indexOf(k)) == -1) hdr[C=hdr.length] = k;\n\t\t\tvar v = JS[k];\n\t\t\tvar t = 'z';\n\t\t\tvar z = \"\";\n\t\t\tvar ref = encode_cell({c:_C + C,r:_R + R + offset});\n\t\t\tcell = ws_get_cell_stub(ws, ref);\n\t\t\tif(v && typeof v === 'object' && !(v instanceof Date)){\n\t\t\t\tws[ref] = v;\n\t\t\t} else {\n\t\t\t\tif(typeof v == 'number') t = 'n';\n\t\t\t\telse if(typeof v == 'boolean') t = 'b';\n\t\t\t\telse if(typeof v == 'string') t = 's';\n\t\t\t\telse if(v instanceof Date) {\n\t\t\t\t\tt = 'd';\n\t\t\t\t\tif(!o.cellDates) { t = 'n'; v = datenum(v); }\n\t\t\t\t\tz = (o.dateNF || table_fmt[14]);\n\t\t\t\t}\n\t\t\t\telse if(v === null && o.nullError) { t = 'e'; v = 0; }\n\t\t\t\tif(!cell) ws[ref] = cell = ({t:t, v:v}/*:any*/);\n\t\t\t\telse {\n\t\t\t\t\tcell.t = t; cell.v = v;\n\t\t\t\t\tdelete cell.w; delete cell.R;\n\t\t\t\t\tif(z) cell.z = z;\n\t\t\t\t}\n\t\t\t\tif(z) cell.z = z;\n\t\t\t}\n\t\t});\n\t});\n\trange.e.c = Math.max(range.e.c, _C + hdr.length - 1);\n\tvar __R = encode_row(_R);\n\tif(offset) for(C = 0; C < hdr.length; ++C) ws[encode_col(C + _C) + __R] = {t:'s', v:hdr[C]};\n\tws['!ref'] = encode_range(range);\n\treturn ws;\n}\nfunction json_to_sheet(js/*:Array<any>*/, opts)/*:Worksheet*/ { return sheet_add_json(null, js, opts); }\n\n/* get cell, creating a stub if necessary */\nfunction ws_get_cell_stub(ws/*:Worksheet*/, R, C/*:?number*/)/*:Cell*/ {\n\t/* A1 cell address */\n\tif(typeof R == \"string\") {\n\t\t/* dense */\n\t\tif(Array.isArray(ws)) {\n\t\t\tvar RC = decode_cell(R);\n\t\t\tif(!ws[RC.r]) ws[RC.r] = [];\n\t\t\treturn ws[RC.r][RC.c] || (ws[RC.r][RC.c] = {t:'z'});\n\t\t}\n\t\treturn ws[R] || (ws[R] = {t:'z'});\n\t}\n\t/* cell address object */\n\tif(typeof R != \"number\") return ws_get_cell_stub(ws, encode_cell(R));\n\t/* R and C are 0-based indices */\n\treturn ws_get_cell_stub(ws, encode_cell({r:R,c:C||0}));\n}\n\n/* find sheet index for given name / validate index */\nfunction wb_sheet_idx(wb/*:Workbook*/, sh/*:number|string*/) {\n\tif(typeof sh == \"number\") {\n\t\tif(sh >= 0 && wb.SheetNames.length > sh) return sh;\n\t\tthrow new Error(\"Cannot find sheet # \" + sh);\n\t} else if(typeof sh == \"string\") {\n\t\tvar idx = wb.SheetNames.indexOf(sh);\n\t\tif(idx > -1) return idx;\n\t\tthrow new Error(\"Cannot find sheet name |\" + sh + \"|\");\n\t} else throw new Error(\"Cannot find sheet |\" + sh + \"|\");\n}\n\n/* simple blank workbook object */\nfunction book_new()/*:Workbook*/ {\n\treturn { SheetNames: [], Sheets: {} };\n}\n\n/* add a worksheet to the end of a given workbook */\nfunction book_append_sheet(wb/*:Workbook*/, ws/*:Worksheet*/, name/*:?string*/, roll/*:?boolean*/)/*:string*/ {\n\tvar i = 1;\n\tif(!name) for(; i <= 0xFFFF; ++i, name = undefined) if(wb.SheetNames.indexOf(name = \"Sheet\" + i) == -1) break;\n\tif(!name || wb.SheetNames.length >= 0xFFFF) throw new Error(\"Too many worksheets\");\n\tif(roll && wb.SheetNames.indexOf(name) >= 0) {\n\t\tvar m = name.match(/(^.*?)(\\d+)$/);\n\t\ti = m && +m[2] || 0;\n\t\tvar root = m && m[1] || name;\n\t\tfor(++i; i <= 0xFFFF; ++i) if(wb.SheetNames.indexOf(name = root + i) == -1) break;\n\t}\n\tcheck_ws_name(name);\n\tif(wb.SheetNames.indexOf(name) >= 0) throw new Error(\"Worksheet with name |\" + name + \"| already exists!\");\n\n\twb.SheetNames.push(name);\n\twb.Sheets[name] = ws;\n\treturn name;\n}\n\n/* set sheet visibility (visible/hidden/very hidden) */\nfunction book_set_sheet_visibility(wb/*:Workbook*/, sh/*:number|string*/, vis/*:number*/) {\n\tif(!wb.Workbook) wb.Workbook = {};\n\tif(!wb.Workbook.Sheets) wb.Workbook.Sheets = [];\n\n\tvar idx = wb_sheet_idx(wb, sh);\n\t// $FlowIgnore\n\tif(!wb.Workbook.Sheets[idx]) wb.Workbook.Sheets[idx] = {};\n\n\tswitch(vis) {\n\t\tcase 0: case 1: case 2: break;\n\t\tdefault: throw new Error(\"Bad sheet visibility setting \" + vis);\n\t}\n\t// $FlowIgnore\n\twb.Workbook.Sheets[idx].Hidden = vis;\n}\n\n/* set number format */\nfunction cell_set_number_format(cell/*:Cell*/, fmt/*:string|number*/) {\n\tcell.z = fmt;\n\treturn cell;\n}\n\n/* set cell hyperlink */\nfunction cell_set_hyperlink(cell/*:Cell*/, target/*:string*/, tooltip/*:?string*/) {\n\tif(!target) {\n\t\tdelete cell.l;\n\t} else {\n\t\tcell.l = ({ Target: target }/*:Hyperlink*/);\n\t\tif(tooltip) cell.l.Tooltip = tooltip;\n\t}\n\treturn cell;\n}\nfunction cell_set_internal_link(cell/*:Cell*/, range/*:string*/, tooltip/*:?string*/) { return cell_set_hyperlink(cell, \"#\" + range, tooltip); }\n\n/* add to cell comments */\nfunction cell_add_comment(cell/*:Cell*/, text/*:string*/, author/*:?string*/) {\n\tif(!cell.c) cell.c = [];\n\tcell.c.push({t:text, a:author||\"SheetJS\"});\n}\n\n/* set array formula and flush related cells */\nfunction sheet_set_array_formula(ws/*:Worksheet*/, range, formula/*:string*/, dynamic/*:boolean*/) {\n\tvar rng = typeof range != \"string\" ? range : safe_decode_range(range);\n\tvar rngstr = typeof range == \"string\" ? range : encode_range(range);\n\tfor(var R = rng.s.r; R <= rng.e.r; ++R) for(var C = rng.s.c; C <= rng.e.c; ++C) {\n\t\tvar cell = ws_get_cell_stub(ws, R, C);\n\t\tcell.t = 'n';\n\t\tcell.F = rngstr;\n\t\tdelete cell.v;\n\t\tif(R == rng.s.r && C == rng.s.c) {\n\t\t\tcell.f = formula;\n\t\t\tif(dynamic) cell.D = true;\n\t\t}\n\t}\n\treturn ws;\n}\n\nvar utils/*:any*/ = {\n\tencode_col: encode_col,\n\tencode_row: encode_row,\n\tencode_cell: encode_cell,\n\tencode_range: encode_range,\n\tdecode_col: decode_col,\n\tdecode_row: decode_row,\n\tsplit_cell: split_cell,\n\tdecode_cell: decode_cell,\n\tdecode_range: decode_range,\n\tformat_cell: format_cell,\n\tsheet_add_aoa: sheet_add_aoa,\n\tsheet_add_json: sheet_add_json,\n\tsheet_add_dom: sheet_add_dom,\n\taoa_to_sheet: aoa_to_sheet,\n\tjson_to_sheet: json_to_sheet,\n\ttable_to_sheet: parse_dom_table,\n\ttable_to_book: table_to_book,\n\tsheet_to_csv: sheet_to_csv,\n\tsheet_to_txt: sheet_to_txt,\n\tsheet_to_json: sheet_to_json,\n\tsheet_to_html: sheet_to_html,\n\tsheet_to_formulae: sheet_to_formulae,\n\tsheet_to_row_object_array: sheet_to_json,\n\tsheet_get_cell: ws_get_cell_stub,\n\tbook_new: book_new,\n\tbook_append_sheet: book_append_sheet,\n\tbook_set_sheet_visibility: book_set_sheet_visibility,\n\tcell_set_number_format: cell_set_number_format,\n\tcell_set_hyperlink: cell_set_hyperlink,\n\tcell_set_internal_link: cell_set_internal_link,\n\tcell_add_comment: cell_add_comment,\n\tsheet_set_array_formula: sheet_set_array_formula,\n\tconsts: {\n\t\tSHEET_VISIBLE: 0,\n\t\tSHEET_HIDDEN: 1,\n\t\tSHEET_VERY_HIDDEN: 2\n\t}\n};\n\nvar _Readable;\nfunction set_readable(R) { _Readable = R; }\n\nfunction write_csv_stream(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/) {\n\tvar stream = _Readable();\n\tvar o = opts == null ? {} : opts;\n\tif(sheet == null || sheet[\"!ref\"] == null) { stream.push(null); return stream; }\n\tvar r = safe_decode_range(sheet[\"!ref\"]);\n\tvar FS = o.FS !== undefined ? o.FS : \",\", fs = FS.charCodeAt(0);\n\tvar RS = o.RS !== undefined ? o.RS : \"\\n\", rs = RS.charCodeAt(0);\n\tvar endregex = new RegExp((FS==\"|\" ? \"\\\\|\" : FS)+\"+$\");\n\tvar row/*:?string*/ = \"\", cols/*:Array<string>*/ = [];\n\to.dense = Array.isArray(sheet);\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<RowInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(var C = r.s.c; C <= r.e.c; ++C) if (!((colinfo[C]||{}).hidden)) cols[C] = encode_col(C);\n\tvar R = r.s.r;\n\tvar BOM = false, w = 0;\n\tstream._read = function() {\n\t\tif(!BOM) { BOM = true; return stream.push(\"\\uFEFF\"); }\n\t\twhile(R <= r.e.r) {\n\t\t\t++R;\n\t\t\tif ((rowinfo[R-1]||{}).hidden) continue;\n\t\t\trow = make_csv_row(sheet, r, R-1, cols, fs, rs, FS, o);\n\t\t\tif(row != null) {\n\t\t\t\tif(o.strip) row = row.replace(endregex,\"\");\n\t\t\t\tif(row || (o.blankrows !== false)) return stream.push((w++ ? RS : \"\") + row);\n\t\t\t}\n\t\t}\n\t\treturn stream.push(null);\n\t};\n\treturn stream;\n}\n\nfunction write_html_stream(ws/*:Worksheet*/, opts/*:?Sheet2HTMLOpts*/) {\n\tvar stream = _Readable();\n\n\tvar o = opts || {};\n\tvar header = o.header != null ? o.header : HTML_BEGIN;\n\tvar footer = o.footer != null ? o.footer : HTML_END;\n\tstream.push(header);\n\tvar r = decode_range(ws['!ref']);\n\to.dense = Array.isArray(ws);\n\tstream.push(make_html_preamble(ws, r, o));\n\tvar R = r.s.r;\n\tvar end = false;\n\tstream._read = function() {\n\t\tif(R > r.e.r) {\n\t\t\tif(!end) { end = true; stream.push(\"</table>\" + footer); }\n\t\t\treturn stream.push(null);\n\t\t}\n\t\twhile(R <= r.e.r) {\n\t\t\tstream.push(make_html_row(ws, r, R, o));\n\t\t\t++R;\n\t\t\tbreak;\n\t\t}\n\t};\n\treturn stream;\n}\n\nfunction write_json_stream(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/) {\n\tvar stream = _Readable({objectMode:true});\n\n\tif(sheet == null || sheet[\"!ref\"] == null) { stream.push(null); return stream; }\n\tvar val = {t:'n',v:0}, header = 0, offset = 1, hdr/*:Array<any>*/ = [], v=0, vv=\"\";\n\tvar r = {s:{r:0,c:0},e:{r:0,c:0}};\n\tvar o = opts || {};\n\tvar range = o.range != null ? o.range : sheet[\"!ref\"];\n\tif(o.header === 1) header = 1;\n\telse if(o.header === \"A\") header = 2;\n\telse if(Array.isArray(o.header)) header = 3;\n\tswitch(typeof range) {\n\t\tcase 'string': r = safe_decode_range(range); break;\n\t\tcase 'number': r = safe_decode_range(sheet[\"!ref\"]); r.s.r = range; break;\n\t\tdefault: r = range;\n\t}\n\tif(header > 0) offset = 0;\n\tvar rr = encode_row(r.s.r);\n\tvar cols/*:Array<string>*/ = [];\n\tvar counter = 0;\n\tvar dense = Array.isArray(sheet);\n\tvar R = r.s.r, C = 0;\n\tvar header_cnt = {};\n\tif(dense && !sheet[R]) sheet[R] = [];\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<RowInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\tif(((colinfo[C]||{}).hidden)) continue;\n\t\tcols[C] = encode_col(C);\n\t\tval = dense ? sheet[R][C] : sheet[cols[C] + rr];\n\t\tswitch(header) {\n\t\t\tcase 1: hdr[C] = C - r.s.c; break;\n\t\t\tcase 2: hdr[C] = cols[C]; break;\n\t\t\tcase 3: hdr[C] = o.header[C - r.s.c]; break;\n\t\t\tdefault:\n\t\t\t\tif(val == null) val = {w: \"__EMPTY\", t: \"s\"};\n\t\t\t\tvv = v = format_cell(val, null, o);\n\t\t\t\tcounter = header_cnt[v] || 0;\n\t\t\t\tif(!counter) header_cnt[v] = 1;\n\t\t\t\telse {\n\t\t\t\t\tdo { vv = v + \"_\" + (counter++); } while(header_cnt[vv]); header_cnt[v] = counter;\n\t\t\t\t\theader_cnt[vv] = 1;\n\t\t\t\t}\n\t\t\t\thdr[C] = vv;\n\t\t}\n\t}\n\tR = r.s.r + offset;\n\tstream._read = function() {\n\t\twhile(R <= r.e.r) {\n\t\t\tif ((rowinfo[R-1]||{}).hidden) continue;\n\t\t\tvar row = make_json_row(sheet, r, R, cols, header, hdr, dense, o);\n\t\t\t++R;\n\t\t\tif((row.isempty === false) || (header === 1 ? o.blankrows !== false : !!o.blankrows)) {\n\t\t\t\tstream.push(row.row);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\treturn stream.push(null);\n\t};\n\treturn stream;\n}\n\nvar __stream = {\n\tto_json: write_json_stream,\n\tto_html: write_html_stream,\n\tto_csv: write_csv_stream,\n  set_readable: set_readable\n};\nexport const version = XLSX.version;\nexport {\n\tparse_xlscfb,\n\tparse_zip,\n\treadSync as read,\n\treadFileSync as readFile,\n\treadFileSync,\n\twriteSync as write,\n\twriteFileSync as writeFile,\n\twriteFileSync,\n\twriteFileAsync,\n\twriteSyncXLSX as writeXLSX,\n\twriteFileSyncXLSX as writeFileXLSX,\n\tutils,\n\t__stream as stream,\n\tSSF,\n\tCFB\n};\n","function PDFtoXLSComponent({ extractText }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        height: \"70vh\"\r\n      }}\r\n    >\r\n      <h1 style={{ padding: \"50px\" }}>\r\n        2. Upload one or more files with the specific format, downloaded from\r\n        the providers above.\r\n      </h1>\r\n      <input\r\n        type=\"file\"\r\n        accept=\"application/pdf\"\r\n        onChange={(event) => extractText(event)}\r\n        multiple\r\n      />\r\n      <h2 style={{ padding: \"50px\" }}>\r\n        3. The files downloaded have the data parsed into Excel format.\r\n      </h2>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PDFtoXLSComponent;\r\n","import pdfToText from \"react-pdftotext\";\r\nimport * as FileSaver from \"file-saver\";\r\nimport * as XLSX from \"xlsx\";\r\nimport PDFtoXLSComponent from \"./PDFtoXLSComponent\";\r\n\r\nfunction extractText(event) {\r\n  for (let i = 0; i < event.target.files.length; i++) {\r\n    let file = event.target.files.item(i);\r\n    pdfToText(file)\r\n      .then((text) => {\r\n        //all text from PDF document\r\n        const match = text.match(/d. Ac.iuni(.*?)e. Obliga.iuni/);\r\n        if (match) {\r\n          //excel data\r\n          const excelData = [];\r\n          //am gasit text intre \"d. Acţiuni\" si \"e. Obligatiuni\"\r\n          const textBetweenWords = match[1].trim();\r\n\r\n          //reduc spatiile multiple la ;\r\n          const textDividedBySemicolumn = textBetweenWords.replace(\r\n            /\\s{2,}/g,\r\n            \";\"\r\n          );\r\n          //salvez primele 2 valor\r\n          const list = textDividedBySemicolumn.trim().split(\";\");\r\n          excelData.push({\r\n            \"Denumire emitent\": \"Total\",\r\n            \"ISIN activ\": \"Total\",\r\n            \"Simbol emitent\": \"\",\r\n            \"Valoare actualizată lei\": list.shift(),\r\n            \"Pondere în activul total al fondului\": list.shift(),\r\n            \"Pret inchidere\": \"\",\r\n            \"Numar actiuni\": \"\"\r\n          });\r\n          //salvez restul valorilor\r\n          while (list.length > 0) {\r\n            excelData.push({\r\n              \"Denumire emitent\": list.shift(),\r\n              \"ISIN activ\": list.shift(),\r\n              \"Simbol emitent\": \"\",\r\n              \"Valoare actualizată lei\": list.shift(),\r\n              \"Pondere în activul total al fondului\": list.shift(),\r\n              \"Pret inchidere\": \"\",\r\n              \"Numar actiuni\": \"\"\r\n            });\r\n          }\r\n          //console.log(excelData);\r\n          //export excel\r\n          const ws = XLSX.utils.json_to_sheet(excelData);\r\n          const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\r\n          const excelBuffer = XLSX.write(wb, {\r\n            bookType: \"xlsx\",\r\n            type: \"array\"\r\n          });\r\n          const data = new Blob([excelBuffer], { type: \".xlsx\" });\r\n          FileSaver.saveAs(data, file.name.slice(0, -4) + \".xlsx\");\r\n        } else {\r\n          console.error(\r\n            \"No match found. Does the file have d. Acţiuni and e. Obligaţiuni\"\r\n          );\r\n        }\r\n      })\r\n      .catch((error) => console.error(\"Text extraction failed\", error));\r\n  }\r\n}\r\n\r\nfunction PDFtoXLSController() {\r\n  return <PDFtoXLSComponent extractText={extractText} />;\r\n}\r\n\r\nexport default PDFtoXLSController;\r\n","function SiteListComponent() {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        height: \"30vh\"\r\n      }}\r\n    >\r\n      <h2>\r\n        1. Download the PDF for the pilon 2 data that you are interested in,\r\n        from the providers:\r\n      </h2>\r\n      <a\r\n        href={\r\n          \"https://www.pensiibcr.ro/ro/utile/pensia-obligatorie-pilon-2/rapoarte/structura-detaliata-a-portofoliului-de-investitii\"\r\n        }\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        BCR\r\n      </a>\r\n      <a\r\n        href={\"https://www.nn.ro/rapoarte-financiare#tab-other-4/\"}\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        NN\r\n      </a>\r\n      <a\r\n        href={\r\n          \"https://www.generali.ro/pensii/pensii-obligatorii/acte-si-rapoarte/date-financiare-fondul-aripi/\"\r\n        }\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        Generali\r\n      </a>\r\n      <a\r\n        href={\r\n          \"https://www.aztpensii.ro:7777/employer/prc_rap_web_new_49?p_fond=VIITORUL\"\r\n        }\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        Allianz Tiriac\r\n      </a>\r\n      <a\r\n        href={\r\n          \"https://www.metropolitanlife.ro/pensie-pilon-2/informatii-si-materiale/informatii-financiare/raportare-privind-situatia-detaliata-a-investitiilor/\"\r\n        }\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        Metropolitan Life\r\n      </a>\r\n      <a\r\n        href={\r\n          \"https://www.carpathiapensii.ro/index.php/rapoarte-carpathia-pensii/structura-detaliata-a-portofoliului-de-investitii-pilon-ii-si-pilon-iii/\"\r\n        }\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        Carpathia\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SiteListComponent;\r\n","import PDFtoXLSController from \"./PDFtoXLS/PDFtoXLSController\";\nimport SiteListComponent from \"./SiteList/SiteListComponent\";\n\nfunction App() {\n  return (\n    <>\n      <SiteListComponent />\n      <PDFtoXLSController />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["r","e","o","t","f","Array","isArray","n","length","arguments","module","exports","clsx","has","Object","prototype","hasOwnProperty","find","iter","tar","key","keys","dequal","foo","bar","ctor","len","tmp","constructor","Date","getTime","RegExp","toString","Set","size","Map","get","ArrayBuffer","Uint8Array","DataView","byteLength","getInt8","isView","call","b","a","autoBom","console","warn","test","type","Blob","c","d","XMLHttpRequest","open","responseType","onload","g","response","onerror","error","send","status","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","self","global","navigator","userAgent","saveAs","HTMLAnchorElement","h","i","URL","webkitURL","j","createElement","name","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","title","body","innerText","HTMLElement","safari","FileReader","k","onloadend","result","replace","readAsDataURL","l","m","Scheduler","require","React","ReactDOM","formatProdErrorMessage","code","url","encodeURIComponent","isValidContainer","node","nodeType","REACT_LEGACY_ELEMENT_TYPE","Symbol","for","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","REACT_MEMO_CACHE_SENTINEL","MAYBE_ITERATOR_SYMBOL","iterator","getIteratorFn","maybeIterable","REACT_CLIENT_REFERENCE","getComponentNameFromType","$$typeof","displayName","_context","innerType","render","_payload","_init","x","prefix","suffix","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","assign","describeBuiltInComponentFrame","Error","match","stack","trim","indexOf","reentry","describeNativeComponentFrame","fn","construct","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","Fake","defineProperty","set","Reflect","control","x$0","x$1","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","configurable","value","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","split","controlLines","includes","frame","describeFiber","fiber","tag","getStackByFiberInDevAndProd","workInProgress","info","return","message","getNearestMountedFiber","nearestMounted","alternate","flags","getSuspenseInstanceFromFiber","suspenseState","memoizedState","dehydrated","assertIsMounted","findCurrentHostFiberImpl","child","sibling","isArrayImpl","ReactDOMSharedInternals","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","sharedNotPendingObject","pending","data","method","action","valueStack","index","createCursor","defaultValue","current","pop","cursor","push","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","documentElement","namespaceURI","getOwnHostContext","parentNode","tagName","getChildHostContextProd","popHostContainer","pushHostContext","context","JSCompiler_inline_result","popHostContext","HostTransitionContext","_currentValue","scheduleCallback$3","unstable_scheduleCallback","cancelCallback$1","unstable_cancelCallback","shouldYield","unstable_shouldYield","requestPaint","unstable_requestPaint","now","unstable_now","getCurrentPriorityLevel","unstable_getCurrentPriorityLevel","ImmediatePriority","unstable_ImmediatePriority","UserBlockingPriority","unstable_UserBlockingPriority","NormalPriority$1","unstable_NormalPriority","LowPriority","unstable_LowPriority","IdlePriority","unstable_IdlePriority","log$1","log","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","setStrictMode","err","clz32","Math","LN2","nextTransitionLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","root","wipLanes","pendingLanes","nextLanes","suspendedLanes","pingedLanes","warmLanes","finishedLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","currentTime","claimNextTransitionLane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markSpawnedDeferredLane","spawnedLane","entangledLanes","spawnedLaneIndex","entanglements","markRootEntangled","rootEntangledLanes","index$8","lanesToEventPriority","resolveUpdatePriority","updatePriority","p","event","getEventPriority","randomKey","random","slice","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","getParentSuspenseInstance","getInstanceFromNode","getNodeFromInstance","inst","stateNode","getResourcesFromRoot","resources","hoistableStyles","hoistableScripts","markNodeAsHoistable","allNativeEvents","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","add","canUseDOM","VALID_ATTRIBUTE_NAME_REGEX","illegalAttributeNameCache","validatedAttributeNameCache","setValueForAttribute","attributeName","removeAttribute","prefix$10","toLowerCase","setAttribute","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","setAttributeNS","getToStringValue","isCheckable","elem","nodeName","track","_valueTracker","valueField","descriptor","currentValue","this","enumerable","getValue","setValue","stopTracking","trackValueOnNode","updateValueIfChanged","tracker","lastValue","checked","getActiveElement","doc","activeElement","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","ch","charCodeAt","updateInput","element","lastDefaultValue","defaultChecked","setDefaultValue","initInput","isHydrating","ownerDocument","updateOptions","multiple","propValue","setDefaultSelected","options","selected","defaultSelected","disabled","updateTextarea","initTextarea","children","textContent","setTextContent","text","firstChild","lastChild","nodeValue","unitlessNumbers","setValueForStyle","style","styleName","isCustomProperty","setProperty","cssFloat","setValueForStyles","styles","prevStyles","styleName$16","styleName$17","isCustomElement","aliases","isJavaScriptProtocol","sanitizeURL","currentReplayingEvent","getEventTarget","nativeEvent","srcElement","correspondingUseElement","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","props","querySelectorAll","otherNode","form","otherProps","isInsideEventHandler","batchedUpdates$1","flushSyncWork$1","getListener","passiveBrowserEventsSupported","addEventListener","removeEventListener","startText","fallbackText","getData","start","end","startValue","startLength","endValue","endLength","minEnd","getEventCharCode","keyCode","charCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","propName","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","lastMovementX","lastMovementY","lastMouseEvent","EventInterface","eventPhase","bubbles","cancelable","timeStamp","isTrusted","SyntheticEvent","UIEventInterface","view","detail","SyntheticUIEvent","MouseEventInterface","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","SyntheticMouseEvent","SyntheticDragEvent","dataTransfer","SyntheticFocusEvent","SyntheticAnimationEvent","animationName","elapsedTime","pseudoElement","SyntheticClipboardEvent","clipboardData","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","SyntheticKeyboardEvent","String","fromCharCode","repeat","locale","which","SyntheticPointerEvent","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticTouchEvent","touches","targetTouches","changedTouches","SyntheticTransitionEvent","propertyName","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticToggleEvent","newState","oldState","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","supportedInputTypes","color","date","datetime","email","month","number","password","range","search","tel","time","week","isTextInputElement","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","listeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$283","isSupported$jscomp$inline_418","element$jscomp$inline_419","oninput","stopWatchingForValueChange","detachEvent","handlePropertyChange","handleEventsForInputEventPolyfill","attachEvent","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","objectIs","is","y","shallowEqual","objA","objB","keysA","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","offset","nodeEnd","nextSibling","containsNode","outerNode","innerNode","contains","compareDocumentPosition","getActiveElementDeep","containerInfo","defaultView","HTMLIFrameElement","contentWindow","hasSelectionCapabilities","contentEditable","restoreSelection","priorSelectionInformation","curFocusedElem","focusedElem","priorSelectionRange","selectionRange","selectionStart","selectionEnd","min","getSelection","extend","endMarker","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","left","scrollLeft","top","scrollTop","focus","skipSelectionChangeEvent","activeElementInst","lastSelection","mouseDown","constructSelectEvent","makePrefixMap","styleProp","eventName","prefixes","vendorPrefixes","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitioncancel","transitionend","prefixedEventNames","getVendorPrefixedEventName","prefixMap","animation","transition","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","endIndex","queue","update","next","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","parent","childLanes","_visibility","hiddenUpdates","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","CapturedStacks","WeakMap","createCapturedValueAtFiber","source","existing","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","queueHydrationError","prepareToHydrateHostInstance","instance","memoizedProps","listenToNonDelegatedEvent","mediaEventTypes","suppressHydrationWarning","checkForUnmatchedText","popover","onScroll","onScrollEnd","onClick","onclick","noop$1","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldClear","shouldSetTextContent","getNextHydratable","resetHydrationState","SuspenseException","SuspenseyCommitException","noopSuspenseyCommitThenable","then","isThenableResolved","thenable","noop$3","trackUsedThenable","thenableState","reason","workInProgressRoot","shellSuspendCounter","fulfilledValue","fulfilledThenable","rejectedThenable","suspendedThenable","getSuspendedThenable","thenableState$1","thenableIndexCounter$1","unwrapThenable","coerceRef","ref","throwOnInvalidObjectType","returnFiber","newChild","join","resolveLazy","lazyType","init","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deletions","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","pendingProps","createWorkInProgress","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","createFiberFromText","mode","updateElement","elementType","updateFragment","createFiberFromTypeAndProps","updatePortal","portal","implementation","createFiberFromPortal","fragment","createFiberFromFragment","createChild","readContextDuringReconciliation","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildFibersImpl","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","delete","forEach","reconcileChildrenArray","step","done","reconcileChildrenIterator","firstChildFiber","createFiberImplClass","reconcileChildFibers","mountChildFibers","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","baseLanes","reuseHiddenContextOnStack","popHiddenContext","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","handler","suspenseStackCursor","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","state","revealOrder","AbortControllerLocal","AbortController","signal","aborted","listener","abort","scheduleCallback$2","NormalPriority","CacheContext","Consumer","Provider","_currentValue2","_threadCount","createCache","controller","refCount","releaseCache","cache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","pingEngtangledActionScope","prevOnStartTransitionFinish","S","entangledListeners","requestTransitionLane","resolve","entangleAsyncAction","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","pooledCache","pushTransition","offscreenWorkInProgress","prevCachePool","pool","getSuspendedCache","cacheFromPool","currentlyRenderingFiber$1","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","Component","secondArg","nextRenderLanes","updateQueue","H","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","checkIfContextChanged","numberOfReRenders","lastEffect","events","stores","memoCache","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useState","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","baseState","baseQueue","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","use","usable","readContext","useMemoCache","map","array","basicStateReducer","updateReducer","reducer","updateReducerImpl","lastRenderedReducer","pendingQueue","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$54","workInProgressRootRenderLanes","revertLane","hasEagerState","eagerState","workInProgressRootSkippedLanes","lastRenderedState","dispatch","rerenderReducer","lastRenderPhaseUpdate","updateSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","isHydrating$jscomp$0","snapshotChanged","updateEffect","subscribeToStore","bind","pushEffect","updateStoreInstance","destroy","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","nextValue","scheduleUpdateOnFiber","mountStateImpl","initialState","initialStateInitializer","updateOptimisticImpl","passthrough","dispatchActionState","actionQueue","setPendingState","setState","payload","isRenderPhaseUpdate","actionNode","isTransition","T","runActionStateAction","prevState","prevTransition","currentTransition","onStartTransitionFinish","handleActionReturnValue","onActionError","error$60","nextState","onActionSuccess","notifyActionListeners","last","actionStateReducer","mountActionState","initialStateProp","ssrFormState","formState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","updateActionStateImpl","stateHook","currentStateHook","actionQueueHook","actionStateActionEffect","rerenderActionState","create","deps","updateRef","mountEffectImpl","fiberFlags","hookFlags","updateEffectImpl","mountEffect","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","refCleanup","updateImperativeHandle","concat","mountDebugValue","updateCallback","callback","updateMemo","nextCreate","mountDeferredValueImpl","initialValue","requestDeferredLane","updateDeferredValueImpl","prevValue","startTransition","pendingState","finishedState","previousPriority","dispatchSetStateInternal","thenableWithOverride","chainThenableValue","requestUpdateLane","noop$2","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","useHostTransitionStatus","updateId","updateRefresh","refreshCache","provider","root$63","enqueueUpdate","createUpdate","entangleTransitions","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","throwIfDuringRender","queueLanes","useCallback","useContext","useEffect","useImperativeHandle","useLayoutEffect","useInsertionEffect","useMemo","useReducer","useRef","useDebugValue","useDeferredValue","useTransition","useSyncExternalStore","useId","useCacheRefresh","useFormState","useActionState","useOptimistic","initialArg","identifierPrefix","booleanOrThenable","applyDerivedStateFromProps","getDerivedStateFromProps","nextProps","classComponentUpdater","isMounted","component","_reactInternals","enqueueSetState","enqueueReplaceState","enqueueForceUpdate","checkShouldComponentUpdate","oldProps","newProps","nextContext","shouldComponentUpdate","isPureReactComponent","callComponentWillReceiveProps","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","resolveClassComponentProps","baseProps","defaultProps","propName$67","reportGlobalError","reportError","ErrorEvent","process","emit","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","componentStack","e$68","logCaughtError","boundary","onCaughtError","errorBoundary","e$69","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","componentDidCatch","legacyErrorBoundariesThatAlreadyFailed","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","prepareToReadContext","bailoutOnAlreadyFinishedWork","updateMemoComponent","shouldConstruct","compare","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","nextIsDetached","_pendingVisibility","markRef","deferHiddenOffscreenComponent","cachePool","nextBaseLanes","propagateParentContextChanges","replayFunctionComponent","updateClassComponent","contextType","updater","refs","initializeUpdateQueue","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","processUpdateQueue","suspendIfUpdateReadFromEntangledAsyncAction","componentDidMount","unresolvedOldProps","oldContext","contextType$jscomp$0","hasForceUpdate","cloneUpdateQueue","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","mountHostRootWithoutHydrating","SUSPENDED_MARKER","treeContext","retryLane","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","JSCompiler_temp$jscomp$0","nextInstance","id","overflow","fallback","mountWorkInProgressOffscreenFiber","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","dataset","digest","dgst","renderDidSuspendDelayIfPossible","retryDehydratedSuspenseBoundary","_reactRetry","subtreeFlags","primaryChildren","offscreenProps","createFiberFromOffscreen","scheduleSuspenseWorkOnFiber","propagationRoot","scheduleContextWorkOnParentPath","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","rendering","renderingStartTime","updateSuspenseListComponent","beginWork","pushProvider","didSuspendBefore","attemptEarlyBailoutIfNoScheduledUpdate","lazyComponent","propagateContextChanges","isDehydrated","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","anyProps","hasAttribute","getAttribute","crossOrigin","src","canHydrateInstance","canHydrateTextInstance","pooledCacheLanes","valueCursor","currentlyRenderingFiber","lastContextDependency","providerFiber","popProvider","contexts","forcePropagateEntireTree","list","nextFiber","firstContext","dependency","isInsidePropagationBailout","currentParent","currentDependencies","memoizedValue","readContextForConsumer","consumer","firstBaseUpdate","lastBaseUpdate","shared","hiddenCallbacks","callbacks","executionContext","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","clone","didReadFromEntangledAsyncAction","workInProgress$jscomp$0","instance$jscomp$0","lastPendingUpdate","firstPendingUpdate","isHiddenUpdate","callCallback","commitCallbacks","commitHookEffectListMount","finishedWork","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","nearestMountedAncestor","commitClassCallbacks","safelyCallComponentWillUnmount","componentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$112","commitHostMount","autoFocus","srcSet","srcset","commitHostUpdate","domElement","lastProps","propKey","lastProp","setProp","propKey$203","propKey$219","propKey$224","propKey$229","setPropOnCustomElement","propKey$234","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","insertBefore","appendChild","_reactRootContainer","insertOrAppendPlacementNode","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","WeakSet","nextEffect","shouldFireAfterActiveInstanceBlur","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","__reactInternalSnapshotBeforeUpdate","error$111","commitSuspenseHydrationCallbacks","prevOffscreenSubtreeIsHidden","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","onCommitFiberUnmount","count","removeChild","prevHostParent","prevHostParentIsContainer","attributes","removeAttributeNode","prevHostParentIsContainer$119","clearSuspenseBoundary","retryIfBlockedOn","attachSuspenseRetryListeners","wakeables","retryCache","_retryCache","getRetryCache","wakeable","retry","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","getElementsByTagName","head","querySelector","maybeNodes","getHydratableHoistableCache","splice","content","property","httpEquiv","charSet","mountHoistable","acquireResource","nextNode","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","_current","recursivelyTraverseDisappearLayoutEffects","display","retryQueue","parent$jscomp$0","parent$113","parent$115","reset","finishedRoot$jscomp$0","includeWorkInProgressEffects","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","onPostCommit","passiveEffectDuration","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","accumulateSuspenseyCommitOnFiber","resource","suspendedState","media","matchMedia","matches","loading","getStyleKey","getStylesheetSelectorFromKey","_p","onUnsuspend","stylesheetPropsFromRawProps","preloadPropsMap","adoptPreloadPropsForStylesheet","linkInstance","Promise","reject","stylesheets","preload","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","FiberNode","isReactComponent","resetWorkInProgress","owner","fiberTag","hostContext","itemProp","precedence","onLoad","onError","async","isHostHoistableType","elements","primaryChildInstance","_pendingMarkers","_transitions","detach","attach","pendingChildren","markUpdate","preloadResourceAndSuspendIfNeeded","preloadResource","scheduleRetryEffect","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$131","bubbleProperties","completedWork","didBailout","newChildLanes","child$132","completeWork","pendingContext","queueRecoverableErrors","createElementNS","innerHTML","createTextNode","cache$144","listenToAllSupportedEvents","workInProgressRootExitStatus","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","DefaultAsyncDispatcher","getCacheForType","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootConcurrentErrors","workInProgressRootRecoverableErrors","workInProgressRootDidIncludeRecursiveRenderUpdate","Infinity","workInProgressTransitions","rootDoesHavePassiveEffects","rootWithPendingPassiveEffects","pendingPassiveEffectsLanes","pendingPassiveEffectsRemainingLanes","pendingPassiveTransitions","suspenseHandler","cancelPendingCommit","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","expiredLanes","exitStatus","prevExecutionContext","prevDispatcher","pushDispatcher","prevAsyncDispatcher","pushAsyncDispatcher","thrownValue","throwAndUnwindWorkLoop","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","resetWorkInProgressStack","workLoopConcurrent","thrownValue$166","handleThrow","A","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","errorRecoveryDisabledLanes","wasRootDehydrated","timeoutHandle","scheduleTimeout","commitRootWhenReady","errors","apply","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","updatedLanes","suspendedRetryLanes","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","unsuspend","noop","insertSuspendedStylesheets","commit","stylesheetTimer","clearTimeout","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","expirationTimes","index$6","flushSyncWorkAcrossRoots_impl","cancelTimeout","allEntangledLanes","index$4","shouldYieldForPrerendering","unitOfWork","workLoopSync","thrownValue$164","performUnitOfWork","suspendedReason","rootRenderLanes","attachPingListener","markerInstances","cause","wrapperError","throwException","unwindUnitOfWork","skipSiblings","previousUpdateLanePriority","renderPriorityLevel","flushPassiveEffects","callbackNode","callbackPriority","remainingLanes","previouslyPendingLanes","index$7","hiddenUpdatesForLane","markRootFinished","priorityLevel","scheduleCallback$1","eventsEnabled","_enabled","selection","e$20","indexWithinAnchor","indexWithinFocus","selectionInformation","resolvedPrevProps","clearContainerSparingly","commitBeforeMutationEffects","releaseRootPooledCache","onCommitFiberRoot","onCommitRoot","onRecoverableError","commitRootImpl","root$170","renderPriority","onPostCommitFiberRoot","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","cb","processRootScheduleInMicrotask","scheduleMicrotask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$172","performSyncWorkOnRoot","currentPopstateTransitionEvent","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$5","expirationTime","performWorkOnRootViaSchedulerTask","didTimeout","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","coerceFormActionProp","actionProp","createFormDataWithSubmitter","submitter","temp","FormData","i$jscomp$inline_1439","eventName$jscomp$inline_1440","toUpperCase","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","capture","passive","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","container","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","parentWindow","getParent","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","getNativeBeforeInputChars","char","getFallbackBeforeInputChars","maybeTargetInst","formAction","extractEvents$1","targetFiber","captureName","_instance2","unshift","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","formEncType","formMethod","formTarget","encType","__html","muted","isNaN","endsWith","hasSrc","hasSrcSet","propValue$186","parentNamespace","dangerouslySetInnerHTML","localPromise","queueMicrotask","handleErrorInNextTick","parentInstance","suspenseInstance","depth","targetInstance","previousSibling","rootContainerInstance","preconnectsSet","getRootNode","previousDispatcher","previousWasRendering","wasRendering","formInst","D","preconnectAs","C","L","as","globalDocument","preloadSelector","imageSrcSet","imageSizes","getScriptKey","getScriptSelectorFromKey","X","scripts","adoptPreloadPropsForScript","link","insertStylesheet","M","limitedEscapedHref","currentProps","preloadProps","styles$242","resource$243","integrity","hrefLang","referrerPolicy","rawProps","styleProps","instance$248","nodes","prior","stylesheetProps","scriptProps","keyAttribute","caches","nodeKey","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","incompleteTransitions","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","transitionCallbacks","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queuedFocus","accumulateOrCreateContinuousQueuedReplayableEvent","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedExplicitHydrationTargets","existingQueuedEvent","targetContainers","attemptExplicitHydrationTarget","queuedTarget","priority","runWithPriority","attemptReplayContinuousQueuedEvent","queuedEvent","nextBlockedOn","nativeEventClone","shift","attemptReplayContinuousQueuedEventInMap","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","$$reactFormReplay","formProps","ReactDOMRoot","internalRoot","_internalRoot","ReactDOMHydrationRoot","unmount","unstable_scheduleHydration","isomorphicReactPackageVersion$jscomp$inline_1686","version","findDOMNode","componentOrElement","parentA","parentB","didFindChild","child$2","findCurrentFiberUsingSlowPath","internals$jscomp$inline_2165","bundleType","rendererPackageName","currentDispatcherRef","findFiberByHostInstance","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","hook$jscomp$inline_2166","isDisabled","supportsFiber","inject","createRoot","unstable_strictMode","unstable_transitionCallbacks","hydrateRoot","Internals","getCrossOriginStringAs","input","createPortal","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","prefetchDNS","preinit","fetchPriority","nonce","preinitModule","preloadModule","requestFormReset","unstable_batchedUpdates","permalink","useFormStatus","checkDCE","__awaiter","thisArg","_arguments","P","generator","fulfilled","rejected","react_pdf_1","pdfjs","GlobalWorkerOptions","workerSrc","file","blobUrl","loadingTask","getDocument","extractedText","pdf","promise","numPages","pageNumber","page","getPage","getTextContent","items","item","str","jsxProd","config","maybeKey","Fragment","jsx","jsxs","ReactNoopUpdateQueue","emptyObject","ComponentDummy","PureComponent","partialState","forceUpdate","pureComponentPrototype","ReactElement","isValidElement","object","userProvidedKeyEscapeRegex","getElementKey","escaperLookup","escape","mapIntoArray","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","nextNamePrefix","resolveThenable","mapChildren","func","lazyInitializer","_status","_result","moduleObject","default","Children","forEachFunc","forEachContext","toArray","only","Profiler","StrictMode","Suspense","act","cloneElement","childArray","createContext","childrenLength","createRef","forwardRef","lazy","memo","scope","unstable_useCacheRefresh","Context","heap","parentIndex","peek","first","halfLength","leftIndex","rightIndex","right","diff","sortIndex","performance","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","localSetTimeout","localClearTimeout","localSetImmediate","setImmediate","advanceTimers","timer","startTime","handleTimeout","requestHostCallback","firstTimer","requestHostTimeout","schedulePerformWorkUntilDeadline","isMessageLoopRunning","taskTimeoutID","frameInterval","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","continuationCallback","MessageChannel","channel","port","port2","port1","onmessage","postMessage","ms","unstable_Profiling","task","unstable_continueExecution","unstable_forceFrameRate","fps","floor","unstable_getFirstCallbackNode","unstable_next","eventHandler","unstable_pauseExecution","unstable_runWithPriority","delay","timeout","unstable_wrapCallback","parentPriorityLevel","condition","warning","isCancelled","cancel","__spreadArray","to","from","pack","ar","allEvents","changeEvents","otherEvents","transitionEvents","animationEvents","wheelEvents","uiEvents","pointerEvents","touchEvents","selectionEvents","dragEvents","mouseEvents","mediaEvents","keyboardEvents","imageEvents","formEvents","focusEvents","compositionEvents","clipboardEvents","getArgs","eventProps","inputRefs","_i","filteredInputRefs","filter","Boolean","inputRef","__createBinding","k2","undefined","desc","__esModule","writable","__setModuleDefault","v","__importStar","mod","__rest","s","getOwnPropertySymbols","propertyIsEnumerable","__importDefault","jsx_runtime_1","react_1","make_event_props_1","make_cancellable_promise_1","clsx_1","tiny_invariant_1","warning_1","dequal_1","DocumentContext_js_1","Message_js_1","LinkService_js_1","PasswordResponses_js_1","utils_js_1","useResolver_js_1","PDFDataRangeTransport","defaultOnPassword","NEED_PASSWORD","prompt","INCORRECT_PASSWORD","isParameterObject","Document","_a","className","externalLinkRel","externalLinkTarget","imageResourcesPath","noData","onItemClick","onLoadError","onLoadErrorProps","onLoadProgress","onLoadSuccess","onLoadSuccessProps","onPassword","onSourceError","onSourceErrorProps","onSourceSuccess","onSourceSuccessProps","renderMode","rotate","sourceState","sourceDispatch","sourceError","pdfState","pdfDispatch","pdfError","linkService","pages","prevFile","prevOptions","viewer","scrollPageIntoView","args","dest","pageIndex","scrollIntoView","findDocumentSource","isDataURI","dataURItoByteString","displayCORSWarning","isArrayBuffer","isBrowser","isBlob","loadFromFile","otherParams","fileByteString","cancellable","nextSource","cancelRunningTask","documentInitParams","destroyable","onProgress","loadingPromise","nextPdf","destroyed","finally","setDocument","setViewer","setExternalLinkRel","setExternalLinkTarget","registerPage","unregisterPage","childContext","documentContext","externalLinkEnabled","isInPresentationMode","pdfDocument","pdfViewer","setHistory","pagesCount","currentPageNumber","rotation","_value","goToDestination","getDestination","explicitDest","destRef","getPageIndex","navigateTo","goToPage","addLinkAttributes","newWindow","getDestinationHash","getAnchorUrl","setHash","executeNamedAction","cachePageRef","isPageVisible","isPageCached","executeSetOCGState","_ref","useDocumentContext_js_1","mergedProps","outlineState","outlineDispatch","outline","outlineError","getOutline","runningTask","nextOutline","OutlineContext_js_1","itemIndex","OutlineItem_js_1","outlineContext","OutlineItem","useOutlineContext_js_1","useCachedValue_js_1","destination","Ref_js_1","getPageNumber","renderSubitems","subitems","subitem","subitemIndex","all","_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","customRenderer","CustomRenderer","customTextRenderer","devicePixelRatio","onGetAnnotationsError","onGetAnnotationsErrorProps","onGetAnnotationsSuccess","onGetAnnotationsSuccessProps","onGetStructTreeError","onGetStructTreeErrorProps","onGetStructTreeSuccess","onGetStructTreeSuccessProps","onGetTextError","onGetTextErrorProps","onGetTextSuccess","onGetTextSuccessProps","onRenderAnnotationLayerError","onRenderAnnotationLayerErrorProps","onRenderAnnotationLayerSuccess","onRenderAnnotationLayerSuccessProps","onRenderError","onRenderErrorProps","onRenderSuccess","onRenderSuccessProps","onRenderTextLayerError","onRenderTextLayerErrorProps","onRenderTextLayerSuccess","onRenderTextLayerSuccessProps","pageIndexProps","pageNumberProps","renderAnnotationLayer","renderAnnotationLayerProps","renderForms","renderTextLayer","renderTextLayerProps","rotateProps","scale","scaleProps","defaultScale","pageState","pageDispatch","pageError","pageElement","isProvided","pageScale","scaleWithDefault","viewport","getViewport","nextPage","makePageCallback","pageKey","renderMainLayer","Canvas_js_1","merge_refs_1","backgroundColor","position","minWidth","minHeight","PageContext_js_1","TextLayer_js_1","AnnotationLayer_js_1","pageContext","usePageContext_js_1","annotationsState","annotationsDispatch","annotations","annotationsError","layerElement","Number","parseInt","getComputedStyle","getPropertyValue","getAnnotations","nextAnnotations","layer","clonedViewport","dontFlip","annotationLayerParameters","accessibilityManager","annotationCanvasMap","annotationEditorUIManager","div","l10n","structTreeLayer","renderParameters","annotationStorage","AnnotationLayer","getDevicePixelRatio","canvasElement","isCancelException","renderViewport","cleanup","canvas","visibility","renderContext","annotationMode","ANNOTATION_MODE","ENABLE_FORMS","ENABLE","canvasContext","getContext","alpha","background","dir","userSelect","StructTree_js_1","AnnotationMode","textContentState","textContentDispatch","textContentError","nextTextContent","textContentSource","streamTextContent","includeMarkedContent","parameters","TextLayer","append","layerChildren","isTextItem","hasEOL","onMouseUp","classList","remove","onMouseDown","num","gen","structTreeState","structTreeDispatch","structTree","structTreeError","getStructTree","nextStructTree","StructTreeItem_js_1","StructTreeItem","structTreeUtils_js_1","getAttributes","isStructTreeNode","isStructTreeNodeWithOnlyContentChild","classNameProps","onItemClickProps","pageProps","Page_js_1","PasswordResponses","usePageContext","useOutlineContext","useDocumentContext","Thumbnail","Page","Outline","Document_js_1","Outline_js_1","Thumbnail_js_1","displayWorkerWarning","HEADING_PATTERN","PDF_ROLE_TO_HTML_ROLE","DocumentFragment","Part","Sect","Div","Aside","NonStruct","Title","FENote","Sub","Lbl","Span","Em","Strong","Link","Annot","Form","Ruby","RB","RT","RP","Warichu","WT","WP","LI","LBody","Table","TR","TH","TD","THead","TBody","TFoot","Caption","Figure","Formula","Artifact","getter","isDefined","isPdfRole","getRoleAttributes","getBaseAttributes","constants_js_1","role","htmlRole","alt","lang","childAttributes","isLocalFileSystem","variable","isString","dataURI","headersString","dataString","atob","unescape","allowFileAccessFromFilesTip","reader","NOT_FOUND_ERR","SECURITY_ERR","ABORT_ERR","readAsArrayBuffer","protocol","_typeof","toPropertyKey","toPrimitive","TypeError","_defineProperty","ownKeys","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_toSetter","_checkPrivateRedeclaration","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","_assertClassBrand","_classPrivateGetter","_classPrivateFieldSet2","__webpack_require__","definition","obj","prop","isNodeJS","versions","nw","electron","IDENTITY_MATRIX","FONT_IDENTITY_MATRIX","LINE_FACTOR","RenderingIntentFlag","DISABLE","ENABLE_STORAGE","AnnotationEditorType","NONE","FREETEXT","HIGHLIGHT","STAMP","INK","AnnotationEditorParamsType","RESIZE","CREATE","FREETEXT_SIZE","FREETEXT_COLOR","FREETEXT_OPACITY","INK_COLOR","INK_THICKNESS","INK_OPACITY","HIGHLIGHT_COLOR","HIGHLIGHT_DEFAULT_COLOR","HIGHLIGHT_THICKNESS","HIGHLIGHT_FREE","HIGHLIGHT_SHOW_ALL","PermissionFlag","PRINT","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","TextRenderingMode","util_ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","AnnotationBorderStyleType","VerbosityLevel","ERRORS","WARNINGS","INFOS","OPS","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotation","endAnnotation","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","setStrokeTransparent","setFillTransparent","verbosity","setVerbosityLevel","level","isInteger","getVerbosityLevel","msg","unreachable","assert","cond","createValidAbsoluteUrl","baseUrl","addDefaultProtocol","startsWith","dots","tryConvertEncoding","decodeURIComponent","_unused","absoluteUrl","_isValidProtocol","_unused2","shadow","nonSerializable","BaseException","PasswordException","super","UnknownErrorException","details","InvalidPDFException","MissingPDFException","UnexpectedResponseException","FormatError","AbortException","bytesToString","bytes","MAX_ARGUMENT_COUNT","strBuf","chunkEnd","chunk","subarray","stringToBytes","objectFromMap","util_FeatureTest","isLittleEndian","buffer8","Uint32Array","buffer","isEvalSupported","Function","_unused3","isOffscreenCanvasSupported","OffscreenCanvas","platform","_navigator","_navigator2","isMac","isWindows","isFirefox","isCSSRoundSupported","_globalThis$CSS","_globalThis$CSS$suppo","globalThis","CSS","supports","hexNumbers","padStart","Util","makeHexColor","scaleMinMax","minMax","m1","m2","applyTransform","applyInverseTransform","getAxialAlignedBoundingBox","p1","p2","p3","p4","max","inverseTransform","singularValueDecompose2dScale","transpose","second","sqrt","sx","sy","normalizeRect","rect","intersect","rect1","rect2","xLow","xHigh","yLow","yHigh","bezierBoundingBox","x0","y0","x1","y1","x2","y2","x3","y3","_getExtremum","_getExtremumOnCurve","mt","tt","ttt","abs","delta","sqrtDelta","a2","_Util","NormalizeRegex","NormalizationMap","normalizeUnicode","replaceAll","_","normalize","AnnotationPrefix","FontRenderOps","SVG_NS","PixelsPerInch","fetchData","isValidFetchUrl","baseURI","fetch","ok","statusText","arrayBuffer","blob","json","request","onreadystatechange","readyState","DONE","responseText","_PixelsPerInch","PDF","PageViewport","viewBox","offsetX","offsetY","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","rawDims","pageWidth","pageHeight","convertToViewportPoint","convertToViewportRectangle","topLeft","bottomRight","convertToPdfPoint","RenderingCancelledException","extraDelay","isDataScheme","ii","substring","isPdfFile","filename","getFilenameFromUrl","lastIndexOf","getPdfFilenameFromUrl","defaultFilename","reFilename","splitURI","exec","suggestedFilename","_unused4","StatTimer","started","timeEnd","times","outBuf","longest","padEnd","_unused5","noContextMenu","deprecated","PDFDateString","toDateObject","_regex","year","day","hour","minute","universalTimeRelation","offsetHour","offsetMinute","UTC","getXfaPageViewport","xfaPage","_ref2","getRGB","colorRGB","getCurrentTransform","ctx","getTransform","getCurrentTransformInverse","invertSelf","setLayerDimensions","mustFlip","mustRotate","useRound","w","widthStr","heightStr","OutputScale","pixelRatio","scaled","symmetric","EditorToolbar","editor","_EditorToolbar_brand","_toolbar","_colorPicker","_editor","_buttons","_altText","_classPrivateFieldSet","_l10nRemove","freeze","freetext","highlight","ink","stamp","editToolbar","_classPrivateFieldGet","_uiManager","_signal","_pointerDown","toolbarPosition","direction","insetInlineEnd","_addDeleteButton","hide","_classPrivateFieldGet2","hideDropdown","show","_classPrivateFieldGet3","shown","addAltText","altText","_addListenersToElement","prepend","_get_divider","addColorPicker","colorPicker","renderButton","_classPrivateFieldGet4","_focusIn","_focusEventsAllowed","_focusOut","editorType","tabIndex","_this","divider","_buttons2","_toolbar2","_uiManager2","_HighlightToolbar_brand","HighlightToolbar","uiManager","boxes","isLTR","_getLastPoint","_render","_addHighlightButton","lastY","lastX","box","span","highlightSelection","bindEvents","names","_id","IdManager","_this$id","_this$id2","_baseId","_id2","_cache","_ImageManager_brand","ImageManager","_crypto","_crypto2","crypto","randomUUID","buf","getRandomValues","getUuid","_isSVGFittingCanvas","willReadFrequently","image","Image","decode","drawImage","getImageData","getFromFile","lastModified","_get","getFromUrl","getFromBlob","blobPromise","getFromId","bitmap","refCounter","getFromCanvas","_this$id5","_this$id6","_data","offscreen","transferToImageBitmap","isSvg","getSvgUrl","svgUrl","deleteId","_bitmap$close","transferFromImageBitmap","convertToBlob","close","isValidId","rawData","_data3","_this$id3","_this$id4","File","mustRemoveAspectRatioPromise","fileReader","imageElement","imagePromise","createImageBitmap","_ImageManager","_commands","_locked","_maxSize","_position","CommandManager","maxSize","_ref3","cmd","undo","post","mustExec","NaN","overwriteIfSameType","keepUndo","redo","hasSomethingToUndo","hasSomethingToRedo","_KeyboardManager_brand","KeyboardManager","allKeys","isMacKey","at","_serialize","checker","ColorManager","_colors","colors","computedColor","getColorValues","convert","rgb","RGB","every","_colorsMapping","getHexCode","_abortController","_activeEditor","_allEditors","_allLayers","_altTextManager","_annotationStorage","_changedExistingAnnotations","_commandManager","_copyPasteAC","_currentPageIndex","_deletedAnnotationsElementIds","_draggingEditors","_editorTypes","_editorsToRescale","_enableHighlightFloatingButton","_enableUpdatedAddImage","_enableNewAltTextWhenAddingImage","_filterFactory","_focusMainContainerTimeoutId","_focusManagerAC","_highlightColors","_highlightWhenShiftUp","_highlightToolbar","_idManager","_isEnabled","_isWaiting","_keyboardManagerAC","_lastActiveElement","_mainHighlightColorPicker","_mlManager","_mode","_selectedEditors","_selectedTextNode","_pageColors","_showAllStates","_previousStates","_translation","_translationTimeoutId","_container","_viewer","_updateModeCapability","_AnnotationEditorUIManager_brand","AnnotationEditorUIManager","_keyboardManager","proto","arrowChecker","hasSomethingToControl","textInputChecker","_self","_ref4","el","HTMLInputElement","small","TRANSLATE_SMALL","big","TRANSLATE_BIG","selectAll","addNewEditorFromKeyboard","_ref5","HTMLButtonElement","isEnterHandled","_ref6","unselectAll","translateSelectedEditors","altTextManager","eventBus","pageColors","highlightColors","enableHighlightFloatingButton","enableUpdatedAddImage","enableNewAltTextWhenAddingImage","mlManager","isEditing","isEmpty","hasSelectedEditor","hasSelectedText","_eventBus","_on","onEditingAction","onPageChanging","onScaleChanging","onRotationChanging","onSetPreference","evt","updateParams","_addSelectionListener","_addDragAndDropListeners","_addKeyboardManager","filterFactory","viewParameters","realScale","PDF_TO_CSS_UNITS","isShiftKeyDown","_classPrivateFieldGet5","_classPrivateFieldGet6","_classPrivateFieldGet7","_classPrivateFieldGet8","values","clear","combinedSignal","ac","AbortSignal","any","useNewAltTextFlow","useNewAltTextWhenAddingImage","hcmFilter","addHCMFilter","foreground","pair","highlightColorNames","reverse","setMainHighlightColorPicker","editAltText","_classPrivateFieldGet9","firstTime","switchToMode","on","once","setPreference","_ref7","_ref8","focusMainContainer","findParent","layerX","layerY","getBoundingClientRect","disableUserSelect","toggle","addShouldRescale","removeShouldRescale","_ref9","commitOrRemove","_ref10","pagesRotation","methodOfCreation","isCollapsed","textLayer","_getAnchorElementForSelection","closest","getSelectionBoxes","empty","_getLayerForTextLayer","isNoneMode","createAndAddNewEditor","showAllEditors","addToAnnotationStorage","blur","_onSelectEnd","hasSelection","lastEditor","lastActiveElement","addEditListeners","_addCopyPasteListeners","removeEditListeners","_removeKeyboardManager","_removeCopyPasteListeners","dragOver","isHandlingMimeForPasting","dropEffect","drop","paste","currentLayer","copy","_classPrivateFieldGet10","editors","serialized","serialize","setData","JSON","stringify","cut","parse","ex","newEditors","deserializedEditor","deserialize","_addEditorToLayer","_selectEditors","addCommands","keydown","isEditorHandlingKeyboard","keyup","_ref11","setEditingState","_addFocusManager","_dispatchUpdateStates","_isEmpty","_removeFocusManager","registerEditorTypes","types","_dispatchUpdateUI","defaultPropertiesToUpdate","getId","getLayer","currentPageIndex","addLayer","enable","disable","removeLayer","updateMode","editId","isFromKeyboard","withResolvers","_disableAll","_enableAll","annotationElementId","setSelected","enterInEditMode","unselect","canCreateNewEmptyEditor","addNewEditor","updateToolbar","_classPrivateFieldGet11","updateColor","updateDefaultParams","visible","_classPrivateFieldGet12","_classPrivateFieldGet13","enableWaiting","mustWait","disableClick","enableClick","getEditors","getEditor","addEditor","removeEditor","_classPrivateFieldGet14","addDeletedAnnotationElement","addChangedExistingAnnotation","deleted","isDeletedAnnotationElement","removeDeletedAnnotationElement","removeChangedExistingAnnotation","setActiveEditor","propertiesToUpdate","updateUI","_get_lastSelectedEditor","toggleSelected","select","ed","isSelected","firstSelectedEditor","params","_classPrivateFieldGet15","totalX","totalY","translateInPage","setUpDragSession","savedX","savedY","savedPageIndex","newX","newY","newPageIndex","endDragSession","mustBeAddedInUndoStack","move","_setParentAndPosition","dragSelectedEditors","tx","ty","drag","rebuild","changeParent","addOrRebuild","_this$getActive","getActive","shouldGetKeyboardEvents","isActive","getMode","imageManager","getRangeAt","commonAncestorContainer","parentWidth","parentHeight","rotator","collapsed","getClientRects","_ref12","_ref13","_classPrivateFieldGet16","renderAnnotationElement","annotation","_classPrivateFieldGet17","editorId","getRawValue","hasBeenModified","_ref78","Node","TEXT_NODE","parentElement","hasTextLayer","_displayHighlightToolbar","_selectionChange","_classPrivateFieldGet73","_classPrivateFieldGet71","_classPrivateFieldGet72","activeLayer","toggleDrawing","pointerup","_classPrivateFieldGet74","_classPrivateFieldGet75","_classPrivateFieldGet76","entries","some","_ref79","promises","_this2","AltText","_AltText_brand","_altText2","_altTextDecorative","_altTextButton","_altTextButtonLabel","_altTextTooltip","_altTextTooltipTimeout","_altTextWasFromKeyBoard","_badge","_editor2","_guessedText","_textWithDisclaimer","_useNewAltTextFlow","_l10nNewButton","added","missing","review","initialize","_AltText$_l10n","_l10n","label","_reportTelemetry","_get_label","_setState","finish","focusVisible","hasData","guessedText","setGuessedText","generatedAltText","toggleAltTextBadge","_classPrivateFieldGet18","badge","isForCopying","decorative","textWithDisclaimer","_ref14","enabled","_classPrivateFieldGet19","_classPrivateFieldGet20","_this3","_classPrivateFieldGet77","_classPrivateFieldGet78","_classPrivateFieldGet79","tooltip","DELAY_TO_SHOW_TOOLTIP","_classPrivateFieldGet80","getImageForAltText","AnnotationEditor","_resizerKeyboardManager","resize","_resizeWithKeyboard","_stopResizingWithKeyboard","_AnnotationEditor_brand","_accessibilityData","_allResizerDivs","_altText3","_disabled","_keepAspectRatio","_resizersDiv","_savedDimensions","_focusAC","_focusedResizerName","_hasBeenClicked","_initialPosition","_isEditing","_isInEditMode","_isResizerEnabledForKeyboard","_moveInDOMTimeout","_prevDragX","_prevDragY","_telemetryTimeouts","_isDraggable","_zIndex","_willKeepAspectRatio","_initialOptions","isCentered","_structTreeParentId","pageRotation","pageDimensions","pageTranslation","parentDimensions","isAttachedToDOM","getPrototypeOf","_type","_defaultLineColor","_colorManager","deleteAnnotationElement","fakeEditor","FakeEditor","getNextId","_AnnotationEditor$_l","_l10nResizer","topMiddle","topRight","middleRight","bottomMiddle","bottomLeft","middleLeft","_borderLineWidth","parseFloat","mime","_this$div","center","parentRotation","fixAndSetPosition","setInBackground","zIndex","setInForeground","setParent","_stopResizing","focusin","focusout","_this$parent","isMultipleSelection","setAt","screenToPageTranslation","translate","_translate","block","findNewParent","bx","by","getBaseTranslation","toFixed","_hasBeenMoved","_mustFixPosition","moveInDOM","_rotatePoint","pageTranslationToScreen","parentScale","setDims","fixDims","widthPercent","heightPercent","getInitialTranslation","altTextFinish","_classPrivateFieldGet21","addEditToolbar","_editToolbar","removeEditToolbar","_classPrivateFieldGet22","addContainer","_this$_editToolbar","editToolbarDiv","getClientDimensions","addAltTextButton","altTextData","_classPrivateFieldGet23","guessedAltText","_classPrivateFieldGet24","setGuessedAltText","_classPrivateFieldGet25","serializeAltText","_classPrivateFieldGet26","hasAltText","hasAltTextData","_classPrivateFieldGet27","_classPrivateFieldGet28","_isVisible","_addFocusListeners","maxWidth","maxHeight","pointerdown","_setUpDragSession","_selectOnPointerEvent","_this$parent2","moveEditorInDOM","getRect","shiftX","shiftY","getRectInCurrentCoords","onceAdded","enableEditMode","disableEditMode","isInEditMode","needsToBeRebuilt","_angle","serializeDeleted","_this$_initialData","popupRef","_initialData","accessibilityData","_classPrivateFieldGet29","isResizable","makeResizable","_createResizers","savedWidth","savedHeight","boundResizerKeydown","_resizerKeydown","boundResizerBlur","_resizerBlur","_resizerFocus","firstPosition","nextFirstPosition","_setResizerTabIndex","stopImmediatePropagation","_resizerPointermove","_this$div2","_this$_editToolbar3","_classPrivateFieldGet30","_this$div3","_this$_editToolbar2","_classPrivateFieldGet31","_this$div4","_this$div5","_this$_editToolbar4","_classPrivateFieldGet32","preventScroll","disableEditing","enableEditing","contentDiv","setAspectRatio","aspectRatio","MIN_SIZE","telemetryInitialData","telemetryFinalData","_telemetryTimeout","resetAnnotationElement","_ref80","angle","_getRotationMatrix","classes","_resizerPointerdown","_classPrivateFieldGet81","savedDraggable","togglePointerEvents","savedParentCursor","savedCursor","pointerUpCallback","_classPrivateFieldGet82","_addResizeToUndoStack","newWidth","newHeight","round","rotationMatrix","transf","invRotationMatrix","getPoint","getOpposite","isDiagonal","isHorizontal","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","ratioX","ratioY","invTransf","oldDiag","hypot","pointerMoveCallback","_event$relatedTarget","_AnnotationEditor","SEED","MASK_HIGH","MASK_LOW","MurmurHash3_64","seed","h1","h2","blockCounts","tailLength","dataUint32","k1","C1","C2","C1_LOW","C2_LOW","hexdigest","SerializableEmpty","hash","transfer","_modified","_modifiedIds","_storage","_AnnotationStorage_brand","AnnotationStorage","onSetModified","onResetModified","onAnnotationEditor","resetModified","modified","entry","val","_setModified","getAll","setAll","print","PrintAnnotationStorage","serializable","hasBitmap","editorStats","stats","typeToEditor","_stats","_counters$get","counters","computeTelemetryFinalData","resetModifiedIds","modifiedIds","ids","_serializable","structuredClone","FontLoader","_ref15","styleElement","_systemFonts","_document","nativeFontFaces","loadingRequests","loadTestFontId","addNativeFontFace","nativeFontFace","fonts","removeNativeFontFace","insertRule","rule","styleSheet","sheet","cssRules","loadSystemFont","_ref16","systemFontInfo","_inspectFont","loadedName","disableFontFace","isFontLoadingAPISupported","fontFace","FontFace","load","_unused6","baseFontName","font","attached","missingFile","createNativeFontFace","loaded","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","_this$_document","_navigator3","supported","complete","otherRequest","_loadTestFont","int32","spliceString","insert","called","XXXX_VALUE","checksum","btoa","fontFamily","isFontReady","fillText","FontFaceObject","translatedData","_ref17","inspectFont","compiledGlyphs","_this$_inspectFont","cssFontInfo","css","weight","fontWeight","italicAngle","_this$_inspectFont2","mimetype","arr","toBase64","getPathGenerator","objs","character","cmds","commands","bezierCurveTo","quadraticCurveTo","BaseCanvasFactory","_ref18","enableHWA","_enableHWA","_createCanvas","canvasAndContext","BaseCMapReaderFactory","_ref20","isCompressed","_ref21","_fetch","cMapData","DOMCMapReaderFactory","BaseFilterFactory","addFilter","maps","fgColor","bgColor","addAlphaFilter","addLuminosityFilter","addHighlightHCMFilter","filterName","newFgColor","newBgColor","_baseUrl","_cache2","_defs","_docId","_hcmCache","_id3","_DOMFilterFactory_brand","_get_cache","_this4","_get_hcmCache","_this5","_get_defs","_this6","contain","svg","_createTables","mapR","table","mapG","mapB","bufferR","bufferG","bufferB","_createUrl","_addLuminosityConversion","feColorMatrix","_addGrayConversion","_createFilter","_appendFeFunc","feComponentTransfer","feFunc","_addTransferMapConversion","rTable","gTable","bTable","_addTransferMapAlphaConversion","aTable","_getRGB","BaseStandardFontDataFactory","_ref23","_ref24","DOMStandardFontDataFactory","packageCapability","packageMap","fs","http","https","path2d","loadPackages","NodePackages","_packageMap","node_utils_fetchData","readFile","PathType","applyBoundingBox","bbox","region","Path2D","BaseShadingPattern","getPattern","RadialAxialShadingPattern","IR","_bbox","_colorStops","_p0","_p1","_r0","_r1","matrix","_createGradient","grad","createLinearGradient","createRadialGradient","colorStop","addColorStop","inverse","pathType","pattern","ownerBBox","getClippedPathBoundingBox","ceil","tmpCanvas","cachedCanvases","getCanvas","tmpCtx","clearRect","beginPath","baseTransform","fillStyle","createPattern","domMatrix","DOMMatrix","setTransform","drawTriangle","c1","c2","c3","coords","rowSize","scaleX","scaleY","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","q","MeshShadingPattern","_coords","_figures","_bounds","_background","_createMeshCanvas","combinedScale","boundsWidth","boundsHeight","paddedWidth","BORDER_SIZE","paddedHeight","createImageData","putImageData","matrixScale","temporaryPatternCanvas","DummyShadingPattern","PaintType","TilingPattern","canvasGraphicsFactory","operatorList","xstep","ystep","paintType","tilingType","createPatternCanvas","curMatrixScale","combinedScaleX","combinedScaleY","canvasWidth","canvasHeight","redrawHorizontally","redrawVertically","xScaledStep","yScaledStep","dimx","getSizeAndScale","dimy","graphics","createCanvasGraphics","groupLevel","setFillAndStrokeStyleToContext","clipBbox","executeOperatorList","endDrawing","dimx2","dimy2","xSize","ySize","tmpCanvas2","tmpCtx2","jj","realOutputSize","MAX_PATTERN_SIZE","bboxWidth","bboxHeight","updateRectMinMax","strokeStyle","fillColor","strokeColor","cssColor","convertBlackAndWhiteToRGBA","_ref25","srcPos","nonBlackColor","inverseDecode","black","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","destPos","FULL_CHUNK_HEIGHT","CachedCanvases","canvasFactory","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","sign","CanvasExtraState","alphaIsShape","fontSize","fontSizeScale","textMatrix","textMatrixScale","fontMatrix","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","textRise","patternFill","fillAlpha","strokeAlpha","lineWidth","activeSMask","transferMaps","startNewPathAndClipBox","clipBox","setCurrentPoint","updatePathMinMax","minX","maxX","updateScalingPathMinMax","updateCurvePathMinMax","getPathBoundingBox","xStrokePad","yStrokePad","updateClipFromPath","isEmptyClip","putBinaryImageData","imgData","ImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","kind","dest32","dest32DataLength","fullSrcDiff","white","srcDiff","kEnd","kEndUnrolled","mask","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","properties","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","getImageSmoothingEnabled","interpolate","fround","actualScale","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","_CanvasGraphics_brand","CanvasGraphics","canvasCtx","commonObjs","_ref27","optionalContentConfig","markedContentStack","stateStack","pendingClip","pendingEOFill","res","xobjs","groupStack","processingType3","baseTransformStack","smaskStack","smaskCounter","tempSMask","suspendedCtx","contentVisible","cachedPatterns","viewportScale","outputScaleX","outputScaleY","_cachedScaleForStroking","_cachedGetSinglePixelWidth","_cachedBitmapsMap","getObject","beginDrawing","_ref28","transparency","savedFillStyle","fillRect","transparentCanvas","compositeCtx","executionStartIdx","continueCallback","stepper","argsArray","fnArray","argsArrayLen","chunkOperations","endTime","steps","fnId","nextBreakPoint","breakIt","depObjId","objsPool","_restoreInitialState","HTMLCanvasElement","_drawFilter","_scaleImage","img","_img$width","_img$height","displayWidth","displayHeight","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","_createMaskCanvas","isPatternFill","currentTransform","cacheKey","maskCanvas","mainKey","cachedImage","maskToCanvas","drawnWidth","drawnHeight","fillCanvas","fillCtx","imageSmoothingEnabled","limit","dashArray","dashPhase","intent","flatness","states","checkSMaskState","inSMaskMode","beginSMaskMode","endSMaskMode","cacheId","scratchCanvas","_removeMirroring","__originalSave","__originalRestore","__originalRotate","__originalScale","__originalTranslate","__originalTransform","__originalSetTransform","__originalResetTransform","resetTransform","__originalClip","__originalMoveTo","__originalLineTo","__originalBezierCurveTo","__originalRect","__originalClosePath","__originalBeginPath","cp1x","cp1y","cp2x","cp2y","mirrorContextOperations","compose","dirtyBox","smask","composeSMask","layerCtx","layerBox","layerOffsetX","layerOffsetY","layerWidth","layerHeight","genericComposeSMask","subtype","backdrop","transferMap","maskCtx","maskOffsetX","maskOffsetY","maskX","maskY","backdropRGB","old","ops","startX","startY","isScalingMatrix","minMaxForBezier","xw","yh","consumePath","rescaleAndStroke","needRestore","paths","pendingTextPaths","path","addToPath","spacing","fontRefName","_fontObj$systemFontIn","fontObj","fontDirection","isType3Font","typeface","fallbackName","bold","italic","browserFontSize","rise","paintChar","patternTransform","fillStrokeMode","isAddToPathSet","strokeText","isFontSubpixelAAEnabled","glyphs","showType3Text","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","getSinglePixelWidth","isInvalidPDFjsFont","chars","glyph","unicode","restoreNeeded","isSpace","fontChar","accent","scaledX","scaledY","vmetric","vx","vy","remeasure","measuredWidth","measureText","characterScaleX","isInFont","scaledAccentX","scaledAccentY","spacingLength","charProcOperatorList","operatorListId","xWidth","yWidth","llx","lly","urx","ury","getColorN_Pattern","_getPattern","objId","getShadingPattern","inv","group","currentCtx","isolated","knockout","bounds","canvasBounds","groupCtx","startTransformInverse","currentMtx","hasOwnCanvas","annotationCanvas","savedCtx","compiled","POINT_TYPES","width1","j0","points","lineSize","pos","sum","Int32Array","p0","pp","compileType3Glyph","skewX","skewY","positions","trans","images","applyTransferMapsToCanvas","applyTransferMapsToBitmap","imgToPaint","isVisible","isContentVisible","absDet","normX","normY","getScaleForStroking","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","hcmFilterId","savedFilter","op","workerPort","_port","Worker","_src","CallbackKind","StreamKind","wrapReason","_messageAC","_MessageHandler_brand","MessageHandler","sourceName","targetName","comObj","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","_onMessage","actionName","ah","transfers","sendWithPromise","capability","sendWithStream","queueingStrategy","ReadableStream","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","stream","cancelCapability","_classPrivateFieldGet33","_ref81","_processStreamMessage","_createStreamSink","streamSink","enqueue","lastDesiredSize","sinkCapability","ready","onPull","onCancel","success","streamController","_streamSink$onPull","_deleteStreamController","_streamSink$onCancel","_streamController$sta","_streamController$pul","_streamController$can","allSettled","Metadata","_ref29","parsedData","_metadataMap","_data2","getRaw","_classPrivateFieldGet34","INTERNAL","_isDisplay","_isPrint","_userSet","_visible","OptionalContentGroup","renderingIntent","_ref30","usage","rbGroups","viewState","printState","_setVisible","internal","userSet","_cachedGetHash","_groups","_initialHash","_order","_OptionalContentConfig_brand","OptionalContentConfig","creator","order","groups","off","getHash","expression","_evaluateVisibilityExpression","policy","setVisibility","preserveRB","rbGroup","otherId","_classPrivateFieldGet35","setOCGState","_ref31","operator","hasInitialVisibility","getOrder","getGroups","getGroup","PDFDataTransportStream","pdfDataRangeTransport","_ref32","disableRange","disableStream","initialData","progressiveDone","contentDispositionFilename","_queuedChunks","_progressiveDone","_contentDispositionFilename","_pdfDataRangeTransport","_isStreamingSupported","_isRangeSupported","_contentLength","_fullRequestReader","_rangeReaders","addRangeListener","begin","_onReceiveData","addProgressListener","total","_onProgress","addProgressiveReadListener","addProgressiveDoneListener","_onProgressiveDone","transportReady","_ref33","_enqueue","rangeReader","_begin","_progressiveDataLength","_this$_fullRequestRea","_this$_fullRequestRea2","_loaded","_this$_rangeReaders$","_this$_rangeReaders$$","_this$_fullRequestRea3","_this$_fullRequestRea4","_this$_fullRequestRea5","_removeRangeReader","getFullReader","queuedChunks","PDFDataTransportStreamReader","getRangeReader","PDFDataTransportStreamRangeReader","requestDataRange","cancelAllRequests","_this$_fullRequestRea6","_stream","_done","_filename","_requests","_headersReady","headersReady","isRangeSupported","isStreamingSupported","contentLength","read","requestCapability","_end","_queuedChunk","createHeaders","isHttp","httpHeaders","headers","Headers","validateRangeRequestCapabilities","_ref34","responseHeaders","rangeChunkSize","returnValues","allowRangeRequests","suggestedLength","extractFilenameFromHeader","contentDisposition","needsEncodingFixup","toParamRegExp","rfc2616unquote","rfc5987decode","rfc2047decode","fixupEncoding","contentDispositionStr","quot","part","parts","rfc2231getparam","attributePattern","textdecode","encoding","decoder","TextDecoder","fatal","_unused7","quotindex","extvalue","encodingend","charset","hex","_unused8","getFilenameFromContentDispositionHeader","_unused9","createResponseStatusError","validateResponseStatus","createFetchOptions","withCredentials","abortController","credentials","redirect","getArrayBuffer","PDFFetchStream","_rangeRequestReaders","_this$_fullRequestRea7","_this$_fullRequestRea8","PDFFetchStreamReader","PDFFetchStreamRangeReader","_this$_fullRequestRea9","_reader","_withCredentials","_headersCapability","_disableRange","_rangeChunkSize","getReader","_this$onProgress","_this$_reader","_readCapability","_this$onProgress2","_this$_reader2","NetworkManager","_ref35","currXhrId","pendingRequests","requestRange","requestFull","xhr","xhrId","pendingRequest","setRequestHeader","expectedStatus","onStateChange","onprogress","onHeadersReceived","onDone","_pendingRequest$onPro","_pendingRequest$onErr","xhrStatus","_pendingRequest$onErr2","network_getArrayBuffer","rangeHeader","getResponseHeader","_pendingRequest$onErr3","getRequestXhr","isPendingRequest","abortRequest","PDFNetworkStream","_source","_manager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","_this$_fullRequestRea10","manager","_onHeadersReceived","_onDone","_onError","_url","_fullRequestId","_cachedChunks","_storedError","fullRequestXhrId","fullRequestXhr","getAllResponseHeaders","_this$onProgress3","lengthComputable","_requestId","_close","_this$onClosed","_this$onProgress4","urlRegex","createRequest","PDFNodeStream","sourceUrl","pathToFileURL","parseUrlOrPath","isFsUrl","_this$_fullRequestRea11","_this$_fullRequestRea12","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","_this$_fullRequestRea13","BaseFullReader","_readableStream","_this$onProgress5","_error","_setReadableStream","readableStream","BaseRangeReader","_this$onProgress6","fromEntries","_request","statusCode","Range","lstat","stat","createReadStream","DEFAULT_FONT_SIZE","_capability","_container2","_disableProcessItems","_fontInspectorEnabled","_lang","_layoutTextParams","_pageHeight2","_pageWidth2","_rootContainer","_rotation3","_scale","_styleCache","_textContentItemsStr","_textContentSource","_textDivs","_textDivProperties","_transform","_TextLayer_brand","_ref36","_globalThis$FontInspe","FontInspector","_ensureMinFontSizeComputed","_pendingTextLayers","fontFamilyMap","pump","_ref37","_classPrivateFieldGet36","_processItems","_ref38","onBefore","_getCtx","_layout","_classPrivateFieldGet37","abortEx","textDivs","textContentItemsStr","_ascentCache","_canvasContexts","_classPrivateFieldGet83","_classPrivateFieldGet84","_appendText","geom","textDiv","textDivProperties","hasText","atan2","fontName","PI","fontSubstitution","fontHeight","fontAscent","_getAscent","sin","cos","scaleFactorStr","divStyle","_minFontSize","fontSubstitutionLoadedName","shouldScaleText","absScaleX","absScaleY","br","_ensureCtxFont","_canvasCtxFonts","cached","opacity","lineHeight","cachedAscent","metrics","ascent","fontBoundingBoxAscent","descent","fontBoundingBoxDescent","ratio","pixels","_TextLayer","XfaText","xfa","output","walk","_node$attributes","shouldBuildText","DEFAULT_RANGE_CHUNK_SIZE","DefaultCanvasFactory","createCanvas","_ref19","DefaultCMapReaderFactory","DefaultFilterFactory","_ref22","docId","_this$id7","_this$id8","tableR","tableG","tableB","_info","_info$filter","fgRGB","bgRGB","getSteps","_this$id9","_this$id10","tableA","_this$id11","_this$id12","_info2","_info$filter2","fgGray","bgGray","newFgRGB","newBgRGB","fg","bg","newStart","newStep","DefaultStandardFontDataFactory","_src$password","_window","_src$length","PDFDocumentLoadingTask","_unused10","getUrlProp","Buffer","getDataProp","rangeTransport","worker","PDFWorker","docBaseUrl","cMapUrl","cMapPacked","CMapReaderFactory","standardFontDataUrl","StandardFontDataFactory","ignoreErrors","stopAtErrors","maxImageSize","isChrome","chrome","canvasMaxAreaInBytes","fontExtraProperties","enableXfa","disableAutoFetch","pdfBug","CanvasFactory","FilterFactory","useSystemFonts","useWorkerFetch","transportFactory","cMapReaderFactory","standardFontDataFactory","workerParams","fromPort","_worker","docParams","apiVersion","evaluatorOptions","transportParams","loadingParams","workerIdPromise","messageHandler","networkStream","NetworkStream","Response","workerId","transport","WorkerTransport","_transport","isRefProxy","_PDFDocumentLoadingTa","_PDFDocumentLoadingTa2","_docId2","_this$_worker","_this$_transport","_pendingDestroy","_this$_worker2","_rangeListeners","_progressListeners","_progressiveReadListeners","_progressiveDoneListeners","_readyCapability","onDataRange","onDataProgress","onDataProgressiveRead","onDataProgressiveDone","PDFDocumentProxy","pdfInfo","_pdfInfo","fingerprints","isPureXfa","_htmlForXfa","allXfaHtml","getDestinations","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","getJSActions","getDocJSActions","getOptionalContentConfig","getRenderingIntent","getPermissions","getMetadata","getMarkInfo","saveDocument","getDownloadInfo","downloadInfoCapability","keepLoadedFonts","startCleanup","cachedPageNumber","getFieldObjects","hasJSActions","getCalculationOrderIds","_delayedCleanupTimeout","_pendingCleanup","_PDFPageProxy_brand","PDFPageProxy","pageInfo","_pageIndex","_pageInfo","_pdfBug","PDFObjects","_maybeCleanupAfterRender","_intentStates","userUnit","getPageJSActions","getXfa","_this$_transport$_htm","_ref39","_this$_stats","_intentState","optionalContentConfigPromise","printAnnotationStorage","intentArgs","_abortDelayedCleanup","intentState","streamReaderCancelTimeout","intentPrint","_this$_stats2","displayReadyCapability","lastChunk","separateAnnots","_pumpOperatorList","_globalThis$Stats","renderTasks","internalRenderTask","_tryCleanup","_abortOperatorList","Stats","InternalRenderTask","useRequestAnimationFrame","renderTask","_ref40","_this$_stats3","initializeGraphics","operatorListChanged","getOperatorList","opListTask","_intentState2","_this$_stats4","opListReadCapability","disableNormalization","highWaterMark","_ref41","_textContent$lang","_destroy","waitOn","force","completed","resetStats","_startRenderPage","_this$_stats5","_intentState$displayR","_renderPageChunk","operatorListChunk","_ref42","annotationStorageSerializable","streamReader","_ref43","_ref44","curCacheKey","curIntentState","delayed","_listeners","_deferred","LoopbackPort","rmAbort","onAbort","terminate","_PDFWorker_brand","_webWorker","_messageHandler","_workerPorts$_","_workerPorts","_initializeFromPort","_initialize","_resolve","_isWorkerDisabled","_get_mainThreadWorkerMessageHandler","_setupFakeWorker","_isSameOrigin","_createCDNWrapper","terminateEarly","sendTest","_unused11","testObj","_unused12","_setupFakeWorkerGlobal","WorkerMessageHandler","_PDFWorker$fakeWorker","_PDFWorker$fakeWorker2","_fakeWorkerId","workerHandler","setup","_workerPorts$_2","_assertClassBrand$_","cachedPort","loader","_this7","_globalThis$pdfjsWork","pdfjsWorker","_unused14","_PDFWorker","otherUrl","base","_unused13","other","wrapper","_methodPromises","_pageCache","_pagePromises","_pageRefCache","_passwordCapability","_WorkerTransport_brand","factory","fontLoader","_params","destroyCapability","_networkStream","_fullReader","_lastProgress","setupMessageHandler","isOpList","modifiedIdsHash","_classPrivateFieldGet38","terminated","_this$_networkStream","sink","_ref45","readyReason","_loadingTask$onProgre","_loadingTask$onProgre2","_ref46","_ref47","_numPages","htmlForXfa","exception","updatePassword","_loadingTask$onProgre3","_ref48","_globalThis$FontInspe2","exportedData","exportedError","fontAdded","imageRef","pageProxy","dataLen","_ref49","imageData","_imageData$bitmap","_loadingTask$onProgre4","_this$_fullReader$fil","_this$_fullReader","cachedPromise","refStr","_cacheSimpleMethod","results","_this$_fullReader$fil2","_this$_fullReader2","_this$_fullReader$con","_this$_fullReader3","metadata","_classPrivateFieldGet39","INITIAL_DATA","_objs","_PDFObjects_brand","_ensureObj","_data$bitmap","_classPrivateFieldGet85","_objectSpread","_internalRenderTask","RenderTask","onContinue","_rAF","_ref50","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_cancelBound","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_canvas","_ref51","_globalThis$StepperMa","_this$graphicsReadyCa","_canvasInUse","StepperManager","getNextBreakPoint","gfx","_this$gfx","cancelAnimationFrame","_this$stepper","updateOperatorList","requestAnimationFrame","build","makeColorComp","scaleAndClamp","ColorConverters","CMYK_G","_ref52","G_CMYK","_ref53","G_RGB","_ref54","G_rgb","_ref55","G_HTML","_ref56","G","RGB_G","_ref57","RGB_rgb","RGB_HTML","T_HTML","T_rgb","CMYK_RGB","_ref58","CMYK_rgb","_ref59","CMYK_HTML","components","RGB_CMYK","_ref60","BaseSVGFactory","skipDimensions","_createSVG","DOMSVGFactory","XfaLayer","setupStorage","html","storage","storedData","xfaOn","xfaOff","option","selectedIndex","setAttributes","_ref61","isHTMLAnchorElement","dataId","xfaHtml","rootHtml","isNotForRichText","rootDiv","_child$attributes","_child$children","childHtml","xmlns","hidden","DEFAULT_TAB_INDEX","GetElementsByNameSet","getRectDims","AnnotationElementFactory","annotationType","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","_updates","_hasBorder","_popupElement","_AnnotationElement_brand","isRenderable","ignoreBorder","createQuadrilaterals","downloadManager","svgFactory","enableScripting","_fieldObjects","fieldObjects","_createContainer","_createQuadrilaterals","_hasPopupData","_ref62","titleObj","contentsObj","richText","_isEditable","isEditable","hasPopupData","updateEdited","_classPrivateFieldGet40","_setRectEdited","popup","resetEdited","_classPrivateFieldGet41","alternativeText","noRotate","setRotation","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderRadius","borderBottomStyle","borderColor","elementWidth","elementHeight","_commonActions","setColor","jsName","colorType","colorArray","noView","noPrint","userName","readonly","required","_setRequired","textColor","_dispatchEventFromSandbox","actions","jsEvent","commonActions","_setDefaultPropertiesFromJS","quadPoints","rectBlX","rectBlY","rectTrX","rectTrY","trX","trY","blX","blY","svgBuffer","defs","clipPath","_svgBuffer","rectWidth","rectHeight","backgroundImage","_createPopup","modificationDate","parentRect","_getElementsByName","skipId","fields","fieldObj","exportValues","exportValue","getElementsByName","_this$popup","maybeShow","_this$popup2","forceHide","getElementsToTriggerPopup","addHighlightArea","triggers","_editOnDoubleClick","annotationEditorType","_this$linkService$eve","currentRect","_LinkAnnotationElement_brand","isTooltipOnly","isBound","_bindNamedAction","attachment","_bindAttachment","attachmentDest","_bindSetOCGState","_bindLink","Action","_bindJSAction","resetForm","_bindResetFormAction","_setInternalLink","_this$linkService$eve2","otherClickAction","resetFormFields","resetFormRefs","include","allFields","fieldIds","fieldName","field","allIds","Event","_this$linkService$eve3","description","_this$downloadManager","openOrDownloadData","showElementAndHideCanvas","_element$previousSibl","_getKeyModifier","_setEventListener","elementData","baseName","valueGetter","_this$linkService$eve4","modifier","_this$linkService$eve5","focused","_setEventListeners","_this$data$actions","_this$data$actions2","_this$data$actions3","Blur","Focus","_setBackgroundColor","_setTextStyle","TEXT_ALIGNMENT","fontColor","defaultAppearanceData","computedFontSize","roundToOneDecimal","multiLine","textAlignment","textAlign","isRequired","hasAppearance","fieldValue","setPropertyOnSiblings","keyInStorage","_this$data$textConten","maxLen","charLimit","fieldFormattedValues","formattedValue","comb","userValue","lastCommittedValue","commitKey","doNotScroll","overflowY","overflowX","readOnly","maxLength","_this$data$defaultFie","defaultFieldValue","blurListener","_this$data$actions6","_this$data$actions4","_event$detail$value","selRange","setSelectionRange","_this$linkService$eve6","willCommit","selStart","selEnd","_this$linkService$eve7","_blurListener","_this$data$actions5","_this$linkService$eve8","Keystroke","_this$linkService$eve9","inputType","change","combWidth","letterSpacing","verticalAlign","checkbox","curChecked","buttonValue","radio","pdfButtonValue","linkElement","selectElement","addAnEmptyEntry","combo","multiSelect","optionElement","displayValue","removeEmptyEntry","noneOptionElement","isExport","selectedValues","getItems","_removeEmptyEntry","multipleSelection","findIndex","selectChild","indices","editable","_this$linkService$eve10","changeEx","keyDown","PopupElement","elementIds","ariaHasPopup","_boundKeyDown","_boundHide","_boundShow","_boundToggle","_color","_container3","_contentsObj","_dateObj","_elements","_parent","_parentRect","_pinned","_popup","_position2","_rect","_richText","_titleObj","_updates2","_wasVisible","_PopupElement_brand","_ref63","_keyDown","_hide","_show","_toggle","trigger","flatMap","_element$container","baseColor","outlineColor","BACKGROUND_ENLIGHT","header","dateObj","valueOf","_get_html","contents","_formatContents","_ref64","lines","line","_ref65","_classPrivateFieldGet42","popupContent","_makePopupContent","_classPrivateFieldGet43","_this8","_get_fontSize","_this9","_classPrivateGetter3","_get_fontColor","_this10","_classPrivateGetter4","popupLines","lineAttributes","_setPosition","useParentRect","normalizedRect","popupLeft","popupTop","textPosition","lineSpan","_line","lineCoordinates","_square","square","_circle","circle","_polyline","containerClassName","svgElementName","vertices","polyline","_polylines","it","inkLists","inkList","_trigger","_FileAttachmentAnnotationElement_brand","_this$linkService$eve11","_download","_this$downloadManager2","_accessibilityManager","_annotationCanvasMap","_editableAnnotations","_structTreeLayer","_AnnotationLayer_brand","_ref66","_annotationEditorUIManager","hasEditableAnnotations","popupToElements","elementParams","noHTML","isPopupAnnotation","rendered","_this$_annotationEdit","_appendElement","_setAnnotationCanvasMap","_ref67","getEditableAnnotations","getEditableAnnotation","_classPrivateFieldGet86","_classPrivateFieldGet87","contentElement","annotationId","ariaAttributes","getAriaAttributes","moveElementInDOM","replaceWith","after","EOL_PATTERN","_color2","_content","_editorDivId","_editModeAC","_fontSize","_FreeTextEditor_brand","FreeTextEditor","_translateEmpty","_defaultColor","_defaultFontSize","_internalPadding","_updateFontSize","_updateColor","overlayDiv","editorDiv","editorDivKeydown","editorDivFocus","editorDivBlur","editorDivInput","editorDivPaste","_classPrivateFieldGet44","_this$_initialOptions","savedText","newText","_extractText","trimEnd","setText","_setContent","_setEditorDimensions","dblclick","baseX","baseY","posX","posY","_deserializeContent","deleteFromDocument","insertNode","collapseToStart","startContainer","startOffset","bufferBefore","bufferAfter","childNodes","_getNodeContent","newRange","beforeLength","reduce","acc","padding","_serializeContent","structTreeParentId","_hasElementChanged","replaceChildren","setFontsize","savedFontsize","col","savedColor","prevChild","_prevChild","savedDisplay","savedVisibility","_FreeTextEditor","toSVGPath","_rotation","classNamesForDrawing","classNamesForOutlining","mustRemoveSelfIntersections","FreeDrawOutliner","_ref68","scaleFactor","thickness","innerMargin","_FreeDrawOutliner_brand","_box","_bottom","_innerMargin","_isLTR","_top","_last","Float64Array","_lastX","_lastY","_min","_min_dist","_scaleFactor","_thickness","_points","_MIN_DIST","_MIN","_ref69","_classPrivateFieldGet45","diffX","diffY","diffD","K","nY","thX","thY","bottom","_toSVGPathTwoPoints","_toSVGPathEnd","_toSVGPathStart","newFreeDrawOutline","FreeDrawOutline","getOutlines","_classPrivateFieldGet46","_classPrivateFieldGet47","_getOutlineTwoPoints","N","_getOutlineEnd","_getOutlineStart","_getLastCoords","lastTop","lastBottom","lastTopX","lastTopY","lastBottomX","lastBottomY","_box2","_bbox2","_innerMargin2","_isLTR2","_points2","_scaleFactor2","_outline","_FreeDrawOutline_brand","_computeMinMax","_ref70","_rescale","_rescaleAndSwap","newOutliner","getNewOutline","outliner","lastPointX","lastPointY","ltrCallback","lastPoint","HighlightOutliner","_HighlightOutliner_brand","_box3","_verticalEdges","_intervals","EPSILON","shiftedMinX","shiftedMinY","lastEdge","edge","sort","outlineVerticalEdges","_breakEdge","_insert","_remove","_getOutlines","edges","allEdges","edge1","edge2","outlines","HighlightOutline","_binarySearch","middle","_ref82","_ref83","y4","_box4","_outlines","polygon","prevX","prevY","_ref71","FreeHighlightOutliner","FreeHighlightOutline","ColorPicker","_hideDropdownFromKeyboard","_colorSelectFromKeyboard","_moveToNext","_moveToPrevious","_moveToBeginning","_moveToEnd","_ref72","_classPrivateFieldGet48","_ColorPicker_brand","_button","_buttonSwatch","_dropdown","_dropdownWasFromKeyboard","_isMainColorPicker","_editor3","_openDropdownAC","_uiManager3","_type2","_l10nColor","blue","green","pink","red","yellow","_openDropdown","_keyDown2","swatch","renderMainDropdown","dropdown","_getDropdownRoot","_colorSelect","_event$target$nextSib","_classPrivateFieldGet49","_get_isDropdownVisible","_classPrivateFieldGet50","_event$target$previou","_classPrivateFieldGet51","_classPrivateFieldGet52","_classPrivateFieldGet53","_classPrivateFieldGet54","_classPrivateFieldGet55","_classPrivateFieldGet56","_classPrivateFieldGet57","_pointerDown3","_classPrivateFieldGet88","_this11","_ColorPicker","HighlightEditor","_moveCaret","_HighlightEditor_brand","_anchorNode","_anchorOffset","_boxes","_clipPathId","_colorPicker2","_focusOutlines","_focusNode","_focusOffset","_highlightDiv","_highlightOutlines","_id4","_isFreeHighlight","_lastPoint","_opacity","_outlineId","_text","_thickness2","_methodOfCreation","_defaultThickness","_defaultOpacity","highlightId","_createFreeOutlines","_addToDrawLayer","_createOutlines","numberOfColors","_uiManager$highlightC","_updateColor2","_updateThickness","toolbar","_getRotation","addUndoableEditor","_cleanDrawLayer","mustBeSelected","_this$div6","drawLayer","_rotateBbox","updateBox","_keydown","highlightDiv","pointerover","addClass","pointerleave","removeClass","_setCaret","_this$parent3","_this$parent4","_this$parent5","startHighlighting","_ref73","_endHighlight","_highlightMove","_freeHighlight","_freeHighlightId","clipPathId","_freeHighlightClipId","draw","rawWidth","highlightOutlines","_serializeBoxes","_serializeOutlines","_hasElementChanged2","outlinerForOutline","_ref84","finalizeLine","drawOutline","updateLine","setColorAndOpacity","opa","_this$parent6","_classPrivateFieldGet89","_this$parent7","changeColor","changeOpacity","savedOpacity","savedThickness","setThickness","th","_changeThickness","_ref85","setPosition","Float32Array","updatePath","_HighlightEditor","InkEditor","_InkEditor_brand","_baseHeight","_baseWidth","_canvasContextMenuTimeoutId","_currentPath2D","_disableEditing","_drawingAC","_hasSomethingToDraw","_isCanvasInitialized","_observer","_pointerdownAC","_realWidth","_realHeight","_requestFrameCallback","bezierPath2D","allRawPaths","currentPath","translationX","translationY","_updateThickness2","_updateColor3","_updateOpacity","_this$opacity","_createObserver","_setCanvasDims","_fitToContent","_classPrivateFieldGet58","disconnect","setDimensions","_addPointerdownListener","_removePointerdownListener","addInkEditorIfNeeded","canvasPointerdown","_startDrawing","canvasPointermove","_draw","canvasPointerup","_endDrawing","canvasPointerleave","_getInitialBBox","_redraw","roundedWidth","roundedHeight","_setScaleFactor","bezier","_fromPDFCoordinates","p10","p11","p20","p21","p30","p31","path2D","_buildPath2D","_getBbox","_serializePaths","setOpacity","_setStroke","opacityToHex","_this$opacity2","_drawPoints","_makeBezierCurve","_endPath","_stopDrawing","_generateBezierPoints","xy","lastPoints","bezierPoints","control1","control2","_updateTransform","_this$pointerdownAC","pointerdownAC","_classPrivateFieldGet90","ResizeObserver","contentRect","observe","_classPrivateFieldGet91","_getPadding","scaleFactorW","scaleFactorH","_toPDFCoordinates","p40","p41","xMin","xMax","yMin","yMax","prevTranslationX","prevTranslationY","unscaledPadding","_InkEditor","StampEditor","_StampEditor_brand","_bitmap","_bitmapId","_bitmapPromise","_bitmapUrl","_bitmapFile","_bitmapFileName","_observer2","_resizeTimeoutId","_isSvg","_hasBeenAddedInUndoStack","bitmapUrl","bitmapFile","supportedTypes","supportedTypesStr","pasteEditor","getAsFile","_this$altTextData","_hasAltTextStats$get","_hasAltTextStats$get2","hasAltTextStats","hasNoAltText","mlGuessAltText","updateAltTextData","isEnabledFor","copyCanvas","guess","channels","_classPrivateFieldGet59","_classPrivateFieldGet60","_getBitmap","_createCanvas2","maxDataDimension","maxPreviewDimension","bitmapWidth","bitmapHeight","outputScale","_window$matchMedia","_window2","scaledWidth","scaledHeight","_scaleBitmap","boxDim","boxDimWidth","boxDimHeight","patternCtx","dataWidth","dataHeight","offscreenCtx","_await$parent$_struct","structParent","_structTree","bitmapId","_serializeBitmap","changes","_hasElementChanged3","isSame","_this$_initialData$st","isSameAltText","stamps","area","prevData","_getBitmapFetched","fromId","_getBitmapDone","alt_text_modal","alt_text_type","_unused15","accept","files","click","MAX_RATIO","factor","_drawBitmap","_createObserver2","_setDimensions","_this$_initialOptions2","prevWidth","prevHeight","toUrl","toDataURL","_classPrivateFieldGet92","_serialized$accessibi","isSameRect","isSamePageIndex","_StampEditor","AnnotationEditorLayer","_ref74","annotationLayer","_AnnotationEditorLayer_brand","_accessibilityManager2","_allowClick","_annotationLayer","_clickAC","_editorFocusTimeoutId","_editors","_hadPointerDown","_isCleaningUp","_isDisabling","_textLayer","_textSelectionAC","_uiManager4","editorTypes","_editorTypes2","_initialized","isInvisible","_cleanup","disableTextSelection","toggleAnnotationLayerPointerEvents","enableTextSelection","_editorType","_classPrivateFieldGet61","isCommitting","_classPrivateFieldGet62","annotationElementIds","editables","changedAnnotations","resetAnnotations","_this$getEditableAnno","_classPrivateFieldGet63","_classPrivateFieldGet64","_textLayerPointerDown","_classPrivateFieldGet65","_classPrivateFieldGet66","_classPrivateFieldGet67","removePointerInTextLayer","_editor$parent","_classPrivateFieldGet68","_classPrivateGetter2","_get_currentEditorType","_getCenterPoint","_createNewEditor","_editorTypes2$_$get","_data$annotationType","_classPrivateFieldGet69","_classPrivateFieldGet70","_ref75","_ref76","oldRotation","_this12","innerWidth","innerHeight","DrawLayer","_ref77","_DrawLayer_brand","_parent2","_id5","_mapping","_toUpdate","_svgFactory","_this$id13","_this$id14","isPathUpdatable","pathId","_createClipPath","_this$id15","_this$id16","maskId","use1","use2","cloneNode","_setBox","getSVGRoot","clipPathUse","_DrawLayer","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","toStringTag","XLSX","current_codepage","current_ansi","VALID_ANSI","CS2CP","set_ansi","cp","set_cp","reset_cp","utf16beread","$cptable","_getchar","_getansi","Base64_map","Base64_encode","e1","e2","e3","e4","charAt","Base64_decode","has_buf","Buffer_from","nbfs","enc","new_raw_buf","alloc","new_unsafe_buf","allocUnsafe","s2a","s2ab","a2s","bconcat","bufs","isBuffer","maxlen","chr0","chr1","_strrev","pad0","pad_","rpad_","p2_32","pow","pad0r","pad0r1","pad0r2","SSF_isgeneral","days","months","table_fmt","SSF_default_map","SSF_default_str","SSF_frac","mixed","sgn","B","P_2","P_1","Q_2","Q_1","Q","SSF_parse_date_code","opts","b2","dow","dout","out","u","date1904","setDate","getDate","getFullYear","getMonth","getDay","SSF_fix_hijri","SSFbasedate","SSFdnthresh","SSFbase1904","datenum_local","epoch","getTimezoneOffset","SSF_strip_decimal","SSF_general_num","V","LOG10E","toPrecision","toExponential","SSF_small_exp","substr","SSF_large_exp","SSF_normalize_exp","SSF_general","SSF_format","SSF_write_date","fmt","ss0","ss","outl","commaify","pct1","write_num_exp","idx","period","ee","fakee","$$","$1","$2","$3","frac1","dec1","closeparen","phone","hashq","cc","rnd","dd","dec","_frac","write_num_flt","ffmt","write_num","write_num_cm","sfmt","mul","write_num_pct","ri","ff","aval","den","rr","myn","myd","write_num_f1","carry","oa","lres","rres","flr","write_num_exp2","write_num_int","write_num_cm2","write_num_pct2","write_num_f2","SSF_abstime","fmt_is_date","cfregex2","chkcond","thresh","choose_fmt","in_str","SSF_split_fmt","lat","dateNF","flen","dt","lst","hr","ssm","bt","nstr","myv","ostr","vv","decpt","lasti","retval","eval_fmt","SSF_load","SSF_load_table","tbl","make_ssf","dateNFregex","CRC32","T0","signed_crc_table","TT","slice_by_16_tables","T1","T2","T3","T4","T5","T6","T7","T8","T9","Ta","Tb","Tc","Td","Te","Tf","bstr","CFB","dirname","write_dos_date","hms","getHours","getMinutes","getSeconds","write_shift","ymd","parse_extra_field","prep_blob","read_shift","sz","tgt","mtime","atime","ctime","get_fs","parse_zip","di","mboundary","FileIndex","FullPaths","init_cfb","start_di","fcnt","parse_mime","parse_mad","mver","nmfs","difat_sec_cnt","dir_start","minifat_start","difat_start","ssz","fat_addrs","mv","chk","HEADER_SIGNATURE","check_get_mver","check_shifts","dir_cnt","sectors","nsectors","sectorify","sleuth_fat","sector_list","sl","chkd","buf_chain","modulus","seen","addr","__readInt32LE","__toBuffer","make_sector_list","ENDOFCHAIN","Paths","mini","minifat_store","pl","sector","namelen","__utf16le","R","clsid","ct","read_date","get_sector_list","get_mfat_entry","read_directory","FI","FP","dad","build_full_paths","raw","MSSZ","new_buf","cnt","__readUInt32LE","cfb","CLSID","nm","rebuild_cfb","seed_cfb","gc","_file","fullPaths","HEADER_CLSID","Z","namecmp","elt","_write","_opts","fileType","fp","fi","ca","cstr","dispcnt","csl","qp","get_content_type","write_quoted_printable","write_base64_76","write_mad","cdirs","compression","start_cd","crcs","sz_cd","namebuf","outbuf","_deflateRawSync","write_zip","mini_size","fat_size","mfat_cnt","fat_base","fat_cnt","difat_cnt","HEADER_SIG","chainit","consts","DIFSECT","FATSECT","_nm","_zlib","MAXREGSECT","FREESECT","HEADER_MINOR_VERSION","MAXREGSID","NOSTREAM","EntryTypes","deflateRawSync","_deflate","CLEN_ORDER","LEN_LN","DST_LN","bit_swap_8","use_typed_arrays","bitswap8","bit_swap_n","rev","read_bits_2","bl","read_bits_3","read_bits_5","read_bits_7","read_bits_n","write_bits_3","write_bits_1","write_bits_8","write_bits_16","realloc","zero_fill_array","build_tree","clens","cmap","MAX","ccode","bl_count","Uint16Array","ctree","cleni","fix_lmap","fix_dmap","dlens","_deflateRaw","DST_LN_RE","LEN_LN_RE","boff","write_stored","addrs","mlen","len_eb","dst_eb","write_huff_fixed","dyn_lmap","dyn_dmap","dyn_cmap","dyn_len_1","dyn_len_2","dyn","_HLIT","_HDIST","_HCLEN","read_bits_4","next_code","hcodes","_inflate","usz","woff","OL","max_len_1","max_len_2","bits","dst","inflate","warn_or_throw","wrn","csz","efsz","fcsz","EF","parse_local_file","meth","setMilliseconds","setFullYear","setMonth","setHours","setMinutes","setSeconds","parse_dos_date","_csz","_usz","ef","InflRaw","InflateRaw","_processChunk","_finishFlushFlag","bytesRead","_inflateRawSync","cfb_add","unsafe","ContentTypeMap","ctype","ext","encoded","si","fdata","fname","cte","oi","parse_quoted_printable","fpath","utils","cfb_gc","UCFullPaths","UCPaths","UCPath","readFileSync","read_file","write","writeFileSync","writeFile","cfb_new","cfb_del","cfb_mov","old_name","new_name","ReadShift","CheckField","use_zlib","zlib","_inflateRaw","_fs","blobify","a2u","write_dl","Deno","TextEncoder","encode","utf8write","IE_SaveFile","msSaveBlob","downloads","$","Folder","ks","o2","evert_key","evert","evert_num","basedate","datenum","refdate","dnthresh","refoffset","numdate","setTime","good_pd_date_1","good_pd_date","good_pd","parseDate","fixdate","cc2str","debomit","dup","fuzzynum","isFinite","wt","lower_months","fuzzydate","getYear","lower","zip_add_file","zip","widx","ridx","utf8decode","zip_new","XML_HEADER","encodings","rencoding","decregex","charegex","escapexml","escapexmltag","htmlcharegex","escapehtml","parsexmlbool","utf8reada","orig","utf8readb","ww","utf8readc","utf8corpus","utf8read","htmldecode","entities","wtregex","writetag","wxt_helper","writextag","write_w3cdtf","toISOString","XMLNS","XMLNS_main","XLMLNS","___toBuffer","___utf16le","__readUInt16LE","___hexlify","__hexlify","___utf8","__readUInt8","__utf8","___lpstr","__lpstr","___cpstr","__cpstr","___lpwstr","__lpwstr","___lpp4","__lpp4","___8lpp4","__8lpp4","___double","read_double_le","__double","is_buf","cpdoit","readUInt32LE","readDoubleLE","__readInt16LE","__readInt32BE","oI","oR","loc","oo","lens","__writeUInt32LE","__writeInt32LE","__writeUInt16LE","WriteShift","cppayload","bs","av","write_double_le","hexstr","fld","parsenoop","buf_array","blksz","newblk","curbuf","endbuf","_bufs","write_record","ba","XLSBRecordEnum","shift_cell_xls","cell","cRel","rRel","biff","shift_range_xls","encode_cell_xls","encode_cell","fix_row","encode_range_xls","encode_row","encode_col","decode_row","rowstr","decode_col","colstr","decode_cell","decode_range","encode_range","ce","safe_decode_range","safe_format_cell","z","XF","numFmtId","format_cell","BErr","sheet_to_workbook","sheets","SheetNames","Sheets","sheet_add_aoa","_ws","dense","ws","_R","_C","_origin","_range","__R","__C","nullError","sheetStubs","cellDates","cell_ref","aoa_to_sheet","write_UInt32LE","parse_XLWideString","cchCharacters","write_XLWideString","_null","parse_StrRun","ich","ifnt","parse_RichStr","rgsStrRun","dwSizeStrRun","parse_BrtCommentText","write_BrtCommentText","run","write_StrRun","parse_XLSBCell","iStyleRef","write_XLSBCell","parse_XLSBShortCell","write_XLSBShortCell","parse_XLSBCodeName","write_XLSBCodeName","parse_XLNullableWideString","write_XLNullableWideString","parse_XLNameWideString","parse_RelID","write_RelID","parse_RkNumber","fX100","fInt","RK","write_RkNumber","d100","parse_RfX","parse_UncheckedRfX","write_UncheckedRfX","parse_Xnum","write_Xnum","write_BrtColor","auto","theme","nTS","tint","VT_STRING","DocSummaryPIDDSI","SummaryPIDSI","rgbify","XLSIcv","ct2type","CT_LIST","workbooks","xlsx","xlsm","xlsb","xlam","xltx","strs","comments","charts","dialogs","macros","write_ct","type2ct","evert_arr","f1","bookType","f2","f3","RELS","WB","SHEET","HLINK","VML","XPATH","XMISS","XLINK","CXML","CXMLP","CMNT","CORE_PROPS","EXT_PROPS","CUST_PROPS","SST","STY","THEME","CHART","CHARTEX","CS","WS","DS","MS","IMG","DRAW","XLMETA","TCMNT","PEOPLE","VBA","get_rels_path","write_rels","rels","rid","add_rels","rId","relobj","targetmode","Id","Type","Target","TargetMode","write_rdf_type","write_meta_ods","cp_doit","write_core_props","Props","CreatedDate","WTF","ModifiedDate","PseudoPropsPairs","write_ext_props","W","Application","Worksheets","baseType","write_cust_props","pid","write_vt","XLMLDocPropsMap","Subject","Author","Keywords","Comments","LastAuthor","RevNumber","LastPrinted","Category","Manager","Company","AppVersion","ContentStatus","Identifier","Language","write_TypedPropertyValue","write_FILETIME","XLSPSSkip","guess_property_type","write_PropertySet","RE","PIDSI","hdr","piao","pr","pio","pinfo","write_PropertySetStream","entries2","clsid2","ps0","ps1","parsebool","writebool","parseuint16","writeuint16","write_Bes","parse_ShortXLUnicodeString","cch","write_XLUnicodeRichExtendedString","xlstr","otext","parse_XLUnicodeStringNoCch","parse_XLUnicodeString","parse_XLUnicodeString2","write_XLUnicodeString","write_HyperlinkString","write_Hyperlink","hl","hashidx","F","Pretarget","write_XLSCell","ixfe","parse_XTI","parse_Ref8U","rwFirst","rwLast","write_Ref8U","write_BOF","wb","write_BoundSheet8","hs","write_Format","b5","write_XF","ixfeP","parse_ExternSheet","parse_BIFF5ExternSheet","write_HLink","O","write_HLinkTooltip","Tooltip","parse_ColInfo","cellStyles","colFirst","colLast","coldx","DBF","dbf_codepage_map","dbf_reverse_map","dbf_to_sheet","ft","vfp","l7","nrow","fpos","rlen","current_cp","codepage","hend","sheetRows","dbf_to_aoa","wch","_RLEN","to_workbook","to_sheet","from_sheet","aoa","sheet_to_json","hcnt","coltypes","colwidths","coldecimals","_guess","hf","_f","hb","rout","_n","_s","SYLK","sylk_escapes","AA","BA","CA","DA","HA","JA","AE","BE","CE","HE","AI","BI","CI","HI","AO","BO","CO","DO","HO","AU","BU","CU","HU","Aa","Ba","Ca","Da","Ha","Ja","Ae","Be","Ce","He","Ai","Bi","Ci","Hi","Ao","Bo","Co","Do","Ho","Au","Bu","Cu","Hu","KC","Kc","DN","Dn","Hy","sylk_char_regex","sylk_char_fn","decode_sylk_char","newcc","sylk_to_aoa_str","records","rj","formats","next_cell_format","sht","rowinfo","colinfo","cw","Mval","rstr","record","C_seen_K","C_seen_X","C_seen_S","C_seen_E","formula","rc_to_a1","shrbase","shift_formula_str","F_seen","process_col","hpt","hpx","pt2px","sylk_to_sheet","aoasht","sylk_to_aoa","write_ws_cell_sylk","a1_to_rc","preamble","RS","rec","wpx","width2px","px2char","px2pt","write_ws_rows_sylk","coord","DIF","dif_to_aoa_str","dif_to_sheet","dif_to_aoa","push_field","topic","push_value","ETH","eth_to_sheet","eth_to_aoa","sep","meta","sheet_to_eth_data","PRN","set_text_arr","guess_seps","guess_sep_weights","guess_sep","instr","dsv_to_sheet_str","FS","sepcc","startcc","_re","dateNF_regex","finish_cell","Y","datestr","timestr","dateNF_fix","cellText","cellNF","outer","prn_to_sheet_str","prn_to_aoa_str","prn_to_sheet","firstbyte","WK_","lotushopper","Enum","WK1Enum","lotus_to_workbook_buf","next_n","sidx","snames","realnames","refguess","vers","qpro","tmpcell","WK3Enum","osheets","rnames","parse_cell","parse_LABEL","write_LABEL","write_INTEGER","write_NUMBER","wk1_parse_rc","FuncTab","BinOpTab","parse_cell_3","write_LABEL_16","wsidx","parse_NUMBER_17","v1","v2","write_NUMBER_17","log2","parse_NUMBER_27","parse_SHEETNAMECS","write_XFORMAT_SHEETNAME","argc","argL","argR","wk1_fmla_to_csf","sheet_to_wk1","write_biff_rec","write_BOF_WK1","write_RANGE","max_R","book_to_wk3","wscnt","write_BOF_WK3","straywsregex","write_sst_xml","sst","bookSST","Count","uniqueCount","Unique","sitag","write_BrtSSTItem","write_sst_bin","write_BrtBeginSst","_JS2ANSI","crypto_CreatePasswordVerifier_Method1","Password","PasswordArray","Verifier","PasswordDecoded","RTF","rtf_to_sheet","rtf_to_sheet_str","rowtf","rtfre","last_index","lastIndex","rgb2Hex","MDW","px","char2width","chr","coll","customWidth","PPI","pt","write_sty_xml","SSF","NF","formatCode","write_numFmts","cellXfs","write_cellXfs","write_BrtFmt","write_BrtFont","grbit","strike","condense","write_FontFlags","sss","vertAlign","underline","scheme","rev_XLSBFillPTNames","XLSBFillPTNames","parse_BrtFill","write_BrtFill","fls","patternType","write_BrtXF","write_Blxf","parse_BrtBorder","write_BORDERS_bin","write_STYLES_bin","xfId","builtinId","write_TABLESTYLES_bin","defTableStyle","defPivotStyle","write_BrtBeginTableStyles","write_sty_bin","write_FMTS_bin","write_FONTS_bin","write_FILLS_bin","fontId","fillId","borderId","write_CELLSTYLEXFS_bin","write_CELLXFS_bin","write_DXFS_bin","write_theme","Themes","themeXLSX","write_xlmeta_bin","write_BrtMdtinfo","write_BrtBeginEsfmd","cm","write_BrtBeginEsmdb","mdb","write_BrtMdb","write_xlmeta_xml","_shapeid","write_comments_vml","csize","joinstyle","gradientshapeok","coordsize","fillopts","fillparm","fillxml","fillcolor","strokecolor","write_comments_xml","iauthor","ID","lastauthor","ts","write_tcmnt_xml","people","carr","rootid","tcopts","tcid","parentId","personId","parse_BrtCommentAuthor","write_comments_bin","comment","write_BrtCommentAuthor","write_BrtBeginComment","VBAFMTS","rcregex","rcbase","rcfunc","fstr","crefregex","$0","$4","$5","parseread1","parse_ColRelU","parse_RgceArea","parse_RgceArea_BIFF2","parse_RgceLoc","parse_RgceLoc_BIFF2","parse_RgceElfLoc","fQuoted","parse_PtgAttrBaxcel","bitSemi","parse_PtgAttrSpaceType","parse_SerAr","parse_PtgExtraMem","cce","parse_PtgExtraArray","parse_PtgElfLoc","parse_PtgElfNoop","parse_PtgElfLel","PtgListRT","PtgTypes","iftab","FtabArgc","Ftab","cparams","tab","parsetab","Cetab","nameindex","rl","parse_RgceLocRel_BIFF2","cl","parse_RgceLocRel","parse_RgceAreaRel","ixti","parse_PtgNameX_BIFF5","PtgDupes","Ptg18","coltype","rt","Ptg19","bitIf","bitGoto","parse_RgbExtra","rgce","parse_Rgce","ptgs","stringify_array","PtgBinOp","PtgAdd","PtgConcat","PtgDiv","PtgEq","PtgGe","PtgGt","PtgLe","PtgLt","PtgMul","PtgNe","PtgPower","PtgSub","get_ixti_raw","supbooks","XTI","SID","Name","get_ixti","ixtiraw","sname","formula_quote_sheet_name","stringify_formula","nameidx","last_sp","sp","fflen","lbl","xlfn","externbook","bookidx","itab","ixtidata","lp","rp","sharedf","parsedf","fnd","arrayf","_left","write_Formula","os","o1","write_FormulaValue","o3","bf","parse_XLSBParsedFormula","parse_XLSBArrayParsedFormula","parse_XLSBCellParsedFormula","parse_XLSBNameParsedFormula","parse_XLSBSharedParsedFormula","browser_has_Map","get_sst_id","revarr","col_obj_w","outlineLevel","default_margins","margins","footer","get_cell_style","revssf","ssf","applyNumberFormat","check_ws","sheetprot_deffalse","sheetprot_deftrue","write_ws_xml_cell","oldt","oldv","Strings","revStrings","write_ws_xml","rdata","_drawing","needed","vbaraw","cname","Workbook","CodeName","codeName","outlineprops","summaryBelow","summaryRight","above","write_ws_xml_sheetpr","sview","workbookViewId","Views","rightToLeft","RTL","write_ws_xml_sheetviews","sheetFormat","defaultRowHeight","baseColWidth","outlineLevelRow","write_ws_xml_cols","_cell","ht","customHeight","write_ws_xml_data","write_ws_xml_protection","Names","Sheet","Ref","write_ws_xml_autofilter","merges","write_ws_xml_merges","margin","relc","ignoreEC","numberStoredAsText","sqref","write_row_header","miyRw","ncolspan","lcs","caddr","write_BrtRowHdr","parse_BrtWsDim","write_BrtWsDim","parse_BrtShortReal","parse_BrtMergeCell","write_BrtMergeCell","BrtMarginKeys","write_ws_bin_cell","last_seen","ncell","write_BrtShortIsst","write_BrtCellIsst","write_BrtShortSt","write_BrtCellSt","write_BrtShortRk","write_BrtCellRk","write_BrtShortReal","write_BrtCellReal","write_BrtShortBool","write_BrtCellBool","write_BrtShortError","write_BrtCellError","write_BrtShortBlank","write_BrtCellBlank","write_MERGECELLS","write_COLINFOS","write_BrtColInfo","write_IGNOREECS","write_BrtCellIgnoreEC","write_HLINKS","locidx","write_BrtHLink","write_WSVIEWS2","write_BrtBeginWsView","write_SHEETPROTECT","write_ws_bin","write_BrtWsProp","cap","write_CELLTABLE","write_AUTOFILTER","write_LEGACYDRAWING","WBPropsDef","badchars","check_ws_name","safe","_good","check_wb","codes","cn","write_wb_xml","write_names","workbookPr","WBProps","Hidden","sheetId","Comment","localSheetId","write_BOOKVIEWS","vistab","write_wb_bin","write_BrtFileVersion","filterPrivacy","write_BrtWbProp","iTabID","strRelID","write_BrtBundleSh","write_BUNDLESHS","write_ws","write_cmnt","write_props_xlml","xlml_write_docprops","Custprops","BLACKLIST","xlml_write_custprops","write_name_xlml","write_ws_xlml_cell","attr","marr","mi","_v","write_ws_xlml_row","write_ws_xlml","write_ws_xlml_names","skip","write_ws_xlml_table","objects","scenarios","selectLockedCells","selectUnlockedCells","write_ws_xlml_wsopts","write_xlml","xf","write_sty_xlml","write_names_xlml","PSCLSID","write_xlscfb","wbpath","write_biff_buf","Keys","DSEntries","SEntries","CEntries","DocSummaryRE","SummaryRE","CEntries2","write_xls_props","vba","newpath","fill_vba_xls","cellFormula","Ptg","fBold","fItalic","fUnderline","fStrikeout","fOutline","fShadow","fCondense","fExtend","parse_FontFlags","bCharSet","xColorType","bR","bG","bB","icv","parse_BrtColor","ixfeParent","ifmt","defaultThemeVersion","strName","autoCompressPictures","backupFile","checkCompatibility","hidePivotFieldList","promptedSolutions","publishItems","refreshAllConnections","saveExternalLinkValues","showBorderUnselectedTables","showInkAnnotation","showObjects","showPivotChartFilter","updateLinks","rfx","fAlwaysCalc","relId","write_BIFF2Cell","write_ws_biff2_cell","write_BIFF2INT","write_BIFF2NUM","write_BIFF2BERR","write_BIFF2LABEL","write_biff2_buf","write_ws_biff2","write_FONTS_biff8","write_Font","write_ws_cols_biff8","write_ColInfo","write_ws_biff8_cell","write_Number","write_BoolErr","write_LabelSst","b8","write_Label","write_ws_biff8","_WB","_sheet","MAX_ROWS","guts","write_Guts","write_Dimensions","write_Window2","write_MergeCells","HL","write_ws_biff8_hlinks","write_FEAT","write_biff8_global","_sheets","_wb","writezeroes","write_WriteAccess","write_RRTabId","write_Window1","safe1904","write_FMTS_biff8","write_CELLXFS_biff8","write_biff_continue","write_SST","blen","fix_write_opts","write_biff8_buf","make_html_row","rowspan","colspan","HTML_BEGIN","HTML_END","make_html_preamble","sheet_to_html","sheet_add_dom","or_R","or_C","midx","is_dom_element_hidden","elts","_t","Aelts","Aelti","parse_dom_table","get_computed_style","get_get_computed_style_function","write_styles_ods","master_styles","write_content_ods","null_cell_xml","ods","ROWS","textp","_Fref","text_p","_tgt","fods","cidx","colobj","write_automatic_styles_ods","write_ods","manifest","rdf","write_rdf","write_manifest","u8_to_dataview","byteOffset","stru8","u8concat","u8a","u8","parse_varint49","ptr","varint","write_varint49","varint_to_i32","i32","parse_shallow","write_shallow","parse_iwa_file","ai","messages","fl","merge","write_iwa_file","ias","ia","midata","aipayload","mid","parse_snappy_chunk","chunks","decompress_iwa_file","compress_iwa_file","write_new_storage","dv","exp","mantissa","writeDecimal128LE","setFloat64","setUint32","write_old_storage","parse_TSP_Reference","write_tile_row","tri","_b","_c","_d","last_offset","cell_storage","_dv","_last_offset","_cell_storage","celload","_celload","setUint16","fix_opts_func","defaults","numbers","trunc","dependents","packet2","indices_varint","ivi","mess","u8contains","docroot","xi","packet","sheetrootref","pb","cruidsref","oldbucket","_x","cruids","uuid","store","row_header_ref","base_bucket","_bucket","col_header_ref","sstref","sstroot","sentry","sxi","sstdata","newsst","raw32","tile","tl","tileref","tileroot","tentry","tiledata","rowload","R2","tilerow","raw3","write_numbers_iwa","wbrels","wbext","vbafmt","threadedcomments","links","coreprops","extprops","custprops","themes","calcchains","drawings","TODO","_sn","wsrels","need_vml","cf","rId1","write_sst","write_wb","write_sty","write_xlmeta","write_zip_xlsxb","write_zip_xlsx","needtc","person","userId","providerId","write_people_xml","write_cfb_ctr","write_zip_denouement","oopts","ftype","generate","encrypt_agile","write_string_type","bom","write_binary_type","writeSync","write_stxt_type","sheet_to_txt","sheet_to_csv","write_cfb_type","write_zip_type","make_json_row","defval","isempty","__rowNum__","rawNumbers","outi","counter","header_cnt","skipHidden","blankrows","qreg","make_csv_row","rs","txt","forceQuotes","endregex","strip","sheet_add_json","js","skipHeader","JS","ws_get_cell_stub","RC","book_new","book_append_sheet","roll","cell_set_hyperlink","split_cell","json_to_sheet","table_to_sheet","table_to_book","sheet_to_formulae","sheet_to_row_object_array","sheet_get_cell","book_set_sheet_visibility","sh","vis","wb_sheet_idx","cell_set_number_format","cell_set_internal_link","cell_add_comment","author","sheet_set_array_formula","dynamic","rng","rngstr","SHEET_VISIBLE","SHEET_HIDDEN","SHEET_VERY_HIDDEN","extractText","_jsxs","flexDirection","alignItems","justifyContent","_jsx","onChange","pdfToText","excelData","excelBuffer","FileSaver","PDFtoXLSComponent","_Fragment","SiteListComponent","PDFtoXLSController","getElementById","App"],"sourceRoot":""}